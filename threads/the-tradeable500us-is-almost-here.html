<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
The Tradeable500US is (almost) here!
</title>
<meta content='When running an algorithm, have you ever seen the log message “Your order has been partially filled”? If this is the case then you may not have controlled for liquidity risk. Liquidity risk arises when your algorithm is not able to buy and/or sell the securities dictated by a strategy, and it can completely alter the composition of your trading portfolio. Our answer to the problem posed by liquidity risk are two universes of equities: the Tradeable500US and the Tradeable1500US. By limiting an...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="lb5EsdNxFWvZzrNR6+VppdP45Cpd+oZoVFQ25JTZJtnp2DL8cYfHiGDT6mCkCsHR63bHQyc2k3PWW+2OPpxEYg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/the-tradeable500us-is-almost-here' property='og:url'>
<meta content='The Tradeable500US is (almost) here!' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/the-tradeable500us-is-almost-here' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='The Tradeable500US is (almost) here!' property='og:title'>
<meta content='When running an algorithm, have you ever seen the log message “Your order has been partially filled”? If this is the case then you may not have controlled for liquidity risk. Liquidity risk arises when your algorithm is not able to buy and/or sell the securities dictated by a strategy, and it can completely alter the composition of your trading portfolio. Our answer to the problem posed by liquidity risk are two universes of equities: the Tradeable500US and the Tradeable1500US. By limiting an...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/the-tradeable500us-is-almost-here">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='577c354db0b31aea7c00037b'>
<div class='post-container' data-post-id='577c354db0b31aea7c00037b' id='577c354db0b31aea7c00037b'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>The Tradeable500US is (almost) here!</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1467757901000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=The Tradeable500US is (almost) here!&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fthe-tradeable500us-is-almost-here%3Futm_source%3Dwebsite_share%26utm_campaign%3Dthe-tradeable500us-is-almost-here%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fthe-tradeable500us-is-almost-here%3Futm_source%3Dwebsite_share%26utm_campaign%3Dthe-tradeable500us-is-almost-here%26utm_medium%3Dlinkedin&amp;title=The+Tradeable500US+is+%28almost%29+here%21+%28Gil+Wassermann%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Using Data' data-tag-id='55c50e7d8d4710ec6e000008' href='/posts/tag/Using-Data/newest'>Using Data</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Tools and Tips' data-tag-id='55c50e7d8d4710ec6e000011' href='/posts/tag/Tools-and-Tips/newest'>Tools and Tips</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Risk Management' data-tag-id='55d33f7b3f6ba10065000002' href='/posts/tag/Risk-Management/newest'>Risk Management</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Pipeline' data-tag-id='561525bcf252a59171000001' href='/posts/tag/Pipeline/newest'>Pipeline</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/the-tradeable500us-is-almost-here?utm_source=website_share&amp;utm_campaign=the-tradeable500us-is-almost-here&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Gil Wassermann" />
<div class='body-text'>
<div class='body-text-container post-body'><p>When running an algorithm, have you ever seen the log message “Your order has been partially filled”? If this is the case then you may not have controlled for liquidity risk. Liquidity risk arises when your algorithm is not able to buy and/or sell the securities dictated by a strategy, and it can completely alter the composition of your trading portfolio. </p>

<p>Our answer to the problem posed by liquidity risk are two universes of equities: the Tradeable500US and the Tradeable1500US. By limiting an algorithm’s universe to equities in one or both of these baskets, you can minimize liquidity risk and almost guarantee that your order will be filled.</p>

<p>These stock universes combine the tradability filters proposed <a href="https://www.quantopian.com/posts/pipeline-trading-universe-best-practice">here</a>  and <a href="https://www.quantopian.com/posts/string-columns-now-available-in-pipeline">here</a> and combine these with a sector exposure limit that prevents the universe from being biased towards any one sector in a robust and fast way. We envisage this tool existing as an importable set of equities in the Quantopian backtester that will remove any algorithmic anomalies caused by liquidity risk. To use this tool in a trading strategy, one could set a pipeline screen for the Tradeable500US, and only equities in this universe would be considered by the algorithm. The Tradeable500US could also be used in the research environment to speed up complex computation by limiting the number of equities queried by Pipeline. It would also allow you to limit your interaction to real, traded stocks, as opposed to recent IPOs and depositary receipts, which can confound good analysis. </p>

<p>Before we set this process in stone, we want your feedback in order to make this methodology as robust as possible. Are there any corner cases where an illiquid stock might slip through our filters? The more effective our filter is, the stronger your algorithms will be. Feel free to experiment with universe sizes, sector exposure limits and let us know what works best for your code.</p>
</div>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>64 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='577c3a25895b1d1efc000376' id='577c3a25895b1d1efc000376'>
<a href='#577c3a25895b1d1efc000376'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1467759148000' class='quanto-date posted-at response-posted-at' href='#577c3a25895b1d1efc000376'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Gil -</p>

<p>Would it be possible to select only tradeable from Nasdaq?  And from that, the top N stocks, by market cap?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577c54f509a591bb990004b5' id='577c54f509a591bb990004b5'>
<a href='#577c54f509a591bb990004b5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1467766010000' class='quanto-date posted-at response-posted-at' href='#577c54f509a591bb990004b5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Grant,</p>

<p>This is indeed a possibility and I think this is how that filter would look.  </p>

<pre><code>N = 500

def make_pipeline():  
    nasdaq_screen = (morningstar.share_class_reference.exchange_id.latest.eq(&#39;NAS&#39;))  
    mkt_cap_screen = (morningstar.valuation.market_cap.latest.top(N, mask=nasdaq_screen))  
    return Pipeline(  
    screen = (nasdaq_screen &amp; mkt_cap_screen)  
)

run_pipeline(make_pipeline(), &#39;2016-01-01&#39;, &#39;2016-01-01&#39;)  
</code></pre>

<p>I definitely thought about using market cap to rank the securities, but decided against it in the end. My thought process is that if we are aiming to measure liquidity, why not actually rank on dollar volume traded as opposed to market cap, which many use as a proxy for liquidity (larger companies generally have the most shares traded, as you rightly point out). </p>

<p>As for the Nasdaq, that is also a good idea but my thought is that it is not fully scalable. You&#39;ll notice in the documentation there is a placeholder filter called <code>domicile</code>. When the Quantopian platform eventually expands into global markets it will be a lot easier to filter with respect to <code>headquarter_country</code> rather than specifying specific exchanges.</p>

<p>Both things that I definitely considered and thanks for bringing them up!</p>

<p>Best,</p>

<p>Gil  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='577cbb1009a591bb99000835' id='577cbb1009a591bb99000835'>
<a href='#577cbb1009a591bb99000835'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1467792149000' class='quanto-date posted-at response-posted-at' href='#577cbb1009a591bb99000835'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gil,</p>

<p>Looks awesome, but I hope there is a means of permutation between all the different filters described above:</p>

<p><a href="https://www.quantopian.com/posts/pipeline-trading-universe-best-practice">https://www.quantopian.com/posts/pipeline-trading-universe-best-practice</a><br>
<a href="https://www.quantopian.com/posts/string-columns-now-available-in-pipeline">https://www.quantopian.com/posts/string-columns-now-available-in-pipeline</a></p>

<p>EDIT: Basically hoping each filter can be commented at will in whatever code makes its way to the back tester.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577cbf978469430aa2000913' id='577cbf978469430aa2000913'>
<a href='#577cbf978469430aa2000913'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e602a002dd2432b00001d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/706508819421d25d2dfb273421dc6887?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e602a002dd2432b00001d2'>Burrito Dan</a>
</div>
<a UTCms='1467793308000' class='quanto-date posted-at response-posted-at' href='#577cbf978469430aa2000913'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m all for this, as it helps create a level playing field for algos to compare their strengths.</p>

<p>For me, a good feature would be to remove companies that are current acquisition targets. These tend to have very low volatility and very high event risk (if and when acquisition doesn&#39;t go through), so confound any conventional risk parity weighting scheme.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577cd4b909a591bb990008e7' id='577cd4b909a591bb990008e7'>
<a href='#577cd4b909a591bb990008e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1467798718000' class='quanto-date posted-at response-posted-at' href='#577cd4b909a591bb990008e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gil -</p>

<ul>
<li>You have several fixed values in your code, including:</li>
</ul>

<pre><code># Equities with an average daily volume greater than 750000.  
    high_volume = (AverageDollarVolume(window_length=252) &gt; 750000)

# Equities for which morningstar&#39;s most recent Market Cap value is above $300m.  
    have_market_cap = mstar.valuation.market_cap.latest &gt; 300000000

# S&amp;P Criterion  
    liquid = ADV_adj() &gt; 250000  
</code></pre>

<p>It would seem that these should be normalized to the current market.  For example, if I run a backtest starting in 2002, won&#39;t they result in a bias, since presumably you are using current values?  In other words, your filter criteria need to be point-in-time; they need to be relative to the current market.</p>

<ul>
<li><p>I don&#39;t understand your definition of &quot;sector neutral&quot; and how you are applying it.  Please elaborate.  Also, you state that you are wanting to limit liquidity risk, so how does sector neutrality relate to that objective?  Or are you trying to accomplish something more than just limiting liquidity risk?</p></li>
<li><p>I&#39;m wondering if your IPO filter is too simple.  For example, how does it handle GOOG/GOOGL?  Would GOOGL be excluded, as an IPO?</p></li>
<li><p>I suggest having a look at all of my comments on <a href="https://www.quantopian.com/posts/pipeline-trading-universe-best-practice">https://www.quantopian.com/posts/pipeline-trading-universe-best-practice</a>, to see if you missed anything (e.g. stocks with verified bad data that has not yet been fixed by Quantopian).</p></li>
<li><p>How do you propose to check the list point-in-time, to make sure it is correct?  Seems kinda tricky.  </p></li>
</ul>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577d09f4b0b31aa7ea0001a6' id='577d09f4b0b31aa7ea0001a6'>
<a href='#577d09f4b0b31aa7ea0001a6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1467812344000' class='quanto-date posted-at response-posted-at' href='#577d09f4b0b31aa7ea0001a6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Frank I am not quite sure what you mean by &quot;permutation&quot;, but one thing I will say is that we are aiming for this code to not be visible in the backtester. A possible implementation could be (and this is essentially pseudo-code, as the engineering team will have their own ideas about this)  </p>

<pre><code>from quantopian.universes import Tradeable500US

...

def make_pipeline():  
    return Pipeline(  
    screen = Tradeable500US  
)
</code></pre>

<p>@Dan H Acquisition targets are definitely something we talked about as we definitely had the S&amp;P500 methodology in mind when considering constituents of the universe. One thing I would flag up about your statement about volatility (which is entirely correct) is the idea of weighting. The Tradeable500US is a universe and can be thought of as a basket of stocks without weights, if we were going to risk-weight these securities we would definitely consider the corner case of acquisition targets.</p>

<p>@Grant</p>

<ul>
<li>Definitely take the point that these values have different meanings in 2002 and 2016. Will definitely investigate to see if this creates an issue. My thought is that these numbers are not restrictive even in 2002 (the turnover graph I give starts at 2003, so this year would be interesting to dig into)<br></li>
<li>So the idea behind sector neutrality is that this code aims to provide a universe of stocks. If it was just to return technology stocks, this would hardwire sector bias into any algorithm using the universe. By capping sector exposure, the code ensures that the basket of stocks returned is indeed representative of the entire universe of equities. You are right to point out that this sector neutrality constraint does come at the price of having slightly less liquid stocks in the universe; however, this is a tradeoff I am willing to make to ensure algorithms are able to select from all industry groups.<br></li>
<li>As for the IPO filter, there are two checks and balances in place. Firstly, a stock when it is first issued has the suffix &#39;.WI&#39;, which is filtered out. Secondly, my implementation of  <code>AverageDollarVolume</code> (<code>ADV_adj</code>) sets close price <code>np.nan</code> values equal to 0 and the calculates the true mean. This more rigorously removes recent IPOs. (Regarding GOOG_L vs GOOG, GOOG is removed as a result of the <code>IsPrimaryShare()</code> filter)<br></li>
<li>I am not quite sure about the &quot;verified bad data&quot; but I have not had issues with any data series that have been included in the Tradeable500US or Tradeable1500US. I definitely looked through your comments on that thread and they were very useful in thinking about the construction of the methodology. One thing I would say is that we will do our best to remove any &quot;bad data&quot; from the these universes.<br></li>
<li>For point-in-time checks for the list, see my reply to Frank. We imagine that checking inclusion the Tradeable500US and Tradeable1500US should be as easy as setting a pipeline screen.<br></li>
</ul>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='577d3374895b1d42a2000231' id='577d3374895b1d42a2000231'>
<a href='#577d3374895b1d42a2000231'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52670e6a2763c5cfb70002c7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/da33ec858011a8fad211c7e0ae68160c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52670e6a2763c5cfb70002c7'>Alan Coppola</a>
</div>
<a UTCms='1467822968000' class='quanto-date posted-at response-posted-at' href='#577d3374895b1d42a2000231'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Gil Instead of fixed numbers for high volume, wouldn&#39;t something like what is in<br>
<a href="https://www.quantopian.com/posts/pipeline-mean-reversion-example">https://www.quantopian.com/posts/pipeline-mean-reversion-example</a><br>
work as a screen or mask ...  </p>

<pre><code>    # Define high dollar-volume filter to be the top 5% of securities by dollar volume.  
    high_dollar_volume = dollar_volume.percentile_between(95, 100)

</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577d48620e5cb7dfc7000005' id='577d48620e5cb7dfc7000005'>
<a href='#577d48620e5cb7dfc7000005'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1467828328000' class='quanto-date posted-at response-posted-at' href='#577d48620e5cb7dfc7000005'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Alan definitely a good idea. One possible hitch to that approach is that the 
<code>percentile_between</code> method makes the filtered universe dependent on the wider universe. So the top 5% of a super-universe of 1000 is 50, but the top 5% of a super-universe of 10000 is 500. My thought is that the Quantopian super-universe will change over time, especially as global equities are added, but I definitely take the point that the <code>universe_filter</code> cutoff of 750000 for  <code>AverageDollarVolume</code> seems rather arbitrary and a dynamic threshold might be more robust.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='577d8fb715082167f800033c' id='577d8fb715082167f800033c'>
<a href='#577d8fb715082167f800033c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1467846589000' class='quanto-date posted-at response-posted-at' href='#577d8fb715082167f800033c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gil -</p>

<p>See <a href="https://www.quantopian.com/posts/missing-split-adjustments-for-lbty-b-and-lbty-k">https://www.quantopian.com/posts/missing-split-adjustments-for-lbty-b-and-lbty-k</a> for a recent report of stocks that have bad data (missing splits for LBTY_A and LBTY_B).  So, the idea is that as soon as problems are found, the offenders would be added to a database, which you could include in your filtration/filtering/filter process (take your pick).  This has been one of my gripes for awhile.  The list should be available at least for copy-and-paste into an algo, from a downloadable spreadsheet or something.  End of rant.</p>

<p>Cheers,</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577d9f53d683f0de7700037c' id='577d9f53d683f0de7700037c'>
<a href='#577d9f53d683f0de7700037c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1467850586000' class='quanto-date posted-at response-posted-at' href='#577d9f53d683f0de7700037c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant Thanks for bringing this up. I gather from the thread you posted that Nathan has raised this issue already but I will make sure to chase it up  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='577e26e7d04083ce48000146' id='577e26e7d04083ce48000146'>
<a href='#577e26e7d04083ce48000146'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1467885294000' class='quanto-date posted-at response-posted-at' href='#577e26e7d04083ce48000146'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Gil,</p>

<p>I&#39;m still not understanding your definition of &quot;sector neutrality.&quot;  Perhaps you could outline the steps, in words, so that the definition is crisp.  You are doing more than just outputting an overall dollar volume universe, e.g. ranking by dollar volume and taking the top 500.  Are you effectively dividing the full universe into sectors, ranking each sector by dollar volume, and then combining, to get the top 500, so that within the 500, the fraction of companies in each sector is similar to that of the full universe?</p>

<p>I would also consider how to make this tool more easily configurable, via high-level user settings, versus need to drill down and unravel code (even if it is generously commented).  For example, say I want 
<code>AverageDollarVolume(window_length=60)</code> instead of <code>AverageDollarVolume(window_length=21)</code>.  I&#39;d have to create my own version, and edit the low-level code.  Or what if I don&#39;t want sector neutrality, but like everything else?  It should be released as a call-able function-like thingy with settings, versus code with a bunch of magic numbers and choices embedded in it.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577e43e2d04083ce48000231' id='577e43e2d04083ce48000231'>
<a href='#577e43e2d04083ce48000231'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1467892712000' class='quanto-date posted-at response-posted-at' href='#577e43e2d04083ce48000231'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Could you also make a version for use with get_fundamentals, please?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577e59d0bae01ebcf70000b8' id='577e59d0bae01ebcf70000b8'>
<a href='#577e59d0bae01ebcf70000b8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1467898327000' class='quanto-date posted-at response-posted-at' href='#577e59d0bae01ebcf70000b8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant Maybe it&#39;s the word &quot;neutrality&quot; that is confusing. Let me define two terms, neither of which is canonical, but will hopefully be illustrative. Let &#39;strong sector neutrality&#39; occur if each sector made up an <strong>equal</strong> proportion of the universe (e.g. if there were 4 industry groups and each represented 25% of the universe). In contrast to this, &#39;weak sector neutrality&#39; prevents  any one sector from being a larger proportion than a desired threshold (here, given as the 
<code>sector_exposure_limit</code>). My algorithm attempts to preserve weak sector neutrality, albeit at the expense of very slightly lower average liquidity of the universe. This was chosen because this is a <strong>universe</strong>, and should therefore be representative of the collection of all equities available on the Quantopian platform. I&#39;ll write out my process for <code>create_tradeable</code> in pseudo-code:</p>

<ol>
<li>Find the <code>threshold</code> number of securities given by  the <code>sector_exposure_limit</code>multiplied by the <code>tradeable_count</code> (if a fraction, round up)<br></li>
<li>For each sector, filter so that the top <code>threshold</code> securities by <code>AverageDollarVolume</code> is returned. By limiting each sector to <code>threshold</code> securities you ensure that the <code>sector_exposure_limit</code> will not be surpassed (with the exception of a slight breach caused by a rounding error).<br></li>
<li>Apply this filter to the whole Quantopian universe, in addition to the <code>universe_filter</code> and take the top N securities here by <code>AverageDollarVolume</code>.</li>
</ol>

<p>This methodology is attractive because it is fast, limits sector exposures and only returns very liquid securities.</p>

<p>With respect to creating a final product that allows parameterization such as <code>screen = Tradeable500US(AverageDollarVolumeWindowLength=60)</code>, I think Dan H on this thread put it best when he said that this tool aims to create a <strong>&quot;level playing field for algos&quot;</strong>. By creating standard universes, we can truly minimize liquidity risk for all algorithms and still compare them on the same set of securities. However, I will definitely run some tests on longer windows of AverageDollarVolume to see if this methodology has better attributes. </p>

<p>@Tim I think the goal is to migrate algos to Pipeline, but will definitely consult with the engineering team to see if there is a good way to do this for get_fundamentals. If there is a particular use case you foresee where get_fundamentals would be better for this, definitely let us know.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='577efe22f5e142d38100038c' id='577efe22f5e142d38100038c'>
<a href='#577efe22f5e142d38100038c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1467940391000' class='quanto-date posted-at response-posted-at' href='#577efe22f5e142d38100038c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Gill, I have to admit that the only reason I am asking for this option is that I have never been able to learn how to work with the Pipeline framework -- but then again, it could be that I am not the only one ... Many thanks for considering an implementation.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577efe8a4a786af78c0003e4' id='577efe8a4a786af78c0003e4'>
<a href='#577efe8a4a786af78c0003e4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5713f6bc39512095670007ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/be6225026b7e66b73c8d0c5b3807810f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5713f6bc39512095670007ef'>Bryce Chamberlain</a>
</div>
<a UTCms='1467940495000' class='quanto-date posted-at response-posted-at' href='#577efe8a4a786af78c0003e4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Did you mean to exclude the filter 
<code>
sector_check = Sector() != -1.  
</code>
from the final filter combination?<code>
universe_filter = (high_volume &amp; primary_share &amp; have_market_cap &amp; not_depositary &amp;  
                      common_stock &amp; not_otc &amp; not_wi &amp; not_lp_name &amp; not_lp_balance_sheet &amp;  
                    liquid &amp; domicile)  
</code></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577f2ef399bc5fae2600056d' id='577f2ef399bc5fae2600056d'>
<a href='#577f2ef399bc5fae2600056d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1467952890000' class='quanto-date posted-at response-posted-at' href='#577f2ef399bc5fae2600056d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tim If you&#39;re interested in the Pipeline framework, I would definitely check out Jamie&#39;s awesome Pipeline tutorial. I found it really useful even as a frequent user of Pipeline. This can be found at <a href="https://www.quantopian.com/tutorials/pipeline">https://www.quantopian.com/tutorials/pipeline</a></p>

<p>@Bryce, that is definitely a good spot. The current filter should remove anything with  a Misc. (-1) sector code but I will make sure this is explicit in the final implementation of this methodology.  Thanks for flagging this up</p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='577f6405717f61d1c1000025' id='577f6405717f61d1c1000025'>
<a href='#577f6405717f61d1c1000025'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1467966474000' class='quanto-date posted-at response-posted-at' href='#577f6405717f61d1c1000025'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Gil</p>

<p>By &quot;permutation&quot;, I meant the ability to sift between each and all of the filters that generate the &quot;Tradeable 500&quot;. Based on the sample code above it seems like that will not be the case.</p>

<p>EDIT: But no big deal  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577f8089717f61f89d0001fd' id='577f8089717f61f89d0001fd'>
<a href='#577f8089717f61f89d0001fd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1467973773000' class='quanto-date posted-at response-posted-at' href='#577f8089717f61f89d0001fd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How do you use this in a normal backtest?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577f8b70f5e1427185000140' id='577f8b70f5e1427185000140'>
<a href='#577f8b70f5e1427185000140'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1467976565000' class='quanto-date posted-at response-posted-at' href='#577f8b70f5e1427185000140'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>With respect to creating a final product that allows parameterization such as screen = Tradeable500US(AverageDollarVolumeWindowLength=60), I think Dan H on this thread put it best when he said that this tool aims to create a &quot;level playing field for algos&quot;. By creating standard universes, we can truly minimize liquidity risk for all algorithms and still compare them on the same set of securities. However, I will definitely run some tests on longer windows of AverageDollarVolume to see if this methodology has better attributes. </p>
</blockquote>

<p>Not sure I follow the logic here.  Presumably, you are heading toward releasing the code in some form (on github?), so that it is controlled and users can plug it in (copy and paste...ughh!).  You can set it up so that there are default settings (perhaps the ones you chose), which would be the recommended values, somehow vetted/biased by Quantopian.  But if you bury all of the parameters within the code, then it is kinda unconventional for a module.  Parameter adjustment then requires delving into the code, making changes, and releasing a new version.  Also, it should be easy to study the effect of each parameter (e.g. in a loop, to map out a multi-dimensional response surface).  If the parameters are not accessible in a call-able form, then again, the code has to be re-factored.  For example, have a look at <a href="http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.optimize.minimize.html#scipy.optimize.minimize">http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.optimize.minimize.html#scipy.optimize.minimize</a> :</p>

<blockquote>
<p>scipy.optimize.minimize(fun, x0, args=(), method=None, jac=None, hess=None, hessp=None, bounds=None, constraints=(), tol=None, callback=None, options=None)</p>
</blockquote>

<p>It would seem that your tool should conform to a call-able function or equivalent, right?  You can still release code that would deliver a &quot;standard universe&quot; by controlling the defaults, but changing the defaults shouldn&#39;t require a new version of the code.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577fb051717f61f89d000409' id='577fb051717f61f89d000409'>
<a href='#577fb051717f61f89d000409'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1467986007000' class='quanto-date posted-at response-posted-at' href='#577fb051717f61f89d000409'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Frank I think you&#39;re right, I believe these filters are not permuted over but rather applied in one batch as a pipeline screen.</p>

<p>@Suminda at the moment this requires some tinkering but we are planning on releasing a very user-friendly version in the near future (see my reply to Grant below for more details)</p>

<p>@Grant definitely take your point on board. This is how I envisage the Tradeable500US&#39;s final implementation:</p>

<pre><code>from quantopian.universes import Tradeable500US

...

def make_pipeline():  
    return Pipeline(  
    screen = Tradeable500US  
)
</code></pre>

<p>So, not parametrized at all. The purpose of this post is to expose the inner workings of this filter so that users can play with the implementation and see why certain decisions were made.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='577fcbacab5ec3b3330008ac' id='577fcbacab5ec3b3330008ac'>
<a href='#577fcbacab5ec3b3330008ac'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1467993011000' class='quanto-date posted-at response-posted-at' href='#577fcbacab5ec3b3330008ac'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also make a 50, 100, 1000, 1500, 2000 version available through import. Perhaps the 50 maybe too small if not include it also.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57802c703009571b64000242' id='57802c703009571b64000242'>
<a href='#57802c703009571b64000242'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1468017781000' class='quanto-date posted-at response-posted-at' href='#57802c703009571b64000242'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gil -</p>

<p>So why the reluctance to make it parameterized?  Is it tricky to code?  It just seems that you are assuming that the choices you&#39;ve made will yield the best results, and that the crowd will not be able to do better by making adjustments.  Just trying to understand where y&#39;all are headed with this.  Don&#39;t get me wrong: it is a great idea to support clean universes with a few lines of code, but you shouldn&#39;t fix the criteria.  In the end, will it be possible for users to grab the code from github, and paste it into their algos, and tweak it, should they not want to use your few-line code above?</p>

<p>Any more thought on adding a 
<code>has_bad_data</code> filter?  To me, this makes a lot of sense.  Why would you want users to be writing algos if there are errors in the data?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57808d85c6898235b60005a5' id='57808d85c6898235b60005a5'>
<a href='#57808d85c6898235b60005a5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1468042635000' class='quanto-date posted-at response-posted-at' href='#57808d85c6898235b60005a5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Gil</p>

<p>Its all good. The code in the links you provided in the first post of this thread provide the access I was seeking.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5780ce39a59f4b194000069e' id='5780ce39a59f4b194000069e'>
<a href='#5780ce39a59f4b194000069e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1468059197000' class='quanto-date posted-at response-posted-at' href='#5780ce39a59f4b194000069e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gil,</p>

<p>Regarding your sector neutrality stuff, I see:</p>

<pre><code>tradeable_pipe.set_screen(tradeable_filter &amp; sector_filter)  
</code></pre>

<p>So, it seems that in effect, you are attempting to create a universe with equal numbers of securities in each sector with <code>sector_filter</code> that are also deemed to be tradeable, with <code>tradeable_filter</code>.  You can end up with unequal numbers of securities in each sector because the sector is smaller than <code>threshold</code> to begin with, or it just doesn&#39;t have enough tradeable securities.  Correct?</p>

<p>One potential problem I see is that you are unhinged from using the more fundamental market cap measure as a means to slice and dice, as is typically done.  By using average dollar volume, at least in theory, the market could go berserko, and you could end up having a universe defined by market conditions, instead of fundamental value.  For example, what if everyone just decided to stop trading AAPL--you&#39;d have to drop it, even though it has a huge market cap.  And conversely, low market cap stocks could end up in the universe, just because they are trading like crazy.  I guess I&#39;d wonder if the selection criteria might be assuming certain steady-state market conditions.  What if there&#39;s an extreme historical event that causes a lot of turmoil?  Does the universe get skewed in some whacky, risky way because of the dollar-volume ranking?  Or maybe for hedge fund style trading, market cap is irrelevant, and you want to be dealing in high dollar-volume stocks?</p>

<p>It would be interesting to see how an investment in a  hypothetical Quantopian Tradeable500US ETF would compare to one in SPY or RSP.  Are they at all similar?</p>

<p>Regarding my GOOG/GOOG_L question, so you exclude GOOG?  It has a market cap of $484.46B and is publicly traded, right?  So why exclude it?  Also, I&#39;m wondering if you end up excluding GOOG_L for 1 year, based on your code (I think that&#39;s what <code>window_length = 252</code> ends up doing, but I&#39;m not sure)?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5780f372435b9684c5000977' id='5780f372435b9684c5000977'>
<a href='#5780f372435b9684c5000977'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1468068727000' class='quanto-date posted-at response-posted-at' href='#5780f372435b9684c5000977'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Suminda we will make a few versions of this universe available. We are thinking about 500, 1500 and 2000, but could add more.</p>

<p>@Grant:</p>

<ul>
<li>RE parametrized function: we want to create a level playing field for all algos. By allowing users to adjust these universes this distorts the pool of securities from which they can select and makes these universes idiosyncratic to all users, not general. Use of these universes will be optional, so if you do not want to use them, you are free to do so, but they will help clean your underlying data.<br></li>
<li>RE has_bad_data I have put in a request for this.<br></li>
<li>RE sector neutrality, these corner cases are dealt with in the code. Also, as I said before, we are aiming for &#39;weak sector neutrality&#39; so a certain amount of inequality between the sectors is expected.<br></li>
<li>RE market cap, the point of this universe is to give you tradeable stocks to mitigate liquidity risk. If a company like AAPL stops trading, we <strong>want</strong> it to drop out of the universe as you can not buy these equities, and this failure to fill an order can undermine complex and brilliant techniques. To guard against spikes in trading volume, we use the 
<code>AverageDollarVolume</code> over one month. The length of this window smooths volatile conditions.<br></li>
<li>RE ETF one thought we have about this is to assign weightings and create an index from this data, we will continue to work on this idea as it would provide a superior benchmark for certain algorithms.<br></li>
<li>RE GOOG, as I mentioned above. GOOG is not a primary share and is therefore removed from the universe.<br></li>
</ul>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='578106edc6898235b6000a4e' id='578106edc6898235b6000a4e'>
<a href='#578106edc6898235b6000a4e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1468073714000' class='quanto-date posted-at response-posted-at' href='#578106edc6898235b6000a4e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Are IPOs excluded for 1 year?  Am I correct that GOOG_L would not be included for 1 year after its IPO?  Just wondering if there might be important corner cases such as this that are not handled correctly, since GOOG_L was not a new company, but another event that one would not term an &quot;IPO&quot;.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57824ee7837e250f3f000d9a' id='57824ee7837e250f3f000d9a'>
<a href='#57824ee7837e250f3f000d9a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1468157678000' class='quanto-date posted-at response-posted-at' href='#57824ee7837e250f3f000d9a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gil -</p>

<p>A few more thoughts:</p>

<ul>
<li>I kinda get the idea of Quantopian defining and offering, with a simple API, tradeable stock universes that the masses can use in developing algorithms (presumably for the contest/fund).  The final implementation you illustrated above, with a few lines of code, is elegant.  But I&#39;m wondering how it fits with the Quantopian paradigm of transparency, open source, and &quot;leverage the collective intelligence of the crowd&quot; which make Quantopian unique.  To this end, how will users have access to the underlying code, should they want to review it in detail?  Or modify it, to create their own &quot;My_Tradeable500US&quot; for example?<br></li>
<li>Any possibility of releasing this API so that users could import their own filter? For example:</li>
</ul>

<pre><code>from my.universes import My_Tradeable500US

...

def make_pipeline():  
    return Pipeline(  
    screen = My_Tradeable500US  
)
</code></pre>

<p>Or would it be a matter of a copy &amp; paste?  And from where?  Github?  And example posted in the forum?  Other?</p>

<ul>
<li>One concern is that there will be changes to Tradeable500US and the Tradeable1500US by Quantopian without notice to users.  Inevitably, you&#39;ll find a need to make adjustments, so how will you do revision control (public github repository)?  For example, will users be able to control the revision, when importing?</li>
</ul>

<pre><code>from quantopian.universes import Tradeable500US_rev_00  
</code></pre>

<ul>
<li><p>I have the vague sense that using dollar-volume may bias toward price-volatile stocks, since stocks that have a lot of volume may also be seeing large price movements.  So, I&#39;m wondering if one ends up with a more volatile universe than would be desired?  Under times of market stress, does the universe end up tilted toward more volatile stocks?  </p></li>
<li><p>One general risk is that by attempting to mitigate liquidity risk, you&#39;ll create another risk in that you are herding users to try to compete head-to-head in areas of the market that are dominated by big money.  It might actually make sense to compete at low or intermediate levels of liquidity, where the big boys are not going to be able to play, since they have to slosh around gazillions with every trade.  Your screen is highlighted by Dan D. on <a href="https://www.quantopian.com/posts/contest-20-rules-changes-$10m-capital-base-new-entry-required">https://www.quantopian.com/posts/contest-20-rules-changes-$10m-capital-base-new-entry-required</a> as consistent with some overall strategy at Quantopian to &quot;think big!&quot; but does the strategy make sense?  Dan doesn&#39;t really flesh it out there, discussing the rewards and well as the potential strategic risks.  Quantopian has a bias toward high-capacity strategies, but why?  And what are the risks?  I would discourage you from the &quot;set this process in stone&quot; mentality since it is not even obvious that users should be encouraged to write high-capacity strategies.  Maybe the niche is in lots of lower capacity strategies and dealing in lower liquidity stocks will win the day.  </p></li>
</ul>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5782688be247c681050002ad' id='5782688be247c681050002ad'>
<a href='#5782688be247c681050002ad'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1468164239000' class='quanto-date posted-at response-posted-at' href='#5782688be247c681050002ad'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Grant, with regards to GOOG vs. GOOG_L, I have looked into this. GOOG would be discounted from this methodology as it is not a primary share, while GOOG_L&#39;s stock split is be applied throughout the entire pipeline window, as is the case with all stock splits. GOOG_L has close prices and volumes back from years before the stock split, so this is not an issue.</p>

<p>To address your point about price volatility, notice that the candidates for exclusion from the universe are only those stocks that are deemed untradeable by the 
<code>universe_filter</code>. Therefore, price volatile stocks will not be excluded because of large swings in AverageDollarVolume if they are already part of the universe.</p>

<p>To answer your question about transparency, that is why we posted this notebook: to allow users to understand and critique the methodology fully before implementation.</p>

<p>If you have some ideas about how to trade low and medium liquidity stocks, I would definitely encourage you to give those a go! However, I would definitely add some lines of code which handles the case of an order not being filled.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5782790be247c6810500034c' id='5782790be247c6810500034c'>
<a href='#5782790be247c6810500034c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1468168467000' class='quanto-date posted-at response-posted-at' href='#5782790be247c6810500034c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Regarding price volatility, I&#39;m wondering if there is an implicit bias to be trading more price-volatile stocks with the proposed approach.  It would seem that if there is market stress, there would be a tilt toward stocks with higher trading volumes, under the assumption that there is a correlation between trading volume and price volatility (a qualitative description is given on <a href="http://www.investopedia.com/ask/answers/09/daily-volume-volatility.asp">http://www.investopedia.com/ask/answers/09/daily-volume-volatility.asp</a>).</p>

<p>Is there any academic or other precedent for this universe construction method?  Or did someone at Quantopian just wake up one day and make it up?  It still could be the best way to go, but normally there would a bibliography, putting the approach into context, and justifying it.  Just seems like it could end up having a pretty big impact on the algos you get for the fund, so I&#39;m wondering if it is a proven best-practice, or more ad hoc.</p>

<blockquote>
<p>If you have some ideas about how to trade low and medium liquidity stocks, I would definitely encourage you to give those a go!</p>
</blockquote>

<p>The point is that it would be great to give them a go, using a standard configurable API like the one you could develop, but unfortunately it apparently won&#39;t be configurable at all.  The logic in this design choice is still lost on me.</p>

<p>Regarding orders not being filled, my understanding is that they tend to get filled in real-money trading.  The Quantopian simulator doesn&#39;t necessarily handle things accurately, and then they get cancelled at the end of the day automatically.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5784d4097a5ac974bf000578' id='5784d4097a5ac974bf000578'>
<a href='#5784d4097a5ac974bf000578'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1468322830000' class='quanto-date posted-at response-posted-at' href='#5784d4097a5ac974bf000578'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Gil -</p>

<p>I think this is a great idea, but I&#39;m just concerned about the inflexibiltiy and lack of transparency inherent in the ultimate implementation, based on your responses.</p>

<p>Any feedback from other users or opinions around the office on the idea of a release that would simply be along the lines of:</p>

<pre><code>from quantopian.universes import Tradeable500US

...

def make_pipeline():  
    return Pipeline(  
    screen = Tradeable500US  
)

</code></pre>

<p>And potentially without access to the underlying code?</p>

<p>I guess I&#39;d wonder if it might back-fire, since more skilled programmers will &quot;roll their own&quot; anyway based on your example (and perhaps share their customizable code on the forum, undoing your effort to define a standard).  If it will not be required to use a canned universe, then I don&#39;t understand your comment:</p>

<blockquote>
<p>By creating standard universes, we can truly minimize liquidity risk for all algorithms and still compare them on the same set of securities.</p>
</blockquote>

<p>But then somewhere else you say that users would not be required to use a canned universe.</p>

<p>Will this be in a public github repository:</p>

<pre><code>quantopian.universes  
</code></pre>

<p>Has this been ported over to be run in the backtester?  Your request includes:</p>

<blockquote>
<p>Feel free to experiment with universe sizes, sector exposure limits and let us know what works best for your code.</p>
</blockquote>

<p>Do you plan to provide an example?  Then I could plunk it into my code and give it a try.</p>

<p>Also, how long will the &quot;comment period&quot; last?  Do you have an anticipated go-live date?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5784ea23918dc614d00007de' id='5784ea23918dc614d00007de'>
<a href='#5784ea23918dc614d00007de'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1468328490000' class='quanto-date posted-at response-posted-at' href='#5784ea23918dc614d00007de'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant, I am currently talking to the engineering team about possible implementations and discussing your thoughts on the matter. The Tradeable500US is by no means a mandatory universe, however it can be thought of as an easy and fast way to reduce liquidity risk in for an algorithmic strategy. Users should definitely experiment with different universe selection methods; however, having a few standard, robust, useful universes will definitely be a tool in an algo writer&#39;s toolkit, for a jumping-off point if nothing else. If they want to create their own methodology based on that of the Tradeable500US, they are more than welcome to use this notebook to begin that process.</p>

<p>As for comments and go-live, I will update this thread as deadlines and plans are made/change.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57850378918dc644fa00038b' id='57850378918dc644fa00038b'>
<a href='#57850378918dc644fa00038b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571d1bab2616ef09ce0002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a69e9457dd2832a76875bcae334d5baf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571d1bab2616ef09ce0002b6'>Dan Whitnable</a>
</div>
<a UTCms='1468334976000' class='quanto-date posted-at response-posted-at' href='#57850378918dc644fa00038b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gil</p>

<p>First off, very good thread. This is exactly the kind of topical lucid discussions which keep me coming back to Quantopian. Kudos to Grant, Frank and the others for the substantive feedback.</p>

<p>So, my two cents...</p>

<p>Provide a built in TradeableXXXUS filter, ideally with parameters to make it configurable. Great idea!</p>

<p>Make the use of this filter somehow mandatory (like the leveraged ETFs exclusion rule). Bad idea!</p>

<p>There are a number of reasons I feel a mandatory universe is bad, but here are my top ones:</p>

<p>1) Why the fixation on liquid stocks? I&#39;d imagine there are some very good strategies out there which focus on these securities. Opening and closing positions over time in smaller trades. If Quantopian truly wants a diverse set of funds then excluding these doesn&#39;t make sense.</p>

<p>2) Why the arbitrary exclusion of &quot;recent IPOs&quot; and &quot;depository receipts (ADRs)&quot;. Again, I&#39;d imagine some very viable strategies which include these and their exclusion would limit the diversity of strategies which Quantopian is presumptively striving.</p>

<p>3) As a practical matter,  it would be virtually impossible to create a filter which doesn&#39;t generate securities which move in and out at the &quot;fringes&quot;. As a security drops out of the list,  presumably every algorithm holding that security would then sell. This isn&#39;t a very healthy state for the Quantopian fund if a number of algos suddenly sell a single security (or potentially buy as a stock moves into the universe).</p>

<p>Reading through all the posts above, it seams like the consensus is towards an optional built in &quot;quick start&quot; filter which I&#39;d support.</p>

<p>Dan  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578522eb7a5ac9f7500008e3' id='578522eb7a5ac9f7500008e3'>
<a href='#578522eb7a5ac9f7500008e3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1468343023000' class='quanto-date posted-at response-posted-at' href='#578522eb7a5ac9f7500008e3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Dan I think you&#39;ve hit the nail on the head when you say &quot;optional built in &#39;quick start&#39; filter&quot;. It effectively provides a very clean dataset to prototype and trade algorithms on, although I take your point in (2) that really interesting strategies can be made by trading these types of securities.</p>

<p>The fixation with liquid stocks, your point in (1), is due to the type of strategy this methodology could be used for: cross-sectional factor algorithms. With these, you are effectively ranking attributes of stocks, as opposed to considering the individual equities themselves. Illiquid or non-traditional securities like ADRs often have attributes that skew these rankings.</p>

<p>So this security removal issue, (3), is definitely something I considered -in the notebook, I call this &quot;turnover&quot;. This methodology attempts to keep turnover to a minimum to guard against this. </p>

<p>Thanks for the feedback!  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57856ebe70d70ac94a00001e' id='57856ebe70d70ac94a00001e'>
<a href='#57856ebe70d70ac94a00001e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1468362435000' class='quanto-date posted-at response-posted-at' href='#57856ebe70d70ac94a00001e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gil -</p>

<p>Thanks for the update.  Looking forward to your feedback.  While you are talking with your engineering colleagues, it would also be interesting to hear about the vision for 
<code>quantopian.universes</code> in general.  For example, would it be in a public archive?  Would it be possible to propose changes there?  Fork the code, and then be able to import it.  Etc.  Basically, how would <code>quantopian.universes</code> work, beyond being a Quantopian internal repository?  Or would it work just like zipline (which I guess is still importable)?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5785a58370d70ad420000237' id='5785a58370d70ad420000237'>
<a href='#5785a58370d70ad420000237'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1468376457000' class='quanto-date posted-at response-posted-at' href='#5785a58370d70ad420000237'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This seems like bending over backwards to avoid fixing the broken slippage model, no?  Why not just calibrate a new slippage model to the realized slippage you&#39;ve observed from all of your realized IB fills for live traders and your prop accounts, and fix the backtester so that it can fill on bars where historically there were no trades?</p>

<p>Slippage isn&#39;t squared, it&#39;s square-root-ish (3/5?  fun project), and for small lots, one usually gets filled very quickly, even if the stock hasn&#39;t traded all day.  If it&#39;s an ETP, you very often can get filled for arbitrary size very quickly.  All of which makes the default squared slippage model with a 2.5% of historical volume per bar terribly misleading.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5785ffa670d70ad42000051c' id='5785ffa670d70ad42000051c'>
<a href='#5785ffa670d70ad42000051c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1468399531000' class='quanto-date posted-at response-posted-at' href='#5785ffa670d70ad42000051c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Simon,</p>

<p>Love the idea. Specifically using live fills as the target data in an ML algo, and then using backtester fills and other well thought out feature data to calibrate the slippage model.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578632d251b6c3dffa00003a' id='578632d251b6c3dffa00003a'>
<a href='#578632d251b6c3dffa00003a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1468412636000' class='quanto-date posted-at response-posted-at' href='#578632d251b6c3dffa00003a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>When running an algorithm, have you ever seen the log message “Your order has been partially filled”? If this is the case then you may not have controlled for liquidity risk. Liquidity risk arises when your algorithm is not able to buy and/or sell the securities dictated by a strategy, and it can completely alter the composition of your trading portfolio. </p>
</blockquote>

<p>So, we have a problem statement that that needs to be revised.  Are we talking about backtesting, Q simulated/paper trading, paper trading at IB, trading with real money at IB?  And the problem statement says nothing about price impact; it only discusses an inability to buy/sell, regardless of price.</p>

<p>For simulated and real-money trading, we also have automatic cancellation of orders at the close.  So, if the problem is partial fills of orders, then this feature of Q trading should be included in the discussion.  It is not obvious that spreading orders out over a couple days would necessarily be a bad thing for the kind of intermediate-time-scale algos that would be suitable for the Q fund (which presumably is also relevant, but not mentioned explicitly in the problem statement).  </p>

<blockquote>
<p>The fixation with liquid stocks, your point in (1), is due to the type of strategy this methodology could be used for: cross-sectional factor algorithms.</p>
</blockquote>

<p>The problem discussion should probably say something about the intended primary use, which I gather is to support scalable factor algos for the Q fund.</p>

<p>There&#39;s a serious convolution of the problem, as stated, with a backtester that is inaccurate (meaning it doesn&#39;t do an adequate job of simulating real-money trading).  If in reality, orders are pretty much always filled (perhaps with a price impact), then the Tradeable500US is solving a problem that doesn&#39;t exist.  The problem is that the backtester is inaccurate.  It seems like the backtester should be reconciled with reality first, and then you can circle back and sort out how best to define trade-ability.</p>

<p>Regarding using real-world data to develop a more accurate slippage model, I have to think that IB would have lots of data.  You could give them a call, to see if they&#39;d provide it (perhaps for a fee).  As Simon mentioned, it could be an interesting research project.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5788cf99bf0d5bcab80001cc' id='5788cf99bf0d5bcab80001cc'>
<a href='#5788cf99bf0d5bcab80001cc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1468583839000' class='quanto-date posted-at response-posted-at' href='#5788cf99bf0d5bcab80001cc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Gil -</p>

<p>Any thoughts on Simon&#39;s recent comment and the other feedback in this thread?  It seems there are some open questions to be addressed before you march ahead with a release.  Any feedback from the rest of the Q team that could be summarized here?  Above, it sounded like you&#39;d be running some of this by other Q employees.  What have they said?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5788e1c3c73155cca3000897' id='5788e1c3c73155cca3000897'>
<a href='#5788e1c3c73155cca3000897'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1468588492000' class='quanto-date posted-at response-posted-at' href='#5788e1c3c73155cca3000897'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant</p>

<p>There have definitely been a lot of action over here regarding this universe selection methodology, but I am hesitant to talk about specifics as we are still working out these details and I would hate to promise anything that we do not eventually deliver.</p>

<p>Regarding the slippage model, I think,  @Simon, you are getting this 3/5 figure from the paper &quot;Direct Estimation of Equity Market Impact&quot; by Almgren et al. This paper was actually just presented at an internal academic symposium, so transaction cost models and slippage models are definitely on our mind here.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5788ebb2bf0d5b37de00012d' id='5788ebb2bf0d5b37de00012d'>
<a href='#5788ebb2bf0d5b37de00012d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1468591033000' class='quanto-date posted-at response-posted-at' href='#5788ebb2bf0d5b37de00012d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gil -</p>

<p>Thanks for the update.  As a general direction, I think this is a great idea.  The thing is, practicing engineering is hard and a classic mistake is not to spend enough time understanding the problem/need, getting the requirements correct (or not even writing them down, even in outline form!), finding the gaps/risks, revising the requirements, etc.  The other mistake is not to sort out ahead of time how each requirement will be verified, and confirmed valid for the end-use.  For example, see:</p>

<p>Customer Centered Products: Creating Successful Products Through Smart Requirements Management<br>
by Ivy F. Hooks et al.<br>
Link: <a href="https://amzn.com/0814405681">https://amzn.com/0814405681</a> </p>

<p>Whole books on the topic.</p>

<p>I commend Q for throwing an intern like you into the deep end of the pool.  Keep at it, and don&#39;t assume your managers know diddly, since it is possible that their brains have been taken over by stress-induced chemicals (no criticism--just human nature).  It is your job to think for them.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578ceee04687beeefa0001b7' id='578ceee04687beeefa0001b7'>
<a href='#578ceee04687beeefa0001b7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/550ed26e55cf0f991c0002fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2225df58d00cadc46d2809e6cdc8ec14?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/550ed26e55cf0f991c0002fc'>Rafael Delasierra</a>
</div>
<a UTCms='1468853994000' class='quanto-date posted-at response-posted-at' href='#578ceee04687beeefa0001b7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is this going to limit all algo&#39;s to a universe of only top 500?  What is your strategy trades small cap stocks?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578d5fb2178709064400033b' id='578d5fb2178709064400033b'>
<a href='#578d5fb2178709064400033b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1468882875000' class='quanto-date posted-at response-posted-at' href='#578d5fb2178709064400033b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>As I understand, it will not be mandatory.  I&#39;d imagine, though, that the code could be adapted to handle small cap stocks (e.g. first select all small cap, and then select the most tradeable).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578e0c3a42af7121520009e0' id='578e0c3a42af7121520009e0'>
<a href='#578e0c3a42af7121520009e0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1468927042000' class='quanto-date posted-at response-posted-at' href='#578e0c3a42af7121520009e0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also think about the calculation overhead. If I use 500 any calculations other than for this is a wast. Also keep in mind what comes into the 500 and leaves the 500.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57909b849b5a114d640002e9' id='57909b849b5a114d640002e9'>
<a href='#57909b849b5a114d640002e9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1469094794000' class='quanto-date posted-at response-posted-at' href='#57909b849b5a114d640002e9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Gil -</p>

<p>How&#39;s this coming along?  Do you have an update to your straw-man proposal above?  Perhaps you could summarize where things stand.</p>

<p>Regarding Rafael&#39;s comment above, I think it is an interesting point.  Say I wanted a universe to be similar to the Russell 2000 (e.g. IWM).  What would be the path for a Quantopian user to set such a thing up?  Or the Nasdaq 100 (QQQ) as another example?  I would think that any universe creation tool developed by Quantopian would want to make it easy for users to emulate major stock market indices (and their ETFs).  Is this an objective?</p>

<p>Another consideration would be for Quantopian to offer universes that a user could not implement in his code, either due to computational limitations and/or data licensing restrictions (e.g. baskets of stocks that have potentially interesting statistical characteristics).</p>

<p>Say I just wanted ETFs, point-in-time.  How would you support that?</p>

<p>Thanks,</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5790ccc2a455081b59000b9e' id='5790ccc2a455081b59000b9e'>
<a href='#5790ccc2a455081b59000b9e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1469107400000' class='quanto-date posted-at response-posted-at' href='#5790ccc2a455081b59000b9e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant,</p>

<p>Just working on implementation now. I don&#39;t want to promise anything that will not definitely be in the final product, but I can say we are aiming to provide a parameterized implementation in addition to the Tradeable500US and Tradeable1500US for users who want to design a universe bespoke to their algo.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5791509376bfd51112000ccf' id='5791509376bfd51112000ccf'>
<a href='#5791509376bfd51112000ccf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/577b754dd9228128bb000611'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/68b0f8dfa57830c4d628762bd8b86067?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/577b754dd9228128bb000611'>Toby Masters</a>
</div>
<a UTCms='1469141145000' class='quanto-date posted-at response-posted-at' href='#5791509376bfd51112000ccf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Gil,</p>

<p>I agree with Grant&#39;s comments above.  A parameterized implementation sounds great but it seems to make sense to simplify the process for replicating a range of popular indicies (based on user demand) rather than simply the 500 and 1500 you have mentioned.</p>

<p>Also, presumably the off-the-shelf universes would be pre-calculated across the full history for very quick retrieval rather than simply running optimized code for generating the universe each time?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791535f00782023da000350' id='5791535f00782023da000350'>
<a href='#5791535f00782023da000350'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1469141860000' class='quanto-date posted-at response-posted-at' href='#5791535f00782023da000350'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gil -</p>

<p>Thanks for the update.  I have an algo to plug it right into; it&#39;ll be interesting to try.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791ec68432bd243c10006b4' id='5791ec68432bd243c10006b4'>
<a href='#5791ec68432bd243c10006b4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e602a002dd2432b00001d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/706508819421d25d2dfb273421dc6887?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e602a002dd2432b00001d2'>Burrito Dan</a>
</div>
<a UTCms='1469181037000' class='quanto-date posted-at response-posted-at' href='#5791ec68432bd243c10006b4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gil, I&#39;ve been thinking about using your top 500 code with my own factor ranking in place of the 21 day dollar volume ranking. My factor ranking relates to my trading strategy, rather than a universe filter per se. This would give me a convenient mechanisms to (weakly) limit sector concentration.</p>

<p>Obviously I can go ahead and do this myself with your code, but it got me thinking, how are you defining liquidity? Is it absolute (the two hard coded annual average dollar volume thresholds) or relative (the 21 day dollar volume ranking)? Why have both? How do they interact?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791ede2f30759975e00035e' id='5791ede2f30759975e00035e'>
<a href='#5791ede2f30759975e00035e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e602a002dd2432b00001d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/706508819421d25d2dfb273421dc6887?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e602a002dd2432b00001d2'>Burrito Dan</a>
</div>
<a UTCms='1469181417000' class='quanto-date posted-at response-posted-at' href='#5791ede2f30759975e00035e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>My other question relates to lookback periods. I generally use a year or a period that relates to the hold of my strategy. For example short term mean reversion has a 1-2 week hold, so seems a sensible lookback for establishing a mean. This is not so much scientific, rather it&#39;s trying to cut the number of parameters. I wondered why 21 days? I would guess a high volume over 21 days means likely high volatility means likely price decline means likely mean reversion upwards.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791f569265338b7510001ca' id='5791f569265338b7510001ca'>
<a href='#5791f569265338b7510001ca'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1469183351000' class='quanto-date posted-at response-posted-at' href='#5791f569265338b7510001ca'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have to wonder if this approach is implicitly biased toward more volatile stocks.  Would there be some way to factor out volatility, so that the filter is just on trade-ability (which, in this case is the ability to get orders filled without order cancellation at days end, when backtesting/simulated trading on the Quantopian platform).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57925e11f30759de0b000738' id='57925e11f30759de0b000738'>
<a href='#57925e11f30759de0b000738'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e602a002dd2432b00001d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/706508819421d25d2dfb273421dc6887?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e602a002dd2432b00001d2'>Burrito Dan</a>
</div>
<a UTCms='1469210137000' class='quanto-date posted-at response-posted-at' href='#57925e11f30759de0b000738'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A common thing I&#39;ve seen is to divide dollar volume (or turnover) by volatility (or similar measure). This is like saying volume imbalances cause price impact which causes volatility. We want stocks that don&#39;t move much when volumes increase.</p>

<p>I thought about suggesting this, but it seems incompatible with the slippage / price impact model, which is a monotonic function of dollar volume only.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579355ad17cbe034fc000207' id='579355ad17cbe034fc000207'>
<a href='#579355ad17cbe034fc000207'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1469273523000' class='quanto-date posted-at response-posted-at' href='#579355ad17cbe034fc000207'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Gil -</p>

<p>In one of my algos, I&#39;m seeing:</p>

<blockquote>
<p>2002-07-12 WARN Your order for 142 shares of PG_WI failed to fill by the end of day and was canceled.</p>
</blockquote>

<p>In your code above, you have:</p>

<pre><code>not_wi = ~mstar.share_class_reference.symbol.latest.endswith(&#39;.WI&#39;)  
</code></pre>

<p>So, it is not clear that your code will filter out all of the when-issued stocks.</p>

<p>EDIT: Tried your .WI filter, and it removes _WI.  Why the different symbols between Morningstar and your main database?  Could lead to confusion/mistakes.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5793a3e365784574ee0009a8' id='5793a3e365784574ee0009a8'>
<a href='#5793a3e365784574ee0009a8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1469293544000' class='quanto-date posted-at response-posted-at' href='#5793a3e365784574ee0009a8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Gil,</p>

<p>I&#39;m using the code below, but still getting:</p>

<blockquote>
<p>2002-07-03 WARN Your order for 155 shares of PG_WI failed to fill by the end of day and was canceled.</p>
</blockquote>

<p>Shouldn&#39;t 
<code>not_wi = ~mstar.share_class_reference.symbol.latest.endswith(&#39;.WI&#39;)</code> remove all of the _WI stocks?</p>

<pre><code>def make_pipeline(n_stocks):  
    ### Factors  
    # Create a factor for the market cap.  
    market_cap = mstar.valuation.market_cap.latest  
    # Create a factor for the exchange ID.  
    exchange_id = mstar.company_reference.primary_exchange_id.latest  
    ### Filters  
    # Create a filter returning true for securities with a non-nan market cap.  
    has_market_cap = market_cap.notnan()  
    # Create a filter returning true for securities with a non-nan market cap.  
    has_exchange_id = exchange_id.notnull()  
    # has_exchange_id = exchange_id.eq(&#39;NAS&#39;)  
        # Equities not listed as depositary receipts by morningstar.  
    # Note the inversion operator, `~`, at the start of the expression.  
    not_depositary = ~mstar.share_class_reference.is_depositary_receipt.latest  
    # Equities that listed as common stock (as opposed to, say, preferred stock).  
    # This is our first string column. The .eq method used here produces a Filter returning  
    # True for all asset/date pairs where security_type produced a value of &#39;ST00000001&#39;.  
    common_stock = mstar.share_class_reference.security_type.latest.eq(COMMON_STOCK)  
    # Equities whose exchange id does not start with OTC (Over The Counter).  
    # startswith() is a new method available only on string-dtype Classifiers.  
    # It returns a Filter.  
    not_otc = ~mstar.share_class_reference.exchange_id.latest.startswith(&#39;OTC&#39;)  
    # Equities whose symbol (according to morningstar) ends with .WI  
    # This generally indicates a &quot;When Issued&quot; offering.  
    # endswith() works similarly to startswith().  
    not_wi = ~mstar.share_class_reference.symbol.latest.endswith(&#39;.WI&#39;)  
    # Equities whose company name ends with &#39;LP&#39; or a similar string.  
    # The .matches() method uses the standard library `re` module to match  
    # against a regular expression.  
    not_lp_name = ~mstar.company_reference.standard_name.latest.matches(&#39;.* L[\\. ]?P\.?$&#39;)  
    # Equities with a null entry for the balance_sheet.limited_partnership field.  
    # This is an alternative way of checking for LPs.  
    not_lp_balance_sheet = mstar.balance_sheet.limited_partnership.latest.isnull()  
    # Get the top n_stocks securities by market cap (for securities that have a market cap).  
    top_market_cap = market_cap.top(n_stocks, mask=has_market_cap &amp; has_exchange_id &amp; not_depositary &amp; common_stock &amp; not_otc &amp; not_wi &amp; not_lp_name &amp; not_lp_balance_sheet)  
    # Combine all of our filters.  
    tradeable_filter = has_market_cap &amp; has_exchange_id &amp; top_market_cap  
    return Pipeline(  
        columns={  
            &#39;market_cap&#39;: market_cap  
        },  
        screen=tradeable_filter  
    )  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57949e92e0d8a30dba00092d' id='57949e92e0d8a30dba00092d'>
<a href='#57949e92e0d8a30dba00092d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1469357719000' class='quanto-date posted-at response-posted-at' href='#57949e92e0d8a30dba00092d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Gil,</p>

<p>Have a look at:</p>

<p><a href="https://www.quantopian.com/posts/missing-split-adjustments-for-lbty-b-and-lbty-k">https://www.quantopian.com/posts/missing-split-adjustments-for-lbty-b-and-lbty-k</a></p>

<p>If at all possible, there should be some way to filter out stocks with known bad data, based on a database maintained by Quantopian.  I certainly wouldn&#39;t consider LBTY_A and LBTY_B &quot;trade-able&quot; until their data are fixed.</p>

<p>I suppose a case could be made that users just need to take it on the chin, under the assumption that data errors will pop up and be fixed promptly.  But as the LBTY_A and LBTY_B case illustrates, many weeks (months?) can pass before a fix is released.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57987d6e35f8fd7b7a0001ef' id='57987d6e35f8fd7b7a0001ef'>
<a href='#57987d6e35f8fd7b7a0001ef'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1469611379000' class='quanto-date posted-at response-posted-at' href='#57987d6e35f8fd7b7a0001ef'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Gil,</p>

<p>Any update?  You&#39;ve expressed concern about promising things that you might not deliver.  I guess I&#39;d simply put out a revised proposal for comment, based on your current thinking, to get more feedback.  For example, what about Simon&#39;s point above?  It sounds like you are mulling over changes to the slippage model, which would seemingly be a better way to improve the simulation accuracy of order fills.</p>

<p>Regarding my comment above &quot;How do you propose to check the list point-in-time, to make sure it is correct?&quot; say I wanted to confirm that the &quot;when-issued&quot; filter actually works.  Other than Morningstar, does Quantopian have access to a list of all stocks classified as &quot;when-issued&quot; that could be used to check the filter?  Similarly for the other filters?  In other words, how can one tell if all of the junk and only the junk has been removed without an independent data source for comparison (and even then, there could be errors)?</p>

<p>If you haven&#39;t already, you might also run this by your new CIO, who has a lot of industry experience and might be able to share industry best practices in this area (perhaps not covered by any NDA he&#39;s under, since it is pretty general stuff).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5798a2674e87d79660000114' id='5798a2674e87d79660000114'>
<a href='#5798a2674e87d79660000114'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1469620847000' class='quanto-date posted-at response-posted-at' href='#5798a2674e87d79660000114'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Grant,</p>

<p>So the project is definitely coming along well and we hope to have something out soon. We would rather be thorough and create a truly useful, robust product than put something weak together quickly. </p>

<p>With regards to errors, I have not had time to look into this particular edge case, but I will look this over before release.</p>

<p>Also, our CIO and VP of Quant Strategy have been very involved with the final product so that we can provide something that is really industry-grade.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='579b62c180d06659ff0001c8' id='579b62c180d06659ff0001c8'>
<a href='#579b62c180d06659ff0001c8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1469801163000' class='quanto-date posted-at response-posted-at' href='#579b62c180d06659ff0001c8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Gil,</p>

<p>Another split missed:</p>

<p><a href="https://www.quantopian.com/posts/missing-split-nke">https://www.quantopian.com/posts/missing-split-nke</a></p>

<p>Also, it appears that the missing splits reported (1 month ago) have not been fixed:</p>

<p><a href="https://www.quantopian.com/posts/missing-split-adjustments-for-lbty-b-and-lbty-k">https://www.quantopian.com/posts/missing-split-adjustments-for-lbty-b-and-lbty-k</a></p>

<p>Any discussion about how to handle the situation on your end?  Seems you could include tools for users to skip stocks with data problems.</p>

<p>Personally, I&#39;m just keeping a running list in my algo:</p>

<pre><code>context.bad_data = [sid(27357),sid(27358),sid(5328)]  
</code></pre>

<p>All good, except that I probably don&#39;t have the full list (and may stumble on more), and once the data are fixed, I&#39;ll want to update the list.  Guess I&#39;ll get notified by &quot;listening&quot; to my posts and assume that Q will follow up there.  Perhaps dealing with data errors is a separate project that could be integrated with your tradeable universe project at some point?  Or maybe it&#39;d be easy to incorporate the worst offenders (e.g. missing splits), since it is fairly painful from a user standpoint to catch them, verify, report, track, etc.?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a50121bb26a6248e000091' id='57a50121bb26a6248e000091'>
<a href='#57a50121bb26a6248e000091'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1470431528000' class='quanto-date posted-at response-posted-at' href='#57a50121bb26a6248e000091'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Gil,</p>

<p>How&#39;s the &quot;(almost)&quot; part coming along?  Any update?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a5e4b56cc24377eb0000da' id='57a5e4b56cc24377eb0000da'>
<a href='#57a5e4b56cc24377eb0000da'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1470489789000' class='quanto-date posted-at response-posted-at' href='#57a5e4b56cc24377eb0000da'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Grant,</p>

<p>We are in the last stages of testing the product and constructing material to teach the community how to use it. Not too long a wait now!</p>

<p>Gil  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57b6a7c1422c35de60000400' id='57b6a7c1422c35de60000400'>
<a href='#57b6a7c1422c35de60000400'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1471588299000' class='quanto-date posted-at response-posted-at' href='#57b6a7c1422c35de60000400'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How is this going? When will it be out? Also make sure weights in Super Sector, Sector, Group (include &gt;= 500), Industry (include &gt;= 1,000) are balanced not just Sector.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c187ed8baaa49c7a000729' id='57c187ed8baaa49c7a000729'>
<a href='#57c187ed8baaa49c7a000729'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1472301047000' class='quanto-date posted-at response-posted-at' href='#57c187ed8baaa49c7a000729'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Any update?  Will there be an alpha/beta release, for review and comment?  Or are we going straight to production with this baby?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c1d92dbfaa793ae1000b87' id='57c1d92dbfaa793ae1000b87'>
<a href='#57c1d92dbfaa793ae1000b87'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1472321842000' class='quanto-date posted-at response-posted-at' href='#57c1d92dbfaa793ae1000b87'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Gil,</p>

<p>Sounds like you are locked in on the sector diversification idea, but I&#39;m wondering if clustering might be an alternative approach?  For example:</p>

<p><a href="http://scikit-learn.org/stable/auto_examples/applications/plot_stock_market.html">http://scikit-learn.org/stable/auto_examples/applications/plot_stock_market.html</a></p>

<p>Sectors seem sorta artificial and unjustified, at least to someone not in the field.  Maybe clustering doesn&#39;t buy you anything, and you end up in the same place?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c72d3b591f0f3e7a0001c0' id='57c72d3b591f0f3e7a0001c0'>
<a href='#57c72d3b591f0f3e7a0001c0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b54451cbccdf0120000fd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c98af4d5851abbf158e1b78e4850ddf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b54451cbccdf0120000fd'>Gil Wassermann</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1472671042000' class='quanto-date posted-at response-posted-at' href='#57c72d3b591f0f3e7a0001c0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey everyone, here is the Tradeable500US, now dubbed the Q500US: <a href="https://www.quantopian.com/posts/the-q500us-and-q1500us">https://www.quantopian.com/posts/the-q500us-and-q1500us</a>. From this thread it definitely looked like the community wanted a parameterized universe creation function, so we made sure to include that in the release. Hope you have a good time with it!</p>

<p>@Grant. With <code>make_us_equity_universe</code> you can slice the dataset into whatever groups you fancy, but I have a feeling that cluster analysis might be better suited to an implementation in a risk model; could be a very cool project.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57c7312db51684bfd00001b9' id='57c7312db51684bfd00001b9'>
<a href='#57c7312db51684bfd00001b9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1472672054000' class='quanto-date posted-at response-posted-at' href='#57c7312db51684bfd00001b9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This will make it easy to quickly test out a new factor model without having to double check for the noise. Thanks Gil!  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/the-tradeable500us-is-almost-here'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/the-tradeable500us-is-almost-here'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#8fe9eaeaebedeeece4cffefaeee1fbe0ffe6eee1a1ece0e2">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
