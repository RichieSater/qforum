<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
illegal Quantopian/IB algo?
</title>
<meta content='I gather that if I were to launch this algo with real money through Quantopian/IB, it might be illegal.  I&#39;m putting in an order, which would be sent to IB immediately, and following it with a delayed cancellation.  So, it would run afoul of the rule that all trades must be intended to be executed; the only valid reason for cancellation would be if information were received that justified my order being cancelled, which clearly the algo code does not support.Just curious...if there are Q/IB...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="NLptCVyXUctNzq4Now/u2LaqGA/ZApYjmGqq0QsXss1I3BtE/mGDKPTT9zzs4EasjiQ7ZqPOgzgaZXG7oVLQdg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/illegal-quantopian-slash-ib-algo' property='og:url'>
<meta content='illegal Quantopian/IB algo?' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/illegal-quantopian-slash-ib-algo' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='illegal Quantopian/IB algo?' property='og:title'>
<meta content='I gather that if I were to launch this algo with real money through Quantopian/IB, it might be illegal.  I&#39;m putting in an order, which would be sent to IB immediately, and following it with a delayed cancellation.  So, it would run afoul of the rule that all trades must be intended to be executed; the only valid reason for cancellation would be if information were received that justified my order being cancelled, which clearly the algo code does not support.Just curious...if there are Q/IB...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/illegal-quantopian-slash-ib-algo">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='553a392ff75009e3f8000489'>
<div class='post-container' data-post-id='553a392ff75009e3f8000489' id='553a392ff75009e3f8000489'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>illegal Quantopian/IB algo?</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1429879087000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=illegal Quantopian/IB algo?&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fillegal-quantopian-slash-ib-algo%3Futm_source%3Dwebsite_share%26utm_campaign%3Dillegal-quantopian-slash-ib-algo%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fillegal-quantopian-slash-ib-algo%3Futm_source%3Dwebsite_share%26utm_campaign%3Dillegal-quantopian-slash-ib-algo%26utm_medium%3Dlinkedin&amp;title=illegal+Quantopian%2FIB+algo%3F+%28Grant+Kiehne%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/illegal-quantopian-slash-ib-algo?utm_source=website_share&amp;utm_campaign=illegal-quantopian-slash-ib-algo&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Grant Kiehne" />
<div class='body-text'>
<div class='body-text-container post-body'><p>I gather that if I were to launch this algo with real money through Quantopian/IB, it might be illegal.  I&#39;m putting in an order, which would be sent to IB immediately, and following it with a delayed cancellation.  So, it would run afoul of the rule that all trades must be intended to be executed; the only valid reason for cancellation would be if information were received that justified my order being cancelled, which clearly the algo code does not support.</p>

<p>Just curious...if there are Q/IB lawyers sitting around twiddling their thumbs on a spring day, maybe one could render an opinion.  It&#39;s a test.  They should know the answer pronto.  No charge.</p>

<pre><code>import time

def initialize(context):  
    context.spy = symbols(&#39;SPY&#39;)[0]  
    context.cancel_delay = 0.010 # delay between order and cancel_order, in seconds  
def handle_data(context, data):  
    order_id = order(context.spy,100)  
    wait(context.cancel_delay)  
    cancel_order(order_id)  
def wait(time_lapse):  
    time_start = time.time()  
    time_end = (time_start + time_lapse)  
    while time_end &gt; time.time():  
        pass  
</code></pre>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>18 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='553a45c5cd57249d8800069a' id='553a45c5cd57249d8800069a'>
<a href='#553a45c5cd57249d8800069a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54f717ee66aea6239f000274'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0c2b51aac4540dbc179f7583f7a231ea?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54f717ee66aea6239f000274'>Ethan Adair</a>
</div>
<a UTCms='1429882312000' class='quanto-date posted-at response-posted-at' href='#553a45c5cd57249d8800069a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Preface: not a lawyer.</p>

<p>I would say this is exactly illegal, you are creating artificial buy/sell pressure. It&#39;s obvious you meant to create a spoofing algorithm. Just because you wouldn&#39;t profit from it, that wouldn&#39;t make it any more legal. As to whether there would actually be a chance of you getting caught using it? I would say chances are slim to zero (unless your name happens to be sarao). There are many firms with many times more capital than he had doing this thousands of times a day.</p>

<p>To give you an idea of the sheer size of the phenomenon:<br>
<a href="http://www.zerohedge.com/news/2015-04-23/dear-cftc-presenting-todays-e-mini-market-manipulating-spoofing">http://www.zerohedge.com/news/2015-04-23/dear-cftc-presenting-todays-e-mini-market-manipulating-spoofing</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553a4a9cc16c1a32da00001f' id='553a4a9cc16c1a32da00001f'>
<a href='#553a4a9cc16c1a32da00001f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1429883553000' class='quanto-date posted-at response-posted-at' href='#553a4a9cc16c1a32da00001f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Well, it would be easy enough for the FBI to get records from Quantopian/IB.  Since Q runs on minute bars, any minute with an order followed by a delayed cancel would be suspect.  Examination of the suspicious algos would make fishy activity obvious, especially if they are generously commented (&quot;Tweak market by submitting order, followed by delayed cancel.&quot;).  --Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553a5911cd572477980006ec' id='553a5911cd572477980006ec'>
<a href='#553a5911cd572477980006ec'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/537400743fcd41da07000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/566071c42a032f096a4b6925585231da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/537400743fcd41da07000056'>Matt Clark</a>
</div>
<a UTCms='1429887251000' class='quanto-date posted-at response-posted-at' href='#553a5911cd572477980006ec'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Grant, you are one interesting dude.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553a60b1a8a3a9035a000659' id='553a60b1a8a3a9035a000659'>
<a href='#553a60b1a8a3a9035a000659'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54f717ee66aea6239f000274'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0c2b51aac4540dbc179f7583f7a231ea?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54f717ee66aea6239f000274'>Ethan Adair</a>
</div>
<a UTCms='1429889204000' class='quanto-date posted-at response-posted-at' href='#553a60b1a8a3a9035a000659'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Devil&#39;s advocate: if this section of code was part of a larger algo, you could argue that the immediate cancel is part of the logic. If you submit an order and it isn&#39;t immediately filled, you would just assume the market has changed in such a way that you would no longer want to make that trade, and that I believe would have some legal basis.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553bcad2847784c21800003c' id='553bcad2847784c21800003c'>
<a href='#553bcad2847784c21800003c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/553bc383e9044f3b35000c73'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c86659fb3ce6f308504efc25f987bce1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/553bc383e9044f3b35000c73'>Sierra Tech</a>
</div>
<a UTCms='1429981909000' class='quanto-date posted-at response-posted-at' href='#553bcad2847784c21800003c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Exactly this type of execution is at the basis of the charges pressed against this &quot;arcade shop&quot; trader in London (it looks kind of sketchy that a single person caused the flash crash but I don&#39;t know).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553bd85ca5c9d9c20d000026' id='553bd85ca5c9d9c20d000026'>
<a href='#553bd85ca5c9d9c20d000026'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53b9c4dd7fe29273d600002c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3937a36d71ec7b5ca8139005d6e2d350?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53b9c4dd7fe29273d600002c'>Mike Timmons</a>
</div>
<a UTCms='1429985376000' class='quanto-date posted-at response-posted-at' href='#553bd85ca5c9d9c20d000026'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This has been an interesting subject for me for some time.  Before the flash crash Paul Rotter became famous as the &#39;Eurex Flipper&#39;.  Below is a portion of one of the few interviews he gave.</p>

<p>I believe Rotter worked without benefit of software tools other than a trade client and seeing the level2 order book.</p>

<p>To succeed at this today you would have to trade very large size and at the millisecond speed instead of post-minute.  Also you would probably signal alerts at the broker before you placed too many trades....  I believe Rotter quit this trading when he became too visible and competitors starting to wait for him to trade, his trading became predictable and lost his edge (I believe).</p>

<h1></h1>

<p>10/2005</p>

<p>Paul Rotter - aka &quot;the Eurex Flipper&quot;</p>

<p>Paul is arguably the single largest and most successful individual futures trader on planet Earth, executing trades on the Eurex exchange primarily in the Bund, but also in the Bobl and Schatz interest rate futures. He trades between 200-300,000 round turns daily using the X_Trader platform, and clearing through GNI Touch.</p>

<p>q: what are your strengths as a world-class trader and where are the differences between you and other traders?<br>
a: it&#39;s the ability to get more aggressive in winning phases, taking bigger risks, and scaling back in losing times. this is against human nature. the best thing is to have somebody around who is neutral to trading, that switches the terminals off, when a certain loss level has been reached for the day.</p>

<p>q: you are known as a order book-scalper, could you please explaining to our readers what you are doing and what your strategies look like? what is your tactic?<br>
a: it&#39;s some kind of market making where you place buy and sell orders simultaneously, making very short-term trading decisions b/c of certain events in the order book (level2). for example, I usually have lots of orders in different markets at the same time, pretty close to the last traded price. the resulting trades are usually a zero sum game, but I get a pretty good feeling for what is going on and then ultimately can make a decision for a larger trade.</p>

<p>q: how long are you usually in a position?<br>
a: since I do trend plays very seldom and actually scalp the market, i constantly get fills in different markets on both sides which can cause constantly changing positions for hours. sometimes i change my opinion several times within a couple of minutes, which is not pretty hard for me, since I&#39;m only looking for the next 3-5 ticks.</p>

<p>q: during your professional career, have you always been a scalper or did you try other strategies (momentum/swing) as well?<br>
a: yes, I have always been a scalper, but I am adjusting my strategies to different market situations all the time. on volatile days I of course have less orders in the market and do more &#39;single trades&#39;, although I usually hold them only for a couple of seconds.</p>

<p>q: your strategies only work on electronic exchanges?<br>
a: yes, b/c you cannot handle that much orders in a pit, looking for counterparties and so on. computer exchanges grant fast order flow and are not as easy to manipulate.</p>

<p>q: as a scalper, are you trying to run stops?<br>
a: well, yes, but because of the increase of liquidity in the last couple of years, the fast spikes caused by stops are not happening that often anymore. apart from that, that stops often are not where you would suppose them to be, because the other market participants are not silly either or learned their lesson in the past.</p>

<h1></h1>

<p>Google Rotter or Flipper for more....  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553bf8408477847c220001bf' id='553bf8408477847c220001bf'>
<a href='#553bf8408477847c220001bf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1429993539000' class='quanto-date posted-at response-posted-at' href='#553bf8408477847c220001bf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is not illegal.<br>
This is part of an execution strategy, a poorly created one.<br>
Normally it goes like this:</p>

<p>Submit order outside spread.<br>
Cancel after 1 second.<br>
Submit order at far side of spread.<br>
Cancel after 1 second.<br>
Submit order inside far side spread.<br>
Cancel after 1 second.<br>
Submit order at mid.<br>
Cancel after 1 second.<br>
Submit order at inside near side spread.<br>
Cancel after 1 second.<br>
Submit order at near side spread.<br>
Cancel after 1 second.<br>
Submit order outside near side spread.<br>
Cancel after 1 second.  </p>

<p>Repeat.</p>

<p>You can do this all day long.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553bfbaea5c9d9c20d00015f' id='553bfbaea5c9d9c20d00015f'>
<a href='#553bfbaea5c9d9c20d00015f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1429994416000' class='quanto-date posted-at response-posted-at' href='#553bfbaea5c9d9c20d00015f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Market Tech,</p>

<p>I gathered that if one submits an order with the intent that the order would not be filled, it would be an illegal practice.  In the example you posted above, if you were trying to make the market move until it was in your favor, then it would be considered illegal market manipulation.</p>

<p>Now, if you were looking at a screen and submitting/cancelling, with the cancellation justified by the fact that your trade wouldn&#39;t be favorable, it&#39;d be a different story.</p>

<p>Or no?  Am I missing something?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553c09174131d37fd60004ee' id='553c09174131d37fd60004ee'>
<a href='#553c09174131d37fd60004ee'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1429997850000' class='quanto-date posted-at response-posted-at' href='#553c09174131d37fd60004ee'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How can you tell the intent? You can&#39;t.  </p>

<p>With your exact example, you&#39;d be getting filled a large percent of the time. OK. So you got filled. The other percent of the time that you didn&#39;t get filled, how is anyone to know that you didn&#39;t really want to get filled?</p>

<p>The scenario I outlined is a common OEX technique to get in on large positions at the same time being mildly aggressive. All the major brokers have these special order type strategies you can submit your order with and the broker does the dirty work of &quot;working your order.&quot;  Inferring intent is nearly impossible in such scenarios. Now. there are conditions where it&#39;s obvious that order spoofing is taking place. But an order handing around for 10,000 microseconds is (probably) not one of them. If the market is illiquid the <em>probably</em> may not apply. Especially if you did 100 orders (or so) in ~10 seconds. But if you did 10 of your orders in quick succession and then got filled... who&#39;s to say you weren&#39;t just working an order?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553c5ed33988ad4d6f000273' id='553c5ed33988ad4d6f000273'>
<a href='#553c5ed33988ad4d6f000273'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1430019797000' class='quanto-date posted-at response-posted-at' href='#553c5ed33988ad4d6f000273'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Market Tech,</p>

<p>If you execute the strategy, you know the intent, and so you can know if you are on the wrong side of the law.  And if you are caught, and accused, you have the choice of admitting your intent, or trying to hide it.</p>

<p>In <a href="http://www.cftc.gov/filings/orgrules/rule082814cmedcm001.pdf">http://www.cftc.gov/filings/orgrules/rule082814cmedcm001.pdf</a>, it sounds pretty black and white to me:</p>

<blockquote>
<p>All orders must be entered for the purpose of executing bona fide<br>
transactions.</p>
</blockquote>

<p>Pretty simple.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553c6ce5847784c218000416' id='553c6ce5847784c218000416'>
<a href='#553c6ce5847784c218000416'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/544dbad732c9e66d44000274'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2e24d16fcfc91fe9b076733898d1a75d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/544dbad732c9e66d44000274'>Michael Alfonso</a>
</div>
<a UTCms='1430023399000' class='quanto-date posted-at response-posted-at' href='#553c6ce5847784c218000416'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Isn&#39;t this what Sarao was doing? Putting in unfilled orders to move prices.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='554bdabf3f8f04c7ff0001dc' id='554bdabf3f8f04c7ff0001dc'>
<a href='#554bdabf3f8f04c7ff0001dc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54c97e9ae6ea6458a700008d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6fc9f5b899f2b0b31be198fe2517b22d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54c97e9ae6ea6458a700008d'>Ethan Dunlap</a>
</div>
<a UTCms='1431034561000' class='quanto-date posted-at response-posted-at' href='#554bdabf3f8f04c7ff0001dc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Stumbled across this and was wondering if a &quot;fill or kill&quot; order is something that can be done on Quantopian and if so, would placing an obscene fill or kill order basically have the same effect as the OP?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='554c12e8d56e89eb990000d6' id='554c12e8d56e89eb990000d6'>
<a href='#554c12e8d56e89eb990000d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1431048938000' class='quanto-date posted-at response-posted-at' href='#554c12e8d56e89eb990000d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ethan,</p>

<p>I think, in effect, the code I posted above will be an approximation to a &quot;fill or kill&quot; order.  Here&#39;s the code again:</p>

<pre><code>import time

def initialize(context):  
    context.spy = symbols(&#39;SPY&#39;)[0]  
    context.cancel_delay = 0.010 # delay between order and cancel_order, in seconds  
def handle_data(context, data):  
    order_id = order(context.spy,100)  
    wait(context.cancel_delay)  
    cancel_order(order_id)  
def wait(time_lapse):  
    time_start = time.time()  
    time_end = (time_start + time_lapse)  
    while time_end &gt; time.time():  
        pass  
</code></pre>

<p>If the order is still open after the wait time, it&#39;ll be cancelled.  One question for the Q team is what happens if there is no delay between the order and it&#39;s cancellation?  At one point, I was told that information is transmitted to IB immediately, as it is encountered in the code.  So, what happens if I do this:</p>

<pre><code>import time

def initialize(context):  
    context.spy = symbols(&#39;SPY&#39;)[0]  
    context.cancel_delay = 0.010 # delay between order and cancel_order, in seconds  
def handle_data(context, data):  
    order_id = order(context.spy,100)  
    # wait(context.cancel_delay)  
    cancel_order(order_id)  
def wait(time_lapse):  
    time_start = time.time()  
    time_end = (time_start + time_lapse)  
    while time_end &gt; time.time():  
        pass  
</code></pre>

<p>Does my order make it to IB followed by a cancellation?  Will an attempt be made by IB to fill the order?  Or will they see the cancellation and kill it?  And what if the initial fill is partial?  Would the remainder of the order be killed immediately?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='554d3ae93ded2d9ecc000404' id='554d3ae93ded2d9ecc000404'>
<a href='#554d3ae93ded2d9ecc000404'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54c97e9ae6ea6458a700008d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6fc9f5b899f2b0b31be198fe2517b22d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54c97e9ae6ea6458a700008d'>Ethan Dunlap</a>
</div>
<a UTCms='1431124715000' class='quanto-date posted-at response-posted-at' href='#554d3ae93ded2d9ecc000404'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thats a good question and unfortunately im pretty new to all of this, so I couldnt answer that.</p>

<p>I was wondering if you knew of any way to test your line in the queue if you have placed an after market order? Figured it might be related to some technique in sending an order and cancelling it.</p>

<p>I&#39;m sure this wouldnt be easy info to find (if available at all)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='554d66571cd2c411350000c8' id='554d66571cd2c411350000c8'>
<a href='#554d66571cd2c411350000c8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/554d5e56ce4753c0850001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26093ebfad1928de4dde2a578555210c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/554d5e56ce4753c0850001ad'>Luis Lopez de Quintana</a>
</div>
<a UTCms='1431135833000' class='quanto-date posted-at response-posted-at' href='#554d66571cd2c411350000c8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Spoofing was made an explicit federal crime by the Dodd Frank law of 2010. The Flash Crash, now suspected to be caused by S&amp;P Futures spoofing, happened just before it was passed, but that&#39;s not stopping the authorities who are charging Sarao with other financial crimes for the incident. </p>

<p>That said, the main sentiment on this thread is correct: if you do it, there are no CFTC robots scanning the exchanges to automatically flag your activity. The truth is if they suspect an incident is spoofing, they will investigate after the fact, to the extent they can devote time and money relative to their priority in catching the perpetrator. This is obviously the case with Sarao who is suspected of causing the Flash Crash, which was an international incident.</p>

<p>It&#39;s also documented this happens <em>a lot</em>, but that isn&#39;t necessarily a license to go crazy. As fast as humans design offensive weapons, we design defensive ones as well: in our case, just one example is Hudson River Trading&#39;s new system that does exactly what you&#39;re thinking: it watches the markets and flags patterns as likely incidents of spoofing. (<a href="http://blogs.wsj.com/moneybeat/2015/05/07/did-autozone-get-spoofed/">http://blogs.wsj.com/moneybeat/2015/05/07/did-autozone-get-spoofed/</a>)</p>

<p>The only logical conclusion is though spoofing is popular and may increase in popularity, there will be exponentially more automated spoofing detection coming online in the coming years, meaning it will get more risky overall.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='554d838519aa7c7062000195' id='554d838519aa7c7062000195'>
<a href='#554d838519aa7c7062000195'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54bd703ef8d6b5eb370000cc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0f9621e45abe138f1233e8b6fa87488f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54bd703ef8d6b5eb370000cc'>Taylor Smith</a>
</div>
<a UTCms='1431143303000' class='quanto-date posted-at response-posted-at' href='#554d838519aa7c7062000195'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Spoofing is all about liquidity detection. It&#39;s not new to algo trading guys. People did it in the Chicago pits before I was born.</p>

<p>Liquidity providers want to detect informed traders. By submitting orders and canceling you can basically trick other traders into revealing their trading interest. Say there&#39;s a big hidden stop limit order on the limit order book that says to sell 1m shares at limit 9.96 if price hits 9.98. The current spread is 10.01/9.99. If I&#39;m a liquidity provider I can get fucked if I buy at 9.98 (which I think is a bargain) and then all of a sudden this guys&#39; order hits. </p>

<p>This is a well established point. Market makers losses come primarily from trading against informed traders. So what traders do is test the waters and try and detect stuff like that. That&#39;s where all this spoofing and pinging and such comes from. Market makers trying to predict liquidity.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='554f2d55093a489e6f0005db' id='554f2d55093a489e6f0005db'>
<a href='#554f2d55093a489e6f0005db'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1431252311000' class='quanto-date posted-at response-posted-at' href='#554f2d55093a489e6f0005db'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Luis,</p>

<p>Interesting.  And what would be Hudson River Trading&#39;s motivation in detecting spoofing?  I&#39;m guessing that they want to profit off of the illegal activity of spoofing, not by spoofing themselves, but by taking advantage of the spoofers.  One would think that this would also be illegal.  Kinda like following bank robbers around, hoping to pick up some of the money that flies out of their bags...  It sounds like the whole situation is hopeless, and begging for engineered controls within the electronic trading system itself.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57472153fea68c14810000bb' id='57472153fea68c14810000bb'>
<a href='#57472153fea68c14810000bb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56f55f881f7ace44c0000720'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ff6b07cb1576b085c91718479659ca3b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56f55f881f7ace44c0000720'>Hershel Stark</a>
</div>
<a UTCms='1464279390000' class='quanto-date posted-at response-posted-at' href='#57472153fea68c14810000bb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I don&#39;t think every order placed has to have intent to be filled. i.e. after opening, placing a OCO order to close with an upper profit limit and a lower stop loss is definitely not illegal, despite the fact that if every order you placed took this structure then a max of only 66% of your orders would be filled (with the knowledge that this is the case). If you consider more complex OCO orders this max fill proportion could be much lower (still legal of course). I am no lawyer nor an expert, but if you take a look at SEC.gov and just skim some of the press releases about firms and individuals who were charged with this type of securities fraud, you&#39;ll see that they involve actual spoofing. That is, not only are the orders not intended to be filled but they are also intended to <strong>artificially manipulate the bid/ask</strong> in some way to create an advantage to the trader. Placing orders that are to be cancelled if not filled in some given time period (however small) is likely commonplace among institutional algorithmic trading firms, alluded to by the cancel-to-trade ratio data provided by the SEC. Take a look at this resource:<br>
<a href="https://www.sec.gov/marketstructure/datavis/ma_exchange_canceltotrade.html">https://www.sec.gov/marketstructure/datavis/ma_exchange_canceltotrade.html</a><br>
On some exchanges this year, there were cancel-to-trade ratios of 3000/1, which means that on a given day, only 0.03% ( or 0.0003) orders were actually filled. If you are planning on trading with a significant amount of capital using this type of strategy, you should definitely get legal counsel, but if you&#39;re just playing around with a small account on Q/IB to see the efficacy of the strategy, I wouldn&#39;t be too worried (based on that SEC data source).  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/illegal-quantopian-slash-ib-algo'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/illegal-quantopian-slash-ib-algo'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#523437373630333139122327333c263d223b333c7c313d3f">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
