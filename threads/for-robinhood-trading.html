<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
For Robinhood trading
</title>
<meta content='Perhaps someone might find this algo useful and/or be willing to improve it ...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="CezG6vZbVMUSGb1Kmx2hHdNg6uhq0HIf5IM3jnZCUUJ1irCnVK2GJqsE5HvU8glp6+7JgRAcZwRmjOzk3Acz+Q==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/for-robinhood-trading' property='og:url'>
<meta content='For Robinhood trading' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/for-robinhood-trading' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='For Robinhood trading' property='og:title'>
<meta content='Perhaps someone might find this algo useful and/or be willing to improve it ...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/for-robinhood-trading">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='56b214d63862faf95b00005a'>
<div class='post-container' data-post-id='56b214d63862faf95b00005a' id='56b214d63862faf95b00005a'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>For Robinhood trading</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1454511318000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=For Robinhood trading&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Ffor-robinhood-trading%3Futm_source%3Dwebsite_share%26utm_campaign%3Dfor-robinhood-trading%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Ffor-robinhood-trading%3Futm_source%3Dwebsite_share%26utm_campaign%3Dfor-robinhood-trading%26utm_medium%3Dlinkedin&amp;title=For+Robinhood+trading+%28Tim+Vidmar%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/for-robinhood-trading?utm_source=website_share&amp;utm_campaign=for-robinhood-trading&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Tim Vidmar" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Perhaps someone might find this algo useful and/or be willing to improve it ...  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>117 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='56b24d043bc2c57e63000267' id='56b24d043bc2c57e63000267'>
<a href='#56b24d043bc2c57e63000267'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/566f43a829ad3033880000a3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5e4524e5ee1573c7d19afb620781bf38?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/566f43a829ad3033880000a3'>Steve Hind</a>
</div>
<a UTCms='1454525705000' class='quanto-date posted-at response-posted-at' href='#56b24d043bc2c57e63000267'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Looks really interesting but I&#39;m getting a runtime error from the Rebalance function when I try to backtest it myself... I don&#39;t think I&#39;ve made any changes to the algo.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b2f569ed78b64baf0002f4' id='56b2f569ed78b64baf0002f4'>
<a href='#56b2f569ed78b64baf0002f4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454568816000' class='quanto-date posted-at response-posted-at' href='#56b2f569ed78b64baf0002f4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>What&#39;s the error that you are getting?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b39d7655ed88664700017e' id='56b39d7655ed88664700017e'>
<a href='#56b39d7655ed88664700017e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a7c571ae9e4a5ed2000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4bc1f5f90959e6f353dbcb14f229f9dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a7c571ae9e4a5ed2000122'>Brandon</a>
</div>
<a UTCms='1454611837000' class='quanto-date posted-at response-posted-at' href='#56b39d7655ed88664700017e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Backtests have worked for me but i didn&#39;t run them too far in the past. Might be due to a symbol not being available within a selected time frame.</p>

<p>@Tim - Can you elaborate on what decisions this algo is making? I like the performance but did not completely understand what its actually doing.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b414d277307dba25000582' id='56b414d277307dba25000582'>
<a href='#56b414d277307dba25000582'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55ed0ebaf7eced2820000138'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/192fde5a5de866362a9e34c096cb8a9b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55ed0ebaf7eced2820000138'>Minh</a>
</div>
<a UTCms='1454642391000' class='quanto-date posted-at response-posted-at' href='#56b414d277307dba25000582'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It looks too good to be true. It&#39;s such a short backtest history.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b44640569277d60e00062c' id='56b44640569277d60e00062c'>
<a href='#56b44640569277d60e00062c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454655047000' class='quanto-date posted-at response-posted-at' href='#56b44640569277d60e00062c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Minh Ngo: Well, I suppose you are not going to use it then, right?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b4469292cf07ccf3000055' id='56b4469292cf07ccf3000055'>
<a href='#56b4469292cf07ccf3000055'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454655131000' class='quanto-date posted-at response-posted-at' href='#56b4469292cf07ccf3000055'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Brandon: Yes, this is the earliest the backtest can be started because some of the symbols do not go further back.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b4a13fbdc1bd8c4a0008d2' id='56b4a13fbdc1bd8c4a0008d2'>
<a href='#56b4a13fbdc1bd8c4a0008d2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454678340000' class='quanto-date posted-at response-posted-at' href='#56b4a13fbdc1bd8c4a0008d2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s the same algorithm without the VIX ETF component (XIV), which makes it possible to run the backtest from 2004.</p>

<p>The EDV bond has also been replaced by the TLT for the same reason, but this is not very important.</p>

<p>The  XIV spices things up, though, and provides for additional returns.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b4a24c92cf07e15b000873' id='56b4a24c92cf07e15b000873'>
<a href='#56b4a24c92cf07e15b000873'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454678613000' class='quanto-date posted-at response-posted-at' href='#56b4a24c92cf07e15b000873'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Brandon: The algorithm essentially uses a cross-over signal from a short and a long moving average of a S&amp;P 500 ETF in order to enter and exit positions in this same index and in a government bond. </p>

<p>The VIX ETF (XIV) is essentially assumed to move in the same direction as the market, since a bullish market is linked to decreasing volatility and the other way around.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b4c98d168e8045e70000cf' id='56b4c98d168e8045e70000cf'>
<a href='#56b4c98d168e8045e70000cf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a7c571ae9e4a5ed2000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4bc1f5f90959e6f353dbcb14f229f9dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a7c571ae9e4a5ed2000122'>Brandon</a>
</div>
<a UTCms='1454688661000' class='quanto-date posted-at response-posted-at' href='#56b4c98d168e8045e70000cf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tim thanks for the elaboration.</p>

<p>I have experimented with your Algo and made a few modifications that might help the Robinhood implementation a bit. In addition I added the signal indicator to the chart to help view the progress of that a bit. With @Tim&#39;s addition of TLT, I made a modification to do 50% TLT and 50% EDV instead of 100% of one or the other</p>

<p>One more note: Since Robinhood clears their sales after 3 days you cannot use proceeds from a sale to purchase again on the same day. So I build a variable in that limits the Algo. The context.value variable should be not more than half of the cash balance in the account to allow for the sell and purchase on the same day.</p>

<p>EDIT: Forgot to attach the Algo...see below  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b4cac339e288b1ff0000db' id='56b4cac339e288b1ff0000db'>
<a href='#56b4cac339e288b1ff0000db'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a7c571ae9e4a5ed2000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4bc1f5f90959e6f353dbcb14f229f9dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a7c571ae9e4a5ed2000122'>Brandon</a>
</div>
<a UTCms='1454688967000' class='quanto-date posted-at response-posted-at' href='#56b4cac339e288b1ff0000db'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here are the results  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b515ffe6c3bfb4ee00036f' id='56b515ffe6c3bfb4ee00036f'>
<a href='#56b515ffe6c3bfb4ee00036f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454708227000' class='quanto-date posted-at response-posted-at' href='#56b515ffe6c3bfb4ee00036f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Brandon, I did not realize that proceeds from a sale cannot be used immediately.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b6001ee6c3bfb4ee0008f9' id='56b6001ee6c3bfb4ee0008f9'>
<a href='#56b6001ee6c3bfb4ee0008f9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a7c571ae9e4a5ed2000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4bc1f5f90959e6f353dbcb14f229f9dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a7c571ae9e4a5ed2000122'>Brandon</a>
</div>
<a UTCms='1454768163000' class='quanto-date posted-at response-posted-at' href='#56b6001ee6c3bfb4ee0008f9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Your welcome, I put this to the true test by going live with it yesterday. It was a down day, but the loss was less than SPY. So far the Algo has performed as expected.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b61454be1c24881700001f' id='56b61454be1c24881700001f'>
<a href='#56b61454be1c24881700001f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454773336000' class='quanto-date posted-at response-posted-at' href='#56b61454be1c24881700001f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Brandon, please be very careful !</p>

<p>My original algo, at least, goes into negative cash from time to time. I only discovered this yesterday. If you are trading with a non-margin account, such us RobinHood (I believe), this could trigger  a margin call !</p>

<p>If you are using RobinHood, I would strongly suggest that you record (plot) the context.portfolio.cash variable in your backtest to see whether it goes negative.</p>

<p>I am very sorry about this development, but I was totally unaware about this problem until very recently when one of our fellow Quantopians turned my attention it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b6164aacbe92c91b00004d' id='56b6164aacbe92c91b00004d'>
<a href='#56b6164aacbe92c91b00004d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a7c571ae9e4a5ed2000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4bc1f5f90959e6f353dbcb14f229f9dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a7c571ae9e4a5ed2000122'>Brandon</a>
</div>
<a UTCms='1454773838000' class='quanto-date posted-at response-posted-at' href='#56b6164aacbe92c91b00004d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Tim. Hopfully having the <strong>context.value</strong> variable should help limit my exposure because it should limit the purchases, so far it is working as expected.</p>

<p>I will backtest to confirm the fuctionality as you noted.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b617fb1efdb381fd00003d' id='56b617fb1efdb381fd00003d'>
<a href='#56b617fb1efdb381fd00003d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a7c571ae9e4a5ed2000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4bc1f5f90959e6f353dbcb14f229f9dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a7c571ae9e4a5ed2000122'>Brandon</a>
</div>
<a UTCms='1454774272000' class='quanto-date posted-at response-posted-at' href='#56b617fb1efdb381fd00003d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just ran a few backtests and they responded as expected. </p>

<p>FYI, in the past I have noticed that with Robinhood and live trades they will not allow you to go negative with cash. Any orders that will cause a negative cash balance are automatically denied.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b62a54acbe92b9d3000080' id='56b62a54acbe92b9d3000080'>
<a href='#56b62a54acbe92b9d3000080'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454778970000' class='quanto-date posted-at response-posted-at' href='#56b62a54acbe92b9d3000080'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Many thanks for coming back with the results so quickly, Brandon, and good luck with your live trade!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b62cbd1efdb381fd0000e4' id='56b62cbd1efdb381fd0000e4'>
<a href='#56b62cbd1efdb381fd0000e4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454779585000' class='quanto-date posted-at response-posted-at' href='#56b62cbd1efdb381fd0000e4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>For those interested, here is a version of my original algo with improved cash management -- thanks to @garyha and his PrV routine !</p>

<p>It still goes into negative cash sometimes, but to a negligible extent. </p>

<p>It checks for positive cash before placing any orders. This should in principle take care of the three-day delay in the a availability of sale proceeds as well, but the only way to know and to see what  side effects this may have would probably be to go live with it, unfortunately. Perhaps I should put the money where the mouth is and cough up some cash ...</p>

<p>The volatility is very high and the drawdown periods protracted, but the profits are not bad and the Sharpe ratio is more or less acceptable, I suppose.</p>

<p>Below I am also attaching a Pyfolio tear sheet of the backtest for your peruse.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b62d241efdb31f58000103' id='56b62d241efdb31f58000103'>
<a href='#56b62d241efdb31f58000103'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454779689000' class='quanto-date posted-at response-posted-at' href='#56b62d241efdb31f58000103'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The Pyfolio sheet.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b62e9b1efdb31f5800010c' id='56b62e9b1efdb31f5800010c'>
<a href='#56b62e9b1efdb31f5800010c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1454780063000' class='quanto-date posted-at response-posted-at' href='#56b62e9b1efdb31f5800010c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Tim,</p>

<p>You might also consider what I posted here:</p>

<p><a href="https://www.quantopian.com/posts/minimum-variance-w-slash-constraint">https://www.quantopian.com/posts/minimum-variance-w-slash-constraint</a></p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b67779be1c246d920000a9' id='56b67779be1c246d920000a9'>
<a href='#56b67779be1c246d920000a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1454798717000' class='quanto-date posted-at response-posted-at' href='#56b67779be1c246d920000a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><pre><code>The first algo: Profited 22829 on 39165 activated/transacted for PvR of 58.3%   0.0505 %/day  
Most recent:    Profited 20194 on 10095 activated/transacted for PvR of 200.0%  0.1766 %/day  
</code></pre>

<blockquote>
<p>blue pill (to forget about The Matrix and continue to live in the world of illusion) or a red pill (to enter the [...] world of reality). -- Morpheus, Wikipedia</p>
</blockquote>

<p>Tim chose the red pill, <a href="https://www.quantopian.com/posts/pvr">PvR</a>. Result, a dramatic increase ... 58.3% <strong>==&gt; 200.0%</strong></p>

<p>In 60 algos that I ran this week with <a href="https://www.quantopian.com/posts/pvr">PvR</a>, there is only one higher in <a href="https://www.quantopian.com/posts/pvr">PvR</a> per day (that could not yet be eliminated as overfitting)<br>
 &nbsp; than this one by Tim Vidmar, at 0.1766 %/day. </p>

<p>I will share privately with anyone demonstrating that they are working with <a href="https://www.quantopian.com/posts/pvr"><strong>PvR</strong></a> and understand it, which algo that is.</p>

<p><em>(The code above by GK ranks 8th even with the negative cash).</em></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b7292e1efdb32abf000213' id='56b7292e1efdb32abf000213'>
<a href='#56b7292e1efdb32abf000213'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454844209000' class='quanto-date posted-at response-posted-at' href='#56b7292e1efdb32abf000213'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Grant,</p>

<p>Many thanks for drawing my attention to your optimization algorithm. Brilliant job! I can only wish I knew that much Python ...</p>

<p>I do believe, however, that the issue of negative cash, as pointed out by garyha, is an important one. Have you tried running your algorithm with his PvR metrics?</p>

<p>Regards,</p>

<p>Tim  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b72c7f33f3c6e34500073e' id='56b72c7f33f3c6e34500073e'>
<a href='#56b72c7f33f3c6e34500073e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454845061000' class='quanto-date posted-at response-posted-at' href='#56b72c7f33f3c6e34500073e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One final version of the algo on my part. Negative cash is now completely avoided, so the algo should work for live trading with Robinhood. Also added is a simulation of the 3-day delay in the availability of sales&#39; proceeds. Please comment out the related parts only suitable for backtesting when going live and the other way around.</p>

<p>To stay on the safe side, only 95% of the available cash is invested at any time. Since the assumption is that Robinhood charges no commission, trading is now carried out daily, rather than weekly., to catch market downturns earlier. The result of all these measures is that the profit is much reduced with regard to the more risky version, but so are the volatility and the drawdown.</p>

<p>The main advantage of this algo as compared to simply investing into an index ETF is that it should be able to avoid a major crash in a serious crisis, like the one in 2008.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b73e23be1c242ea1000298' id='56b73e23be1c242ea1000298'>
<a href='#56b73e23be1c242ea1000298'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1454849576000' class='quanto-date posted-at response-posted-at' href='#56b73e23be1c242ea1000298'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Regarding cash going slightly negative, I hadn&#39;t considered how that would play out with Robinhood.  The obvious solution is that the sum of the allocations needs to be less than 1, to compensate (i.e. create a small cash buffer).  But what should the factor be?  I suppose one approach is to run successive backtests, tweaking the leverage until it always stays below 1.0, but that wouldn&#39;t necessarily guard against bad things from happening live on Robinhood.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b76bd7a8e886630800002e' id='56b76bd7a8e886630800002e'>
<a href='#56b76bd7a8e886630800002e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1454861276000' class='quanto-date posted-at response-posted-at' href='#56b76bd7a8e886630800002e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>He meant your own <a href="https://www.quantopian.com/posts/minimum-variance-w-slash-constraint#56b68776acbe9272eb000130">-$22,362 (started with $10k), 120% negative cash</a>.<br>
Repeating his question, have you tried yours, GK, with <a href="https://www.quantopian.com/posts/pvr">PvR</a>?<br>
Maybe a similar increase in fully accounted-for profitability could come out of that.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b76e8420fcb38c2f000056' id='56b76e8420fcb38c2f000056'>
<a href='#56b76e8420fcb38c2f000056'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1454861961000' class='quanto-date posted-at response-posted-at' href='#56b76e8420fcb38c2f000056'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Gary,</p>

<p>I&#39;m not sure what you mean.  If the leverage is around 1, how could the algo have borrowed -$22,362?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b771f88b14b70a0a000069' id='56b771f88b14b70a0a000069'>
<a href='#56b771f88b14b70a0a000069'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1454862846000' class='quanto-date posted-at response-posted-at' href='#56b771f88b14b70a0a000069'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Because record() only records the last value seen in a day, explained further at <a href="https://www.quantopian.com/posts/max-intraday-leverage">Max Intraday Leverage</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b8b604fdd83b5751000619' id='56b8b604fdd83b5751000619'>
<a href='#56b8b604fdd83b5751000619'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a7c571ae9e4a5ed2000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4bc1f5f90959e6f353dbcb14f229f9dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a7c571ae9e4a5ed2000122'>Brandon</a>
</div>
<a UTCms='1454945802000' class='quanto-date posted-at response-posted-at' href='#56b8b604fdd83b5751000619'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tim, great additions I plan on migrating my live trading to this now.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b8bd69d9bc6d2c24000040' id='56b8bd69d9bc6d2c24000040'>
<a href='#56b8bd69d9bc6d2c24000040'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454947692000' class='quanto-date posted-at response-posted-at' href='#56b8bd69d9bc6d2c24000040'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks again for your trust, Brandon, all the best with your trades!</p>

<p>Please let me know if anything seems suspicious or goes wrong.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b8bde23560c557b500001a' id='56b8bde23560c557b500001a'>
<a href='#56b8bde23560c557b500001a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a7c571ae9e4a5ed2000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4bc1f5f90959e6f353dbcb14f229f9dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a7c571ae9e4a5ed2000122'>Brandon</a>
</div>
<a UTCms='1454947816000' class='quanto-date posted-at response-posted-at' href='#56b8bde23560c557b500001a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The only thing going wrong today is the market direction! ;-)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b8bf5dc3c398a1c200002e' id='56b8bf5dc3c398a1c200002e'>
<a href='#56b8bf5dc3c398a1c200002e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1454948195000' class='quanto-date posted-at response-posted-at' href='#56b8bf5dc3c398a1c200002e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Brandon: Sorry to hear that, if the trend continues for a few days, the code should realize that and take action, i.e., switch the investement to bonds.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b93e585552f578f20003ce' id='56b93e585552f578f20003ce'>
<a href='#56b93e585552f578f20003ce'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a7c571ae9e4a5ed2000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4bc1f5f90959e6f353dbcb14f229f9dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a7c571ae9e4a5ed2000122'>Brandon</a>
</div>
<a UTCms='1454980701000' class='quanto-date posted-at response-posted-at' href='#56b93e585552f578f20003ce'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>+0.54% today, i&#39;d say it worked. Once it went live the Algo bought in then decided to sell in the afternoon.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56c388888804c45c39000133' id='56c388888804c45c39000133'>
<a href='#56c388888804c45c39000133'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a7c571ae9e4a5ed2000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4bc1f5f90959e6f353dbcb14f229f9dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a7c571ae9e4a5ed2000122'>Brandon</a>
</div>
<a UTCms='1455655053000' class='quanto-date posted-at response-posted-at' href='#56c388888804c45c39000133'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A note...I am getting this during live trading with this code. I don&#39;t understand what is causing it to drop into the IF statement.</p>

<pre><code>def do_unsettled_funds_exist(context):  
    &quot;&quot;&quot;  
    For Robinhood users. In order to prevent you from attempting  
    to trade on unsettled cash (settlement dates are T+3) from  
    sale of proceeds. You can use this snippet of code which  
    checks for whether or not you currently have unsettled funds  
    To only be used for live trading!  
    &quot;&quot;&quot;  
    if context.portfolio.cash != context.account.settled_cash:  
        log.info(&quot;Unsettled Funds EXIST&quot;)  
        log.info(&quot;Portfolio Cash = &#39;%s&#39;&quot; % (context.portfolio.cash))  
        log.info(&quot;Settled Cash = &#39;%s&#39;&quot; % (context.account.settled_cash))  
        return True

</code></pre>

<p>2016-02-16 14:32 do_unsettled_funds_exist:115 INFO Settled Cash = &#39;416.56&#39;<br>
2016-02-16 14:32 do_unsettled_funds_exist:114 INFO Portfolio Cash = &#39;416.56&#39;<br>
2016-02-16 14:32 do_unsettled_funds_exist:113 INFO Unsettled Funds EXIST  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56c4388fa106c6630000070f' id='56c4388fa106c6630000070f'>
<a href='#56c4388fa106c6630000070f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1455700117000' class='quanto-date posted-at response-posted-at' href='#56c4388fa106c6630000070f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Brandon,</p>

<p>I believe the message is related to the T+3 settlement rule and is simply informing you that due to it, less funds (cash) are actually available than one might expect. The algorithm takes this into account and waits for the fund to be settled, i.e., on the days when you get the message, the algo does not (should not) trade.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56c4cefcc32a5e03db000b2e' id='56c4cefcc32a5e03db000b2e'>
<a href='#56c4cefcc32a5e03db000b2e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a7c571ae9e4a5ed2000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4bc1f5f90959e6f353dbcb14f229f9dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a7c571ae9e4a5ed2000122'>Brandon</a>
</div>
<a UTCms='1455738625000' class='quanto-date posted-at response-posted-at' href='#56c4cefcc32a5e03db000b2e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Unfortunately I do not think that&#39;s the cause. As you can see from the live log message above, it is actually determining that context.portfolio.cash and context.account.settled_cash do not equal (lines 113,114,115) in the algo. </p>

<p>To troubleshoot I added the two lines to print the values and they match.  </p>

<pre><code>if context.portfolio.cash != context.account.settled_cash:  
        log.info(&quot;Unsettled Funds EXIST&quot;)  
        log.info(&quot;Portfolio Cash = &#39;%s&#39;&quot; % (context.portfolio.cash))  
        log.info(&quot;Settled Cash = &#39;%s&#39;&quot; % (context.account.settled_cash))  
        return True  
</code></pre>

<p>It appears that the algo is somehow determining that 416.56 != 416.56..  which is wrong and should not run any of the if statement<br>
<code>
if context.portfolio.cash != context.account.settled_cash:  
</code></p>

<p>I think something is not functioning properly with quantopian&#39;s implementation of robinhood algo&#39;s.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56c4d393cf29e7118b00002c' id='56c4d393cf29e7118b00002c'>
<a href='#56c4d393cf29e7118b00002c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a7c571ae9e4a5ed2000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4bc1f5f90959e6f353dbcb14f229f9dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a7c571ae9e4a5ed2000122'>Brandon</a>
</div>
<a UTCms='1455739804000' class='quanto-date posted-at response-posted-at' href='#56c4d393cf29e7118b00002c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is the complete code with the modifications...I can&#39;t figure out why its thinking the two equal values of context.portfolio.cash and context.account.settled_cash and not equal.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56c5a0c79ea54d745f000019' id='56c5a0c79ea54d745f000019'>
<a href='#56c5a0c79ea54d745f000019'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1455792334000' class='quanto-date posted-at response-posted-at' href='#56c5a0c79ea54d745f000019'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Brandon,</p>

<p>I think waht we have here is a typical example of the not very savvy programming practice of directly comparing two real numbers for equality .</p>

<p>Even a slightest difference in some decimal places, which can be caused by rounding errors, will make them appear different.</p>

<p>I think one could try the following few lines of code instead:</p>

<p><strong>if np.abs(context.portfolio.cash / context.account.settled_cash - 1) &gt; 0.001:<br>
        log.info(&quot;Unsettled Funds EXIST&quot;)<br>
        log.info(&quot;Portfolio Cash = &#39;%s&#39;&quot; % (context.portfolio.cash))<br>
        log.info(&quot;Settled Cash = &#39;%s&#39;&quot; % (context.account.settled_cash))<br>
        return True</strong>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56cf13c508dc3bd1ea0002c7' id='56cf13c508dc3bd1ea0002c7'>
<a href='#56cf13c508dc3bd1ea0002c7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1456411599000' class='quanto-date posted-at response-posted-at' href='#56cf13c508dc3bd1ea0002c7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Variation on the theme, for those with a margin account (IB ?) and a stomach for large volatility and drawdowns.</p>

<p>Advantage: exceedingly simple, could even be executed manually.</p>

<p>See also <a href="http://seekingalpha.com/article/3924056-xiv-svxy-go?ifp=0">http://seekingalpha.com/article/3924056-xiv-svxy-go?ifp=0</a> .  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56cf140292db841399000572' id='56cf140292db841399000572'>
<a href='#56cf140292db841399000572'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1456411654000' class='quanto-date posted-at response-posted-at' href='#56cf140292db841399000572'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tear sheet for the algo above.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56faa78cd8471e7da200007a' id='56faa78cd8471e7da200007a'>
<a href='#56faa78cd8471e7da200007a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/566f43a829ad3033880000a3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5e4524e5ee1573c7d19afb620781bf38?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/566f43a829ad3033880000a3'>Steve Hind</a>
</div>
<a UTCms='1459267475000' class='quanto-date posted-at response-posted-at' href='#56faa78cd8471e7da200007a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the great discussion here, everyone. For those trading the algo since this discussion, how has it performed? I just backtested the most recent Robinhood-compatable version from Tim from 02/04 to 03/27 and it returns about 10% lower than SPY. Is that expected variance, or is the algo not working out of sample?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56faa92277a738ac180000af' id='56faa92277a738ac180000af'>
<a href='#56faa92277a738ac180000af'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d93ab409a2fe7396000183'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/406d55853b5c3511422cb6401c6133c8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d93ab409a2fe7396000183'>Zach B</a>
</div>
<a UTCms='1459267889000' class='quanto-date posted-at response-posted-at' href='#56faa92277a738ac180000af'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey @Tim,</p>

<p>Thanks for the algo.  I&#39;m new to this and trying to learn more about it.  I figure an interesting way, besides tutorials and books, is to look at other people&#39;s codes and dissect them to learn what each component is doing.  Upon running some back tests of your second iteration posted in this thread from 3/24/15 to 3/24/16, it seems like the algo only purchased 3 stocks total.  They were RSP, XIV, and EDV.  It purchased and held most for a long period of time.  Is this the correct implementation of the algo?  For the heck of it, I hit run Live Yesterday just to see how Live Trading worked.  It ended up buying RSP and XIV. </p>

<p>Thanks!<br>
Zach  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56faaf7aa29ed330a40000d7' id='56faaf7aa29ed330a40000d7'>
<a href='#56faaf7aa29ed330a40000d7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1459269505000' class='quanto-date posted-at response-posted-at' href='#56faaf7aa29ed330a40000d7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Zach,</p>

<p>Sincerest thanks for your interest in this algorithm and for your comments. </p>

<p>You have analyzed  the algo&#39;s behaviour absolutely correctly, it invests into an equal-weights S&amp;P 500 ETF (RSP), plus an inverse volatility index (XIV), which is highly correlated with the RSP and spices things up -- in the sense of higher returns, but also higher risk -- except during the periods of profound market draw-downs, which are detected through a simple crossing of a long and a short moving averages of the RSP and the VIX, when it goes 100% into a government bond ETF (EDV), until the market rises again. The idea is thus to follow the market, as it is often recommended to retail investors, while avoiding as much as possible the highly bearish periods (i.e., the 2008 crisis). Quite simplistic, therefore, but not entirely un-effective.</p>

<p>Good luck with the algo if you intend to trade trade it live. Should you have any suggestions for improvement, please feel free to implement them and/or let me know.</p>

<p>Regards,</p>

<p>Tim  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56fab1a177a738ac1800010c' id='56fab1a177a738ac1800010c'>
<a href='#56fab1a177a738ac1800010c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1459270059000' class='quanto-date posted-at response-posted-at' href='#56fab1a177a738ac1800010c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey @Steve,</p>

<p>According to the Pyfolio tear sheet analysis (the various versions of) this algo indeed perform worse out of sample then otherwise, but the average yearly return should still be around 10%.</p>

<p>That being said, the algo can indeed experience long periods of drawdown or very low growth. It is also not really clear how is it going to perform in this era of extremely low interest rates.</p>

<p>Please be careful if you are trading it live. If there are people out here who do, I would very much like to hear about your experience.</p>

<p>Regards,</p>

<p>Tim  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56fab22038bc0e75bd0000f9' id='56fab22038bc0e75bd0000f9'>
<a href='#56fab22038bc0e75bd0000f9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/566f43a829ad3033880000a3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5e4524e5ee1573c7d19afb620781bf38?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/566f43a829ad3033880000a3'>Steve Hind</a>
</div>
<a UTCms='1459270184000' class='quanto-date posted-at response-posted-at' href='#56fab22038bc0e75bd0000f9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks @Tim - I think it&#39;s worth emphasizing what you&#39;ve already said on this thread: the main value of this algo is to protect against severe market downturns, rather than to earn abnormal returns regardless of market conditions.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56fab314a29ed375040000fb' id='56fab314a29ed375040000fb'>
<a href='#56fab314a29ed375040000fb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d93ab409a2fe7396000183'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/406d55853b5c3511422cb6401c6133c8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d93ab409a2fe7396000183'>Zach B</a>
</div>
<a UTCms='1459270425000' class='quanto-date posted-at response-posted-at' href='#56fab314a29ed375040000fb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Tim!</p>

<p>As soon as I sent it and went back in to deconstruct it, I figured out that may be the context.m etc. may be the 3 stocks.  Low and behold, I just didn&#39;t read the comments next to them saying which stocks there were...  I really appreciate the context of the algo; it&#39;ll help me better understand the code and math when trying to piece it together.  I&#39;m coming from a Matlab background so I have an idea of the syntax but need to do a lot more studying a practice!</p>

<p>As a side note, up 1% so far today with my chump change investment :D !!</p>

<p>Thanks,<br>
Zach  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56fab6b2a29ed37504000119' id='56fab6b2a29ed37504000119'>
<a href='#56fab6b2a29ed37504000119'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1459271351000' class='quanto-date posted-at response-posted-at' href='#56fab6b2a29ed37504000119'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is the latest incarnation of the algo, with garyha&#39;s PvR routine, and Luca&#39;s cash management. Thanks for your brilliant code, guys!</p>

<p>It no longer obeys the T+3 rule, since it has been apparently abandoned by Robinhood in the meantime, and it stays in positive cash all the time.</p>

<p>It needs a warm-up period, though, to come to full leverage (1.0).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56fabe1e4d55246a0400015b' id='56fabe1e4d55246a0400015b'>
<a href='#56fabe1e4d55246a0400015b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d93ab409a2fe7396000183'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/406d55853b5c3511422cb6401c6133c8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d93ab409a2fe7396000183'>Zach B</a>
</div>
<a UTCms='1459273251000' class='quanto-date posted-at response-posted-at' href='#56fabe1e4d55246a0400015b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks @Tim!  I&#39;ll see if this is the one that I&#39;ve implemented.  And one last dumb question, but how long is the warm-up period?  I figure the code will go back in time and start using previous data to calculate market averages and cross over.  Or does it use the starting data for that as the point at which the code was initiated?</p>

<p>Thanks again!<br>
Zach  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56faee671468c73f5d000313' id='56faee671468c73f5d000313'>
<a href='#56faee671468c73f5d000313'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1459285616000' class='quanto-date posted-at response-posted-at' href='#56faee671468c73f5d000313'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Zach, the algo takes about a week to &quot;warm up&quot; because when switching between the investment into any of the three different assets it deals with it only invests 1/5 of the allocated cash into the asses that is to be made part of the current portfolio at each time step in order to prevent over-leveraging and to smoothen its overall performance, so that in the beginning the leverage only gradually builds up to unity from zero.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56ff6f78966f3787890006a6' id='56ff6f78966f3787890006a6'>
<a href='#56ff6f78966f3787890006a6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1459580797000' class='quanto-date posted-at response-posted-at' href='#56ff6f78966f3787890006a6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @Zhang,</p>

<p>My reasoning / numerical experimentation went approximately like this:</p>

<p>-- XIV is by definition inversely related to market volatility;<br>
-- Market rallies are linked to periods of low volatility and turmoils to increased volatility;<br>
-- XIV should therefore be fairly well correlated with the performance of the market itself;<br>
-- I use SPY as a market proxy and later came accross the article that indeed demonstrated the existence of high correlation between XIV and SPY;<br>
-- My entry / exit signal is thus based on both SPY and XIV and it looks for a simple crossover of two MAs -- this latter finding is purely empirical.</p>

<p>Hope this makes sense.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56ff70616c150fced90007ae' id='56ff70616c150fced90007ae'>
<a href='#56ff70616c150fced90007ae'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1459581030000' class='quanto-date posted-at response-posted-at' href='#56ff70616c150fced90007ae'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Sorry, should have addressed you as Meng, I suppose, my apologies. I assumed Zhang was the family name and I believe it is Chinese tradition to refer to persons by their family name. Please forgive me if I got it wrong.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56ffa71e6c150fced90008bb' id='56ffa71e6c150fced90008bb'>
<a href='#56ffa71e6c150fced90008bb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1459595044000' class='quanto-date posted-at response-posted-at' href='#56ffa71e6c150fced90008bb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Zhang, thank you for sharing the graph of live trading with the XIV. I assume you programmed the same signal that my algo is using in in the environment of a live-trading platform? Was this easily done?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57001682fc22471bd400013c' id='57001682fc22471bd400013c'>
<a href='#57001682fc22471bd400013c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1459623558000' class='quanto-date posted-at response-posted-at' href='#57001682fc22471bd400013c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Zhang, </p>

<p>Good luck with your trades, thanks for the trust and please let me know if anything goes wrong -- or if you have great success, of course ! :-)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='570030018830d8dc28000208' id='570030018830d8dc28000208'>
<a href='#570030018830d8dc28000208'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56f5dc3a4a1d2ef50a000757'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e0e5b31df7460c27a372f55ceb28267d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56f5dc3a4a1d2ef50a000757'>corey windsor</a>
</div>
<a UTCms='1459630085000' class='quanto-date posted-at response-posted-at' href='#570030018830d8dc28000208'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Tim, thanks for all your help on this! is your algo from 3/29 ready for live trade?  </p>

<p>And what do you mean by warm up period.... does the algo already account for this or does it mean i should just put in a small amount, then dump in the rest a week later?</p>

<p>Any ideas on how to get Robinhood instant?  Its apparently got a wait queue.</p>

<p><strong>edit:</strong>After review of the algo i see it &#39;warms up&#39; on its own.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='570212e953a3a90d1f000831' id='570212e953a3a90d1f000831'>
<a href='#570212e953a3a90d1f000831'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1459753710000' class='quanto-date posted-at response-posted-at' href='#570212e953a3a90d1f000831'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Corey,</p>

<p>I have to point out that I am actually not able to say whether the algo is ready for Robinhood trading or not, because I have never traded it live myself. It is my understanding that only US citizens can currently open a Robinhood account and I am unfortunately not one of them. :-)</p>

<p>That being said, it would certainly be a good idea to incorporate into the algo all the special elements linked to Robinhood trading, as they are presented in a dedicated framework sample on the Quantopian help pages:</p>

<p><a href="https://www.quantopian.com/help#sample-robinhood">https://www.quantopian.com/help#sample-robinhood</a></p>

<p>And yes, you are absolutely right, you can invest the entire sum that you intend to from the very start, the &quot;warm up&quot; is automatic.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57045eecb025567a3a0003cd' id='57045eecb025567a3a0003cd'>
<a href='#57045eecb025567a3a0003cd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570254c1533c913f21000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/facbf6b3e5eb1a02e332037bcb816b20?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570254c1533c913f21000056'>Paul Stearns</a>
</div>
<a UTCms='1459904243000' class='quanto-date posted-at response-posted-at' href='#57045eecb025567a3a0003cd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I made some coding changes that have no immediate impact to the Algo that Tim last posted as a learning tool for myself. I basically changed some literals to variables, so that I could do iterative backtesting a little easier. The sections modified are initialize and rebalance. You can get interesting results by changing the values for betFuturesPercent and betEquityPercent to say .5 the returns go &gt; 340% over the period.</p>

<p>My purpose as I mentioned is to  learn. I was hoping someone could point me to some documentation that would help me understand the following lines;  </p>

<pre><code>    P = history(100, &#39;1d&#39;, &#39;price&#39;).dropna(axis = 1)  
    x = (P.tail(10).median() / P.median() - 1).dropna()

    go = signal[context.m] and signal[context.x]

</code></pre>

<p>I have never worked in python before, though I have worked in BASIC (of a number of flavors, including .NET) emacs languages including awk and actionScript as well as languages used when dinosaurs roamed the earth.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5704718647ddb224e80003c5' id='5704718647ddb224e80003c5'>
<a href='#5704718647ddb224e80003c5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570254c1533c913f21000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/facbf6b3e5eb1a02e332037bcb816b20?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570254c1533c913f21000056'>Paul Stearns</a>
</div>
<a UTCms='1459909007000' class='quanto-date posted-at response-posted-at' href='#5704718647ddb224e80003c5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I decided to take a stab at documenting the code I wasn&#39;t clear on.</p>

<p>If there is a kind soul that will look over my comments and provide knowledgeable insight I would appreciate it;</p>

<pre><code>#   Get last hundred days worth of prices for universe, removing rows where the price is NaN.  
    P = history(100, &#39;1d&#39;, &#39;price&#39;).dropna(axis = 1)  
    x = (P.tail(10).median() / P.median() - 1).dropna()  
#   Get 1 value for each member of the universe.  
#   The value will be the median of the last 10 days divided by the median of the entire set.

#   Check if the datatable x contains the members of our universe.  
    if context.m not in x.index:  
        return  
    if context.f not in x.index:  
        return  
    if context.x not in x.index:  
        return  
#   Check if the datatable data contains the members of our universe.  
    if context.m not in data:  
        return  
    if context.f not in data:  
        return  
    if context.x not in data:  
        return  
#   Check if the datatable data contains prices for the members of our universe.  
    if &#39;price&#39; not in data[context.m]:  
        return  
    if &#39;price&#39; not in data[context.f]:  
        return  
    if &#39;price&#39; not in data[context.x]:  
        return  
#   create a datatable signal with boolean values that indicate whether the last 10 days median &gt; last 100 days median.  
    signal = (x &gt; 0)

#   Check if the datatable signal contains prices for the members of our universe.  
    if context.m not in signal.index:  
        return  
    if context.f not in signal.index:  
        return  
    if context.x not in signal.index:  
        return

</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5704a54147ddb20eb400057d' id='5704a54147ddb20eb400057d'>
<a href='#5704a54147ddb20eb400057d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570254c1533c913f21000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/facbf6b3e5eb1a02e332037bcb816b20?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570254c1533c913f21000056'>Paul Stearns</a>
</div>
<a UTCms='1459922247000' class='quanto-date posted-at response-posted-at' href='#5704a54147ddb20eb400057d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Well if you&#39;ve got the stomach for it, here is a version that adds another position to the mix, and fiddles with how much to bet on the various positions.</p>

<p>Pointers on max draw down reduction without hammering the return might be good.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5708c310c77cae3a230000b1' id='5708c310c77cae3a230000b1'>
<a href='#5708c310c77cae3a230000b1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1460192021000' class='quanto-date posted-at response-posted-at' href='#5708c310c77cae3a230000b1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Paul,</p>

<p>Thanks for adding the comments, as far as I am concerned they are spot on -- or at least what you describe is what I intended to achieve with the code. :-)</p>

<p>The code itself is probably awful from an experienced Python programmer&#39;s point of view. My apologies, my &quot;primary&quot; language is Fortran.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5708c3f9baac891f070000b2' id='5708c3f9baac891f070000b2'>
<a href='#5708c3f9baac891f070000b2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1460192255000' class='quanto-date posted-at response-posted-at' href='#5708c3f9baac891f070000b2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi again Paul,</p>

<p>Your latest version of the algo really achieves some exciting returns. May I trouble you for an explanation of its logic?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5708c5af269e5c568a0000e6' id='5708c5af269e5c568a0000e6'>
<a href='#5708c5af269e5c568a0000e6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1460192694000' class='quanto-date posted-at response-posted-at' href='#5708c5af269e5c568a0000e6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Paul,</p>

<p>You have quite obviously sucessfuly figured it out by yourself by now, but just for the sake of completeness, the explantion of the lines in the algo that you quote:</p>

<p>P = history(100, &#39;1d&#39;, &#39;price&#39;).dropna(axis = 1)<br>
x = (P.tail(10).median() / P.median() - 1).dropna()</p>

<p>The history command fetches the last one hundred days of daily close price values for all the equities used in the algo and stores them as a Pandas DataFrame into the variable P. Then, a simple way of estimating their momentum follows by taking the ratio of the median value of the last ten days of P and the full 100 days. </p>

<p>go = signal[context.m] and signal[context.x]</p>

<p>This is just a simple assignment to a logical variable that combines the values of the logical &quot;array&quot; signal (actually , a Pandas Series object) for two different equities.</p>

<p>I hope this helps.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57096a23b0b66077790005ad' id='57096a23b0b66077790005ad'>
<a href='#57096a23b0b66077790005ad'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570254c1533c913f21000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/facbf6b3e5eb1a02e332037bcb816b20?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570254c1533c913f21000056'>Paul Stearns</a>
</div>
<a UTCms='1460234793000' class='quanto-date posted-at response-posted-at' href='#57096a23b0b66077790005ad'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the compliments Tim. I dabbled in Fortran a long time ago.</p>

<p>The first thing that I did was to change some of the literals to variables so that I could easily change the values and run different values. Other things I did was;</p>

<p>Added a second symbol, TMF to the treasury side, so that I had two symbols on either side to buy/sell. I then added some logic to decide which of the two symbols on either side might be best at the moment (lines 184 and 202). I also changed the split of how much to bet from 70%/30% to 80%/20%, I also changed how much to bet on a single day from 20% to 30%.</p>

<p>One thing I read which I need to be careful of is fitting the algo to match the backtested data. It seems as though if you tweak an algo too much it performs well on backtested data but sucks when put into production. I believe that max drawdown is supposed to help you avoid that by showing you cases where your algo bites it.</p>

<p>I am not overly risk averse, and my next step is to try live trading, if I can figure out how to put the latest iteration into production.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='570a1e39d33b5124ae0000f4' id='570a1e39d33b5124ae0000f4'>
<a href='#570a1e39d33b5124ae0000f4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1460280895000' class='quanto-date posted-at response-posted-at' href='#570a1e39d33b5124ae0000f4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the explanation of gist of your algo, Paul.</p>

<p>Overfitting can indeed be dangerous, but as long as an algorithm performs reasonably well once the original basic idea behind it has been implemented, some amount of optimization should not be a problem, I suppose.</p>

<p>All the best with the live trade!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='570ac52361073a8e1f0007a9' id='570ac52361073a8e1f0007a9'>
<a href='#570ac52361073a8e1f0007a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56f98b06dc681a3c4e0003f0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a75a18726d155b3e9a3029b5f3bac620?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56f98b06dc681a3c4e0003f0'>Sid Liso</a>
</div>
<a UTCms='1460323625000' class='quanto-date posted-at response-posted-at' href='#570ac52361073a8e1f0007a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Paul, have you or anyone else been trading this algorithm live? Also, has anyone tried this on Quantopian 2 yet? I am no expert and have been really just reading the code to understand what it does. I tried some tweaks, but none of them have ran without any errors. Thx all and nice work.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='570b92efb54ba94838000271' id='570b92efb54ba94838000271'>
<a href='#570b92efb54ba94838000271'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56f5dc3a4a1d2ef50a000757'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e0e5b31df7460c27a372f55ceb28267d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56f5dc3a4a1d2ef50a000757'>corey windsor</a>
</div>
<a UTCms='1460376314000' class='quanto-date posted-at response-posted-at' href='#570b92efb54ba94838000271'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I plan to try it as soon as my robinhood account gets &#39;instant&#39; but I will need someone help setting it up.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='570c4adc887ec687dc000743' id='570c4adc887ec687dc000743'>
<a href='#570c4adc887ec687dc000743'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56f98b06dc681a3c4e0003f0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a75a18726d155b3e9a3029b5f3bac620?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56f98b06dc681a3c4e0003f0'>Sid Liso</a>
</div>
<a UTCms='1460423397000' class='quanto-date posted-at response-posted-at' href='#570c4adc887ec687dc000743'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@corey windsor what kind of help do you need? You can check out the <a href="https://www.quantopian.com/faq#live-trading">Live Trading Section in the FAQ</a> on how to setup your account and integrate it with Quantopian. There&#39;s also the <a href="https://www.quantopian.com/help#sample-robinhood">Algorithm Framework for Robinhood</a> for implementing the proper code for live trading. </p>

<p>Let me know if that helps at all. </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='570eb58db50d3b54690005a5' id='570eb58db50d3b54690005a5'>
<a href='#570eb58db50d3b54690005a5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570254c1533c913f21000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/facbf6b3e5eb1a02e332037bcb816b20?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570254c1533c913f21000056'>Paul Stearns</a>
</div>
<a UTCms='1460581777000' class='quanto-date posted-at response-posted-at' href='#570eb58db50d3b54690005a5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have taken the step of paper trading $10,000 on an &quot;enhanced&quot; version of my (Tim&#39;s) algorithm. Didn&#39;t start until about 11:00 AM and it booked $19.04 profit in paper money.</p>

<p>I started moving money around so that I can fund my newly created Robinhood account. I will probably fire it up live on Monday feeding it $10,000 assuming nothing goes haywire between now and then.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5710f20898b343dcbc00016d' id='5710f20898b343dcbc00016d'>
<a href='#5710f20898b343dcbc00016d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56f98b06dc681a3c4e0003f0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a75a18726d155b3e9a3029b5f3bac620?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56f98b06dc681a3c4e0003f0'>Sid Liso</a>
</div>
<a UTCms='1460728332000' class='quanto-date posted-at response-posted-at' href='#5710f20898b343dcbc00016d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the feedback Paul, I hope you can find time to keep us updated on how it goes and whether you decide to tweak it. Have you tested it on Q2? Currious, do you know of any algos that trade based on trading pattens?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5711524d6948586ee70004f1' id='5711524d6948586ee70004f1'>
<a href='#5711524d6948586ee70004f1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1460752978000' class='quanto-date posted-at response-posted-at' href='#5711524d6948586ee70004f1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Paul</p>

<p>Did you have to update any code before going live with your Robinhood account for the latest algorithm that you posted? I&#39;m thinking about putting a couple thousand in live to see how it does.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571156c36948586ee7000511' id='571156c36948586ee7000511'>
<a href='#571156c36948586ee7000511'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570254c1533c913f21000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/facbf6b3e5eb1a02e332037bcb816b20?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570254c1533c913f21000056'>Paul Stearns</a>
</div>
<a UTCms='1460754120000' class='quanto-date posted-at response-posted-at' href='#571156c36948586ee7000511'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Steven, this is still a work in progress. I did add a line of code that I hope will keep me from over spending when live;  </p>

<pre><code>    long_cash = min(long_cash, context.account.settled_cash, context.account.available_funds)

</code></pre>

<p>I am still paper trading the algo, and so far since 11:00 AM on Wednesday the version I am running is up about $83, based on $10,000 start.</p>

<p>Having said all of that I am waffling between IB &amp; Robinhood. As I mentioned in a separate thread I am concerned about Robinhood from a &quot;ready for primetime&quot; perspective, and IB because of costs. I have created accounts on both, but as of yet they are unfunded.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5711599d33d5f56e5f000622' id='5711599d33d5f56e5f000622'>
<a href='#5711599d33d5f56e5f000622'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1460754848000' class='quanto-date posted-at response-posted-at' href='#5711599d33d5f56e5f000622'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Where did you add that line of code?</p>

<p>I also ran a back-test in the new version of Q2. Results are the same, back-testing is insanely quick but I&#39;ll work on upgrading the below things.</p>

<pre><code>Line 122: The `history` method is deprecated. Use `data.history` instead.  
Line 138: Checking whether an asset is in data is deprecated.  
Line 140: Checking whether an asset is in data is deprecated.  
Line 142: Checking whether an asset is in data is deprecated.  
Line 144: Checking whether an asset is in data is deprecated.  
Line 148: `data[sid(N)]` is deprecated. Use `data.current`.  
Line 150: `data[sid(N)]` is deprecated. Use `data.current`.  
Line 152: `data[sid(N)]` is deprecated. Use `data.current`.  
Line 154: `data[sid(N)]` is deprecated. Use `data.current`.  
Line 301: `data[sid(N)]` is deprecated. Use `data.current`.  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57115b00694858bfb100052e' id='57115b00694858bfb100052e'>
<a href='#57115b00694858bfb100052e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1460755205000' class='quanto-date posted-at response-posted-at' href='#57115b00694858bfb100052e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Actually I wasn&#39;t looking at the right backtest. It&#39;s actually a difference of 100% or so. </p>

<p>Here is the link to a thread that has the backtest on Q2.<br>
<a href="https://testdrive.quantopian.com/posts/robinhood-strategy-test-results">enter link description here</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5717331bf2f7f79ca30006eb' id='5717331bf2f7f79ca30006eb'>
<a href='#5717331bf2f7f79ca30006eb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1461138208000' class='quanto-date posted-at response-posted-at' href='#5717331bf2f7f79ca30006eb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So I went ahead and put 1k in Robinhood and am running Pauls latest version to see how things go. If there are any new changes you want to share please let me know. </p>

<p>I&#39;ll update in a couple days to let everyone know how it&#39;s running.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5717d337af4b1f8e0e00012a' id='5717d337af4b1f8e0e00012a'>
<a href='#5717d337af4b1f8e0e00012a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56f98b06dc681a3c4e0003f0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a75a18726d155b3e9a3029b5f3bac620?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56f98b06dc681a3c4e0003f0'>Sid Liso</a>
</div>
<a UTCms='1461179198000' class='quanto-date posted-at response-posted-at' href='#5717d337af4b1f8e0e00012a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Steven, thanks for your input. Did you change the deprecated coding? I have been &quot;Live Testing&quot; the algo through Quantopian for a few days now. It is currently up over 8%. I would love to know if you or anyone else is seeing any discrepancies with the Real Time/Real Money trading vs. Quantopian&#39;s live trading, and if the algo is trading as expected in regards to the coding. </p>

<p>I suspect the markets may shift a little soon and we should see some pullback off these high levels from the major indexes. I am anxious to see how the algo will treat any change in market conditions. </p>

<p>Thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5717d4b6af4b1f84e700013a' id='5717d4b6af4b1f84e700013a'>
<a href='#5717d4b6af4b1f84e700013a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1461179586000' class='quanto-date posted-at response-posted-at' href='#5717d4b6af4b1f84e700013a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Sid</p>

<p>I haven&#39;t changed it yet. I plan to work on that some tonight. As of right now i&#39;m up 4.52%. It has only bought XIV so far. I&#39;m using the last version that Paul put up. Are you using that same version? Did you make any changes to it?</p>

<p>I&#39;m also using Robinhood, did you change anything in the code that relates to that before going live? I didn&#39;t see anything in it having to do with 3 day settlement which i&#39;m not to worried about since I&#39;m hoping to get Robinhood instant soon but just wondering if you messed with any of that.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571a3b01dd906f466b000064' id='571a3b01dd906f466b000064'>
<a href='#571a3b01dd906f466b000064'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56f98b06dc681a3c4e0003f0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a75a18726d155b3e9a3029b5f3bac620?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56f98b06dc681a3c4e0003f0'>Sid Liso</a>
</div>
<a UTCms='1461336841000' class='quanto-date posted-at response-posted-at' href='#571a3b01dd906f466b000064'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Steve, I havn&#39;t had a chance to look at the deprecated code or new documentation. I will hopefully have a chance soon. I will keep,you posted.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571a610efeca73390200023e' id='571a610efeca73390200023e'>
<a href='#571a610efeca73390200023e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56bd1c63023bf6b253000157'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c61722120cb1f0fde2c0161728690a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56bd1c63023bf6b253000157'>Caleb Mellbom</a>
</div>
<a UTCms='1461346580000' class='quanto-date posted-at response-posted-at' href='#571a610efeca73390200023e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>All - I have an updated the algorithm for Q2, which is based on Paul Stearns&#39;  4/6/2016 post. I have been trading live with it since that time (minus a few Robinhood crashes).  So far up 5.2% on 1k initial investment. Waiting for a switch from equity to treasury before I start investing more. Very thankful for this group. Learning something new every day.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571a67bd9334cf1e750002f1' id='571a67bd9334cf1e750002f1'>
<a href='#571a67bd9334cf1e750002f1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1461348293000' class='quanto-date posted-at response-posted-at' href='#571a67bd9334cf1e750002f1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Caleb</p>

<p>Ignore previous post, backtests match up perfect. I had a different starting balance. Great work!!!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571a697efb008d4f900002d2' id='571a697efb008d4f900002d2'>
<a href='#571a697efb008d4f900002d2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1461348741000' class='quanto-date posted-at response-posted-at' href='#571a697efb008d4f900002d2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Would it be possible to incorporate some of the things in the following back-test that I found here: <a href="https://www.quantopian.com/posts/universal-portfolios">https://www.quantopian.com/posts/universal-portfolios</a></p>

<p>It would be interesting to use the logic that determines if the market is in a downturn. If you see attached it held cash throughout the 2008 crash. I think this might be a great addition if someone knows how to implement it into the latest one above.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571c2af453ccd9ba28000664' id='571c2af453ccd9ba28000664'>
<a href='#571c2af453ccd9ba28000664'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5640c92df8c3f72c7b00006d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/95a6eb19f2de509179d75f9cdff48594?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5640c92df8c3f72c7b00006d'>Jake J</a>
</div>
<a UTCms='1461463802000' class='quanto-date posted-at response-posted-at' href='#571c2af453ccd9ba28000664'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Steven and Caleb,<br>
Happy to hear your algo&#39;s are performing well on Robinhood. Just to clarify, are you two trading under the T+3 restrictions with Robinhood (aka you don&#39;t have Robinhood instant yet)? I&#39;m wondering because this code doesn&#39;t follow the T+3 restrictions anymore, but I would assume the algo would still perform as long as there is enough settled cash when making an order.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571c36fc666928f43c000696' id='571c36fc666928f43c000696'>
<a href='#571c36fc666928f43c000696'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1461466882000' class='quanto-date posted-at response-posted-at' href='#571c36fc666928f43c000696'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anyone using Robinhood with Robinhood Instant? Would love to compare insights.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571d2addb314a0e525000336' id='571d2addb314a0e525000336'>
<a href='#571d2addb314a0e525000336'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54c7d74a64132f4747000035'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ba8787941b74233ff44a2dde401ec934?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54c7d74a64132f4747000035'>Banana Bread</a>
</div>
<a UTCms='1461529313000' class='quanto-date posted-at response-posted-at' href='#571d2addb314a0e525000336'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am using Robinhood with Robinhood Instant. What would you like to know?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571d35e0990058b3b70003a3' id='571d35e0990058b3b70003a3'>
<a href='#571d35e0990058b3b70003a3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1461532132000' class='quanto-date posted-at response-posted-at' href='#571d35e0990058b3b70003a3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Banana Bread,</p>

<p>So I just got Instant and I am trading with a dollar amount below the PDT rules. The algo buys and sells only one security each day. Seems like I am getting PDT rejections on the sell side, but not the buy side. As a result, the algo started building up a position and holding overnight. Have you written any code that accounts for T+3 but adjusts for the $1K that will automatically turnover from Robin Instant? (I am going to work on that soon, but looking for a shortcut). Also, I am wondering if you have noticed any period where Instant does not immediately turn over the $1K? I had a situation where the algo was supposed to sell one minute and buy the next minute. It missed the buy, but not because of PDT rejection, rather just a lack of cash. Wondering if you have seen anything similar?</p>

<p>Thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571d3776990058a27b00036d' id='571d3776990058a27b00036d'>
<a href='#571d3776990058a27b00036d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56f98b06dc681a3c4e0003f0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a75a18726d155b3e9a3029b5f3bac620?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56f98b06dc681a3c4e0003f0'>Sid Liso</a>
</div>
<a UTCms='1461532538000' class='quanto-date posted-at response-posted-at' href='#571d3776990058a27b00036d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Caleb for posting the update. I am glad to hear it is working out well for you. I&#39;m waiting to see how the algo exits it&#39;s current positions before gong live. Unfortunately, what Frank posted about the PDT issues has me concerned since I am hoping to start well below the PDT requirement level. </p>

<p>Frank, are you referring to this particular algo that Caleb posted or another algo you are using with Robinhood? As far as I can tell the algo Caleb and the others posted does not necessarily conduct day trades. </p>

<p>Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571d578b990058b3b70004fe' id='571d578b990058b3b70004fe'>
<a href='#571d578b990058b3b70004fe'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54c7d74a64132f4747000035'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ba8787941b74233ff44a2dde401ec934?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54c7d74a64132f4747000035'>Banana Bread</a>
</div>
<a UTCms='1461540752000' class='quanto-date posted-at response-posted-at' href='#571d578b990058b3b70004fe'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Frank,</p>

<p>Yes PDT restrictions only applies to selling the stock not buying it. If you have RobinHood instant you get all your money instantly when you sell a position. The $1K you are referring to only applies to recurring deposits. I haven&#39;t written any code for the T+3 rule because it&#39;s unnecessary as an RH instant user. There can be periods where trades may take longer than a minute to process but that usually happens in low liquidity stocks and I know RH has in the past month have had issues where orders wouldn&#39;t go through. What I would do is check every minute for rejected trades and reopen them  if they had been rejected, if your sell order goes through eventually your buy order will go through too because you will have enough cash. Let me know if you have any additional questions.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571d70095f43c53ce80005d6' id='571d70095f43c53ce80005d6'>
<a href='#571d70095f43c53ce80005d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56bd1c63023bf6b253000157'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c61722120cb1f0fde2c0161728690a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56bd1c63023bf6b253000157'>Caleb Mellbom</a>
</div>
<a UTCms='1461547021000' class='quanto-date posted-at response-posted-at' href='#571d70095f43c53ce80005d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jake - I am trading under Robinhood classic (T+3) and am currently in line for Robinhood Instant. Although, I&#39;m not sure I will sign up for Robinhood Instant once I&#39;m offered the chance. Overall, there just seems to be more restrictions with Robinhood Instant. I would rather have the flexibility of being a PDT if the algorithm calls for it. I&#39;m already trading above the $1k max deposit for instant, and will now be subject to the 4-5 day deposit/withdrawal waiting period going forward...although is it $1k total or up to $1k/deposit, but at what frequency???  Low dollar value stocks and leveraged ETFs have different rules under Robinhood Instant, so that will be another thing to account for in the algorithm. </p>

<p>Sid - From the backtest and what I can tell, the algorithm does not fall under the PDT rules.  It does not buy and sell the same stock within the same day. It also only performs trades once a day.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571d73522616ef2fd9000699' id='571d73522616ef2fd9000699'>
<a href='#571d73522616ef2fd9000699'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1461547866000' class='quanto-date posted-at response-posted-at' href='#571d73522616ef2fd9000699'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Banana Bread - Thanks for the input. Very informative.</p>

<p>@ Sid - My apologies. I am not referring to the algo in this thread. Sorry if I caused confusion.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571f5efcf893aee14f000216' id='571f5efcf893aee14f000216'>
<a href='#571f5efcf893aee14f000216'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1461673730000' class='quanto-date posted-at response-posted-at' href='#571f5efcf893aee14f000216'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Apparently we have unknowingly created a strategy very similar to this one,</p>

<p><a href="http://seekingalpha.com/article/3967731-hack-market-math-part-2?ifp=0">http://seekingalpha.com/article/3967731-hack-market-math-part-2?ifp=0</a> ,</p>

<p>except that we use the long equivalents of the short positions they take and that we have a filter, i.e., a way of gauging the direction the market as a whole is presumably heading for.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571f668552670b4c760009b1' id='571f668552670b4c760009b1'>
<a href='#571f668552670b4c760009b1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1461675659000' class='quanto-date posted-at response-posted-at' href='#571f668552670b4c760009b1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Actually, the the guys who created the strategy that I mentioned in the previous post also seem to have a few long-only versions:</p>

<p><a href="http://seekingalpha.com/article/3165846-the-zomma-strategy-index-master-sheet">http://seekingalpha.com/article/3165846-the-zomma-strategy-index-master-sheet</a> .  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571fbec1f893aee14f0006d8' id='571fbec1f893aee14f0006d8'>
<a href='#571fbec1f893aee14f0006d8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1461698249000' class='quanto-date posted-at response-posted-at' href='#571fbec1f893aee14f0006d8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have been using Pauls latest version of this Algo in live trading with 1k. It has only bought XIV. I thought it was going to be buying more than 1 stock at a time. Is that not correct. </p>

<p>What determines if it buys RSP, EVD and TMF? Is this functioning how it should. I have around 223 available cash right now. Haven&#39;t seen any additional buys. Have not seen it sell anything yet either.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5727643243d39a05300001d6' id='5727643243d39a05300001d6'>
<a href='#5727643243d39a05300001d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1462199350000' class='quanto-date posted-at response-posted-at' href='#5727643243d39a05300001d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Has anyone been able to update Tim&#39;s algo from Feb 25, 2016 that only trades XIV/EDV for Q2?  The move to Q2 has deprecated multiple lines of code.</p>

<p>The algo is the simplest I have found and can manually trade on my retirement account.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57276ca61277e44c220000e5' id='57276ca61277e44c220000e5'>
<a href='#57276ca61277e44c220000e5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1462201515000' class='quanto-date posted-at response-posted-at' href='#57276ca61277e44c220000e5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Tyler,</p>

<p>Here&#39;s a backtest of a Q2-adapted version of the algo you mention.</p>

<p>Please be careful trading it, the volatility and drawdowns are huge.</p>

<p>The algo also goes slightly into negative cash at some point, so the associates trades would be rejected by Robinhood, I understand, but it probably only happens once or twice.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57276f3903191c6e5900004d' id='57276f3903191c6e5900004d'>
<a href='#57276f3903191c6e5900004d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1462202173000' class='quanto-date posted-at response-posted-at' href='#57276f3903191c6e5900004d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Forgot to mention that I changed the trading frequency in the above-mentioned algo to daily. Here&#39;s the original approach with weekly trades. For some reason it performs quite a bit worse.</p>

<p>In both cases the trading period in the day has been changed from market_close - 30 min to market_open + 30 minutes, to assure enough time for the trades to be filled.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5727867f43d39a8cee00037c' id='5727867f43d39a8cee00037c'>
<a href='#5727867f43d39a8cee00037c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1462208131000' class='quanto-date posted-at response-posted-at' href='#5727867f43d39a8cee00037c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Why is there a difference between the updated Q2 algo and the one from Feb 25, 2016?  The older one was traded weekly and was up to 600% before the switch over to Q2?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='572855af922b37297400053a' id='572855af922b37297400053a'>
<a href='#572855af922b37297400053a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1462261174000' class='quanto-date posted-at response-posted-at' href='#572855af922b37297400053a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tyler,</p>

<p>Here a Q2-adapted version of the original algo: like that one it trades weekly, on market-close minus 30 min.</p>

<p>The difference in the performance must stem from the changes introduced with Q2.</p>

<p>I think this also indicates that the algo is highly volatile, sensitive and in a way unstable. I do not recommend trading it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='572ada4f92fccb2ded0005e9' id='572ada4f92fccb2ded0005e9'>
<a href='#572ada4f92fccb2ded0005e9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55ed0ebaf7eced2820000138'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/192fde5a5de866362a9e34c096cb8a9b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55ed0ebaf7eced2820000138'>Minh</a>
</div>
<a UTCms='1462426199000' class='quanto-date posted-at response-posted-at' href='#572ada4f92fccb2ded0005e9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I fear it&#39;s too overfitted. I can&#39;t play with volatile ETFs knowing that your half of your money can disappear in a month. It&#39;s psychologically demanding.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='573fbfd5460808636b0002b8' id='573fbfd5460808636b0002b8'>
<a href='#573fbfd5460808636b0002b8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56f5dc3a4a1d2ef50a000757'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e0e5b31df7460c27a372f55ceb28267d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56f5dc3a4a1d2ef50a000757'>corey windsor</a>
</div>
<a UTCms='1463795675000' class='quanto-date posted-at response-posted-at' href='#573fbfd5460808636b0002b8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Why does the algo buy and sell in multiple transactions?  I see 10+ sell orders of the same security minutes apart.</p>

<p>3:31 RSP SELL<br>
3:33 RSP SELL<br>
3:35 RSP SELL<br>
3:36 RSP SELL  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='574000557e5f1cfa1b000460' id='574000557e5f1cfa1b000460'>
<a href='#574000557e5f1cfa1b000460'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1463812185000' class='quanto-date posted-at response-posted-at' href='#574000557e5f1cfa1b000460'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Corey: Because not all orders can be filled immediately.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='575df39c5c2143e80300065a' id='575df39c5c2143e80300065a'>
<a href='#575df39c5c2143e80300065a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/575dc0cfc58ca35e4a0004e7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ea29fc3ea90221c1f81d05a7097fc6c4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/575dc0cfc58ca35e4a0004e7'>joe kravets</a>
</div>
<a UTCms='1465775010000' class='quanto-date posted-at response-posted-at' href='#575df39c5c2143e80300065a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So if I have robinhood but no instant, which version should I use?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='575f18e07e8a695d99000010' id='575f18e07e8a695d99000010'>
<a href='#575f18e07e8a695d99000010'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56c6a9a0028107b1550006c5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4346ee541af411fe1ffdecf5ad4f5b5d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56c6a9a0028107b1550006c5'>Michael Schladen</a>
</div>
<a UTCms='1465850087000' class='quanto-date posted-at response-posted-at' href='#575f18e07e8a695d99000010'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Are there any updates from those live-trading this? XIV has taken a large downturn lately, very curious as to how it fared.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='575f62ea7e8a69d02d000289' id='575f62ea7e8a69d02d000289'>
<a href='#575f62ea7e8a69d02d000289'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/551136c8df5527b6e20002d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c319e4d3b04ab4d3731da47f9993a847?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/551136c8df5527b6e20002d2'>Hao Zhang</a>
</div>
<a UTCms='1465869043000' class='quanto-date posted-at response-posted-at' href='#575f62ea7e8a69d02d000289'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m down 13.2%. :&#39;(<br>
I&#39; m trading SVXY since they won&#39;t let me trade ETN due to being under 21 :(  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='575f79735d143c314e000389' id='575f79735d143c314e000389'>
<a href='#575f79735d143c314e000389'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1465874808000' class='quanto-date posted-at response-posted-at' href='#575f79735d143c314e000389'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The last version has a DD of 29%.... If you cannot stomach that type of DD (Whihc I can&#39;t) then don&#39;t trade it. If a DD  is in the Backtest, assume it will happen again  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='575ff44b78ae423ba0000770' id='575ff44b78ae423ba0000770'>
<a href='#575ff44b78ae423ba0000770'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570254c1533c913f21000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/facbf6b3e5eb1a02e332037bcb816b20?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570254c1533c913f21000056'>Paul Stearns</a>
</div>
<a UTCms='1465906262000' class='quanto-date posted-at response-posted-at' href='#575ff44b78ae423ba0000770'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have been trading a modified version of this Algo on IB for about a month. It has been up as high as 7%, and is currently down 1.3%. The modifications I made include;</p>

<p>1) Added trailing stops on individual stocks based on the stock&#39;s volatility.<br>
2) Added total portfolio trailing stop based on fixed loss (15%).<br>
3) Added skim profit % weekly. Removes % of profit from available cash at the beginning of every week.<br>
4) Trade RSP &amp; XIV vs EDV &amp; TMF.</p>

<p>Total initial investment is $10,000.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5760056a5d143cfd3e00035a' id='5760056a5d143cfd3e00035a'>
<a href='#5760056a5d143cfd3e00035a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56f98b06dc681a3c4e0003f0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a75a18726d155b3e9a3029b5f3bac620?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56f98b06dc681a3c4e0003f0'>Sid Liso</a>
</div>
<a UTCms='1465910640000' class='quanto-date posted-at response-posted-at' href='#5760056a5d143cfd3e00035a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have been using this algo on Quantopian&#39;s live trading environment and I was up over 20% at one time. Right now, I noticed this is the second time I&#39;ve watched a downturn occur and the algo does nothing about it (sell or take profits, leverage itself, etc.). This down turn has been fast and hard so I sit at about 4% on the upside from over %20. Since this is a long term strategy, I am still interested in Seeing what the algo does at this point. I suspect another day or two of downside pressure before a bounce from oversold territory. Being that the algo has the account fully invested, It would have been great to see some profit taking and then some more buying at the dips. I guess I will wait and see. Interestingly enough, since this algo trades only a few stocks, it is easy to use as a guide and manually trade referencing it. I will report more. </p>

<p>Paul is your modified version using the trailing stops effectively? Are the trailing stops based on percentage, moving averages or somethng else? TIA  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57600ee834e2e1c7100008b7' id='57600ee834e2e1c7100008b7'>
<a href='#57600ee834e2e1c7100008b7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1465913070000' class='quanto-date posted-at response-posted-at' href='#57600ee834e2e1c7100008b7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Paul</p>

<p>I&#39;m interested to see how your handling trailing stops and skimming profit. Thankfully I stopped the Algo 2 weeks ago and bought VXX which I sold yesterday, and have been buying and selling manually for VXX and XIV so I&#39;m up almost 20%. My worry was I wanted to capture 5% gains and lock that profit in then either buy XIV again or VXX depending on how the markets moved, I had to hold VXX for 2 weeks but was worth it. I would be interested to see an algo that using trailing limits and stops on XIV to buy at low point and sell right when it turns and maybe even add VXX in it some. I may try to work on that some.</p>

<p>For anyone who lost money I wouldn&#39;t be that worried since I&#39;m sure you will make it back in a week or two.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='576010298ba65c6ee4000117' id='576010298ba65c6ee4000117'>
<a href='#576010298ba65c6ee4000117'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570254c1533c913f21000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/facbf6b3e5eb1a02e332037bcb816b20?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570254c1533c913f21000056'>Paul Stearns</a>
</div>
<a UTCms='1465913389000' class='quanto-date posted-at response-posted-at' href='#576010298ba65c6ee4000117'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here are some log entries from live trading, that explain the trailing stop a bit;</p>

<p>2016-06-13 09:31 trailingStop:511 INFO asset:Equity(40516 [XIV]) cost basis:27.6978740157 current price:29.734 high price:34.0334516129<br>
2016-06-13 09:31 trailingStop:509 INFO Trailing stop sold all:Equity(40516 [XIV]) shares:127 stop:10.93%<br>
2016-05-19 15:59 trailingStart:528 INFO Equity(40516 [XIV]) rehabilitated - current:27.5659354839 low:26.3741290323 threshold:27.54<br>
2016-05-19 10:32 trailingStop:511 INFO asset:Equity(40516 [XIV]) cost basis:28.9441756303 current price:26.693516129 high price:29.6287741935<br>
2016-05-19 10:32 trailingStop:509 INFO Trailing stop sold all:Equity(40516 [XIV]) shares:119 stop:8.87%</p>

<p>To calculate the trailing stop percent threshold I take the high price - low price / average price for the last 42 days, with a maximum of 15%. I also set a flag so I don&#39;t buy the stock again until it has been rehabilitated, which I define as inverse of a trailing stop, in other words it must bounce off a low by its volatility * .5 (1/2 its volatility factor).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='576027fd590b07b6780000a1' id='576027fd590b07b6780000a1'>
<a href='#576027fd590b07b6780000a1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570254c1533c913f21000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/facbf6b3e5eb1a02e332037bcb816b20?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570254c1533c913f21000056'>Paul Stearns</a>
</div>
<a UTCms='1465919490000' class='quanto-date posted-at response-posted-at' href='#576027fd590b07b6780000a1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>My profit skimmer takes the current portfolio value, if it is greater than the portfolio value from last week, I calculate the profit, multiply by .4 and add it to &quot;cash reserve&quot; which is an amount of cash I do not trade with. The next time I rebalance the portfolio, I sell enough to cover cash reserve.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='576c2376c2b48675f7000223' id='576c2376c2b48675f7000223'>
<a href='#576c2376c2b48675f7000223'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5498b9bee129760d5d0001bb'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/971de5e87ab0191c913afd6af5cf2f68?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5498b9bee129760d5d0001bb'>Thomas Targaszewski</a>
</div>
<a UTCms='1466704770000' class='quanto-date posted-at response-posted-at' href='#576c2376c2b48675f7000223'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Paul,</p>

<p>I would love to see the code behind that since it&#39;s still kind of going over my head.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='576d773a600b85ea0a000156' id='576d773a600b85ea0a000156'>
<a href='#576d773a600b85ea0a000156'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55ed0ebaf7eced2820000138'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/192fde5a5de866362a9e34c096cb8a9b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55ed0ebaf7eced2820000138'>Minh</a>
</div>
<a UTCms='1466791746000' class='quanto-date posted-at response-posted-at' href='#576d773a600b85ea0a000156'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ouch to whoever shorted volatility. Yet another reason to treat these dangerous instruments with respect.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57713e40cc0428ec6b000050' id='57713e40cc0428ec6b000050'>
<a href='#57713e40cc0428ec6b000050'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56f98b06dc681a3c4e0003f0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a75a18726d155b3e9a3029b5f3bac620?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56f98b06dc681a3c4e0003f0'>Sid Liso</a>
</div>
<a UTCms='1467039307000' class='quanto-date posted-at response-posted-at' href='#57713e40cc0428ec6b000050'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Well we bounced a little, then Brexit happened. The latest code version, the one without the stop loss, never exited XIV or RSP. It basically gave up all its gains (over 20%, I think 24%). That&#39;s a big move, BUT I noticed it is not down, or at a significant loss. At this point, I would definitely look to improve the exiting strategy. Paul, I would love to know how your latest version is trading. Have you thought about using SMA or EMA crossunders?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577145095f373bde3a000010' id='577145095f373bde3a000010'>
<a href='#577145095f373bde3a000010'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570254c1533c913f21000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/facbf6b3e5eb1a02e332037bcb816b20?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570254c1533c913f21000056'>Paul Stearns</a>
</div>
<a UTCms='1467041047000' class='quanto-date posted-at response-posted-at' href='#577145095f373bde3a000010'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It looks as though I sold and it rehabilitated. At this moment I am up .1%</p>

<pre><code>2016-06-24 10:30 trailingStart:528 INFO Equity(40516 [XIV]) rehabilitated - current:25.9231935484 low:24.1366774194 threshold:25.6  
2016-06-24 10:01 trailingStop:511 INFO asset:Equity(40516 [XIV]) cost basis:24.7971740157 current price:25.4919354839 high price:29.7525483871  
2016-06-24 10:01 trailingStop:509 INFO Trailing stop sold all:Equity(40516 [XIV]) shares:127 stop:12.14%

</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5774095478822aeade000296' id='5774095478822aeade000296'>
<a href='#5774095478822aeade000296'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1467222365000' class='quanto-date posted-at response-posted-at' href='#5774095478822aeade000296'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Paul can you share your trailing stop/rehabilitation?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5800cb033d78001714000605' id='5800cb033d78001714000605'>
<a href='#5800cb033d78001714000605'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1476446989000' class='quanto-date posted-at response-posted-at' href='#5800cb033d78001714000605'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How can the algo Caleb Mellbom posted on  Apr 22, 2016 be modified to ensure all cash is used?  There is always a lump of cash sitting on the sidelines - want to try and push the leverage to 1 as much as possible.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58a4e5e09d299b348c80bdd8' id='58a4e5e09d299b348c80bdd8'>
<a href='#58a4e5e09d299b348c80bdd8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/589b8f963c34dc6627ca8104'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/829e9157c875b26d50ccede3e8d51396?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/589b8f963c34dc6627ca8104'>Karthick Mani</a>
</div>
<a UTCms='1487201760000' class='quanto-date posted-at response-posted-at' href='#58a4e5e09d299b348c80bdd8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is there an updated algorithm? I tried to update the Algorithm with newer version, but its not working.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58c595c3c1ec58000ae6298e' id='58c595c3c1ec58000ae6298e'>
<a href='#58c595c3c1ec58000ae6298e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ce2ac976723c6809000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fa18e2ab7dca80db308159c95d41c365?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ce2ac976723c6809000123'>yogi shibuya</a>
</div>
<a UTCms='1489343939000' class='quanto-date posted-at response-posted-at' href='#58c595c3c1ec58000ae6298e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is this algo safe for smaller accounts (less than $25,000). Will it trigger the &quot;Pattern Day trader&quot; rule (by executing four roundtrip daytrades within 5 days)?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58da8a8b000127397bbd169f' id='58da8a8b000127397bbd169f'>
<a href='#58da8a8b000127397bbd169f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58d15910c700121362b73719'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e3570c1d54d6c6c1db60e146a7761d50?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58d15910c700121362b73719'>Nate Hicks</a>
</div>
<a UTCms='1490717323000' class='quanto-date posted-at response-posted-at' href='#58da8a8b000127397bbd169f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Seconding Yogi&#39;s question. I&#39;m assuming the Pattern Day Trader rule shouldn&#39;t be a problem, but with the most recent updated version of this algo, would it be safe/make sense for a smaller account?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59621a73ff257a000d4f9e08' id='59621a73ff257a000d4f9e08'>
<a href='#59621a73ff257a000d4f9e08'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58f9804000bfa300105b5333'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ebc9df967c2b35303ed7fa3918411e48?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58f9804000bfa300105b5333'>Eric Novinson</a>
</div>
<a UTCms='1499601523000' class='quanto-date posted-at response-posted-at' href='#59621a73ff257a000d4f9e08'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I did a forward test and it looks like it still works. Got a popup saying that the code was automatically updated as well.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8677608a97e62a65de57f2' id='5b8677608a97e62a65de57f2'>
<a href='#5b8677608a97e62a65de57f2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b865e5858a6941eb745d4ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6531afdf313de615e44c60f5d6069620?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b865e5858a6941eb745d4ef'>Nami Saghaei</a>
</div>
<a UTCms='1535539040000' class='quanto-date posted-at response-posted-at' href='#5b8677608a97e62a65de57f2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey all, is this still a recommended robinhood-friendly algo to start with?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b86b8a88a97e62a65de59e7' id='5b86b8a88a97e62a65de59e7'>
<a href='#5b86b8a88a97e62a65de59e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570023848830d8f272000185'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/899d167e6c68bc8b530a675aa146fbcf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570023848830d8f272000185'>Ka A</a>
</div>
<a UTCms='1535555752000' class='quanto-date posted-at response-posted-at' href='#5b86b8a88a97e62a65de59e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@anyone interested</p>

<p>After trying to study the history of this thread:<br>
It started out with XIV, but then for a little while in the beginning, the algo was changed to trading RSP vs. TLT based on a crossover. That was the highlight. Unfortunately, after they reduced the balancing from weekly to daily, the statistically significant advantage disappeared. But even the original wasn&#39;t trustworthy because of trading rarely. Also, as far as I can tell from research and study, all of general US indices are - for the most part - systemically similar (if someone knows otherwise, please enlighten me), so I avoid using indices other than the S&amp;P500 to avoid overfitting. Also, TLT, bonds, and assets in general have been inflated (Or more specifically future values have been pulled towards us in time. Also literal inflation.) because of QE from the fed and the bank of China, so returns from long bonds can&#39;t be expected to continue any more unless you know what the central banks are going to do.</p>

<p>Speaking of that, I&#39;ve heard that there are reasons to be concerned about a possible junk bond bubble. I don&#39;t know the technicals of that, yet, but be cautious if someone does invest in high-yield-bonds (relevant ETFs being JNK, HYG, and ANGL).</p>

<p>As far as the rest of the thread, I think the other algos might just be taking their profit from XIV, and looked more complicated. If you don&#39;t know, XIV was a trainwreck from the beginning, which crashed 6 months ago. XIV was terminated, thank god. If there was ever anything good in it, you can just buy/sell the VIX futures. But VIX performance is meaningless anyway without an extreme degree of understanding and studying 100-year or ideally 1000-year old volatility events.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/for-robinhood-trading'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/for-robinhood-trading'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#d5b3b0b0b1b7b4b6be95a4a0b4bba1baa5bcb4bbfbb6bab8">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
