<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
A few questions from a noob =)
</title>
<meta content='How could I implement a &quot;Take Profit&quot; and a &quot;Stop Loss&quot; in an algorithm for each trade?How could I set a time period within which to trade (for example only allowing a trade to be placed in the London session)? - I&#39;ve been getting a headache trying to do this one myself with datetime lol' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="4BC9CNzKo8xs/jWKAtSq6dGEyqGyxoHxNw6XJjgtpCWcdstFfjxxL9XjbLtNOwKd6QrpyMgKlOq1AUxMkmjGng==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/a-few-questions-from-a-noob-equals' property='og:url'>
<meta content='A few questions from a noob =)' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/a-few-questions-from-a-noob-equals' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='A few questions from a noob =)' property='og:title'>
<meta content='How could I implement a &quot;Take Profit&quot; and a &quot;Stop Loss&quot; in an algorithm for each trade?How could I set a time period within which to trade (for example only allowing a trade to be placed in the London session)? - I&#39;ve been getting a headache trying to do this one myself with datetime lol' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/a-few-questions-from-a-noob-equals">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='50e61a844e4a0dfc96000077'>
<div class='post-container' data-post-id='50e61a844e4a0dfc96000077' id='50e61a844e4a0dfc96000077'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>A few questions from a noob =)</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1357257348000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=A few questions from a noob =)&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fa-few-questions-from-a-noob-equals%3Futm_source%3Dwebsite_share%26utm_campaign%3Da-few-questions-from-a-noob-equals%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fa-few-questions-from-a-noob-equals%3Futm_source%3Dwebsite_share%26utm_campaign%3Da-few-questions-from-a-noob-equals%26utm_medium%3Dlinkedin&amp;title=A+few+questions+from+a+noob+%3D%29+%28Adam+McBride+%28Turner%29%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/a-few-questions-from-a-noob-equals?utm_source=website_share&amp;utm_campaign=a-few-questions-from-a-noob-equals&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Adam McBride (Turner)" />
<div class='body-text'>
<div class='body-text-container post-body'><p>How could I implement a &quot;Take Profit&quot; and a &quot;Stop Loss&quot; in an algorithm for each trade?</p>

<p>How could I set a time period within which to trade (for example only allowing a trade to be placed in the London session)? - I&#39;ve been getting a headache trying to do this one myself with datetime lol  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>26 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='50e62b904e4a0dfc96000098' id='50e62b904e4a0dfc96000098'>
<a href='#50e62b904e4a0dfc96000098'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1357261712000' class='quanto-date posted-at response-posted-at' href='#50e62b904e4a0dfc96000098'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Adam,</p>

<p>There are a couple relevant algorithms from me in the thread <a href="https://www.quantopian.com/posts/simply-buy">https://www.quantopian.com/posts/simply-buy</a> which should give you an idea on how to sell once a stock reaches a relative price limit to take a profit.  The code can be modified to sell if the relative stock price drops below a limit.  Let me know if you have questions/comments...no guarantee that everything is correct.  When I get the chance, I can test the code again and then post it here.</p>

<p>Regarding trading within a specific time period, it all depends on what you need to do.  For example, do you just want to trade once a day at a specified time?  Or are you wanting to trade continuously within specified hours of the day?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e6309a167cc3958f000074' id='50e6309a167cc3958f000074'>
<a href='#50e6309a167cc3958f000074'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357263002000' class='quanto-date posted-at response-posted-at' href='#50e6309a167cc3958f000074'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Grant,</p>

<p>Thanks for replying =)</p>

<p>I would be interested in trading within specified hours of the day (just experimenting, although from dabbling in forex I normally found it a personal bad idea to trade eur/usd outside 7am to 2pm London time, and - I don&#39;t know - but I assume different stocks have their better times of the day to trade too :P).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e6bcf8167cc3958f000128' id='50e6bcf8167cc3958f000128'>
<a href='#50e6bcf8167cc3958f000128'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1357298936000' class='quanto-date posted-at response-posted-at' href='#50e6bcf8167cc3958f000128'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Adam,</p>

<p>Python is new to me, so perhaps an expert can chime in.  I expect that one can do something like (syntax may not be correct):</p>

<pre><code>if current_hour in list_of_trading_hours:  
    #code goes here

</code></pre>

<p>I have some examples in algorithms of how to obtain the current_hour, so let me know if you have trouble with that part.</p>

<p>Note that with the logic above, the backtester will still iterate over every minute (or day in the daily backtester) of the available tic data.  It just won&#39;t execute the code under the if-statement if the condition is not met.  One implication is that if you submit an order on the last minute of your desired trading window, it will be fulfilled outside the window (in the next tic for that security).  This is a subtle point about the backtester, but order submission and order fulfillment do not occur simultaneously.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e6fab64e4a0dfc96000197' id='50e6fab64e4a0dfc96000197'>
<a href='#50e6fab64e4a0dfc96000197'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357314742000' class='quanto-date posted-at response-posted-at' href='#50e6fab64e4a0dfc96000197'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can I clarify something? I think I may have confused myself (I blame forex ;P)</p>

<p>When we sell in these algorithms, can we only sell stock we have already bought? I might have got confused by the difference with the forex and stock markets (when I&#39;m trading forex I&#39;m trading pairs, and either go long on a position or short it lol)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e6fb82167cc3958f00018d' id='50e6fb82167cc3958f00018d'>
<a href='#50e6fb82167cc3958f00018d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357314946000' class='quanto-date posted-at response-posted-at' href='#50e6fb82167cc3958f00018d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>*I&#39;m pretty new to python too... Will keep trying and post if I come up with something though =)</p>

<p>In retrospect I would also be curious how to trade at a specified time (to limit the number of trades an algorithm makes to one a day)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e75ae819d253479c00006a' id='50e75ae819d253479c00006a'>
<a href='#50e75ae819d253479c00006a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1357339368000' class='quanto-date posted-at response-posted-at' href='#50e75ae819d253479c00006a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You can sell stock that you don&#39;t own by placing an order with a negative number of shares.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e75c89b58f382cd3000051' id='50e75c89b58f382cd3000051'>
<a href='#50e75c89b58f382cd3000051'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357339785000' class='quanto-date posted-at response-posted-at' href='#50e75c89b58f382cd3000051'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>But would you not need to buy the stock first to fulfill the sell order? :confused:  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e76a3519d253479c000079' id='50e76a3519d253479c000079'>
<a href='#50e76a3519d253479c000079'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1357343286000' class='quanto-date posted-at response-posted-at' href='#50e76a3519d253479c000079'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Adam,</p>

<p>I don&#39;t have time right now to work up an example, but here&#39;s one with both long and short positions:</p>

<p><a href="https://www.quantopian.com/posts/this-weeks-concept-trading-on-max-and-min">https://www.quantopian.com/posts/this-weeks-concept-trading-on-max-and-min</a></p>

<p>If you search the forum using the keyword &quot;short&quot; you&#39;ll find more.  Note that there is a search box in the upper right area of the community forum page.</p>

<p>Grant</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e77339b58f382cd3000064' id='50e77339b58f382cd3000064'>
<a href='#50e77339b58f382cd3000064'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1357345594000' class='quanto-date posted-at response-posted-at' href='#50e77339b58f382cd3000064'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Adam,</p>

<p>Here&#39;s a sample algorithm that should show you how to buy/sell at specific dates and times.  I&#39;ll need to dig through other ones to illustrate how to, for example, submit an order only at 10 am every trading day.  It&#39;s a straightforward if-then statement...you just need to extract the current hour from the current datetime of the security tic of the backtest.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e7761fb58f382cd300006c' id='50e7761fb58f382cd300006c'>
<a href='#50e7761fb58f382cd300006c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357346335000' class='quanto-date posted-at response-posted-at' href='#50e7761fb58f382cd300006c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Grant for your help =)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e77825b58f382cd300006f' id='50e77825b58f382cd300006f'>
<a href='#50e77825b58f382cd300006f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357346853000' class='quanto-date posted-at response-posted-at' href='#50e77825b58f382cd300006f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One of the things confusing me about datetime is the use of a date before the time... Does that mean you can&#39;t make the algorithm run on a recurring basis, or is there a way to update the date of the datetime?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e77d8db58f382cd3000079' id='50e77d8db58f382cd3000079'>
<a href='#50e77d8db58f382cd3000079'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1357348237000' class='quanto-date posted-at response-posted-at' href='#50e77d8db58f382cd3000079'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Adam,</p>

<p>The backtester runs over every historical tic of every security that you specify.  If you run the full/minutely backtester, you have access to every minute of trade data for up to 10 securities simultaneously.  There is also access to a trailing window of data via the batch transform (see the help page).</p>

<p>Via the algorithm, you can access the datetime of every tic of every security in your backtest.</p>

<p>So it all depends on what you want to do.  Perhaps you can provide more details.  Do you want to submit a set of orders every day, once per day (e.g. upon market open)?  Once I understand what you need to do, I (or somebody else) can work up an example for you to tinker with.</p>

<p>Just a note of caution...the backtester is designed to execute only when there is a tic in the historical database for a given security.  So, for highly liquid securities (e.g. SPY), restricting order submission to a specific time (e.g. 10:00 am) will work.  However, if the security does not trade every minute, some days your order might not get submitted (e.g. no tic for the security at 10:00 am would mean that your order would not get submitted).  So, a more robust way to handle this is to write logic so that a flag gets set once an order gets submitted on a given day.  The flag can then be used to block further orders on that day, so that you aren&#39;t buying at every minute.</p>

<p>Also note that once an order for a security gets submitted, it will be fulfilled in the next tic for that security (which, for a liquid security, will be the next minute of the backtest).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e78073b58f382cd300007f' id='50e78073b58f382cd300007f'>
<a href='#50e78073b58f382cd300007f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357348979000' class='quanto-date posted-at response-posted-at' href='#50e78073b58f382cd300007f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I tried the following code modified from things I found on the internet</p>

<pre><code>import datetime

def initialize(context):  
  context.stock = sid(24)

def handle_data(context, data):  
  d = datetime.datetime.now()  
  if d.isoweekday in range(1, 5) and d.hour == 9 and d.minute == 30:  
    order(context.stock,+1)  
</code></pre>

<p>but found there was no trades, so out of curiosity I made a function to print d.hour, to find that every hour was counted as &quot;1&quot; (which is the local time on my computer...)</p>

<p>Hmmm... Backtester constraint?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e786ad19d253479c000096' id='50e786ad19d253479c000096'>
<a href='#50e786ad19d253479c000096'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357350573000' class='quanto-date posted-at response-posted-at' href='#50e786ad19d253479c000096'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Perhaps datetime using live time instead of the backtesters virtual time is why your algorithm above didn&#39;&#39;t make any trades either...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e7877319d253479c00009b' id='50e7877319d253479c00009b'>
<a href='#50e7877319d253479c00009b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357350771000' class='quanto-date posted-at response-posted-at' href='#50e7877319d253479c00009b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Scratch that last comment lol I now notice your algo did make trades :P  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e814a8b58f382cd30000e2' id='50e814a8b58f382cd30000e2'>
<a href='#50e814a8b58f382cd30000e2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1357386920000' class='quanto-date posted-at response-posted-at' href='#50e814a8b58f382cd30000e2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Adam,</p>

<p>Here are some lines of code that may help you:</p>

<p>context.stocks = [sid(21090),sid(698),sid(6872),sid(4415),sid(6119),sid(8229),sid(39778),sid(14328),sid(630),sid(4313)]</p>

<p>event_hour = data[context.stocks[0]].datetime.hour<br>
event_minute = data[context.stocks[0]].datetime.minute</p>

<p>The list of securities goes in def initialize(context): and you can extract the hour and minute of the event in def handle_data(context, data):.  Note that the hour and minute correspond to the first security in the list, sid(21090).  The backtester &quot;loop&quot; runs over events, not days/minutes, so datetime is associated with a specific historical event (in this case, trade data for sid(21090), Target Corporation).  Note, however, that the batch transform patches up holes in the tic data, as described on the help page...a shortcoming that will eventually be fixed, I&#39;m told.</p>

<p>If you want to get a feel for how the backtester handles tics and time, try these securities over various backtest periods:</p>

<p>context.stocks = [sid(41290),sid(41425),sid(39479),sid(33972),sid(41159)]</p>

<p>They don&#39;t trade every minute that the market is open.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e85194b58f382cd3000122' id='50e85194b58f382cd3000122'>
<a href='#50e85194b58f382cd3000122'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357402516000' class='quanto-date posted-at response-posted-at' href='#50e85194b58f382cd3000122'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I tried the above code, but things still seem to be using local realtime rather than backtester time :/  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e888aeb799e5e76f000021' id='50e888aeb799e5e76f000021'>
<a href='#50e888aeb799e5e76f000021'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1357416622000' class='quanto-date posted-at response-posted-at' href='#50e888aeb799e5e76f000021'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Adam,</p>

<p>Here&#39;s an example...hopefully it will start to clear things up for you.  Be sure to have a look at the log output of the full/minutely backtest.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e8a9e2b799e5e76f000077' id='50e8a9e2b799e5e76f000077'>
<a href='#50e8a9e2b799e5e76f000077'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357425122000' class='quanto-date posted-at response-posted-at' href='#50e8a9e2b799e5e76f000077'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Got that to work =)</p>

<p>For a range of hours is there a better way than below?</p>

<pre><code>def initialize(context):  
  context.stock = sid(24)  
  context.open_hours = [15,16,17,18] # change to 0 for quick/daily backtest

def handle_data(context, data):  
  event_hour = data[context.stock].datetime.hour  
  event_minute = data[context.stock].datetime.minute  
  if event_hour == context.open_hours[0]:  
    order(context.stock,+10)  
    log.info(&#39;bought&#39;)  
  if event_hour == context.open_hours[1]:  
    order(context.stock,+10)  
    log.info(&#39;bought&#39;)  
  if event_hour == context.open_hours[2]:  
    order(context.stock,+10)  
    log.info(&#39;bought&#39;)  
  if event_hour == context.open_hours[3]:  
    order(context.stock,+10)  
    log.info(&#39;bought&#39;)  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e95dd3917ddce675000128' id='50e95dd3917ddce675000128'>
<a href='#50e95dd3917ddce675000128'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1357471187000' class='quanto-date posted-at response-posted-at' href='#50e95dd3917ddce675000128'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Adam,</p>

<p>See attached for a simpler approach.  There is probably a more elegant solution in Python using a built-in functionality, timedelta.  I think that what you are needing to do is start trading at a specified time and then stop after a specified number of hours have elapsed.  In the end, though, it might take additional lines of code to implement the timedelta approach and it would give you less control.  For example, with the if event_hour in context.open_hours: approach, you could easily stop trading for an hour in the middle of the day and then resume for the remainder of the day just by modifying context.open_hours.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e97613917ddce67500014b' id='50e97613917ddce67500014b'>
<a href='#50e97613917ddce67500014b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1357477395000' class='quanto-date posted-at response-posted-at' href='#50e97613917ddce67500014b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Adam,</p>

<p>By the way, if you haven&#39;t already figured it out, the Quantopian backtester by design will not accept and fulfill orders outside of trading hours for a given security (although there is a trick to emulate queuing up orders overnight, for example...but perhaps a topic for new discussion thread).  So if you want your algorithm to trade only when the market is open, you don&#39;t need to put in any if-statements to avoid submitting orders when the market is closed.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e9783a917ddce675000154' id='50e9783a917ddce675000154'>
<a href='#50e9783a917ddce675000154'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357477946000' class='quanto-date posted-at response-posted-at' href='#50e9783a917ddce675000154'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the help =)</p>

<p>I did notice that - for example it doesn&#39;t trade on the 1 Jan - but queuing up orders sounds like a fun experiment anyway lol  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e97c52b799e5e76f000134' id='50e97c52b799e5e76f000134'>
<a href='#50e97c52b799e5e76f000134'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357478994000' class='quanto-date posted-at response-posted-at' href='#50e97c52b799e5e76f000134'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just had the interesting thought that you could use this to run a more prolonged check on market direction, such as if there was an hourly if statement checking market direction - where each hour would set it&#39;s own &quot;going_up = True&quot; in a bullish market and &quot;going_up = False&quot; in a bearish market - and the algorithm would only place a long order upon 5 consecutive bullish hours (or a short at 5 consecutive bears).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50e9eaa4a91942e3e4000034' id='50e9eaa4a91942e3e4000034'>
<a href='#50e9eaa4a91942e3e4000034'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1357507236000' class='quanto-date posted-at response-posted-at' href='#50e9eaa4a91942e3e4000034'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah...should be able to do something like that.  It&#39;s very flexible.  I think you could also do a linear fit to a trailing window of data and then find the slope, which would tell you whether the trend is upward or downward.  Let me know if you decide to try this and I&#39;ll provide an example of how to get the trailing tic data into a numpy vector/array using the batch transform.  The batch transform is kinda slow, but so as long as you only need the data hourly or a few times a day, it&#39;ll be no problem.  If you need a trailing window updated minutely, the batch transform kinda bogs down the backtester (some fixes are in the works).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50eabbfdbc7d9eb5c4000132' id='50eabbfdbc7d9eb5c4000132'>
<a href='#50eabbfdbc7d9eb5c4000132'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e456e86d9ad0bd3200008f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8d258bbfb0be49fb31756d1244c57803?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e456e86d9ad0bd3200008f'>Adam McBride (Turner)</a>
</div>
<a UTCms='1357560829000' class='quanto-date posted-at response-posted-at' href='#50eabbfdbc7d9eb5c4000132'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I might try that later (got an exam first lol).</p>

<p>Been planning to try something with batch transforms (they were actually mentioned by the person who sent me to this website in the first place, as I&#39;d been interested in correlations as well as algo trading).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='50f2e553acc0e14957000177' id='50f2e553acc0e14957000177'>
<a href='#50f2e553acc0e14957000177'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/506d4461bdf2aa0200000057'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4d5e1f6f952f91c911e285bb756e8750?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/506d4461bdf2aa0200000057'>Tim Meggs</a>
</div>
<a UTCms='1358095699000' class='quanto-date posted-at response-posted-at' href='#50f2e553acc0e14957000177'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Adam - not sure if you cleared up your confusion with respect to selling stock that you don&#39;t already own.  As Grant has pointed out above this, is totally possible in Quantopian.  This follows &#39;real-life&#39; equity trading where it is possible to sell a stock you do not already.  The practice is called &#39;shorting&#39; and effectively involves borrowing/renting the stock from someone who does own it (and paying them a rental fee for the privilege).  You then use this borrowed stock to make good the delivery on the &#39;sell&#39; you are making.</p>

<p>Dan gives some excellent Khan Academy links that explain the process really well in this post <a href="https://www.quantopian.com/posts/khan-academy-example-of-short-selling">here</a>.</p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/a-few-questions-from-a-noob-equals'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/a-few-questions-from-a-noob-equals'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#99fffcfcfdfbf8faf2d9e8ecf8f7edf6e9f0f8f7b7faf6f4">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
