<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Accessing data via fetcher (Fund cloning algorithm)
</title>
<meta content='Hi everyone,I&#39;ve been banging my head against the wall, because I cannot seem to figure out how to access data that is loaded via the fetcher.A few words about what I&#39;m trying to do:the CSV contains (parsed) information from the SEC filings made by Berkshire Hathawayeach line in the CSV contains information for a new trade or buy/sell in an existing position, i.e. stock symbol, the date when the order should be executed, an indicator what action we are taking and a change column, which I want...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="KF0Gs5q8CSXpgpVAfpyMul7nh/e3DAeijL4F6HjcatpUO3D+OErbxlCfzHExcyTOZmmkns3AErkOsd6C0pkIYQ==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/accessing-data-via-fetcher-fund-cloning-algorithm' property='og:url'>
<meta content='Accessing data via fetcher (Fund cloning algorithm)' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/accessing-data-via-fetcher-fund-cloning-algorithm' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Accessing data via fetcher (Fund cloning algorithm)' property='og:title'>
<meta content='Hi everyone,I&#39;ve been banging my head against the wall, because I cannot seem to figure out how to access data that is loaded via the fetcher.A few words about what I&#39;m trying to do:the CSV contains (parsed) information from the SEC filings made by Berkshire Hathawayeach line in the CSV contains information for a new trade or buy/sell in an existing position, i.e. stock symbol, the date when the order should be executed, an indicator what action we are taking and a change column, which I want...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/accessing-data-via-fetcher-fund-cloning-algorithm">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='52569d99737cc43c860000ea'>
<div class='post-container' data-post-id='52569d99737cc43c860000ea' id='52569d99737cc43c860000ea'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Accessing data via fetcher (Fund cloning algorithm)</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/518772263f25436677000032'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b4654c919122786ae2d24bfd5021075d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/518772263f25436677000032'>Christian B.</a>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1381411992000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Accessing data via fetcher (Fund cloning algorithm)&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Faccessing-data-via-fetcher-fund-cloning-algorithm%3Futm_source%3Dwebsite_share%26utm_campaign%3Daccessing-data-via-fetcher%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Faccessing-data-via-fetcher-fund-cloning-algorithm%3Futm_source%3Dwebsite_share%26utm_campaign%3Daccessing-data-via-fetcher%26utm_medium%3Dlinkedin&amp;title=Accessing+data+via+fetcher+%28Fund+cloning+algorithm%29+%28Christian+B.%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/accessing-data-via-fetcher-fund-cloning-algorithm?utm_source=website_share&amp;utm_campaign=accessing-data-via-fetcher&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Christian B." />
<div class='body-text'>
<div class='body-text-container post-body'><p>Hi everyone,</p>

<p>I&#39;ve been banging my head against the wall, because I cannot seem to figure out how to access data that is loaded via the fetcher.</p>

<p>A few words about what I&#39;m trying to do:</p>

<ul>
<li>the CSV contains (parsed) information from the SEC filings made by Berkshire Hathaway<br></li>
<li>each line in the CSV contains information for a new trade or buy/sell in an existing position, i.e. stock symbol, the date when the order should be executed, an indicator what action we are taking and a change column, which I want to use to split my available budget<br></li>
<li>as you can probably imagine already, I&#39;m trying to backtest those trades with Quantopian :)</li>
</ul>

<p>If this would run outside of Quantopian, I would do the following:</p>

<ul>
<li>load the file into pandas<br></li>
<li>check if there are entries where the current trading day and the date match<br></li>
<li>iterate over those entries and execute orders</li>
</ul>

<p>When you check the attached code, you will see that some data is logged. But the pattern doesn&#39;t make any sense to me. Perhaps one of you guys has an idea.</p>

<p>In general, is it possible to test something like this in Quantopian or am I better of doing this locally with zipline?</p>

<p>Thanks,<br>
Chris  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>14 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='5256caa5f8e157409a00002c' id='5256caa5f8e157409a00002c'>
<a href='#5256caa5f8e157409a00002c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4fe8beb792a029000200000d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fe3ffe502559d05f16eb9fe41ab7e9a1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4fe8beb792a029000200000d'>Dan Dunn</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1381419686000' class='quanto-date posted-at response-posted-at' href='#5256caa5f8e157409a00002c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Sorry that you&#39;re having problems with this.  You&#39;re showing us some places we really need to make this method and documentation better.</p>

<p>I think I mostly fixed it up for you.  I put in a pre- and post-func() for logging purposes, and I changed the way you&#39;re indexing the data in handle_data, and now I think it&#39;s doing what you were looking for.</p>

<p>The problem that I think you&#39;re going to hit next is that the data is forward filled.  I think the easiest way to fix that is to include a &quot;reset&quot; in your data after each datapoint so that it goes back down to zero.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='52651ad3af56ca50ef00015b' id='52651ad3af56ca50ef00015b'>
<a href='#52651ad3af56ca50ef00015b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/518772263f25436677000032'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b4654c919122786ae2d24bfd5021075d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/518772263f25436677000032'>Christian B.</a>
</div>
<a UTCms='1382357716000' class='quanto-date posted-at response-posted-at' href='#52651ad3af56ca50ef00015b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Dan,</p>

<p>thanks for your help with this. I&#39;ve checked the log output and you are indeed correct, the problem is that now the data is present on every date (i.e. the values for &#39;action&#39; and &#39;change&#39;). </p>

<p>Could you explain what you mean with the &quot;reset&quot;?</p>

<p>It would be really great to get this working :)</p>

<p>-Chris</p>

<p><strong>Edit</strong></p>

<p>I think I figured out what you meant and have changed the code that generates the CSV (pretty tricky even with Pandas). The CSV now is 30MB big though with ~1m lines, since it contains an entry for every stock and every day to avoid the forward filling.</p>

<p>I also cannot get it to load in Quantopian :(  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='52654b60e5c3e4cf4400019e' id='52654b60e5c3e4cf4400019e'>
<a href='#52654b60e5c3e4cf4400019e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50b24ec26d284c0200000088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e238d8d7d6bb1f460ed27e0507045632?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50b24ec26d284c0200000088'>Peter Cawthron</a>
</div>
<a UTCms='1382370145000' class='quanto-date posted-at response-posted-at' href='#52654b60e5c3e4cf4400019e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Christian,</p>

<p>I spent a few hours last week looking at your algo and data and the &#39;fetcher&#39; forward-fill defeated me. Recent discussions with fawce and Grant <a href=https://www.quantopian.com/posts/thinly-traded-stocks-why-no-gaps>here</a> have offered a solution as &#39;fetcher&#39; does not forward-fill the timestamp. The attached is not complete but it may get you started. You will have to create a mapping between the symbols in your CSV and the Quantopian SIDs - I have done a few of them.</p>

<p>P.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='526552c55063d9717800019c' id='526552c55063d9717800019c'>
<a href='#526552c55063d9717800019c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50b24ec26d284c0200000088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e238d8d7d6bb1f460ed27e0507045632?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50b24ec26d284c0200000088'>Peter Cawthron</a>
</div>
<a UTCms='1382372038000' class='quanto-date posted-at response-posted-at' href='#526552c55063d9717800019c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Christian,</p>

<p>That one gave some odd result with &#39;LIZ&#39; so maybe she wasn&#39;t trading at the time. This looks more plausible.</p>

<p>P.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5265536655f1bb29e80001b0' id='5265536655f1bb29e80001b0'>
<a href='#5265536655f1bb29e80001b0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50b24ec26d284c0200000088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e238d8d7d6bb1f460ed27e0507045632?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50b24ec26d284c0200000088'>Peter Cawthron</a>
</div>
<a UTCms='1382372199000' class='quanto-date posted-at response-posted-at' href='#5265536655f1bb29e80001b0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Dan,</p>

<p>Why are the benchmark figures different in my two backtests?</p>

<p>P.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='52655806af56ca627f0001c4' id='52655806af56ca627f0001c4'>
<a href='#52655806af56ca627f0001c4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50b24ec26d284c0200000088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e238d8d7d6bb1f460ed27e0507045632?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50b24ec26d284c0200000088'>Peter Cawthron</a>
</div>
<a UTCms='1382373384000' class='quanto-date posted-at response-posted-at' href='#52655806af56ca627f0001c4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Christian,</p>

<p>My last go!</p>

<p>P.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5266719df290a3e578000122' id='5266719df290a3e578000122'>
<a href='#5266719df290a3e578000122'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50b24ec26d284c0200000088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e238d8d7d6bb1f460ed27e0507045632?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50b24ec26d284c0200000088'>Peter Cawthron</a>
</div>
<a UTCms='1382445476000' class='quanto-date posted-at response-posted-at' href='#5266719df290a3e578000122'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Christian,</p>

<p>It was interesting to look at but I admit defeat! After removing any examples of multiple trades on the same day for any symbol - see <a href=https://www.quantopian.com/posts/help-with-fetcher-and-filling-nan-values>here</a> -  and sorting the CSV rows I then tried:</p>

<pre><code>def pivot_data(df):  
    print df.head()  
    print df.tail()  
    pivot = df.pivot(columns=&quot;symbol&quot;, index=&quot;date&quot;, values=&quot;change&quot;)  
    print pivot  
    print pivot[&#39;AMP&#39;][0:11]  
    return df  
</code></pre>

<p>on the CSV data. I can&#39;t really work out what is happening here:</p>

<pre><code>1970-01-01 PRINT symbol date change action  
0 FDC 08/15/2001 15.069360 new  
1 GPS 08/15/2001 19.653780 new  
2 HON 08/15/2001 8.604316 new  
3 LIZ 08/15/2001 6.711568 new  
4 NKE 08/15/2001 22.686257 new

1970-01-01 PRINT symbol date change action  
478 MDLZ 08/15/2013 -91.804615 decrease  
479 NOV 08/15/2013 18.648371 increase  
480 SU 08/15/2013 95.747799 new  
481 USB 08/15/2013 27.366937 increase  
482 VRSN 08/15/2013 33.316451 increase

1970-01-01 PRINT &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;  
Index: 49 entries, 02/15/2002 to 11/17/2008           &lt;- Why not to 08/15/2013?  
Data columns (total 91 columns):  
ADM 2 non-null values  
ADP 6 non-null values  
AMP 9 non-null values  
BAC 4 non-null values  
BBY 2 non-null values  
BDX 5 non-null values  
BK 7 non-null values  
BNI 10 non-null values  
BUD 10 non-null values  
CBI 2 non-null values  
CDCO 13 non-null values  
CEG 3 non-null values  
CMCSK 7 non-null values  
COP 15 non-null values  
CVS 4 non-null values  
DE 1 non-null values  
DF 2 non-null values  
DG 5 non-null values  
DISH 1 non-null values  
DOWJB 3 non-null values  
DST 2 non-null values  
DTV 7 non-null values  
DUK 3 non-null values  
DVA 6 non-null values  
ETN 4 non-null values  
FDC 11 non-null values  
FE 2 non-null values  
FISV 3 non-null values  
GD 3 non-null values  
GE 3 non-null values  
GPS 7 non-null values  
GSK 2 non-null values  
HCA ...

1970-01-01 PRINT date  
02/15/2002 NaN  
02/15/2005 NaN  
02/15/2006 NaN  
02/15/2007 -57.050237  
02/15/2008 -54.320470  
02/15/2011 NaN  
02/15/2012 NaN  
02/15/2013 NaN  
02/16/2010 NaN          &lt;- Why out of order?  
02/17/2004 NaN          &lt;- Why out of order?  
02/17/2009 NaN          &lt;- Why out of order?

</code></pre>

<p>P.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='526677294ec0059b1d00011b' id='526677294ec0059b1d00011b'>
<a href='#526677294ec0059b1d00011b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/518772263f25436677000032'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b4654c919122786ae2d24bfd5021075d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/518772263f25436677000032'>Christian B.</a>
</div>
<a UTCms='1382446891000' class='quanto-date posted-at response-posted-at' href='#526677294ec0059b1d00011b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Peter,</p>

<p>thanks for taking the time to take a look at this :) I haven&#39;t tried the latest code you posted, but I&#39;ll give it a go this week, it looks promising. Still, it requires to define all stocks that should be traded beforehand, which takes a lot of manual work. </p>

<p>I have this data for basically every hedge fund (starting from 2001). It would&#39;ve been really interesting to check a few of them in Quantopian to see if there is any value in there. Even if I get this working though, the amount of manual effort required is a big turn-off :)</p>

<p>Regarding your last post, you think this is a problem of how the data is structured or a problem with how Quantopian treats it?</p>

<p>-Chris</p>

<p><strong>Edit</strong></p>

<p>A last resort, apart from trying to backtest this offline with a custom script, could be to define the data as a dict directly in the script. Of course, this would involve lots of manual work as well.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='526693edefba519f0a000181' id='526693edefba519f0a000181'>
<a href='#526693edefba519f0a000181'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50b24ec26d284c0200000088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e238d8d7d6bb1f460ed27e0507045632?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50b24ec26d284c0200000088'>Peter Cawthron</a>
</div>
<a UTCms='1382454256000' class='quanto-date posted-at response-posted-at' href='#526693edefba519f0a000181'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Christian,</p>

<p>I think a pivot is the way to go. I&#39;ve worked out the problem with the sorting as it was caused by sorting strings of US dates where &#39;02/15/2013&#39; comes before  &#39;02/16/2010&#39;. I can get around that in pre_func and the result of the pivot is then as expected i.e.</p>

<pre><code>1970-01-01 PRINT &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;  
Index: 49 entries, 2001-08-15 to 2013-08-15  
Data columns (total 91 columns):  
ADM 2 non-null values  
ADP 6 non-null values  
AMP 9 non-null values  
.
.
</code></pre>

<p>I&#39;m struggling with actually accessing the pivot data in handle_data but that&#39;s my lack of knowledge.</p>

<p>The general problem you have is converting symbols to SIDs. If Quantopian offered a look-up feature you might be able to progress.</p>

<p>If I make any progress with accessing the data I&#39;ll post a revised version. Meanwhile I have your data minus some daily &#39;duplicates&#39; (they stop the pivot happening) here: <a href="https://raw.github.com/pcawthron/StockData/master/berkshire_new_indexed.csv">https://raw.github.com/pcawthron/StockData/master/berkshire_new_indexed.csv</a></p>

<p>(Ignore the &#39;indexed&#39; in the file name. That was a dead end I wandered up....)</p>

<p>P.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5266bff22ad70ae93c0001cf' id='5266bff22ad70ae93c0001cf'>
<a href='#5266bff22ad70ae93c0001cf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/518772263f25436677000032'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b4654c919122786ae2d24bfd5021075d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/518772263f25436677000032'>Christian B.</a>
</div>
<a UTCms='1382465525000' class='quanto-date posted-at response-posted-at' href='#5266bff22ad70ae93c0001cf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Peter,</p>

<p>could you explain in more detail what those duplicates are? I found some entries with a &quot;inf&quot; value for the column &quot;change&quot;. Did you mean those?</p>

<p>-Chris  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5266c6c1efba519f0a000215' id='5266c6c1efba519f0a000215'>
<a href='#5266c6c1efba519f0a000215'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50b24ec26d284c0200000088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e238d8d7d6bb1f460ed27e0507045632?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50b24ec26d284c0200000088'>Peter Cawthron</a>
</div>
<a UTCms='1382467267000' class='quanto-date posted-at response-posted-at' href='#5266c6c1efba519f0a000215'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Christian,</p>

<p>&#39;Potentially duplicate column headings&#39; is maybe a better term. We want to pivot</p>

<pre><code>MDLZ    15/02/2008  23.50064225  
SNY     15/02/2008  1.1108326  
</code></pre>

<p>to</p>

<pre><code>                 MDLZ                   SNY  
15/02/2008       23.50064225            1.1108326  
</code></pre>

<p>but we can&#39;t do that with:</p>

<pre><code>TT  15/02/2008  70.78325379  
TT  15/02/2008  -100  
USB 15/02/2008  3.193754143  
</code></pre>

<p>P.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5266cd06f290a3e578000223' id='5266cd06f290a3e578000223'>
<a href='#5266cd06f290a3e578000223'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/518772263f25436677000032'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b4654c919122786ae2d24bfd5021075d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/518772263f25436677000032'>Christian B.</a>
</div>
<a UTCms='1382468871000' class='quanto-date posted-at response-posted-at' href='#5266cd06f290a3e578000223'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There&#39;s definitely something wrong :) I&#39;ll check the code that generates the CSV and see if it can be sorted out.</p>

<p>Having multiple actions for one stock on the same day doesn&#39;t make any sense, since a fund can only do one thing (buy into a new position, increase an existing position, decrease an existing position).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='52699c83be72d4fd5b0001b7' id='52699c83be72d4fd5b0001b7'>
<a href='#52699c83be72d4fd5b0001b7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50b24ec26d284c0200000088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e238d8d7d6bb1f460ed27e0507045632?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50b24ec26d284c0200000088'>Peter Cawthron</a>
</div>
<a UTCms='1382653061000' class='quanto-date posted-at response-posted-at' href='#52699c83be72d4fd5b0001b7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Christian,</p>

<p>Thanks to help from Dan, Fawce and Jess we have some progress. Hopefully my questions to them will help improve the &#39;fetcher&#39; documentation if nothing else.....</p>

<p>The good news: you can have the same symbol trading more than once a day if you want. Also there is no need to pivot the data into a DataFrame of multiple symbols per day.</p>

<p>More good news: the algo attached can tell you which symbols are not in the Quantopian data, for example &#39;LIZ&#39; is not. I believe that may be &#39;LIZWI&#39;.</p>

<p>Not so good news: the algo can tell you which symbols are in the Quantopian data but which have not been enumerated by SID in the algo. As you know there is no way at present to automatically import a symbol into the universe of SIDs used by an algo.</p>

<p>Slightly irritating news: because the backtest end date is not available to the algo you need to enter it manually.</p>

<p>The bad news: I&#39;ve entered some symbols but there are quite a few. And they, of course, will change for every data set you have. Please badger Dan to get a solution. I think a &#39;fetcher&#39; option to automatically add the SIDs of all matched symbols to the universe of SIDs used by the algo should be very easy to implement as the matching is done now.</p>

<p>This is the log output:</p>

<pre><code>2002-02-15 handle_data: 35 INFO Buying 46.78793461 of Security(2968 [NEE])  
.
.
2013-08-15 handle_data: 35 INFO Buying 27.36693735 of Security(25010 [USB])

2013-10-23 PRINT Symbols not recognised: [&#39;LIZ&#39;, &#39;CMCSK&#39;, &#39;DOWJB&#39;, &#39;NSRGY&#39;, &#39;STRZA&#39;]

2013-10-23 PRINT Valid symbols not in universe: [&#39;HON&#39;, &#39;NKE&#39;, &#39;ODP&#39;, &#39;ADP&#39;, &#39;BBY&#39;, &#39;CDCO&#39;, &#39;PNC&#39;, &#39;DST&#39;,  
&#39;DUK&#39;, &#39;HCA&#39;, &#39;PIR&#39;, &#39;BUD&#39;, &#39;DF&#39;, &#39;HD&#39;, &#39;LOW&#39;, &#39;LXK&#39;, &#39;TYC&#39;, &#39;AMP&#39;, &#39;COP&#39;, &#39;GE&#39;, &#39;JNJ&#39;, &#39;UPS&#39;, &#39;SNY&#39;, &#39;TGT&#39;, 
&#39;BNI&#39;, &#39;NSC&#39;, &#39;IR&#39;, &#39;UNH&#39;, &#39;BAC&#39;, &#39;MDLZ&#39;, &#39;WLP&#39;, &#39;KMX&#39;, &#39;WHI&#39;, &#39;GSK&#39;, &#39;WBC&#39;, &#39;NRG&#39;, &#39;ETN&#39;, &#39;CEG&#39;, &#39;NLC&#39;, &#39;BDX&#39;,
 &#39;XOM&#39;, &#39;RSG&#39;, &#39;TRV&#39;, &#39;FISV&#39;, &#39;BK&#39;, &#39;IBM&#39;, &#39;MA&#39;, &#39;DG&#39;, &#39;VRSK&#39;, &#39;CVS&#39;, &#39;DTV&#39;, &#39;GD&#39;, &#39;INTC&#39;, &#39;V&#39;, &#39;DVA&#39;, &#39;GM&#39;,  
&#39;LEE&#39;, &#39;VIAB&#39;, &#39;NOV&#39;, &#39;PSX&#39;, &#39;DE&#39;, &#39;MEG&#39;, &#39;PCP&#39;, &#39;ADM&#39;, &#39;KRFT&#39;, &#39;VRSN&#39;, &#39;CBI&#39;, &#39;LMCA&#39;, &#39;DISH&#39;, &#39;SU&#39;]
End of logs.  
</code></pre>

<p>P.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='526b8a69eca6f5a6e700003b' id='526b8a69eca6f5a6e700003b'>
<a href='#526b8a69eca6f5a6e700003b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50b24ec26d284c0200000088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e238d8d7d6bb1f460ed27e0507045632?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50b24ec26d284c0200000088'>Peter Cawthron</a>
</div>
<a UTCms='1382779502000' class='quanto-date posted-at response-posted-at' href='#526b8a69eca6f5a6e700003b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Christian,</p>

<p>I couldn&#39;t resist....</p>

<p>It seems there are 97 symbols in the CSV data so just under the limit of 100 SIDs that can be enumerated in an algo, although three are only traded before the start of the Quantopian data. And &#39;fetcher&#39; will be changing - see <a href=https://www.quantopian.com/posts/proposed-changes-to-fetcher-and-universe-selection>here</a> - which will solve your symbol to SID issue subject to a 150 concurrent SIDs limit.</p>

<p>Have a look at the Cash vs. Positions Value plot. This was bold:</p>

<pre><code>2006-02-16 00:00:00     PG  BUY     15773   $60.79  $958,840.67  
</code></pre>

<p>P.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/accessing-data-via-fetcher-fund-cloning-algorithm'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/accessing-data-via-fetcher-fund-cloning-algorithm'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#76101313121417151d36070317180219061f17185815191b">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
