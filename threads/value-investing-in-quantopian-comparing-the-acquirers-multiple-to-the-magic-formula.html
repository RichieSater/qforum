<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Value Investing in Quantopian: Comparing the Acquirer’s Multiple to the Magic Formula
</title>
<meta content='Karen has written about  her experience  starting up at Quantopian and learning about algorithmic investing. I’ve had a similar experience over the last 5 months. I came in as a product manager in November, without a lot experience in finance and immediately began working on our data business. With our release of fundamentals data, I used that as an opportunity to learn about value investing. Coming into this experience, I expected that the algorithms I would see in use on Quantopian would...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="iKbxzOvNaXnynJ0TbcWdCLZKfnNVfHiV9MIKgMmFOQn0wIeBSTu7mkuBxCIiKjV8jsRdGi+wbY52zdHqY8Bbsg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/value-investing-in-quantopian-comparing-the-acquirers-multiple-to-the-magic-formula' property='og:url'>
<meta content='Value Investing in Quantopian: Comparing the Acquirer’s Multiple to the Magic Formula' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/value-investing-in-quantopian-comparing-the-acquirers-multiple-to-the-magic-formula' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Value Investing in Quantopian: Comparing the Acquirer’s Multiple to the Magic Formula' property='og:title'>
<meta content='Karen has written about  her experience  starting up at Quantopian and learning about algorithmic investing. I’ve had a similar experience over the last 5 months. I came in as a product manager in November, without a lot experience in finance and immediately began working on our data business. With our release of fundamentals data, I used that as an opportunity to learn about value investing. Coming into this experience, I expected that the algorithms I would see in use on Quantopian would...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/value-investing-in-quantopian-comparing-the-acquirers-multiple-to-the-magic-formula">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='55229b9841b13cc3df0001ff'>
<div class='post-container' data-post-id='55229b9841b13cc3df0001ff' id='55229b9841b13cc3df0001ff'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Value Investing in Quantopian: Comparing the Acquirer’s Multiple to the Magic Formula</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1428331416000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Value Investing in Quantopian: Comparing the Acquirer’s Multiple to the Magic Formula&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fvalue-investing-in-quantopian-comparing-the-acquirers-multiple-to-the-magic-formula%3Futm_source%3Dwebsite_share%26utm_campaign%3Dvalue-investing-in-quantopian-comparing-the-acquirers-multiple-to-the-magic-formula%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fvalue-investing-in-quantopian-comparing-the-acquirers-multiple-to-the-magic-formula%3Futm_source%3Dwebsite_share%26utm_campaign%3Dvalue-investing-in-quantopian-comparing-the-acquirers-multiple-to-the-magic-formula%26utm_medium%3Dlinkedin&amp;title=Value+Investing+in+Quantopian%3A+Comparing+the+Acquirer%E2%80%99s+Multiple+to+the+Magic+Formula+%28Josh+Payne%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Using Data' data-tag-id='55c50e7d8d4710ec6e000008' href='/posts/tag/Using-Data/newest'>Using Data</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Show Q' data-tag-id='55c50e7d8d4710ec6e000010' href='/posts/tag/Show-Q/newest'>Show Q</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Research' data-tag-id='55c50e7d8d4710ec6e000018' href='/posts/tag/Research/newest'>Research</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/value-investing-in-quantopian-comparing-the-acquirers-multiple-to-the-magic-formula?utm_source=website_share&amp;utm_campaign=value-investing-in-quantopian-comparing-the-acquirers-multiple-to-the-magic-formula&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Josh Payne" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Karen has written about <a href="https://www.quantopian.com/posts/research-investing-in-women-led-fortune-1000-companies">her experience</a> starting up at Quantopian and learning about algorithmic investing. I’ve had a similar experience over the last 5 months. I came in as a product manager in November, without a lot experience in finance and immediately began working on our data business. With our release of fundamentals data, I used that as an opportunity to learn about value investing.</p>

<p>Coming into this experience, I expected that the algorithms I would see in use on Quantopian would use <a href="http://blog.quantopian.com/fancier-math-must-mean-more-alpha/">“fancy math”</a>, machine learning and other advanced topics. Those types of algorithms are certainly there. Seeing the response to <a href="http://blog.quantopian.com/markowitz-portfolio-optimization-2/">every blog post</a> Thomas writes validates that preconception. But I’ve also seen some relatively simple algorithms based on easily understood hypotheses. Often times following the tenets of value investing, these algos cite influences all the way to <a href="https://www.quantopian.com/posts/fundamental-algo-inspired-by-benjamin-graham">Benjamin Graham</a>.</p>

<p>So as part of my learning process, I did some reading and reached out to a modern advocate of value investing in the modern quantitative world: <a href="http://acquirersmultiple.com">Tobias Carlisle</a>, author of <a href="http://www.amazon.com/Deep-Value-Investors-Contrarians-Corporations/dp/1118747968">Deep Value</a> and <a href="http://www.amazon.com/gp/product/1118328078/">Quantitative Value</a>.</p>

<p>Tobias suggested that we prove out his assertion that the Acquirer’s Multiple (described in Deep Value) can outperform the well known Magic Formula. With guidance from Tobias, Seong Lee, David Edwards and I collaborated on implementing both the Magic Formula and the Acquirer’s Multiple. We built a a single algo that could be switched between the two strategies. That was pretty easy to do because the Magic Formula at it’s core ranks stocks with two simple ratios. Acquirer’s Multiple uses just one of those ratios. </p>

<p>With some effort, we were able to confirm Tobias’ assertion about the performance of the Acquirer’s Multiple. View the notebook to follow our work each step of the way.</p>
</div>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>53 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='5522d17841b13c1c5c00032e' id='5522d17841b13c1c5c00032e'>
<a href='#5522d17841b13c1c5c00032e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/508c2917a86f56020000001f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1d4c3f6d0020f83c1b95744bd7282edb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/508c2917a86f56020000001f'>Fabian Braennstroem</a>
</div>
<a UTCms='1428345211000' class='quanto-date posted-at response-posted-at' href='#5522d17841b13c1c5c00032e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Josh,<br>
very interesting! Though it is not clear to me where I can find the actual code for the backtests?</p>

<p>Thanks!<br>
Fabian  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5522dcf51bc834ed8300038b' id='5522dcf51bc834ed8300038b'>
<a href='#5522dcf51bc834ed8300038b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1428348152000' class='quanto-date posted-at response-posted-at' href='#5522dcf51bc834ed8300038b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Josh P., Thanks for the effort and the insight it affords.</p>

<p>Here&#39;s a quick interview &quot;Toby&quot; gave on this topic: <a href="http://fivegoodquestions.co/season-1/s1e5">http://fivegoodquestions.co/season-1/s1e5</a><br>
And this one was handy too: <a href="http://acquirersmultiple.com/faq/">http://acquirersmultiple.com/faq/</a></p>

<p>So, I looked, I didn&#39;t see where your backtests were hiding. I&#39;m not familiar with your Research Studio so I probably just missed it. What&#39;s the fundy code you used for each variety? </p>

<p>In the end, how many securities did your strats trade in and out of?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5522f20341b13c1c5c0003e5' id='5522f20341b13c1c5c0003e5'>
<a href='#5522f20341b13c1c5c0003e5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1428353541000' class='quanto-date posted-at response-posted-at' href='#5522f20341b13c1c5c0003e5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Fabian, great point.</p>

<p>I ran the backtests separately and then analyzed the results in the notebook shared above (with the get_backtest() method). Here&#39;s the algo.</p>

<p>You can find these context variables in the code which are the main ways to modify the behavior of the algo:  </p>

<pre><code>    #: Choices are mf -> Magic Formula and am -> Acquirer&#39;s Multiple  
    context.ranker_type = &#39;am&#39;  
    #: Time period in days  
    days = 365  
    quarters = 4  
    context.time_periods = [(days/quarters)*i for i in range(0,quarters + 1)]  
    # Total number of stocks to hold at any given time  
    context.max_positions = 30  
    # Number of positions to accumulate each month  
    context.positions_per_month = 3  
    context.minimum_market_cap = 500e6  
    # Used to track the purchase dates of each security  
    context.entry_dates = {}  
    # In order to maximize post tax returns, losing positions should be sold before  
    # the 1 year mark and winning positions should be held longer than one year  
    context.hold_days = {  
        &#39;win&#39;: timedelta(days=375),  
        &#39;loss&#39;: timedelta(days=345)  
    }  
</code></pre>

<p>@Market Tech,</p>

<p>Generally, the algo kept a portfolio of 30 securities (though I experimented with other sizes). Similarly, it rebalances monthly. The best Acquirer&#39;s Multiple variant rebalanced about 3 stocks monthly. It probably turns over the portfolio annually.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='55243810cfdae57af900004f' id='55243810cfdae57af900004f'>
<a href='#55243810cfdae57af900004f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/508c2917a86f56020000001f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1d4c3f6d0020f83c1b95744bd7282edb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/508c2917a86f56020000001f'>Fabian Braennstroem</a>
</div>
<a UTCms='1428437013000' class='quanto-date posted-at response-posted-at' href='#55243810cfdae57af900004f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Josh,<br>
thank you.<br>
Best Regards<br>
Fabian  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55a5fe9b0548bb5ebf0006c5' id='55a5fe9b0548bb5ebf0006c5'>
<a href='#55a5fe9b0548bb5ebf0006c5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55a4f8f66f730fc709000675'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c75c99aec9189f667470a8e8acfc5817?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55a4f8f66f730fc709000675'>Moloth Moloth</a>
</div>
<a UTCms='1436941981000' class='quanto-date posted-at response-posted-at' href='#55a5fe9b0548bb5ebf0006c5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Josh,</p>

<p>Thank you for all your hard work that stuff is brilliant!<br>
On a side note I went through your code and noticed this:  </p>

<pre><code> #: On the first of every month  
    if get_datetime().day == 1:  
</code></pre>

<p>Running a few of my back tests and noticed that this doesn&#39;t get fired if it isn&#39;t a trading day, I have used the following instead:</p>

<pre><code>from zipline.utils import tradingcalendar as tcal  
def last_day_of_month(date):  
    if date.month == 12:  
        return date.replace(day=31)  
    return date.replace(month=date.month+1, day=1) - timedelta(days=1)

def before_trading_start(context):  
    today = get_datetime().date()  
    trading_days = tcal.get_trading_days(tcal.canonicalize_datetime(today.replace(day=1)),  
                                         tcal.canonicalize_datetime(last_day_of_month(today)))  

    if today == trading_days[0].date():  
        log.debug(&quot;First trading day of the month&quot;)  

</code></pre>

<p>Cheers,<br>
Moloth.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55a66168d72e47c18600002c' id='55a66168d72e47c18600002c'>
<a href='#55a66168d72e47c18600002c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1436967276000' class='quanto-date posted-at response-posted-at' href='#55a66168d72e47c18600002c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Great point Moloth. A nice improvement in the reliability of the algo. Alternatively, you could use the <a href="https://www.quantopian.com/help#api-schedulefunction">schedule_function()</a> method that was subsequently introduced. </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='55a706144cc2e1a8ca0002a2' id='55a706144cc2e1a8ca0002a2'>
<a href='#55a706144cc2e1a8ca0002a2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/558d9895debdb55e130001d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b70d15714514366fb1b3bad674e8b6c5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/558d9895debdb55e130001d5'>azad neenan</a>
</div>
<a UTCms='1437009430000' class='quanto-date posted-at response-posted-at' href='#55a706144cc2e1a8ca0002a2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am mystified by how well this algorithm performs. 25% return on an annualized basis is extraordinary. So why is it that more investors don&#39;t use this formula? What is the catch here?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55a730a7bd7319bb200003e7' id='55a730a7bd7319bb200003e7'>
<a href='#55a730a7bd7319bb200003e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/554695a91206d6826a000126'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/88c2459a8c19a403e42b92acae2efb43?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/554695a91206d6826a000126'>JOHN CHAN</a>
</div>
<a UTCms='1437020330000' class='quanto-date posted-at response-posted-at' href='#55a730a7bd7319bb200003e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Josh..<br>
               Ive notice... your using... get_backtest(&#39;54d52277b211f64fbe08dd42&#39;) does research also allow quandl data/multiple stocks to be implemented? or other csv source with a say... 250mb size...historical datas. tnxs  ;)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55a7488c40ecdecaaa00046c' id='55a7488c40ecdecaaa00046c'>
<a href='#55a7488c40ecdecaaa00046c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1437026449000' class='quanto-date posted-at response-posted-at' href='#55a7488c40ecdecaaa00046c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Azad, that&#39;s a good question, it is a fairly genuine curve because the code doesn&#39;t venture very far into negative cash, although on the surface, of course alpha is low, beta high and drawdown could be improved. (284% profit/returns based on amount spent, that&#39;s nearby.)</p>

<pre><code>Returns 305.6%  
Alpha     0.17  
Beta      0.64  
Sharpe    1.28  
Drawdown 44.7%  
</code></pre>

<p>One tiny little thing is that it tries/fails repeatedly to sell off remaining portions of several, these are some of them: AIRN AWE  COX  DRYR HUGH IGEN KYPH NEON OPSW PAR  REM  TKS  TLEO.  I guess one is stuck with them for some reason that I don&#39;t understand.</p>

<p>More significantly, all balancing/rebalancing algorithms inherently suffer from sometimes selling at a loss, just the name of the game. For example, of the 741 securities that the algo encountered, it lost money on quite a few, $75k on MCP, $58k on ZOLT, $55k on IMPV and $52k on WPRT et. al. for many that lost per-share value. There might be some way to ameliorate that, with history, excluding stocks in a downward trend, or stoploss with a particular drop in value. One of those dropped to 1/3 its original price and maybe could have been sold/excluded when it hit 95% or along that line instead (if the downward movement was not sudden), in a context.excludes list.</p>

<p>The losers were made up for by the big winners, QIHU went from $30 to $114 per share and raked in $281k with one buy and one sell of 3460 shares.  PANW made $143k, thanks to a near doubling in price.  PAR is up $172k, tripled. There were at least 105 winners (I&#39;m not seeing everything b/c I didn&#39;t spend time to maneuver around the logging limits).</p>

<p>There are those like WPZ with two purchases, spending $268k for 5263 shares total, while the price has gone down, so at the end those shares are sitting there at $223k (83%), sort of an as-yet unrealized loss I suppose. Those are a few things to think about, as to the catch, on why folks don&#39;t just run with it, I think, maybe. Good luck.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55a7b9afe964f8ee08000695' id='55a7b9afe964f8ee08000695'>
<a href='#55a7b9afe964f8ee08000695'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/554695a91206d6826a000126'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/88c2459a8c19a403e42b92acae2efb43?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/554695a91206d6826a000126'>JOHN CHAN</a>
</div>
<a UTCms='1437055414000' class='quanto-date posted-at response-posted-at' href='#55a7b9afe964f8ee08000695'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Are these..being one.. at research?? coz Ive tried... replicating it too many errors... and there isnt a pdf print out.. if they are more or less.. betting on the same stocks... that way... we can check..to achieve same performance more or less... cheers ;)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55a7be96a101bfa48a0006aa' id='55a7be96a101bfa48a0006aa'>
<a href='#55a7be96a101bfa48a0006aa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1437056665000' class='quanto-date posted-at response-posted-at' href='#55a7be96a101bfa48a0006aa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>John, for your previous question, you can load quandl data in Research. Give it a shot. There is a sample notebook in the tutorials section that outlines the process.</p>

<p>Gary, I&#39;m with you. That said, I&#39;m sure there are people who do pursue this strategy (automated or otherwise), just based on Tobias Carlisle&#39;s and Joel Greenblatt&#39;s books sales numbers.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='55a7d7fa4cc2e1a8ca00072f' id='55a7d7fa4cc2e1a8ca00072f'>
<a href='#55a7d7fa4cc2e1a8ca00072f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/554695a91206d6826a000126'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/88c2459a8c19a403e42b92acae2efb43?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/554695a91206d6826a000126'>JOHN CHAN</a>
</div>
<a UTCms='1437063165000' class='quanto-date posted-at response-posted-at' href='#55a7d7fa4cc2e1a8ca00072f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can we clone your notes... id like to expand on it since  O&#39;Shaughnessy says.. his formula is way... better than ev to evida... copy paste doesnt  cut it too many errors...  which bothers me same codes but does work.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55a7f1e401e4545e9500000a' id='55a7f1e401e4545e9500000a'>
<a href='#55a7f1e401e4545e9500000a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1437069798000' class='quanto-date posted-at response-posted-at' href='#55a7f1e401e4545e9500000a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Sure thing. I&#39;ll need to start a new thread for you to be able to clone the notebook.</p>

<p>Edit: Here&#39;s the link: <a href="https://www.quantopian.com/posts/clone-able-research-notebook-comparing-acquirers-multiple-and-magic-formula">https://www.quantopian.com/posts/clone-able-research-notebook-comparing-acquirers-multiple-and-magic-formula</a>  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='55cb3738ae28467061000352' id='55cb3738ae28467061000352'>
<a href='#55cb3738ae28467061000352'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/558962c3dcd2a6f0f4000080'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a61addc06e0697819d8f4f00a16f9db3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/558962c3dcd2a6f0f4000080'>Martin  Hronec</a>
</div>
<a UTCms='1439381307000' class='quanto-date posted-at response-posted-at' href='#55cb3738ae28467061000352'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Why do you use arithmetic mean and not geometric mean in calculation of annual returns? </p>

<p>I think it should be geometric since its derived from cumulative performance.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55cb68abeb812e24170000b9' id='55cb68abeb812e24170000b9'>
<a href='#55cb68abeb812e24170000b9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1439393966000' class='quanto-date posted-at response-posted-at' href='#55cb68abeb812e24170000b9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It probably wasn&#39;t a conscious decision. You&#39;re welcome to clone the notebook yourself and change things up :)  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='565ef72f734f1dd5e000001a' id='565ef72f734f1dd5e000001a'>
<a href='#565ef72f734f1dd5e000001a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1449064245000' class='quanto-date posted-at response-posted-at' href='#565ef72f734f1dd5e000001a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Quantopian has minutely pricing data, dating back to 2002. So the earliest you can run a backtest on Quantopian is to 2002. Similarly, we have fundamental data exposed back to 2002. We start trading in 2003 in this particular backtest because we need 4 quarters worth of fundamental data to build the rankings.</p>

<p>Note, this algo was written prior to the creation of the Pipeline API on Quantopian. It&#39;s likely much easier to implement this strategy using the Pipeline API instead.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56709fecf51940b164000075' id='56709fecf51940b164000075'>
<a href='#56709fecf51940b164000075'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/567053050a26efaed70000d8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c177659b3cb1876d794f6ab0b28d0c47?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/567053050a26efaed70000d8'>Steve McLaughlin</a>
</div>
<a UTCms='1450221555000' class='quanto-date posted-at response-posted-at' href='#56709fecf51940b164000075'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am new to Quantopian but very interested in the Magic Formula.</p>

<p>I cloned your notebook above and I can&#39;t run it. I get errors that it can&#39;t load algorithms, etc.</p>

<p>Is this no longer available/functional?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5670d4dd5b43ed371a000196' id='5670d4dd5b43ed371a000196'>
<a href='#5670d4dd5b43ed371a000196'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1450235106000' class='quanto-date posted-at response-posted-at' href='#5670d4dd5b43ed371a000196'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, I think the notebook has lots of backtests that aren&#39;t shared publicly so the notebook itself will fail when you try to re-execute those cells. Only the backtests that were shared publicly will work with get_backtest()</p>

<p>You can clone the algorithm in a later response and use that to run your own backtests and analyze the results yourself using get_backtest() in your own copy of the notebook.</p>

<p>Thanks<br>
Josh  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56767b1bfb9e88aab800058a' id='56767b1bfb9e88aab800058a'>
<a href='#56767b1bfb9e88aab800058a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55b882cbc0ede3945900072f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/15c9d72ddb533306db1b262389f0a135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55b882cbc0ede3945900072f'>chan john</a>
</div>
<a UTCms='1450605342000' class='quanto-date posted-at response-posted-at' href='#56767b1bfb9e88aab800058a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>hey Josh... how to eliminate... the 1st one year... and a half... wherein... the algorithm don&#39;t start trading... or no activity ?  its annoying... thanks...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56781d4a11d714e72c000054' id='56781d4a11d714e72c000054'>
<a href='#56781d4a11d714e72c000054'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1450712397000' class='quanto-date posted-at response-posted-at' href='#56781d4a11d714e72c000054'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I agree it&#39;s annoying. I would suggest re-implementing the strategy using the Pipeline API which did not exist when this algo was first written. Ranking stocks is much easier with Pipeline.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='567d74027e03be7ee20004a9' id='567d74027e03be7ee20004a9'>
<a href='#567d74027e03be7ee20004a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55b882cbc0ede3945900072f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/15c9d72ddb533306db1b262389f0a135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55b882cbc0ede3945900072f'>chan john</a>
</div>
<a UTCms='1451062281000' class='quanto-date posted-at response-posted-at' href='#567d74027e03be7ee20004a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Josh... how come... aquarers multiple... perform badly during 2011 to 2015 when it suppose to re balance quarterly ?thanks...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56819c1cdf850a44db00002d' id='56819c1cdf850a44db00002d'>
<a href='#56819c1cdf850a44db00002d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55106752b55837669900059d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/bad45271041ea3f81016fb7ddd7bdeee?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55106752b55837669900059d'>Ujae Kang</a>
</div>
<a UTCms='1451334689000' class='quanto-date posted-at response-posted-at' href='#56819c1cdf850a44db00002d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Per Josh&#39;s algo above, I am not sure what is disadvantage of using &quot;fundamental_df = get_fundamentals&quot;.  I thought Pipeline is supposed to be superior due to its ability to scan thousands of securities.  But based on Josh&#39;s algo, the old style fundamental method also scans thousands of securities.  Has performance issue changed for the old style fundamental method?  In summary what is pros and cons of using &quot;get_fundamentals&quot; vs &quot;Pipeline&quot;? for fundamental based trading (except for getting historical from the pipeline)?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5687f3ff692868da1e0004c1' id='5687f3ff692868da1e0004c1'>
<a href='#5687f3ff692868da1e0004c1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/543826292633ca250f000370'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ea8d783b43e7db272a9583f4fcc417a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/543826292633ca250f000370'>Alex Nunez</a>
</div>
<a UTCms='1451750409000' class='quanto-date posted-at response-posted-at' href='#5687f3ff692868da1e0004c1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I cloned Josh&#39;s algo and when I try to run it it doesn&#39;t execute any buy or sell orders whether I am using &#39;am&#39; or &#39;mf&#39;. Am I missing something?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568a064905c329eb04000506' id='568a064905c329eb04000506'>
<a href='#568a064905c329eb04000506'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5678ea7a9087fe2e2a000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bd9b4b98456907f16605413f08ee343?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5678ea7a9087fe2e2a000001'>jonguk choi</a>
</div>
<a UTCms='1451886159000' class='quanto-date posted-at response-posted-at' href='#568a064905c329eb04000506'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>quite interesting.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568a19e9e6e86c8b0d000317' id='568a19e9e6e86c8b0d000317'>
<a href='#568a19e9e6e86c8b0d000317'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/565615dba67c6b5bbf0008a7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed8af11e6f3285e42fb5039130937b82?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/565615dba67c6b5bbf0008a7'>john john</a>
</div>
<a UTCms='1451891182000' class='quanto-date posted-at response-posted-at' href='#568a19e9e6e86c8b0d000317'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@josh<br>
I would make a magic formula program using pipeline, but I am not that comfortable with pipeline. I feel that the documentation is hard to navigate and a bit confusing. (This is probably just be. Evrything else here is great!) Do you know which pipeline documentation on ranking would be useful to me?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568aa42fdbea08cded0000c5' id='568aa42fdbea08cded0000c5'>
<a href='#568aa42fdbea08cded0000c5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1451926581000' class='quanto-date posted-at response-posted-at' href='#568aa42fdbea08cded0000c5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Ujae,<br>
There is significant advantage of pipeline in this strategy:</p>

<p>get_fundamentals() on any particular simulation day only provides access to the latest known value for a metric on that date. Pipeline provides access those values for potentially large windows of time backwards. This helps avoid the &quot;annoying&quot; problem in the original algo where we don&#39;t have access to multiple quarters&#39; worth of data for the important metrics. The backtest, as a result, has to warm up for 15 months building up enough data history. With pipeline, that&#39;s not required.</p>

<p>@Zachary,<br>
I would walk through this portion of the docs: <a href="https://www.quantopian.com/help/#pipeline-title">https://www.quantopian.com/help/#pipeline-title</a><br>
And also check out the sample algos using pipeline from the docs: <a href="https://www.quantopian.com/help/#sample-pipeline-api">https://www.quantopian.com/help/#sample-pipeline-api</a>  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='568b66a4db141bd59d00055c' id='568b66a4db141bd59d00055c'>
<a href='#568b66a4db141bd59d00055c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55106752b55837669900059d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/bad45271041ea3f81016fb7ddd7bdeee?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55106752b55837669900059d'>Ujae Kang</a>
</div>
<a UTCms='1451976360000' class='quanto-date posted-at response-posted-at' href='#568b66a4db141bd59d00055c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Josh!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56c8d8acdc779407c0000213' id='56c8d8acdc779407c0000213'>
<a href='#56c8d8acdc779407c0000213'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53f737cc804bb1d275000294'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6d7c8814559a6b0c172c3d63416946c5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53f737cc804bb1d275000294'>Value Investor</a>
</div>
<a UTCms='1456003251000' class='quanto-date posted-at response-posted-at' href='#56c8d8acdc779407c0000213'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey @Josh Payne</p>

<p>I&#39;ve amended this model based on <a href="https://www.quantopian.com/posts/acquirers-multiple-based-on-deep-value-number-fundamentals#56c7bd739dc3ede8cf000a1f">some code written in here</a>. It will not make purchases when the market is highly priced (shiller CAPE). This reduces quite a lot of losses. This and reducing the portfolio size down to only 3, not a typo, 3. Seem to have created an unbelievable result. Around 1,388% over the last 14 years (21% annualised return). The sharpe is now 3.26 and sortino is 4.5.</p>

<p>I tried this with max portfolio of 4,5,6,7,8 etc - after around 8 the returns drop quite a lot and the model becomes much more sticky to the SPY price trend.</p>

<p>Question - would this actually work in real life? Have I made a mistake/missing something? (This seems to good to be true)</p>

<p>Please let me know your thoughts when you can!</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56c8f446e02dbb8a01000033' id='56c8f446e02dbb8a01000033'>
<a href='#56c8f446e02dbb8a01000033'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5615d49c688f94df5d0004ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c1b04780b311c87028590bef5005987a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5615d49c688f94df5d0004ef'>Tyson Spoelma</a>
</div>
<a UTCms='1456010315000' class='quanto-date posted-at response-posted-at' href='#56c8f446e02dbb8a01000033'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Nice putting in the CAPE check, Value Investor. I Have you looked at how the model performs at different starting times, i.e. top of 2003, 2007, 2011 and bottom of 2009?</p>

<p>On a similar note, I am much more confident in my model if &quot;X&quot; percentage of the market is trading at cheap EV/EBIT prices. What that X% cut off is, like the CAPE ratio indicator, would be interesting to look into.</p>

<p>An article that caught my eye:<br>
Check out the &quot;Percentage of Non-Financial, US Companies Trading at &quot;Deep Value&quot; prices&quot; graph under the &quot;What Is A Cheap EV/EBITDA Multiple?&quot; subtitle.<br>
<a href="https://hurricanecapital.wordpress.com/2014/12/05/the-acquirers-multiple-fair-companies-at-wonderful-prices/">https://hurricanecapital.wordpress.com/2014/12/05/the-acquirers-multiple-fair-companies-at-wonderful-prices/</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56c905620f85bfcace000477' id='56c905620f85bfcace000477'>
<a href='#56c905620f85bfcace000477'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53f737cc804bb1d275000294'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6d7c8814559a6b0c172c3d63416946c5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53f737cc804bb1d275000294'>Value Investor</a>
</div>
<a UTCms='1456014695000' class='quanto-date posted-at response-posted-at' href='#56c905620f85bfcace000477'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The good thing about CAPE is it&#39;s basically a macro indicator that prices (in general) of the market should drop at some point in the future. Through all of history this has been repeated. I tried many different averages but I found 26.4 (as the maximum CAPE ratio to allow purchasing) to produce the best results.</p>

<p>I&#39;ve just run the code and here&#39;s the results:</p>

<p>Highest price of :<br>
- 2003 until now: 500% (SPY is 119%)<br>
- 2007 until now: 284% (SPY is 47%)<br>
- 2011 until now: 103% (SPY is 55%)</p>

<p>Lowest price of 2009 until now: 359% (SPY is 218%). Worth noting that from lowest of 2009, the model actually underperforms the market for the first 2.5 years. Around 3 year mark it starts to pull away from the SPY.</p>

<p>Also worth noting if you run the model with 20/30 max positions from highs over 2009/11 etc the result are much much worse. It actually underperforms the market quite significantly. It seems the first quartile of the first 20 results perform with the lowest drawdowns. But the best results is with just 3 positions only. Obviously this okay for small investors but not anything over 1M.</p>

<p>BTW, while testing this model I did try to filter based on EV/EBIT below 3 and it actually didn&#39;t perform as well. I think in some years the meaning of this metric changes. As we are dealing with good prices rather than good companies the model seems to have a high sensitivity to the entire market/index/ SPY price.</p>

<p>Great idea - what do you think is the best way to calculate the % of market trading at cheap EV/EBIT? Get total number of stocks in market, then number of stocks trading at AM of 3 or less, then divide one off the other?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56ddd30fecb2d4d7550001ba' id='56ddd30fecb2d4d7550001ba'>
<a href='#56ddd30fecb2d4d7550001ba'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/559be2512492b23da700029f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d6363d0757fc9f28ced0b7a8d85fdd67?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/559be2512492b23da700029f'>Mark Segal</a>
</div>
<a UTCms='1457378068000' class='quanto-date posted-at response-posted-at' href='#56ddd30fecb2d4d7550001ba'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Josh<br>
Hi Josh,</p>

<p>What is the difference between calculating EV/EBITDA and using the ev_to_ebitda ratio provided directly by Morningstar when calculating the Acquirer&#39;s Multiple? </p>

<p>Regards,<br>
Mark  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56dde9474e3768e1c80002bb' id='56dde9474e3768e1c80002bb'>
<a href='#56dde9474e3768e1c80002bb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1457383764000' class='quanto-date posted-at response-posted-at' href='#56dde9474e3768e1c80002bb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>My guess (and this is only a guess without spending an hour or two digging back into things) is that calculating EV/ETBITDA ourselves maintains consistency of time period for data in the calculations. EV and EBITDA in the get_fundamentals() data from Morningstar are for the most recent quarter as are the other metrics. It could be that the ev_to_ebitda is based on a different time frame. Or it could be that we didn&#39;t realize the ev_to_ebitda field was there when we wrote the algo.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5724f9f1aa6696617100017c' id='5724f9f1aa6696617100017c'>
<a href='#5724f9f1aa6696617100017c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/565615dba67c6b5bbf0008a7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed8af11e6f3285e42fb5039130937b82?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/565615dba67c6b5bbf0008a7'>john john</a>
</div>
<a UTCms='1462041078000' class='quanto-date posted-at response-posted-at' href='#5724f9f1aa6696617100017c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Josh P.<br>
When you built the filter for the magic formula, did you compare the programs out puts to the stock picks on Joel Greenblatt&#39;s site? Where the stock&#39;s selected by your program and the site totaly identical for the same date?</p>

<p>I have been working on the pipeline version of these strategies, but for some reason my top 30 stocks and the sites top 30 stocks for the same date don&#39;t totaly match--I have a separate ost about this, but I have not gotten any helpful feedback.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='572766aa43d39a05300001e9' id='572766aa43d39a05300001e9'>
<a href='#572766aa43d39a05300001e9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1462199985000' class='quanto-date posted-at response-posted-at' href='#572766aa43d39a05300001e9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>We did not explicitly check the matching of the chosen stocks. IIRC, there were enough subtle differences in implementation that I assumed there would be differences. Our objective wasn&#39;t to replicate exactly the published results but to attempt to implement the strategies on Quantopian as best we could with the tools at hand.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='573ab000ca30e0fe8c0004cb' id='573ab000ca30e0fe8c0004cb'>
<a href='#573ab000ca30e0fe8c0004cb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57201919e688ad48c3000749'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9b16f5d23399e730b2df242620b5772c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57201919e688ad48c3000749'>Angus Nicholson</a>
</div>
<a UTCms='1463463944000' class='quanto-date posted-at response-posted-at' href='#573ab000ca30e0fe8c0004cb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So this might be more a general question on the Acquirer&#39;s Multiple. But I would assume you want a low rank for AM, but not a negative rank for AM. Because Acquirers are unlikely to want to buy out a company with negative earnings. The logic being, you want high operating earnings but low EV. Does this sound right? Because if you simply just sort the list in ascending order, all the negative numbers, from either negative EBITDA or massive Capex, dominate the top of the list. This is probably my novice eyes, but I didn&#39;t see anything in the AM code to accommodate for negative numbers, or am I just way off track? </p>

<p>And a question on the Magic Formula: Earnings yield comes in a percentage but ROIC can be a number bigger than 1 in certain circumstances. I notice you just rank descending for both inputs and then add them, but they&#39;re not entirely like-for-like comparisons and you would probably have a bigger weighting to ROIC. Given this, do you think it would be better to give more weight in the ranking to earnings yield? </p>

<p>Thanks!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='573cf294657b61784200038a' id='573cf294657b61784200038a'>
<a href='#573cf294657b61784200038a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57070475dd76172ad2000259'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9a11645c4b809dabc52e7f2bccaa11ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57070475dd76172ad2000259'>Brian Cahill</a>
</div>
<a UTCms='1463612064000' class='quanto-date posted-at response-posted-at' href='#573cf294657b61784200038a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Value Investor</p>

<p>What is the reason behind excluding Real Estate, Financials, and Utilities?   I included them and re-ran the backtest.  The return was ~600% as opposed to the ~1400% achieved with those excluded.  I could argue that the code suffers from recency bias if you exclude those sectors.  What do you think?</p>

<p>Thanks for putting this together.  Really good idea  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='573f4581c482d6a6190000ff' id='573f4581c482d6a6190000ff'>
<a href='#573f4581c482d6a6190000ff'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/559be2512492b23da700029f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d6363d0757fc9f28ced0b7a8d85fdd67?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/559be2512492b23da700029f'>Mark Segal</a>
</div>
<a UTCms='1463764360000' class='quanto-date posted-at response-posted-at' href='#573f4581c482d6a6190000ff'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is an updated version of the value algorithm originally published in this post. It fixes a couple of issues that I found, namely,</p>

<p>1) The algorithm updates fundamental data and executes buys once a month instead of once a week. Which I believe was the original intent of the algorithm<br>
2) Also the original version was hardcoded to check if the day is the first of the month. Which means if the first of the month is a holiday or a weekend fundamental data will not get updated. The updated version simply schedules a check on the first trading day of the month.</p>

<p>Also, since the get_fundamentals query is only executed once a month the algorithm runs much faster in Q2.</p>

<p>regards,<br>
Mark  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5740f70ee1fed8c33f0004ad' id='5740f70ee1fed8c33f0004ad'>
<a href='#5740f70ee1fed8c33f0004ad'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5622a26f2b9a17dcbb0006fb'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d9746d1b6fe131e63f6965a92adec42b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5622a26f2b9a17dcbb0006fb'>Ann</a>
</div>
<a UTCms='1463875349000' class='quanto-date posted-at response-posted-at' href='#5740f70ee1fed8c33f0004ad'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Financials, and Utilities are excluded in the original Magic Formula (and a lot of other quantitative stock screens) because the financial structure of those companies is different, and it isn&#39;t an apples to apples comparison with the rest of the stock universe.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57415e1cbd584562f300071c' id='57415e1cbd584562f300071c'>
<a href='#57415e1cbd584562f300071c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56cf439a40d10609460000a9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/76ca0f4fdda8e7d46ba24fe0325db27d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56cf439a40d10609460000a9'>Lucas Lee</a>
</div>
<a UTCms='1463901728000' class='quanto-date posted-at response-posted-at' href='#57415e1cbd584562f300071c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Has anyone implemented a pipeline version of the original algo which doe not need a long time warmup?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5743d4953c3754dfa800089e' id='5743d4953c3754dfa800089e'>
<a href='#5743d4953c3754dfa800089e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57070475dd76172ad2000259'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9a11645c4b809dabc52e7f2bccaa11ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57070475dd76172ad2000259'>Brian Cahill</a>
</div>
<a UTCms='1464063130000' class='quanto-date posted-at response-posted-at' href='#5743d4953c3754dfa800089e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Tar -- good to know  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57454d56c8639cb47a000830' id='57454d56c8639cb47a000830'>
<a href='#57454d56c8639cb47a000830'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57201919e688ad48c3000749'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9b16f5d23399e730b2df242620b5772c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57201919e688ad48c3000749'>Angus Nicholson</a>
</div>
<a UTCms='1464159579000' class='quanto-date posted-at response-posted-at' href='#57454d56c8639cb47a000830'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just a minor tweak to the Magic Formula, putting a 0.7 weighting on earnings yield and 0.3 weighting on ROIC improves the returns considerably. Acquirer&#39;s Multiple still outperforms it, but it is still a perfectly reasonable value screen. The 50-50 weighting lets too many &quot;frothy&quot; stocks in that have high ROIC but it is already largely factored into the price and more.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5749cbc7af1b3399bb000c0e' id='5749cbc7af1b3399bb000c0e'>
<a href='#5749cbc7af1b3399bb000c0e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53371bebe148fd6d6a000064'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/faa796d70df27ec7691e307c446dbded?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53371bebe148fd6d6a000064'>Daniel Landsman</a>
</div>
<a UTCms='1464454092000' class='quanto-date posted-at response-posted-at' href='#5749cbc7af1b3399bb000c0e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Angus. I really like the algo updates. That said, I am working on putting on a VIX limiter for risk mitigation, limiting shorts and potentially leverage, and changing over things to utilize pipeline. Just want to make sure I don&#39;t kill this upside. Still debugging while trying to marry all of these.  Was thinking of tweaking this for VIX <a href="https://www.quantopian.com/posts/poor-mans-vix-slash-vvix">https://www.quantopian.com/posts/poor-mans-vix-slash-vvix</a>. Thoughts?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5749e0f450972b14e6000d1a' id='5749e0f450972b14e6000d1a'>
<a href='#5749e0f450972b14e6000d1a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53f737cc804bb1d275000294'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6d7c8814559a6b0c172c3d63416946c5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53f737cc804bb1d275000294'>Value Investor</a>
</div>
<a UTCms='1464459512000' class='quanto-date posted-at response-posted-at' href='#5749e0f450972b14e6000d1a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I wrote the version that first utilised Shiller CAPE. I&#39;ve seen all the recent updates and would say it makes complete sense to port to the new API, but the returns should be the same.</p>

<p>Which regards to using the VIX, this is very different metric - this is really the fear index rather than current pricing multiples. Barr in the mind the whole purpose of this screen is to find deep value stocks when th market is not overpriced. But like anything you cannot really draw a conclusion without proof so I suggest trying to see the results.</p>

<p>You may out perform the original 1,388% return.</p>

<p>The first thing to achieve is matching/coming close to 1,388% with the new API - I haven&#39;t seen that in any posts since I submitted my version.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='574a0e26dc7147a3bf0001ae' id='574a0e26dc7147a3bf0001ae'>
<a href='#574a0e26dc7147a3bf0001ae'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53371bebe148fd6d6a000064'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/faa796d70df27ec7691e307c446dbded?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53371bebe148fd6d6a000064'>Daniel Landsman</a>
</div>
<a UTCms='1464471088000' class='quanto-date posted-at response-posted-at' href='#574a0e26dc7147a3bf0001ae'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks. I&#39;ll look over your version as well, but agree theoretically it should run the same, just trying to update and clean to be more efficient. </p>

<p>From a theory standpoint, yes the model should take a look and screen for super deep value which should protect against the downside, but sometimes the markets are irrational and for some reason, people are just dumping, it adds a little layer of protection from catching falling knives.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='574b50c156fcac91a4000149' id='574b50c156fcac91a4000149'>
<a href='#574b50c156fcac91a4000149'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/565caea06fc5a569dd0000e2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1358b24aee79b7012bf8297565b6bfa7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/565caea06fc5a569dd0000e2'>Bevan Smith</a>
</div>
<a UTCms='1464553670000' class='quanto-date posted-at response-posted-at' href='#574b50c156fcac91a4000149'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks.  Great to see how the algo has evolved over time.  Definitely a robust methodology with promising results.  Quick question - Is anyone looking to implement a Pipeline API so you don&#39;t have to wait a whole year before the algo  starts trading?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='574bb374b6e6f33934000475' id='574bb374b6e6f33934000475'>
<a href='#574bb374b6e6f33934000475'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/565615dba67c6b5bbf0008a7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed8af11e6f3285e42fb5039130937b82?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/565615dba67c6b5bbf0008a7'>john john</a>
</div>
<a UTCms='1464578936000' class='quanto-date posted-at response-posted-at' href='#574bb374b6e6f33934000475'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Lucas Lee</p>

<p>I am near the end in the implementation of the magic formula using pipeline. However I am having some buying/selling issues that I need to fix.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='577fb490717f61f89d000447' id='577fb490717f61f89d000447'>
<a href='#577fb490717f61f89d000447'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/562545816f0077be2a000054'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/65eed7bd690af7911cb4e82f70d3a8f6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/562545816f0077be2a000054'>Shawn Emhe II</a>
</div>
<a UTCms='1467987092000' class='quanto-date posted-at response-posted-at' href='#577fb490717f61f89d000447'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a pipeline version of the algorithm that I have been working on. The last change I made was to work the trailing twelve month calculation into the Acquirer&#39;s Multiple class when I ran into timeout errors. But I probably won&#39;t be able to work on it again until next week.</p>

<p>For the others in the thread who were looking for a pipeline version, you&#39;re welcome to take a crack at fixing the timeout. I&#39;m not sure if the timeout is coming from the data collection or from the calculations and ranks. My plan of attack is going to be to break out all of the calculations and move them to the rebalance function so that the pipeline is only responsible for providing the data. That will also make sure that the calculations are only performed once a month. If that doesn&#39;t work some additional pre-screening will be required for the value factor masks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='580aa919b902c89dfc000398' id='580aa919b902c89dfc000398'>
<a href='#580aa919b902c89dfc000398'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5529a8ce6e51f0cb42000079'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6327a8b6eb8f6dbe8ff10f87e055a5ce?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5529a8ce6e51f0cb42000079'>Jake Chinitz</a>
</div>
<a UTCms='1477093665000' class='quanto-date posted-at response-posted-at' href='#580aa919b902c89dfc000398'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi everyone, </p>

<p>I&#39;ve been trying to switch the ROIC in the Magic Formula to 6 month price momentum. My code buys the 3 stocks in the first month, but when it&#39;s supposed to buy the next 3 stocks, it crashes. Can someone please help? I&#39;ve backtested this change using Bloomberg and found it to return around 1% better CAGR over 20 years compared to the magic formula.</p>

<p>Thank you very much  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ae1590128948c001e7fdc61' id='5ae1590128948c001e7fdc61'>
<a href='#5ae1590128948c001e7fdc61'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54f9322b9f2d2c309e00034a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/face7a1d2502aebd1c28ce013ea814c9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54f9322b9f2d2c309e00034a'>Stefan Kaehler</a>
</div>
<a UTCms='1524717825000' class='quanto-date posted-at response-posted-at' href='#5ae1590128948c001e7fdc61'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey guys,</p>

<p>I tried converting the acquirers multiple into a pipeline algorithm and i&#39;m unable to generate similar backtests to above. There are two algorithms: the first one uses enterprise_value/(ebitda+capital_expenditure) similar to the algorithm above the other uses  enterprise_value/(total_revenue - (cost_of_revenue - selling_general_and_administration) which I found on the acquirers multiple website <a href="https://acquirersmultiple.com/faq/">here</a>. Any ideas on how to improve these algorithms to get closer to replicating the actual acquirers multiple are welcome!</p>

<p>Thanks,<br>
Stefan</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ae15929dfae4900120ec95b' id='5ae15929dfae4900120ec95b'>
<a href='#5ae15929dfae4900120ec95b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54f9322b9f2d2c309e00034a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/face7a1d2502aebd1c28ce013ea814c9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54f9322b9f2d2c309e00034a'>Stefan Kaehler</a>
</div>
<a UTCms='1524717865000' class='quanto-date posted-at response-posted-at' href='#5ae15929dfae4900120ec95b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is the second algorithm.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ae44369c6d888004581b041' id='5ae44369c6d888004581b041'>
<a href='#5ae44369c6d888004581b041'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/562545816f0077be2a000054'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/65eed7bd690af7911cb4e82f70d3a8f6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/562545816f0077be2a000054'>Shawn Emhe II</a>
</div>
<a UTCms='1524908905000' class='quanto-date posted-at response-posted-at' href='#5ae44369c6d888004581b041'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Stefan,<br>
 You&#39;re using the latest values to calculate the acquirer&#39;s multiple. The original algorithm and description call for the trailing twelve month (ttm) values. This class with build the ttm value in pipeline.</p>

<pre><code>class AcquirersMultiple_ttm(CustomFactor):  
    &quot;&quot;&quot;Calculates the Acquirere&#39;s Multiple using quarterly values  
    Because this data is typically quarterly, splits the window into 4 periods and takes  
    a value from each period. This allows recently released data to be weighed equally with  
    previous quarters.  
    &quot;&quot;&quot;

    inputs = [Fundamentals.enterprise_value,  
              Fundamentals.ebitda,  
              Fundamentals.capital_expenditure]  
    window_length = 252class AcquirersMultiple_ttm(CustomFactor):  
    &quot;&quot;&quot;Calculates the Acquirere&#39;s Multiple using quarterly values  
    Because this data is typically quarterly, splits the window into 4 periods and takes  
    a value from each period. This allows recently released data to be weighed equally with  
    previous quarters.  
    &quot;&quot;&quot;

    inputs = [Fundamentals.enterprise_value,  
              Fundamentals.ebitda,  
              Fundamentals.capital_expenditure]  
    window_length = 252  
    def compute(self, today, assets, out, enterprise_value, ebitda, capital_expenditure):  
        time_periods = np.linspace(0,len(enterprise_value)-1, 4, dtype=int)  
        q_ev = np.take(enterprise_value, time_periods, axis=0)  
        q_ebitda = np.take(ebitda, time_periods, axis=0)  
        q_capex = np.take(capital_expenditure, time_periods, axis=0)  
        np.mean(q_ev / (q_ebitda + q_capex), axis=0, out=out)  
</code></pre>

<p>Attached is a notebook comparing the correlation between the single and ttm values. There may be other tweaks needed in the algorithm, but this is a good place to start.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ae47e40c6d888004581b3cd' id='5ae47e40c6d888004581b3cd'>
<a href='#5ae47e40c6d888004581b3cd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59f1326b32ccd50006975d2e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2582d048309afffea9449aec1b51d051?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59f1326b32ccd50006975d2e'>Doug Baldwin</a>
</div>
<a UTCms='1524923968000' class='quanto-date posted-at response-posted-at' href='#5ae47e40c6d888004581b3cd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Regarding TTM, be aware that picking four evenly spaced dates over the past 252 trading days assumes quarterly reporting dates are evenly spaced, which is not always a valid assumption. A more accurate approach is provided here, <a href="https://www.quantopian.com/posts/trailing-twelve-months-ttm-with-as-of-date">https://www.quantopian.com/posts/trailing-twelve-months-ttm-with-as-of-date</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5af63c2f987dd65d3d0d374f' id='5af63c2f987dd65d3d0d374f'>
<a href='#5af63c2f987dd65d3d0d374f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54f9322b9f2d2c309e00034a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/face7a1d2502aebd1c28ce013ea814c9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54f9322b9f2d2c309e00034a'>Stefan Kaehler</a>
</div>
<a UTCms='1526086703000' class='quanto-date posted-at response-posted-at' href='#5af63c2f987dd65d3d0d374f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the help Shaun! </p>

<p>I&#39;m still having trouble getting the backtest I expect given the success above. Attached is my most recent backtest with TTM AM. Any suggestions are welcome!  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/value-investing-in-quantopian-comparing-the-acquirers-multiple-to-the-magic-formula'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/value-investing-in-quantopian-comparing-the-acquirers-multiple-to-the-magic-formula'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#e1878484858380828aa19094808f958e9188808fcf828e8c">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
