<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
The Gaming of Stock Trading Strategies
</title>
<meta content='Usually, we plan on having one portfolio playing a specific automated stock trading strategy. We find the best strategy we can and go from there. However, when looking at multiple trading strategies to be applied at the same time, the nature of the problem changes. You now have to take into account how these strategies will behave together. It is where you might have to game the strategies you have within your overall portfolio objectives and limitations. For the single strategy scenario the...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="BJxh6qMFM1BnVT8o57ocuSgkqhOXOOa7MyJRlfR72+l4+henAfPhs95IZhmoVbTNEKqJeu3086CxLYr/Xj65Ug==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/the-gaming-of-stock-trading-strategies' property='og:url'>
<meta content='The Gaming of Stock Trading Strategies' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/the-gaming-of-stock-trading-strategies' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='The Gaming of Stock Trading Strategies' property='og:title'>
<meta content='Usually, we plan on having one portfolio playing a specific automated stock trading strategy. We find the best strategy we can and go from there. However, when looking at multiple trading strategies to be applied at the same time, the nature of the problem changes. You now have to take into account how these strategies will behave together. It is where you might have to game the strategies you have within your overall portfolio objectives and limitations. For the single strategy scenario the...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/the-gaming-of-stock-trading-strategies">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5b6c34604ee123003f81bfe1'>
<div class='post-container' data-post-id='5b6c34604ee123003f81bfe1' id='5b6c34604ee123003f81bfe1'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>The Gaming of Stock Trading Strategies</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1533817952000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=The Gaming of Stock Trading Strategies&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fthe-gaming-of-stock-trading-strategies%3Futm_source%3Dwebsite_share%26utm_campaign%3Dthe-gaming-of-stock-trading-strategies%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fthe-gaming-of-stock-trading-strategies%3Futm_source%3Dwebsite_share%26utm_campaign%3Dthe-gaming-of-stock-trading-strategies%26utm_medium%3Dlinkedin&amp;title=The+Gaming+of+Stock+Trading+Strategies+%28Guy+Fleury%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/the-gaming-of-stock-trading-strategies?utm_source=website_share&amp;utm_campaign=the-gaming-of-stock-trading-strategies&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Guy Fleury" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Usually, we plan on having one portfolio playing a specific automated stock trading strategy. We find the best strategy we can and go from there. However, when looking at multiple trading strategies to be applied at the same time, the nature of the problem changes. You now have to take into account how these strategies will behave together. It is where you might have to game the strategies you have within your overall portfolio objectives and limitations.</p>

<p>For the single strategy scenario the solution is simple, and it has a “simple” mathematical representation:</p>

<p>F(t) = F(0)∙(1 + g_bar)^t = F(0) + Σ(<strong>H</strong>∙Δ<strong>P</strong>) -  Σ(<strong>E</strong>xp) = F(0) + n∙x_bar</p>

<p>where g_bar is the portfolio&#39;s average growth rate, and Σ(<strong>H</strong>∙Δ<strong>P</strong>), the strategy&#39;s payoff matrix. It becomes about rates of return, time, and evidently, the initial stake, whatever it is.</p>

<p>In playing multiple strategies, the equation is the same, except for the payoff matrix which is now 3-dimensional: <em>k</em> strategies, by <em>d</em> periods or days, by <em>j</em> stocks for all the <em>n</em> trades taken over the portfolio&#39;s lifespan. Allocation to each strategy could be as simple as F(0)∙1/<em>k</em>. This, giving each strategy its share of the initial capital. It might help to partially diversify risk, not just over stocks, but over strategies as well. Resulting in reduced volatility, reduced drawdowns, reduced betas, but also, most probably reduced alphas, at a cost of a reduced overall CAGR. As a side effect, you would tend to get a smoother equity curve. And, there is a price for that.</p>

<p><strong>All Strategies Are Not Equal</strong></p>

<p>You have a mix of trading strategies. Certainly, they are not all equal. We can order them by outcome and get something like this:</p>

<p>Σ(H_a∙ΔP) &gt; Σ(H_b∙ΔP)  &gt; , … ,  &gt; Σ(H_spy∙ΔP) &gt; Σ(H_z∙ΔP)  &gt; Σ(H_k∙ΔP) </p>

<p>Strategy <strong>H</strong>_a has more profits than strategy <strong>H</strong>_b and so on. As such, you know that strategy <strong>H</strong>_a is the most profitable of the group which is then followed by the others. </p>

<p>The thing to do is to drop all the other strategies and concentrate on your best performer. </p>

<p><strong>H</strong>_a performs better than the average indexer too since it produces more than its benchmark <strong>H</strong>_spy, a surrogate for the market in general. Strategy <strong>H</strong>_a might not be the most desirable, but it is still the most profitable.</p>

<p>Why play anything else than <strong>H</strong>_a since this will only reduce the potential portfolio profit generation? That is the thing. However, there are other dimensions to this.</p>

<p>You might do it if there were other benefits to be had, like more diversification, a smoother equity curve, or for spreading risk not only between stocks but to strategies as well. A better risk management kind of thing. Also, a way to scale up and allocate to larger portfolios.</p>

<p>However, there would be an opportunity or convenience cost for this. It is the difference in profit generation: Σ(<strong>H</strong>_a∙Δ<strong>P</strong>) – Σ(<strong>H</strong>_b∙Δ<strong>P</strong>), and this cost will grow the more you add strategies and the more you add time. The larger the spread between the first two strategies and the others, the higher the cost for this “pseudo-volatility” protection.</p>

<p>It gets worse if Σ(<strong>H</strong>_a∙Δ<strong>P</strong>) &gt;&gt; Σ(<strong>H</strong>_b∙Δ<strong>P</strong>), meaning that the top trading strategy produces a lot more than the next one in line. It is one thing to mix 10 trading strategies close to the same outcome, it is another to depreciate or downgrade your best performer to what might be a much lower combined CAGR level.</p>

<p><strong>Gaming Strategy CAGR</strong><br>
<img src="https://image-proxy.quantopian.com/f1c38f7af8ac03301eb82addb691181a07795470/687474703a2f2f616c706861706f77657274726164696e672e636f6d2f7175616e746f7069616e2f434147525f5374726174732e706e67" /></p>

<p>The top panel in the above chart is a returns table. It gives the future value of $1.00 invested over some time intervals. The higher the rate of return and the more years provided, the higher the overall performance. Common stuff, used for centuries. </p>

<p>You want to know how much $10 million invested would generate, choose the cell you want and simply multiply the numbers by $10 million. A strategy at 10% CAGR will see its $10M portfolio grow to $174.5M over 30 years. If you take 10 of those, your initial capital will need to be $100M which will grow to $1.745B. </p>

<p>But, and that is the point. You do not have the $100M. What you have is the $10M stake which will be divided into the 10 trading strategies. And the outcome will be $174.5M, the same as if you had done only 1 with the total stake. Take 10 strategies similar to  <strong>H</strong>_b having an average 10% CAGR, divide the initial stake and you get: 10∙[(1/10)∙Σ(<strong>H</strong>_b∙Δ<strong>P</strong>)]  ≤ Σ(<strong>H</strong>_b∙Δ<strong>P</strong>)]. It most likely should be less since the 10 next strategies, even though similar, were ordered by their declining payout. Nonetheless, it is good enough as an approximation.</p>

<p><strong>Strategy Performance</strong></p>

<p>The second panel of the above chart shows how many trading strategies at the same CAGR level would be required to achieve the same performance as the strategy at the 30% CAGR. In the beginning, it is not that many, but as you put in more time, the impact becomes considerable. </p>

<p>The stock market game is still a compounding game. Playing for a couple of years is not enough. That is not where the money is. It is at the other end of the time spectrum, at the 30 years+ level.</p>

<p>We could mix say 29 strategies with an averaged 10% CAGR with a single one at the 30% level, and that single strategy would still be able to pull in 83.8% of all the generated profits all on its own. But even this is distorted. Those 29 strategies, each needed their own $10M stake. You could put numbers to this for the 29 strategies sharing an initial $10M stake:</p>

<p>F(t) = $20M + 29∙[(1/29)∙Σ(<strong>H</strong>_10∙Δ<strong>P</strong>)] + 1∙Σ(<strong>H</strong>_30∙Δ<strong>P</strong>) – Σ(<strong>E</strong>xp)</p>

<p>F(t) = $20M + 16.45∙$10M + 2,619∙$10M – Σ(<strong>E</strong>xp)</p>

<p>which accounts for the initial stake only once.</p>

<p>The 30% CAGR strategy Σ(<strong>H</strong>_30∙Δ<strong>P</strong>) would have brought in 99.34% of all the profits of this 30-strategy combination. Should I stress the importance of having at least one such strategy in your portfolio? </p>

<p>But here is the real problem, such strategies are hard to come by, or are they? Evidently, 30% CAGR strategies are. But, not that much. Just over the last week, I took a posted trading strategy on Quantopian and transformed it into such a thing. You can see its conclusion here: <a href="https://www.quantopian.com/posts/the-wazoo-thing">https://www.quantopian.com/posts/the-wazoo-thing</a>  </p>

<p>The strategy&#39;s code is in the public domain, just follow the above link where it is referenced. It could provide you with a starting point to design your own or transform it to what you want to see. All I did was change some numbers, some strategy assumptions. No trading logic or trading procedures were changed. Note that I have not as yet added protective measures to this strategy which would tend to reduce volatility, drawdowns, and further increase performance. You should do that on your own, if you want, and at your own risks.</p>

<p>Within the Quantopian context, especially its contests, this strategy would not qualify since it is long only, has higher volatility and higher drawdown than desired based on their stated requirements. However, they should realize that having low-volatility, low-beta, low-alpha strategies with a strategy like Σ(H_30∙ΔP) would greatly reduce its volatility and beta while raising the entire portfolio&#39;s alpha generation. </p>

<p>But, like in many things: to each their own. Nonetheless, an elementary calculation of volatility for the 30 strategies would give: (29∙0.10  + 1∙0.25)/30 =  0.105 for the case where all 30 strategies got a $10M allocation. The average portfolio volatility would pass from 0.10 to 0.105. And some would like to count this as too much added risk... Incidentally, the same thing would apply when considering drawdowns: (29∙0.10  + 1∙0.55)/30 =  0.115. It would be expected to have overall portfolio drawdown go from -0.10 to -0.115, again, not a lot of added risk. I think Quantopian might be overlooking the obvious. Unless it was their intent or they were already doing this. However, I have not seen anything to that effect on their site. Even though that is what they should do, game their allocations, strategies that is.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>15 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='5b6df4292866e51cf7800e7b' id='5b6df4292866e51cf7800e7b'>
<a href='#5b6df4292866e51cf7800e7b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1533932585000' class='quanto-date posted-at response-posted-at' href='#5b6df4292866e51cf7800e7b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gaming trading strategies is not an indulgence, but it does become inevitable as you grow larger. Evidently, you do need to have more than one strategy to start gaming what you have. </p>

<p>I would point out that people can get Mr. Buffett to manage their money simply by buying Berkshire Hathaway stock. How hard can that be? And as a side note, if you look at the second chart presented below, Mr. Buffett&#39;s portfolio has the same structure, his 6 largest performers, out of his 90 or so stocks in his portfolio, account for over 65% of all his Berkshire Hathaway generated profits.</p>

<p>Notwithstanding, you need a vision of where you want to go and what it will look like for when you look back at what you did and how you got there. </p>

<p>Once the journey is done, at the end of the rainbow, and you did not make it, it is done. There is no coming back with: let&#39;s do it again as if, let&#39;s run the program again. All that will be available is: scrap all that was done and start all over again from scratch with new capital. It is here that you will find so much wasted time and resources just to be sub-optimal. Not even doing better than market averages which were available to the majority and almost for free.</p>

<p>The following chart shows a 12-strategy portfolio. Each having its own CAGR ranging from 2% to 24%. They all started with equal weights (1/12). However, with time (20 years), the higher CAGRs are taking over most of the space. The top 3 alone representing 65% of the total portfolio.</p>

<p><strong>CAGR Distribution. 12 Strategies. 20 Years</strong><br>
<img src="https://image-proxy.quantopian.com/efd5468ccaf16d9f23c32ca3e21cab7e4a839e32/687474703a2f2f616c706861706f77657274726164696e672e636f6d2f7175616e746f7069616e2f434147525f5374726174735f3230792e706e67" /></p>

<p>If you do not have any trading strategies at the higher CAGR levels, the graph might still look about the same, but their values might represent considerably less.</p>

<p>The top performers&#39; impact can be accentuated if you include higher CAGR levels as well as more time as illustrated in the next chart.</p>

<p><strong>CAGR Distribution. 15 Strategies. 30 Years</strong><br>
<img src="https://image-proxy.quantopian.com/ec5e2cbed7bd8c8ce82cdce05a0ab404433c5f68/687474703a2f2f616c706861706f77657274726164696e672e636f6d2f7175616e746f7069616e2f434147525f5374726174735f3330792e706e67" /></p>

<p>Here, the top 3 CAGR strategies account for 76.7% of total return. Even worse, the bottom 10 strategies accounted for less than 8.5% of total portfolio return. Therefore, it is not where one should concentrate his/her efforts.</p>

<p>From all the choices of possible trading strategies that can be part of a multi-strategy portfolio, the lower performers over the long term simply get clobbered, squished by their more powerful siblings. </p>

<p>The only difference you will find in all those trading strategies is some code, where some trading procedures were better adapted to do what was requested of them. And that is: generate the better trading strategies.</p>

<p>Why would you buy trading strategies that aim and do operate below market averages? The real competition is not there, it is at the higher end of CAGRs since one strategy at the 30% CAGR is worth 150 strategies at the 10% CAGR level as illustrated in the previous post. And such a strategy can still be tampered to the level you want.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b6f3259e1a6da00432f2c18' id='5b6f3259e1a6da00432f2c18'>
<a href='#5b6f3259e1a6da00432f2c18'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1534014041000' class='quanto-date posted-at response-posted-at' href='#5b6f3259e1a6da00432f2c18'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @Guy,<br>
I appreciate that you are taking the time &amp; effort to make a point, but honestly i&#39;m not quite sure if i am actually getting it. What I do understand from your posts (both above and also previously over the past few years) are the following .... and please set me on the right path if I have any of these wrong.</p>

<ul>
<li><p>As any fund (e.g. Quantopian) grows in size, it needs to adopt  a &quot;portfolio of strategies&quot; approach. OK, that&#39;s  clear enough and it is what Q is doing.</p></li>
<li><p>The overall benefits to a fund of diversification into multiple strategies that behave differently is analogous to the benefits to a small investor of diversification into multiple different stocks . OK, that&#39;s clear enough. </p></li>
<li><p>Strategies can be ranked in order of their (historic) outcome and, over a sufficiently long timeframe, the overall performance of the fund will be determined and in fact dominated by the performance of the best strategies (as per Pareto-type chart concept). OK, clear enough.</p></li>
<li><p>Your statement: &quot;<em>The thing to do is to drop all the other strategies and concentrate on your best performer.</em>&quot; is rather contentious. The &quot;best performer&quot; is not known in advance but only with the benefit of hindsight. So I assume you are speaking somewhat rhetorically here. Whatever was best in the past may not even come close to the best going forward, and that is basically an unknowable.  Nevertheless, I am reasonably happy to agree that, using historical precedent (or a historical payoff matrix), it makes sense to at least &quot;throw out the worst&quot; anyway.</p></li>
<li><p>I think I understand that you are making the points that:<br>
1)  Reasonably good strategies are not necessarily sooooo hard to come by, and<br>
2) It makes sense to try to focus on those, and<br>
3) Not waste time on strategies that are known to be sub-standard. </p></li>
</ul>

<p>OK, so far so good, and sorry if I&#39;m a bit &quot;slow,&quot; but somehow I feel like maybe I&#39;m still not quite getting exactly what you are driving at, explicitly with regard to what Q is doing? If you were Advisor to Q (or any other fund), what would you advise them to do or to do differently?</p>

<p>Cheers, best regards, TonyM.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b6f49c206e6af00419ab183' id='5b6f49c206e6af00419ab183'>
<a href='#5b6f49c206e6af00419ab183'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1534020034000' class='quanto-date posted-at response-posted-at' href='#5b6f49c206e6af00419ab183'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Tony, nice to see you back. </p>

<p>First, you do get it all. </p>

<p>When we do some backtests on multiple strategies, we can order the results and determine which were the best performers to then add other criteria to sort them based on our preferences. Which is OK. </p>

<p>When dealing with a multi-strategy scenario, you know beforehand that whatever you do going forward, the overall distribution of the benefits generated by your trading strategies will resemble the second chart in my last post. It does not predict which strategies they might be, but that the chart will be similar to the one presented. </p>

<p>Over the past data, you could not help it. Your programs ran their respective courses from start to finish, and then, you tabulated the results. Figured which you liked best and for what reasons. We would all do that no matter the nature of the trading strategies.</p>

<p>Going forward, the problem is different, as you mentioned, since we do not know which strategy will perform best, and we do not know in which order they will come in. </p>

<p>That is where you need to game those strategies. At any time, you can tally the state of each strategy, order them according to your liking, then use reinforcement to favor your best performers to emphasize their lead for the next round. Every step of the way, you can change the weights of the strategies by allocating more to your best performers and less to the also-ran. You will end up with a chart like the second one showing your best performers on top, and your other performers at the bottom with a lesser CAGR. </p>

<p>It&#39;s like having a horse race where you can change your bets every second of the race. At race end, most if not all the money should end up to be on the first few crossing the finish line. You will not have known which would have been the best, but they still will end up to have been in your stable. The more you have to allocate, the more horses (strategies) you will allow to run and the more you will let cross the finish line. What the second chart says is that whatever your trading strategies do, your top performers will carry the day. </p>

<p>Looks like I missed the “s” there “... concentrate on your best performers”.   ;)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7036f86777570047e182b7' id='5b7036f86777570047e182b7'>
<a href='#5b7036f86777570047e182b7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1534080760000' class='quanto-date posted-at response-posted-at' href='#5b7036f86777570047e182b7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a different view of the second chart presented in a prior post. </p>

<p>This time instead of having scaled CAGRs from 2 to 30%, the chart shows 14 strategies operating at 10% and 1 at a 30% CAGR. </p>

<p>The rationale for 14 strategies at 10% is simple. Having 14 strategies at 10% is the same as having 14 strategies that do average at 10% CAGR. So, there is no loss in generalities.</p>

<p><strong>CAGR Distribution. 15 Strategies. 30 Years</strong><br>
<img src="https://image-proxy.quantopian.com/ada27a952a9dd45340b0da2f404a6544dceda490/687474703a2f2f616c706861706f77657274726164696e672e636f6d2f7175616e746f7069616e2f434147525f5374726174735f3330795f512e706e67" /></p>

<p>The chart does emphasize the contribution of the 30% CAGR strategy to the overall portfolio. </p>

<p>That strategy alone generated 91.5% of total profits for this 15-strategy portfolio. The search for that single strategy is on. It should be relatively easy to find. If not, well, keep on searching, find a couple or more. They are just programs after all, some code that translate what you think a trader should do to win the game.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b704a432706560044d692d6' id='5b704a432706560044d692d6'>
<a href='#5b704a432706560044d692d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1534085699000' class='quanto-date posted-at response-posted-at' href='#5b704a432706560044d692d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @Guy, even though you have not stated this explicitly (and perhaps are quite deliberately choosing not to do so explicitly), my interpretation of what you are saying could perhaps (?) be re-phrased as a recommended strategy for running an investment portfolio along the lines of:</p>

<p>a)  Start with a diverse basket of strategies.<br>
b) Based on past performance, throw out the known bad ones and keep a &quot;racing stable&quot; of the best.<br>
c) Keep running with the &quot;best-of-the-best&quot; (by whatever metrics you decide to use to determine &quot;best&quot;) and, as time goes by, continue to dynamically re-weight the running strategies so that, at any given time, the highest weights are always being given to the currently best performing.   </p>

<p>Is what I have written above in fact a reasonable re-statement / paraphrase of your concept, or have I wandered off the rails a bit? If so, how would you suggest &quot;adjusting / correcting&quot; what I have written? </p>

<p>Alternatively, if I have correctly re-stated what you are saying, then presumably this process should be fairly easy to automate as a sort of continuous adaptive optimization (or at least &quot;portfolio re-tuning&quot; process if you don&#39;t like the word optimization). What do you see as being the practical problems in doing that?</p>

<p>Cheers, TonyM.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b70964d2706560041d6951a' id='5b70964d2706560041d6951a'>
<a href='#5b70964d2706560041d6951a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1534105165000' class='quanto-date posted-at response-posted-at' href='#5b70964d2706560041d6951a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tony, you have it right the first time. And the task is not that hard. </p>

<p>The answer has already been provided. You sort out the strategies by performance and whatever other criteria you want. This will give you an ordered set of strategies to your liking where you assign more weights to the best behaving strategies or the ones you like best. The CAGR formula for the k strategies is simple: CAGR_k = [(F(0) + Σ(H_k∙ΔP))/F(0)]^(1/t) -1.</p>

<p>In Quantopian, the payoff matrix is a 3-dimensional array (k-strategies, d-periods, j stocks) and you sort on the k-strategy axis.</p>

<p>Like a very basic thing to do is to keep strategies that behave better than a benchmark like SPY. Strategies are enabled in your portfolio of strategies only if they outperform SPY. The result, evidently, should be that the whole, the average, outperforms SPY, thereby generating your alpha with a higher CAGR than SPY. A strategy can outperform SPY for years at a time. You do not have to guess that much.</p>

<p>As for controlling the thing, it can be done from inside or outside the program. I have done that before. See the program series DEVX ending with DEVX8 for instance where those principles are applied. It&#39;s a 21-year simulation where all trades are the result of random-like functions (entries and exits) and where the strategy is also controllable. See the following as an example:<br>
<a href="https://alphapowertrading.com/index.php/12-research-papers/6-trading-a-buy-hold-strategy" rel="nofollow">https://alphapowertrading.com/index.php/12-research-papers/6-trading-a-buy-hold-strategy</a></p>

<p>You know what your strategies will look like at the finish line (the previously posted charts). The task is to guide your strategies to get there. Not as if every one of them are equals, they are not. You let the few stars shine and enhance their brightness using reinforcement by allocating more to the best performers. </p>

<p>Also, you can re-weight according to your preferences within the front-runners. What I found is that I always have behavioral preferences as in I might like the way a strategy trades compared to another even if they have lesser expectations. And that can also be expressed by favoring that type of strategy.</p>

<p>Strategies can be designed using fundamental data, factors, indicators, and whatever combinations thereof. They can also use directed functions as in: Σ(θ(t)∙H_k∙ΔP) where θ(t) is something you control just as you can control your trading unit function on individual stocks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b70e6cdc9e06200486cd60f' id='5b70e6cdc9e06200486cd60f'>
<a href='#5b70e6cdc9e06200486cd60f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1534125773000' class='quanto-date posted-at response-posted-at' href='#5b70e6cdc9e06200486cd60f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Guy,</p>

<p>I don&#39;t mean any disrespect, but I don&#39;t think you&#39;ll find anyone here arguing against the powerful effect of compound interest. I&#39;m curious however if you&#39;ve given any thought to the difference between ranking strategies (or individual assets for that matter) based on <em>past</em> returns vs ranking strategies based on <em>future estimated</em> returns. Just because a strategy has performed consistently well in the past doesn&#39;t necessarily mean that it will continue to perform well in the future. With the benefit of hindsight, I can quite easily create a strategy with a CAGR in the hundreds, even thousands. That doesn&#39;t mean that it will continue to perform at that CAGR into the future however. This, to me anyway, is the hard part, and what we&#39;re all trying to achieve (just PM the formula directly to me if you have it readily available).</p>

<p>A high estimated future CAGR is also pretty useless unless you also have the financial means (and stomach) to handle its associate volatility and drawdown.  Most people wouldn&#39;t be able to stomach the 55% max drawdown of your strategy, and most investors would pull their money at that time (if not sooner), even if the &#39;right&#39; thing to do might be to &#39;double down&#39; on the strategy. However, how does one distinguish a strategy that&#39;s &#39;just&#39; pushing it&#39;s max drawdown, vs a strategy that&#39;s stopped working? </p>

<p>Also, even if we assume that your strategy will continue to perform at 30% CAGR (I&#39;m not saying it won&#39;t; I quite like the original strategy as well), since it also has an associated annual volatility of about 25%, it could quite easily be beaten by a strategy with estimated future 10% annual return, 5% annual volatility, and 5% max drawdown. &#39;All&#39; you need to do is apply leverage. Applying leverage of just 2x to your strategy would be pretty disastrous however, and you&#39;d be receiving a margin call from your broker way before the expected 110% max drawdown.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7106e7212861003edf69f4' id='5b7106e7212861003edf69f4'>
<a href='#5b7106e7212861003edf69f4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5929c5f4a76c22000d329d92'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5ec18483d35ccb497ca800f820998851?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5929c5f4a76c22000d329d92'>Leo M</a>
<span class='badge medal'></span>
</div>
<a UTCms='1534133991000' class='quanto-date posted-at response-posted-at' href='#5b7106e7212861003edf69f4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Guy, same question as Joakim. Any recommendations on how to keep volatility (and MDD) within Quantopian requirements.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7191e502ecb6004ecf4dac' id='5b7191e502ecb6004ecf4dac'>
<a href='#5b7191e502ecb6004ecf4dac'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1534169573000' class='quanto-date posted-at response-posted-at' href='#5b7191e502ecb6004ecf4dac'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Leo, yes. First, add the protection as suggested. This will lower volatility and drawdowns, mostly drawdowns. Then increase the number of stocks to be handled. It will have for impact to reduce drawdowns and volatility since any price shock from a few stocks will be weighted down.  And finally, mix it with a small group of other Quantopian low-volatility, low-drawdown strategies in order to reduce volatility and drawdowns to what you will find as an acceptable level. There is a caveat in that process too.</p>

<p>I have not looked at the logic behind the strategy&#39;s trading decisions, and I have not changed it either, evidently. My concern was not there. What I wanted to see was the trail left by those decisions (the trades). I look at the big picture, the strategy&#39;s payoff matrix as a big block of data that I can coerce to over/under-weight its behavior. In the last state I left it, meaning before giving it some protection, what the strategy did was operate on “some excuse” to participate in the market. I did not argue or try to find out if the trading logic was good or bad, predictive or not, but I did analyze its tearsheets in detail to see the strategy&#39;s behavior, its averaged way of doing things in light of its portfolio payoff matrix equation.</p>

<p>The series of modifications I brought to that strategy were not: let me try this and see what it does. It was if I increase or decrease that particular number it will increase the number of trades or the average net profit per trade and as a direct consequence increase overall profits. The tearsheets presented were simply to show that it did do what was intended.</p>

<p>The strategy buys stocks it “defined” as rising in a generally rising market. It is not good at all in declining markets. The reason why it does need protective measures. However, whatever its definition for rising prices, it does not know what it is going to buy, when and how much. Stocks are selected to be in the portfolio on the basis they made the list or not. And that decision is relegated to the 12th decimal! Could I say that the strategy might still be operating on market noise. But, that might not matter much. Look at the trail the strategy leaves behind, look at its payoff matrix. There it wins. Not just for a few months but for 15 years.</p>

<p>Nonetheless, the strategy is slowing down. Part of it due to alpha decay but also part of it, and a big part, due to the trading strategy&#39;s decision process where less and less candidates make the list. That too needs to be addressed, even prior to giving it protection.</p>

<p>Regardless, the whole point is not there. The point is: whatever the setup of your multi-strategy portfolio, the sum of their payoff matrices will produce something similar to the charts presented that we like it or not. You will always be able to sort the outcome of a group of trading strategies. Period. And the total outcome will look like those charts. Therefore, maybe we should plan and help our strongest strategies occupy most of that space. They are easy to identify, they are the front-runners of that group of strategies in this race to the finish line.</p>

<p>Hopefully, this also answered @Joakim&#39;s questions.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b71a4b32128610047df6e11' id='5b71a4b32128610047df6e11'>
<a href='#5b71a4b32128610047df6e11'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/598a1a0d40da7032bc27e6f6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d7776b021cbcd0f62b56acb7de7a354?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/598a1a0d40da7032bc27e6f6'>Ivory Ant</a>
</div>
<a UTCms='1534174387000' class='quanto-date posted-at response-posted-at' href='#5b71a4b32128610047df6e11'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah, it&#39;s easy, just pick the stocks that are going to perform best this year. Buy low, sell high, it&#39;s what I&#39;ve been saying all along.</p>

<p>(In all seriousness: you&#39;re basically describing a momentum strategy here, which works, sometimes, and not at other times)</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b72197802ecb60042cf519d' id='5b72197802ecb60042cf519d'>
<a href='#5b72197802ecb60042cf519d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1534204280000' class='quanto-date posted-at response-posted-at' href='#5b72197802ecb60042cf519d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>General Stuff to Consider</strong></p>

<p>My suggestion is: pick something, whatever it is and deal with it. The future will not bring you back the past. However, your trading procedures if not your trading policies could make it so that you will win nonetheless. And that is where one should concentrate. Whatever trading strategy you design, you will not be able to be wrong all the time. Try it, you will see. And if you do manage that feat with a large number of trades, I&#39;m a potential buyer of that strategy.</p>

<p>Your program will not adapt to what is coming if it is not programmed to do so. That sounded relatively simple. </p>

<p>Out of the 2,000 something stocks in the QTU, you are asked to pick some 500+ stocks based on some fundamental data, factors, indicators, or whatever data series you can find that has merit in your eyes or somebody else&#39;s.</p>

<p>So, every day, or whichever day you want, but at least once in a while, you need to pick one combination of stocks from n!/(k!∙(n-k)!) possible choices. Which means you pick one such group of stocks out of 5.6^486+ possible combinations. That is not a small number!</p>

<p>I say all the computers on this planet could not even make a dent in such a search problem for the best combination, even if you gave those machines 10 billion years to do so. Let alone do a Monte Carlo on the thing. And, this applies that you look at past or future data. </p>

<p>You can imagine that the problem is even harder to solve, if not currently impossible when dealing with future data. At least, over past data, you had only one recorded timeline available, only one price matrix <strong>P</strong>. Going forward, you enter a probabilistic quasi-infinite multiverse quagmire where more than chaos dominates. </p>

<p>It is as if some do not realize how singular and unique their trading strategies really are. It might have been interesting over some past market data, but that was just an appetizer to give you a taste of what your trading strategy could do and how it could behave. The real test, the live test is still out there to be had. That one will take time to show its merits. And, I think it will take more than just a few months.</p>

<p>Whatever your program selects, it is in its own tiny, really tiny speck in this humongous universe of possible variations on its huge universe of possible themes. A way of saying that your program might be so unique that there is nothing identical out there. </p>

<p>Therefore, one should not worry about someone reverse engineering their code. If you make your code public in some way, like putting it on someone else&#39;s machine for all to see, clearly your protection against other&#39;s quest to reverse engineer just disappeared.</p>

<p>Can you over-fit if the trading strategy you designed is so unique that it will do what it did for the test you ran, but will have to face a totally new price matrix <strong>P</strong> going forward?</p>

<p>You built this program, it is set in stone with hard-coded trading procedures. You know that future price series will be different, but seem to not accept that your program will stay the same. And, then you want it to give you the same results as your backtest on new data going forward.</p>

<p>Doing a backtest is only to give you an indication that what you have in mind might have worked in the past and could, therefore, be somehow applicable going forward. If your trading procedures are “technically” sound, they should apply going forward whatever will be thrown at them. That is where your trading strategy needs to specialize in order to produce the best portfolio payoff matrix. Will it be the best? Most probably not. Not even close. It is not the object of the game. Will it be good enough to outperform your peers, or what is out there? This will depend entirely on you and what you put in your code. I will add: definitely you can outperform.</p>

<p>You want to know if your strategy has value? Then do the homework, make the long-term tests. Give it adverse conditions, put in all the frictional costs, make it endure. See and analyze what it does and how it behaves in all types of markets, especially over extended periods of time. Enhance the strengths, filter the trading decisions even override them, and eliminate or at least attenuate the weaknesses. </p>

<p>The price matrix <strong>P</strong> you are seeing is the same for everyone. It is not something you control. The only way you can be different will be the strategy you implement in your code. The outcome will be your portfolio&#39;s payoff matrix: Σ(<strong>H</strong>∙Δ<strong>P</strong>). You need a long-term vision of what your trading strategy is going to do. Going from one trade to the next, period to period, is too short-sighted. Getting to the finish line just to say: “... oops”, most certainly is not the way to go. Plan for that finish line, it is way farther than 6 months. Backtest not just over a few years like I often see on Quantopian. Make sure that your trading strategy can handle it, meaning by that, that it can survive what will be thrown at it for years and years.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b755480f9d6fb004334d6cd' id='5b755480f9d6fb004334d6cd'>
<a href='#5b755480f9d6fb004334d6cd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1534416000000' class='quanto-date posted-at response-posted-at' href='#5b755480f9d6fb004334d6cd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @Guy, up to 3-4 days ago, I was carefully following your logic, checked back several time to see if I was indeed on track with you and found that I was. LeoM &amp; Joaquim came in at that point with their comments, basically saying yes, we are also on-board with these ideas and no-one here is disagreeing. OK, so far so good, and I thought we were moving forward.</p>

<p>My hope was to move the discussion on from here and attempt to tease out of this some firm practical suggestions as to how to implement these ideas which, in concept, we all agree upon. Unfortunately we seem to have slipped back into the philosophical which is not specific enough to be helpful. I will try to steer us, if I can, back to more practical aspects.</p>

<p>For my part, I have NOT personally conducted any multi-portfolio studies of my own. However I do have some experience that I think is relevant here and which may perhaps (I hope) serve as a simple analogue that will help elicit practical comments. Some years back I was looking at some characteristics of very simple moving average systems and trying to address the problem of what is the &quot;best&quot; value of moving average to use in a practical way. Doing some sort of optimization is NOT the answer. It shows what worked best in the past, but is of little value going forward, except that it may perhaps suggest values that are NOT useful and are best thrown away.  </p>

<p>This, I think, may serve as a very simple analogue for my comment  of 3 days ago that was applied to your (@Guy&#39;s) original thread regarding multi-portfolios, in which I paraphrased your/his concepts as:</p>

<p>a) <em>Start with a diverse basket of strategies.<br>
b) Based on past performance, throw out the known bad ones and keep a &quot;racing stable&quot; of the best.<br>
c) Keep running with the &quot;best-of-the-best&quot; ... and ... continue to dynamically re-weight the running strategies so that, at any given time, the highest weights are always being given to the currently best performing.</em></p>

<p>And then my question to you (and I&#39;m still hoping for an answer)   &quot;<em>....... how would you suggest adjusting / correcting</em>&quot; ?</p>

<p>In an attempt to get at some answers, I will continue with my simple case of a single MA system as a plausible analogue. What I did was to look at various possible suggestions, OTHER than anything based on optimization using past history. Some suggestions that came up, which I tried, were:</p>

<ul>
<li><p>From Perry Kaufman: Pick several different MA length (parameter in this case rather than system) values and run these together, either with either equal or varying amounts actual money assigned to each, or else with all but one being run as &quot;shadow&quot; systems (with no actual money) and switching into the &quot;best&quot; one as this changes over time. In fact this also corresponds to one particular case of dynamically weighted systems.</p></li>
<li><p>Single system with adaptive parameter value for MA. In fact there are quite a few well-known systems that try to do this. (For example see Kaufman &quot;New Trading Systems &amp; Methods&quot;, Wiley , Ch. 17 entitled &quot;Adaptive Techniques&quot;), or alternatively Kalman Filters. </p></li>
</ul>

<p>The problem in ALL of these that I attempted, whether (sub-)system switching or continuous parameter adaptation, is that the decision process is either based on past performance or on some forecast (which itself is also calculated based on past performance), and either way if we make the response and switching or re-calculation too slow then it is like &quot;driving by looking in the rear-view mirror&quot; with too much LAG, or alternatively if we make the response too fast then it is like &quot;driving by looking in the rear-view mirror&quot; with too much OVERSHOOT.  </p>

<p>In conclusion, I found it difficult to come up with good ROBUST solutions even for one single (composite) system, which is what I am suggesting as a simplified analogue for the kind of decision process that is required in the multi-portfolio approach that Guy is discussing.</p>

<p>If you do not believe that my example might be a reasonable simple analogue for what is required with a portfolio approach, then I invite you to suggest a better analogue. </p>

<p>However, if you think my comments above are at least partly applicable, then I invite you to suggest HOW IN PRACTICE we might extrapolate to get something practical out of this with regard to @Guy&#39;s conceptual development regarding portfolios. Please can we keep this on a practical, experience-based level, rather than on generalized philosophical aspects that no-one is arguing about.</p>

<p>Cheers, best regards, TonyM.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b75be54e6d8520045a34131' id='5b75be54e6d8520045a34131'>
<a href='#5b75be54e6d8520045a34131'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1534443092000' class='quanto-date posted-at response-posted-at' href='#5b75be54e6d8520045a34131'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tony, yes, I agree with everything you said. And, all of it should end up in practical systems. Otherwise, what&#39;s the use?</p>

<p>What I have stated many times in these Q forum threads is that: there are a huge number of trading strategies that can be worthwhile. It is not looking for the ultimate strategy but finding something that is acceptable or that we can transform into acceptable and that can outperform the averages. Not under someone else&#39;s conditions but according to our own preferences and tolerance levels. Then, we need to game what we have found since these strategies will not all be of equal value.</p>

<p>For example, a few days ago, the strategy “Trend Follow Algo” made the top of the newest thread for whatever reason, it does not matter. It was described as a “might be useful” kind of thing by the initial poster. Nonetheless, I had it pass my preliminary acid tests to see if it could grab my interest. You had some critical analysis on it including totally destroying it. But such things for me did not matter. I was looking for something that had “some excuse” to execute a trade and that I could transform to be more productive. There it was at the top of the list. I have not looked a the logic of the trade triggering mechanics yet but I do suspect that it will be related to some moving average of some kind. And therefore, fits in the moving average theme you referenced. And presently, I am gaming the strategy to see where it can go. Notice that it is not the only trading strategy I&#39;ve enhanced on Quantopian using the same methods.</p>

<p>Yes, if you optimize your past moving average crossover system you might find that the 37.328914756102 SMA is the best. And yes, for obvious reasons it will not work that good going forward. But no matter, going forward you still have a moving average crossover system. It most probably might not be optimal, but nonetheless, you could game the strategy to be more productive. And simulations should help you do that. Evidently, you will find that you should be less sensitive than responding to a 12-decimal decision thing and you will probably change the structure of the program itself to be more resilient to price change.</p>

<p>Now, to answer the real question. How do you go about monitoring your horse race? </p>

<p>By keeping a long memory. (philosophical? Maybe, but see what follows.)</p>

<p>What I see on Quantopian are strategies that never look back more than a year or so in their past and often shorter. Nothing beyond those rolling windows is remembered and therefore none of it is there to influence what is coming next. Those strategies having no memory might have no vision of their future either. All they have is this vague short-term memory of things past (LAG).</p>

<p>The solution is in the payoff matrix equation itself:</p>

<p>$$ F(t) = F_0 \cdot (1 + \bar g)^t = F_0 + \sum (H \cdot \Delta P) -  \sum (Exp) = F_0 + n \cdot \bar x $$</p>

<p>You sort the portfolio&#39;s 3-dimensional payoff matrix by strategy (axis=0) divided by the total sum of the payoff matrix. </p>

<p>You get the sorted strategy weights to which you apply a decaying reinforcement function \( \Delta w_k \) that will favor the more productive and gradually reduce the weights of the lesser ones to minimal or oblivion. This will set a merit classification for your trading strategies. Note that the payoff matrix is a long-term memory structure, not only that, it remembers every single trade executed in every strategy in the portfolio.</p>

<p>The nature of your trading strategies is secondary. The procedure will sort them out by performance, or other metrics if you want, and provide reinforcement feedback to the front-runners while neglecting the also-ran making with time your portfolio strategy weights appear in order of portfolio impact as depicted in the presented charts.</p>

<p>Now to simplify the work, the payoff matrix equation itself again provides the answer. </p>

<p>The 3-dimensional payoff matrix could be of considerable size: 30 strategies \(\times\) 2,000 stocks \(\times\) 5,040 trading days (20 years). This is over 300 million data entries. Not just for the payoff matrix, but for the holding matrix, the price and price difference matrices and any other that will be needed by the strategy itself for decision making. You would spend all the time appending rows and columns to this set of ever-growing mathematical contraptions. As if saying that this is more trouble that you would like. </p>

<p>Note that the portfolio payoff matrix equation do bear equal signs. The outcome of \(\sum (H \cdot \Delta P) \)  is equivalent to \( n \cdot \bar x \). So, sort the strategies on their respective \( n \cdot \overline {x} \) numbers and divide by their total to get your weights. </p>

<p>This took the 300 million entry payoff matrix and reduced it all to a 30-element vector which you can now carry around with ease. This is more than just data compression. It is why we need to keep track of these numbers within the program and let them guide the ensemble of strategies to their destination based on their merits. Let them prove that they merit your top accolades, let them perform or else. </p>

<p>It is why I like the 
<code>
round_trips=True  
</code> option in the tearsheets since it is the place to get the last two numbers that synthesize all the trading activity of the payoff matrix.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7abc154fed7c004aa1bc19' id='5b7abc154fed7c004aa1bc19'>
<a href='#5b7abc154fed7c004aa1bc19'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/598a1a0d40da7032bc27e6f6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d7776b021cbcd0f62b56acb7de7a354?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/598a1a0d40da7032bc27e6f6'>Ivory Ant</a>
</div>
<a UTCms='1534770197000' class='quanto-date posted-at response-posted-at' href='#5b7abc154fed7c004aa1bc19'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It&#39;s still a simple momentum approach to portfolio management though. You&#39;re assuming the best-performing strategies (highest momentum) will continue to perform best in the (near-)future.</p>

<p>We all know it isn&#39;t that simple, right? Else we could just generate 1000 random strategies, select the best performing ones, and sit back and relax.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b7acfcb4fed7c0044a1bc5c' id='5b7acfcb4fed7c0044a1bc5c'>
<a href='#5b7acfcb4fed7c0044a1bc5c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1534775243000' class='quanto-date posted-at response-posted-at' href='#5b7acfcb4fed7c0044a1bc5c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Ivory, yes it is a momentum approach to portfolio management. You always want the best in your portfolio and have a long-term vision of the end results.</p>

<p>A small example for the Quantopian world. You have KO and PEP. You can go long KO and short PEP in equal amounts in a mean-reversal strategy to make it market-neutral (pairs trading or whatever). You make it a short-term trading thing. Sometimes it works and sometimes it does not. Mostly due to the time slicing.</p>

<p>However, a momentum trader observes from the long-term data that PEP&#39;s CAGR is higher than KO&#39;s. It has been so since late 1974 (some 44 years). And the reverse to the mean guy is still waiting for the spread to go down. Meanwhile, the player with a long-term vision has been riding PEP all along while ignoring KO. Unless KO, in his ensemble of stocks, is still higher than the lowest performing stock in his 200-stock or more portfolio. And, even in such a case, KO would not be shorted, it would also be a long position.</p>

<p>You could go long PEP and short KO for a positive momentum spread. All the KO short position would do is eat up PEP&#39;s CAGR, force paying interest on its margin, and pay KO&#39;s dividends. You would see that a lot of PEP&#39;s CAGR simply disappears. On the other hand, what you got out of it is lower volatility, lower drawdowns but most importantly, much less money. Sorry, that is a bad word, make it a return deprived portfolio.</p>

<p>As silly as it may seem, taking at random a thousand different trading strategies and sorting them out by their respective payoff matrices might effectively be more productive than you might think. All you need is that those strategies have basic characteristics which are more related to their environment than anything else. They should all trade over extended periods of time (with 10, 15, 20-year backtests), and they all should make a lot of trades during that period so that their payoff matrices demonstrate something statistically significant. And you could take the best few, something like the best 10 or more depending on the initial capital you want to allocate to each strategy in your portfolio.</p>

<p>Surprisingly, that is what we all do using the Quantopian platform.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/the-gaming-of-stock-trading-strategies'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/the-gaming-of-stock-trading-strategies'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#87e1e2e2e3e5e6e4ecc7f6f2e6e9f3e8f7eee6e9a9e4e8ea">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
