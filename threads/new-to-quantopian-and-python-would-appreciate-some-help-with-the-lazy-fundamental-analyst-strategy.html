<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
New to Quantopian and Python -would appreciate some help with &#39;The Lazy Fundamental Analyst&#39; strategy
</title>
<meta content='Hi,  I&#39;m new to both Quantopian and Python.  I&#39;d be very grateful if somebody could take a look at my code below, and tell me how I could (i) correct and (ii) execute it as a trading strategy. I&#39;m trying to move away from Portfolio 123 and import this strategy into Quantopian I took the strategy from &#39;The Lazy Fundamental Analyst Healthcare&#39; by Fred Piard. For reference, the strategy is labelled &#39;Russell 2000 Healthcare Hedged&#39; on pg 74. Eventually, I hope to move all the strategies I find...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="drpP3UAj4KhiLZiqljNIHleO0l8z8DWJ8WCmtJqSb/0K3DmQ4tUyS9swwZvZ3OBqbwDxNkk8IJJzb33eMNcNRg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/new-to-quantopian-and-python-would-appreciate-some-help-with-the-lazy-fundamental-analyst-strategy' property='og:url'>
<meta content='New to Quantopian and Python -would appreciate some help with &#39;The Lazy Fundamental Analyst&#39; strategy' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/new-to-quantopian-and-python-would-appreciate-some-help-with-the-lazy-fundamental-analyst-strategy' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='New to Quantopian and Python -would appreciate some help with &#39;The Lazy Fundamental Analyst&#39; strategy' property='og:title'>
<meta content='Hi,  I&#39;m new to both Quantopian and Python.  I&#39;d be very grateful if somebody could take a look at my code below, and tell me how I could (i) correct and (ii) execute it as a trading strategy. I&#39;m trying to move away from Portfolio 123 and import this strategy into Quantopian I took the strategy from &#39;The Lazy Fundamental Analyst Healthcare&#39; by Fred Piard. For reference, the strategy is labelled &#39;Russell 2000 Healthcare Hedged&#39; on pg 74. Eventually, I hope to move all the strategies I find...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/new-to-quantopian-and-python-would-appreciate-some-help-with-the-lazy-fundamental-analyst-strategy">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='593e75939b30c1000d92684c'>
<div class='post-container' data-post-id='593e75939b30c1000d92684c' id='593e75939b30c1000d92684c'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>New to Quantopian and Python -would appreciate some help with &#39;The Lazy Fundamental Analyst&#39; strategy</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/515406146bf4f56c8d00001d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5fc72e9ca080dd860f73e42d2aa72fa2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/515406146bf4f56c8d00001d'>Alexander Angerer</a>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1497326942000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=New to Quantopian and Python -would appreciate some help with &#39;The Lazy Fundamental Analyst&#39; strategy&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fnew-to-quantopian-and-python-would-appreciate-some-help-with-the-lazy-fundamental-analyst-strategy%3Futm_source%3Dwebsite_share%26utm_campaign%3Dnew-to-quantopian-and-python-would-appreciate-some-help-with-the-lazy-fundamental-analyst-strategy%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fnew-to-quantopian-and-python-would-appreciate-some-help-with-the-lazy-fundamental-analyst-strategy%3Futm_source%3Dwebsite_share%26utm_campaign%3Dnew-to-quantopian-and-python-would-appreciate-some-help-with-the-lazy-fundamental-analyst-strategy%26utm_medium%3Dlinkedin&amp;title=New+to+Quantopian+and+Python+-would+appreciate+some+help+with+%27The+Lazy+Fundamental+Analyst%27+strategy+%28Alexander+Angerer%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Seeking Help' data-tag-id='55c50e7d8d4710ec6e000003' href='/posts/tag/Seeking-Help/newest'>Seeking Help</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/new-to-quantopian-and-python-would-appreciate-some-help-with-the-lazy-fundamental-analyst-strategy?utm_source=website_share&amp;utm_campaign=new-to-quantopian-and-python-would-appreciate-some-help-with-the-lazy-fundamental-analyst-strategy&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Alexander Angerer" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Hi, </p>

<p>I&#39;m new to both Quantopian and Python. </p>

<p>I&#39;d be very grateful if somebody could take a look at my code below, and tell me how I could (i) correct and (ii) execute it as a trading strategy. I&#39;m trying to move away from Portfolio 123 and import this strategy into Quantopian</p>

<p>I took the strategy from &#39;The Lazy Fundamental Analyst Healthcare&#39; by Fred Piard. For reference, the strategy is labelled &#39;Russell 2000 Healthcare Hedged&#39; on pg 74. Eventually, I hope to move all the strategies I find interesting in this book to Quantopian</p>

<p>Essentially, the strategy is as follows: </p>

<ol>
<li>Rank 20 healthcare companies (as classified by GICS) with the lowest Price/Sales<br></li>
<li>The universe is the Russell 2000<br></li>
<li>50% of portfolio AUM is long these 20 healthcare stocks, 50% of AUM is short S&amp;P index<br></li>
<li>The 20 stocks each have a position size of 2.5% of portfolio AUM<br></li>
<li>Portfolio is rebalanced every 4 weeks<br></li>
<li>No leverage utilised</li>
</ol>

<p>As I&#39;m new to Python, I took some related examples (<a href="https://www.quantopian.com/posts/introducing-the-pipeline-api">https://www.quantopian.com/posts/introducing-the-pipeline-api</a>) I found on the forum and meshed it together. The code doesn&#39;t work so would definitely appreciate any pointers</p>

<p>Thank you. </p>

<pre><code>from quantopian.algorithm import attach_pipeline, pipeline_output  
from quantopian.pipeline import Pipeline  
from quantopian.pipeline import CustomFactor  
from quantopian.pipeline.data.builtin import USEquityPricing  
from quantopian.pipeline.data import morningstar  
from quantopian.pipeline.classifiers.morningstar import Sector


# Create Price to Sales custom factor  
class Price_to_sales(CustomFactor):  
    # Pre-declare inputs and window_length  
    inputs = [morningstar.valuation_ratios.ps_ratio]  
    window_length = 1  
    # Compute factor1 value  
    def compute(self, today, assets, out, ps_ratio):  
        out[:] = ps_ratio[-1]

def initialize(context):  
    pipe = Pipeline()  
    attach_pipeline(pipe, &#39;ranked_2000&#39;)  
    my_sectors = [206] #&quot;Healthcare&quot;  
    sector_filter = Sector().element_of(my_sectors)  
    # Create list of all criteria for securities worth investing in  
    tradable_securities = {  
    &#39;not_wi&#39;:not_wi,  
    &#39;primary_share&#39;:primary_share,  
    &#39;common_stock&#39;:common_stock,  
    &#39;not_otc&#39;:not_otc  
    }  

    pipe_screen = (sector_filter)  

    # Create, register and name a pipeline  
    pipe = Pipeline(columns=tradable_securities, screen=pipe_screen)  

    # Add the factor defined to the pipeline  
    price_to_sales = Price_to_sales()  
    pipe.add(price_to_sales, &#39;price to sales&#39;)  

    # Create and apply a filter representing the top 2000 equities by MarketCap every day  
    # This is an approximation of the Russell 2000  
    mkt_cap = MarketCap()  
    top_2000 = mkt_cap.top(2000)  
    # Rank price to sales and add the rank to our pipeline  
    price_to_sales_rank = price_to_sales.rank(mask=top_2000)  
    pipe.add(price_to_sales_rank, &#39;ps_rank&#39;)  
    # Set a screen to ensure that only the top 2000 companies by market cap  
    # which are healthcare companies with positive PS ratios are screened  
    pipe.set_screen(top_2000 &amp; (price_to_sales&gt;0))  
    # Scedule my rebalance function  
    schedule_function(func=rebalance,  
                      date_rule=date_rules.month_start(days_offset=0),  
                      time_rule=time_rules.market_open(hours=0,minutes=30),  
                      half_days=True)  
    # Schedule my plotting function  
    schedule_function(func=record_vars,  
                      date_rule=date_rules.every_day(),  
                      time_rule=time_rules.market_close(),  
                      half_days=True)  
    # set my leverage  
    context.long_leverage = 0.00  
    context.short_leverage = -0.00 

def before_trading_start(context, data):  
    # Call pipelive_output to get the output  
    context.output = pipeline_output(&#39;ranked_2000&#39;)  
    # Narrow down the securities to only the 20 with lowest price to sales &amp; update my universe  
    context.long_list = context.output.sort([&#39;ps_rank&#39;], ascending=False).iloc[:20]  
    context.spy = sid(8554)  
    context.short_list = context.spy   

def record_vars(context, data):  
     # Record and plot the leverage of our portfolio over time.  
    record(leverage = context.account.leverage)  
    print &quot;Long List&quot;  
    log.info(&quot;\n&quot; + str(context.long_list.sort([&#39;ps_rank&#39;], ascending=True).head(10)))  
    print &quot;Short List&quot;  
    log.info(&quot;\n&quot; + str(context.short_list)  


# This rebalancing is called according to our schedule_function settings.  
def rebalance(context, data):  
    long_weight = context.long_leverage / float(len(context.long_list))  
    short_weight = context.short_leverage / float(len(context.short_list))

    for long_stock in context.long_list.index:  
        log.info(&quot;ordering longs&quot;)  
        log.info(&quot;weight is %s&quot; % (long_weight))  
        order_target_percent(long_stock, long_weight)  
    for short_stock in context.short_list.index:  
        log.info(&quot;ordering shorts&quot;)  
        log.info(&quot;weight is %s&quot; % (short_weight))  
        order_target_percent(short_stock, short_weight)  
    for stock in context.portfolio.positions.iterkeys():  
        if stock not in context.long_list.index and stock not in context.short_list.index:  
            order_target(stock, 0)

</code></pre>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>13 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='593f9b3281b39a0010616065' id='593f9b3281b39a0010616065'>
<a href='#593f9b3281b39a0010616065'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1497340722000' class='quanto-date posted-at response-posted-at' href='#593f9b3281b39a0010616065'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I made it work but you have to sort the exact algo yourself....  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='593fa26138aae75a684262e0' id='593fa26138aae75a684262e0'>
<a href='#593fa26138aae75a684262e0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/515406146bf4f56c8d00001d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5fc72e9ca080dd860f73e42d2aa72fa2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/515406146bf4f56c8d00001d'>Alexander Angerer</a>
</div>
<a UTCms='1497342561000' class='quanto-date posted-at response-posted-at' href='#593fa26138aae75a684262e0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Peter, </p>

<p>Thanks so much. Very much appreciated as I was getting quite frustrated as a beginner. </p>

<p>Do you offer your services as a freelancer? The code is not finished yet and I&#39;m now trying to add the code for IB execution. Of course, I want to learn as much as possible so myself, so happy to pay you for a full code review once I&#39;m done</p>

<p>Thank you  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='593fa5f826a58f0010e0efa0' id='593fa5f826a58f0010e0efa0'>
<a href='#593fa5f826a58f0010e0efa0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1497343480000' class='quanto-date posted-at response-posted-at' href='#593fa5f826a58f0010e0efa0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just keep on sharing and learning and one day you&#39;ll pay it forward by helping someone else. If you want to keep your algo more private just invite me to collaborate in the IDE and I help you out  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='594fe95a20e029000da9e2db' id='594fe95a20e029000da9e2db'>
<a href='#594fe95a20e029000da9e2db'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/594cc398a407ef000db366ac'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/932d2ad77a66f06bbc053e87792f2d48?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/594cc398a407ef000db366ac'>Lorenzo Racca</a>
</div>
<a UTCms='1498409306000' class='quanto-date posted-at response-posted-at' href='#594fe95a20e029000da9e2db'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I don&#39;t want to sound annoying, I&#39;m still kind of learning about this, but isn&#39;t the Russell 2000 composed of the bottom 2000 stocks (by mkt cap) of the Russell 3000, which is basically all of the equities in the US market?<br>
That way, your algorithm should pick the bottom 2000, not the top. The line I&#39;m referring to is this:  </p>

<pre><code>top_2000 = mkt_cap.top(2000)  
</code></pre>

<p>which, to be true to the original strategy, should be</p>

<pre><code>bottom_2000 = mkt_cap.bottom(2000)  
</code></pre>

<p>IMHO.<br>
Be sure to change references across the code as well.<br>
Also, that algorithm doesn&#39;t go short SPY with 50% AUM, which explains the 1.06 beta and the good performance over the period you backtested. Had it gone through 2008, I don&#39;t think it would have fared that well.<br>
It actually seems a very odd strategy, since going long Healthcare stocks in RUT and shorting SPY isn&#39;t really a hedged strategy.<br>
Or I might be wrong, as I said, I&#39;m still pretty new to all of this.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='594ffec720e029000da9e45a' id='594ffec720e029000da9e45a'>
<a href='#594ffec720e029000da9e45a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58f9804000bfa300105b5333'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ebc9df967c2b35303ed7fa3918411e48?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58f9804000bfa300105b5333'>Eric Novinson</a>
</div>
<a UTCms='1498414791000' class='quanto-date posted-at response-posted-at' href='#594ffec720e029000da9e45a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That algorithm has positive alpha so a hedged strategy might have positive alpha as well. Seems like the short side would be healthcare companies with high P/S ratios, which would include lots of companies that haven&#39;t passed Phase 3 drug trials and will crash if they don&#39;t pass.</p>

<p>Wouldn&#39;t picking the bottom 2000 stocks by market cap return penny stocks that are too small for the Russell 2K? Penny stocks have low market caps but there are a lot of them.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='595002262e47a100104ea501' id='595002262e47a100104ea501'>
<a href='#595002262e47a100104ea501'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/594cc398a407ef000db366ac'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/932d2ad77a66f06bbc053e87792f2d48?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/594cc398a407ef000db366ac'>Lorenzo Racca</a>
</div>
<a UTCms='1498415654000' class='quanto-date posted-at response-posted-at' href='#595002262e47a100104ea501'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I figured the correct short side would be of higher P/S healthcare stocks, and I&#39;ll probably write an algo soon if I find some time.<br>
It just seemed interesting that the original author proposed shorting SPY as the hedge. </p>

<p>Apparently, ^RUT stocks are the bottom 2000 of the Russell 3000 (the 3000 largest stocks by mkt cap in the US), which comprises 98% of the equities in the US, so yeah it&#39;ll most probably include penny stocks.<br>
It&#39;d be interesting to see whether filtering those out made the algo work better or not.<br>
Many of them are likely to fail, and as long as they had P/S, hence get shorted, they would likely increase alpha.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5950341752c75d000dffe3ab' id='5950341752c75d000dffe3ab'>
<a href='#5950341752c75d000dffe3ab'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59065fbb5afa7d0010371ea1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/08e3b9ac969cdd40340b6094e6ce2bd7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59065fbb5afa7d0010371ea1'>Viridian Hawk</a>
<span class='badge medal'></span>
</div>
<a UTCms='1498428439000' class='quanto-date posted-at response-posted-at' href='#5950341752c75d000dffe3ab'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I tried making the changes people suggested... bottom(2000) and changing longs 0.5, shorts -0.5, and the algo loses money.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59510bf243ef3c000df71b39' id='59510bf243ef3c000df71b39'>
<a href='#59510bf243ef3c000df71b39'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/594cc398a407ef000db366ac'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/932d2ad77a66f06bbc053e87792f2d48?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/594cc398a407ef000db366ac'>Lorenzo Racca</a>
</div>
<a UTCms='1498483698000' class='quanto-date posted-at response-posted-at' href='#59510bf243ef3c000df71b39'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is what I managed to pull together. Few changes and optimizations, and by trying with different weights, factors and data this is the best alpha I could pull.<br>
Or better yet, the only non-negative alpha I could come up with.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5951b86b6e5e3d0010e9f2b5' id='5951b86b6e5e3d0010e9f2b5'>
<a href='#5951b86b6e5e3d0010e9f2b5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/515406146bf4f56c8d00001d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5fc72e9ca080dd860f73e42d2aa72fa2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/515406146bf4f56c8d00001d'>Alexander Angerer</a>
</div>
<a UTCms='1498527851000' class='quanto-date posted-at response-posted-at' href='#5951b86b6e5e3d0010e9f2b5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Lorenzo et al, </p>

<p>Thanks so much for the input. In reply to some of the issues raised:</p>

<p>1)  Yes, the author Fred Piard does explicitly short the SPY index in his book &#39;The Lazy Fundamental Analyst&#39;, and not the high P/S healthcare companies. He acknowledges this is a blunt hedging technique, rather than a beta-neutral long/short equity strategy. It is a simple strategy that has the following parameters. I removed leverage from my original post:</p>

<p>Rank 20 healthcare companies (as classified by GICS) in the Russell 2000 with the lowest Price/Sales<br>
100% of portfolio AUM is long these 20 healthcare stocks, 100% of AUM is always short S&amp;P index<br>
100% AUM is equally distributed among the 20 stocks<br>
Portfolio is rebalanced every 4 weeks</p>

<p>I&#39;m trying to replicate his results by using Quantopian instead of Portfolio 123 which he used. As he has the backtest to 1999, I wanted to test whether my results chimed with his</p>

<p>2) Yes, the Russell 2000 is the bottom 2000 market cap stocks in the Russell 3000. I copied the code from an official Quantopian post (<a href="https://www.quantopian.com/posts/introducing-the-pipeline-api">https://www.quantopian.com/posts/introducing-the-pipeline-api</a>), and then quickly realized that the code is wrong  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59525dd36e5e3d0010e9fcce' id='59525dd36e5e3d0010e9fcce'>
<a href='#59525dd36e5e3d0010e9fcce'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/594cc398a407ef000db366ac'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/932d2ad77a66f06bbc053e87792f2d48?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/594cc398a407ef000db366ac'>Lorenzo Racca</a>
</div>
<a UTCms='1498570195000' class='quanto-date posted-at response-posted-at' href='#59525dd36e5e3d0010e9fcce'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I assume by having both longs and shorts at 100% of AUM you meant a 2x leverage. In that case, it appears the strategy works pretty well, with a ~14% CAGR.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='595aa95619a62d000d5af265' id='595aa95619a62d000d5af265'>
<a href='#595aa95619a62d000d5af265'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5945d96f7ee2f9001006d10d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80928f2e17cd7388a6bed1638833ba65?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5945d96f7ee2f9001006d10d'>Jonathan Dearing</a>
</div>
<a UTCms='1499113814000' class='quanto-date posted-at response-posted-at' href='#595aa95619a62d000d5af265'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Been playing with the code for a while and unfortunately I wouldn&#39;t recommend targeting the bottom stocks unless you&#39;re a gambling man/woman. The problem is that even if you&#39;re fishing for quality stock at the bottom of the barrel, there&#39;s the risk that the stocks being invested in disappears due to delisting. Stocks have been leaving the publicly traded market for a while. </p>

<p>The gains were astronomical during backtesting, however anyone trying the strategy out (without other layers of criteria) would lose there butts long term.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='595aad85ae7db7000de0a359' id='595aad85ae7db7000de0a359'>
<a href='#595aad85ae7db7000de0a359'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59065fbb5afa7d0010371ea1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/08e3b9ac969cdd40340b6094e6ce2bd7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59065fbb5afa7d0010371ea1'>Viridian Hawk</a>
<span class='badge medal'></span>
</div>
<a UTCms='1499114885000' class='quanto-date posted-at response-posted-at' href='#595aad85ae7db7000de0a359'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Isn&#39;t pending-delisting typically an easy criteria to filter for?  If it&#39;s been under $1 fo newly a year, sell.  Maybe bankruptcies and scams are harder to screen  for. I&#39;m curious what the ratio  of delisting reasons are.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='595ab884902610001070dd77' id='595ab884902610001070dd77'>
<a href='#595ab884902610001070dd77'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5945d96f7ee2f9001006d10d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80928f2e17cd7388a6bed1638833ba65?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5945d96f7ee2f9001006d10d'>Jonathan Dearing</a>
</div>
<a UTCms='1499117700000' class='quanto-date posted-at response-posted-at' href='#595ab884902610001070dd77'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You couldn&#39;t completely eliminate the risk, but if you daily rebalanced that would definitely mitigate it. </p>

<p>I have a couple of issues with daily rebalancing though. Even if you go through Robinhood to avoid fees, there is still the selling fee, however small. With stocks that are as close to pink sheets as you can get, and many &quot;cheap&quot; stocks to pick from, and supposing an investor wanted to diversify, that&#39;s a lot of transactions. Another problem is that wash sales will happen frequently.</p>

<p>This may not apply to any of the contests on the site, but I personally like to trade real money and understand how fast money can disappear through fees, although minimal. I try to max out my rebalancing to about once every 2 months in order to lock in any losses for the tax year.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/new-to-quantopian-and-python-would-appreciate-some-help-with-the-lazy-fundamental-analyst-strategy'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/new-to-quantopian-and-python-would-appreciate-some-help-with-the-lazy-fundamental-analyst-strategy'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#492f2c2c2d2b282a2209383c28273d2639202827672a2624">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
