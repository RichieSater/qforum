<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Simple Machine Learning Example
</title>
<meta content='EDIT:  More recent version here. I&#39;ve seen a number of posts here involving machine learning. Although machine learning probably seems complicated at first, it is actually easy to work with. I wanted to try to create a simple algorithm and post to introduce people to the concept who aren&#39;t familiar. The goal of machine learning is to create an accurate model based off of past data then use that model to predict future events. There are mainly two types of machine learning used in quantitative...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="8Abpic2FZLfPWCgXyj9HXPm2++0jadJCmNS3V6UlQR2MYJ/Eb3O2VHZFcSaF0O8owTjYhFmlx1ka22w9D2Ajpg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/simple-machine-learning-example' property='og:url'>
<meta content='Simple Machine Learning Example' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/simple-machine-learning-example' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Simple Machine Learning Example' property='og:title'>
<meta content='EDIT:  More recent version here. I&#39;ve seen a number of posts here involving machine learning. Although machine learning probably seems complicated at first, it is actually easy to work with. I wanted to try to create a simple algorithm and post to introduce people to the concept who aren&#39;t familiar. The goal of machine learning is to create an accurate model based off of past data then use that model to predict future events. There are mainly two types of machine learning used in quantitative...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/simple-machine-learning-example">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='537d0234eb65891699000087'>
<div class='post-container' data-post-id='537d0234eb65891699000087' id='537d0234eb65891699000087'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Simple Machine Learning Example</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5150fd5e153d46083d0002df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cd967e3fc329b28fddcc04bf5848e3c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5150fd5e153d46083d0002df'>Gus Gordon</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1473777279000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Simple Machine Learning Example&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fsimple-machine-learning-example%3Futm_source%3Dwebsite_share%26utm_campaign%3Dsimple-machine-learning-example%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fsimple-machine-learning-example%3Futm_source%3Dwebsite_share%26utm_campaign%3Dsimple-machine-learning-example%26utm_medium%3Dlinkedin&amp;title=Simple+Machine+Learning+Example+%28Gus+Gordon%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Machine Learning' data-tag-id='55c50e7d8d4710ec6e00000b' href='/posts/tag/Machine-Learning/newest'>Machine Learning</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Show Q' data-tag-id='55c50e7d8d4710ec6e000010' href='/posts/tag/Show-Q/newest'>Show Q</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/simple-machine-learning-example?utm_source=website_share&amp;utm_campaign=simple-machine-learning-example&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Gus Gordon" />
<div class='body-text'>
<div class='body-text-container post-body'><p>EDIT: <a href="https://www.quantopian.com/posts/simple-machine-learning-example-mk-ii">More recent version here.</a></p>

<p>I&#39;ve seen a number of posts here involving machine learning. Although machine learning probably seems complicated at first, it is actually easy to work with. I wanted to try to create a simple algorithm and post to introduce people to the concept who aren&#39;t familiar.</p>

<p>The goal of machine learning is to create an accurate model based off of past data then use that model to predict future events. There are mainly two types of machine learning used in quantitative finance:</p>

<ul>
<li>Regression is used to predict a continuous value, like predict a price will rise $0.46.<br></li>
<li>Classification is used to predict a category, like just predict a price will rise.</li>
</ul>

<p>This example uses classification.</p>

<p>A model needs to be created based off of past independent and dependent variables, then that model can be used to try to predict future changes in the price. There are 10 independent variables, or input variables in this algorithm. They are whether a price increased or decreased on the 10 bars before a selected bar. The dependent variable, or the output variable is whether a price increased or decreased on that selected bar. Once there are enough data points, a model can be created to try to predict future prices.</p>

<p>You can find more information about machine learning and the module used, sklearn, <a href="http://scikit-learn.org/stable/documentation.html">here</a>.</p>

<p>I&#39;d also like to thank <a href="https://www.quantopian.com/posts/can-naivebayes-tell-us-anything-about-momentum-trading">Alex</a> for inspiring this and <a href="https://www.quantopian.com/users/4f1edd0b03b228000d000001">Thomas</a> for helping me. Feel free to copy and use the code, and let me know if you have any questions or ideas!</p>
</div>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>44 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='537d48ab3e92ac24a1000128' id='537d48ab3e92ac24a1000128'>
<a href='#537d48ab3e92ac24a1000128'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1400719533000' class='quanto-date posted-at response-posted-at' href='#537d48ab3e92ac24a1000128'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Gus,</p>

<p>Thanks for the example.  I re-ran it with a Boeing as the benchmark.  Seems like the algo needs tweaking...or am I missing something?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='537e3782d1e5cbaf2200001d' id='537e3782d1e5cbaf2200001d'>
<a href='#537e3782d1e5cbaf2200001d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5150fd5e153d46083d0002df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cd967e3fc329b28fddcc04bf5848e3c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5150fd5e153d46083d0002df'>Gus Gordon</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1400780677000' class='quanto-date posted-at response-posted-at' href='#537e3782d1e5cbaf2200001d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes, this is just meant to be an example of how to use machine learning. You probably can rarely expect real returns from a simple algorithm like this that just uses one stock&#39;s price. Although, there are likely comparatively simple methods that can be built that have good performance. One idea is to import a bunch of data streams from <a href="http://www.quandl.com/">http://www.quandl.com/</a> or something into a Quantopian algo then using machine learning to model prices based off of that.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='537e8882c7befb933a00002c' id='537e8882c7befb933a00002c'>
<a href='#537e8882c7befb933a00002c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1400801412000' class='quanto-date posted-at response-posted-at' href='#537e8882c7befb933a00002c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Any idea how to get it to generate superior returns?  Could multiple securities (i.e. a portfolio) be used?  --Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='537f5ebcbbfa6fb7e7000218' id='537f5ebcbbfa6fb7e7000218'>
<a href='#537f5ebcbbfa6fb7e7000218'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5150fd5e153d46083d0002df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cd967e3fc329b28fddcc04bf5848e3c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5150fd5e153d46083d0002df'>Gus Gordon</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1400856255000' class='quanto-date posted-at response-posted-at' href='#537f5ebcbbfa6fb7e7000218'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Multiple securities could be used, I believe all that has to be done is add another dimension to the lists. And the idea is to try to think of a stock price that will be correlated to some other value. Here&#39;s a good article: <a href="http://jspauld.com/post/35126549635/how-i-made-500k-with-machine-learning-and-hft">http://jspauld.com/post/35126549635/how-i-made-500k-with-machine-learning-and-hft</a>  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5380aa1790ace9f98c0001f3' id='5380aa1790ace9f98c0001f3'>
<a href='#5380aa1790ace9f98c0001f3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1400941081000' class='quanto-date posted-at response-posted-at' href='#5380aa1790ace9f98c0001f3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s my attempt at a multi-security version of the algo (a complete hack on my part, since I have no idea what this thingy is doing...just followed Gus&#39; example as best I could).  Did I do it correctly?</p>

<p>--Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5384bd32acdec483c2000056' id='5384bd32acdec483c2000056'>
<a href='#5384bd32acdec483c2000056'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5150fd5e153d46083d0002df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cd967e3fc329b28fddcc04bf5848e3c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5150fd5e153d46083d0002df'>Gus Gordon</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1401208119000' class='quanto-date posted-at response-posted-at' href='#5384bd32acdec483c2000056'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Cool :). Looks correct to me. Also nice implementation in minute mode with the history API.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='538533129bc573e75500017f' id='538533129bc573e75500017f'>
<a href='#538533129bc573e75500017f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1401238293000' class='quanto-date posted-at response-posted-at' href='#538533129bc573e75500017f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Gus,</p>

<p>Here&#39;s a variant that uses SPY as a reference.  Seems to provide a slight advantage over the benchmark.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5385b7169bc5739adb0002b7' id='5385b7169bc5739adb0002b7'>
<a href='#5385b7169bc5739adb0002b7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1401272089000' class='quanto-date posted-at response-posted-at' href='#5385b7169bc5739adb0002b7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A longer run of the same algo as immediately above.  --Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5389d2886fea751d43000166' id='5389d2886fea751d43000166'>
<a href='#5389d2886fea751d43000166'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1401541257000' class='quanto-date posted-at response-posted-at' href='#5389d2886fea751d43000166'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s a tweaked version.  It trades every 20 days, and also does not adjust the portfolio if the algo does not call for a change in the mix of securities:</p>

<pre><code># return if allocation unchanged  
    if np.array_equal(context.allocation,allocation):  
        return  
    context.allocation = allocation  
</code></pre>

<p>Comments &amp; improvements welcome.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5389dbc64f751d301400018e' id='5389dbc64f751d301400018e'>
<a href='#5389dbc64f751d301400018e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1401543624000' class='quanto-date posted-at response-posted-at' href='#5389dbc64f751d301400018e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Improved return by using:</p>

<pre><code>changes = changes &gt; 0  
</code></pre>

<p>versus:</p>

<pre><code>changes = changes &gt; np.median(changes)  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='538a722a8196ed7512000106' id='538a722a8196ed7512000106'>
<a href='#538a722a8196ed7512000106'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5150fd5e153d46083d0002df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cd967e3fc329b28fddcc04bf5848e3c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5150fd5e153d46083d0002df'>Gus Gordon</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1401582123000' class='quanto-date posted-at response-posted-at' href='#538a722a8196ed7512000106'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So you are using z score instead of just the flat changes in the price, or something along the lines of that? Can you give some insight into this, and any idea why it seems to work better?  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='538b1f909890a5e6bd0043ad' id='538b1f909890a5e6bd0043ad'>
<a href='#538b1f909890a5e6bd0043ad'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1401626514000' class='quanto-date posted-at response-posted-at' href='#538b1f909890a5e6bd0043ad'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Gus,</p>

<p>Yes, this line of code converts the prices into z-scores:</p>

<pre><code>changes_all = stats.zscore(prices, axis=0, ddof=1)  
</code></pre>

<p>The second detail is that the changes in the sector funds are relative to the SPY benchmark (if I&#39;ve coded it properly):</p>

<pre><code>changes = changes_all[:,0:-1] - np.tile(changes_all[:,-1],(len(context.stocks)-1,1)).T  
</code></pre>

<p>So, the variable &#39;changes&#39; is the z-score difference for each sector fund and the underlying benchmark, i.e. changes = z_sector - z_SPY.  So, if changes &gt; 0, it indicates that the sector fund was statistically higher than the benchmark on a given day.  Thus z-scoring allows for the direct normalization of the sector funds to their collective benchmark.</p>

<p>My sense is that this normalization approach works because the sector funds are basically SPY chopped up into various categories (and each is still highly correlated to the benchmark).  So, the normalization resolves which sectors are favorable over the benchmark.  But the Random Forest voodoo is a mystery to me, so this interpretation could be off-base.</p>

<p>From a practical standpoint, I&#39;m not sure that I&#39;ve captured all of the costs with:</p>

<pre><code>set_commission(commission.PerShare(cost=0.013, min_trade_cost=1.3))  
</code></pre>

<p>Does this accurately account for all of the Interactive Brokers (IB) costs?  And last I heard, Quantopian might charge ~$100 per month per algorithm, so that would need to be rolled in.  And short-term capital gains taxes (assuming a non-IRA account)?</p>

<p>Note, also, that orders are submitted at the daily close.  My understanding is that in live trading, the orders would be cancelled, correct?  This is probably not fundamental, but I thought I&#39;d point it out in case someone tries the algo live with IB.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='538cca9b5aee790da6000245' id='538cca9b5aee790da6000245'>
<a href='#538cca9b5aee790da6000245'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5150fd5e153d46083d0002df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cd967e3fc329b28fddcc04bf5848e3c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5150fd5e153d46083d0002df'>Gus Gordon</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1401735839000' class='quanto-date posted-at response-posted-at' href='#538cca9b5aee790da6000245'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ah, that&#39;s cool, makes sense. Random forest is a large mystery to me too, however I know ML is pretty durable. As for the IB commissions, I&#39;m not too familiar, however I know commission is a very variable thing, and could be more or less depending on a number of different factors. The default Quantopian model is meant to be a good approximation, but nonetheless able to be adjusted. I&#39;m sure I can get more details on that if you want them.</p>

<p>Yes, in live trading those orders would be cancelled. However, you could use some code to trade a few minutes before the close, for example run some function 15 minutes before the daily close (this is for minute mode only):  </p>

<pre><code>from zipline.utils.tradingcalendar import get_early_closes  
import pandas as pd

def handle_data(context, data):  
    exchange_time = pd.Timestamp(get_datetime()).tz_convert(&#39;US/Eastern&#39;)

    if exchange_time.date() in context.early_closes and exchange_time.hour == 12 and exchange_time.minute == 45:  
        close_day(context)  
    elif exchange_time.date() not in context.early_closes and exchange_time.hour == 15 and exchange_time.minute == 45:  
        close_day(context)  
</code></pre>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='538cf9ebd1e2e5b33f000274' id='538cf9ebd1e2e5b33f000274'>
<a href='#538cf9ebd1e2e5b33f000274'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5258725aa09fa7ebaa000024'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7734b86e32e834268bee6749eb322fb4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5258725aa09fa7ebaa000024'>David Edwards</a>
</div>
<a UTCms='1401747950000' class='quanto-date posted-at response-posted-at' href='#538cf9ebd1e2e5b33f000274'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Grant,<br>
The commission model you are using there should be a conservative estimate of actual commissions from IB. I just pulled up my trading reports from IB and I&#39;m being charged $1.00 for trades that do not meet the minimum shares requirement. It&#39;s a couple cents extra for short sales, but I think that&#39;s actually a tax.</p>

<p>David  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='538d9ca5d9a7ff0e8600017c' id='538d9ca5d9a7ff0e8600017c'>
<a href='#538d9ca5d9a7ff0e8600017c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1401789608000' class='quanto-date posted-at response-posted-at' href='#538d9ca5d9a7ff0e8600017c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Gus, David,</p>

<p>Any idea how to improve the algo?  One thought is that the model just predicts which securities to hold, equally weighted in the portfolio.  Could it be modified to predict the optimum unequal weighting?  One risk is that this would generate excessive trading, due to more frequent portfolio adjustment.</p>

<p>Also, perhaps someone could have a closer look at the implementation and advise if the machine learning approach could be improved (e.g. settings, different data set pre-processing, etc.).</p>

<p>This might be a nice example to run on zipline, since daily data can be used.</p>

<p>From a general standpoint, I&#39;m curious if this is the kind of trading style that Quantopian is aiming to support under their &quot;quantitative investing&quot; offering (e.g. monthly re-balancing via a handful of trades)?  Or would the returns get wiped out by the Quantopian algo fee and other costs?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='538db36946fc3813570001ac' id='538db36946fc3813570001ac'>
<a href='#538db36946fc3813570001ac'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530006e439185472f8000032'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d244c2261df57fa9c6229c306eb91fb7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530006e439185472f8000032'>Novice TAI</a>
</div>
<a UTCms='1401795436000' class='quanto-date posted-at response-posted-at' href='#538db36946fc3813570001ac'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I expect the aglo could combine VIX index  as independent variables or try the SVM model (<a href="https://www.quantopian.com/posts/combine-different-machine-learning-methods">combine-different-machine-learning-methods</a>) to improve the model , I had been to try but been  failure because I have limit python skill to familiarize the algo now.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='538f2858ff068e2cf900001c' id='538f2858ff068e2cf900001c'>
<a href='#538f2858ff068e2cf900001c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5150fd5e153d46083d0002df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cd967e3fc329b28fddcc04bf5848e3c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5150fd5e153d46083d0002df'>Gus Gordon</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1401890908000' class='quanto-date posted-at response-posted-at' href='#538f2858ff068e2cf900001c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m not exactly sure how better returns could be made, maybe give that a try. I haven&#39;t looked too in-depth at machine learning methods. We aren&#39;t quite ready to say anything certain about that stuff yet, but I can tell you that our goal is definitely not to wipe out your returns with an algo fee!  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='538fb3fa7c8bb560480000c0' id='538fb3fa7c8bb560480000c0'>
<a href='#538fb3fa7c8bb560480000c0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1401926653000' class='quanto-date posted-at response-posted-at' href='#538fb3fa7c8bb560480000c0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Gus,</p>

<p>One angle would be to find an optimum set of ETFs.  For example, I see that there are lots to pick from the list on <a href="http://www.forbes.com/sites/baldwin/2014/06/04/best-etfs-qqq-and-the-sector-funds/">http://www.forbes.com/sites/baldwin/2014/06/04/best-etfs-qqq-and-the-sector-funds/</a>.  The question is how to do the picking?  Any ideas?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='538ff204b4873d279e000144' id='538ff204b4873d279e000144'>
<a href='#538ff204b4873d279e000144'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1401942534000' class='quanto-date posted-at response-posted-at' href='#538ff204b4873d279e000144'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Great link. Following is the parent article which has a few more leads <a href="http://www.forbes.com/sites/baldwin/2014/06/04/best-etfs-for-investors/">http://www.forbes.com/sites/baldwin/2014/06/04/best-etfs-for-investors/</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539369b6e7d3257c5b00017a' id='539369b6e7d3257c5b00017a'>
<a href='#539369b6e7d3257c5b00017a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1402169784000' class='quanto-date posted-at response-posted-at' href='#539369b6e7d3257c5b00017a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s a rough update of my efforts to explore this algo.  It trades every day, with zero commission cost (for development).  Also, I switched to accumulating a window of minute bars.  The securities are:</p>

<pre><code># SPY Top 10 Holdings, as of Apr 29, 2014 (17.67% of Total Assets)  
    # http://finance.yahoo.com/q/hl?s=SPY+Holdings  
    context.stocks = [ sid(24),     # AAPL  
                       sid(8347),   # XOM  
                       sid(5061),   # MSFT  
                       sid(4151),   # JNJ  
                       sid(3149),   # GE  
                       sid(23112),  # CVX  
                       sid(8151),   # WFC  
                       sid(11100),  # BRK_B  
                       sid(5938),   # PG  
                       sid(25006),  # JPM  
                       sid(8554) ]  # SPY  
</code></pre>

<p>SPY serves as a normalizing benchmark only; no position in SPY is taken.</p>

<p>Questions/comments/improvements welcome.</p>

<p>An &quot;attaboy&quot; to the first person to explain clearly (without web links, references, etc.) what the Random Forest is doing.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5394cc60ac0b3641f3002858' id='5394cc60ac0b3641f3002858'>
<a href='#5394cc60ac0b3641f3002858'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5258725aa09fa7ebaa000024'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7734b86e32e834268bee6749eb322fb4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5258725aa09fa7ebaa000024'>David Edwards</a>
</div>
<a UTCms='1402260578000' class='quanto-date posted-at response-posted-at' href='#5394cc60ac0b3641f3002858'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Grant, I found this explanation of random forests pretty informative. </p>

<p><a href="http://citizennet.com/blog/2012/11/10/random-forests-ensembles-and-performance-metrics/">http://citizennet.com/blog/2012/11/10/random-forests-ensembles-and-performance-metrics/</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='53fedb4c13eaecd7d700035e' id='53fedb4c13eaecd7d700035e'>
<a href='#53fedb4c13eaecd7d700035e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53fd9a2bf40b33816300018b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/43bc20caf97713fbe1ede25336217e57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53fd9a2bf40b33816300018b'>Chris F</a>
</div>
<a UTCms='1409211215000' class='quanto-date posted-at response-posted-at' href='#53fedb4c13eaecd7d700035e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can someone briefly explain to me what&#39;s happening in lines 94-99.</p>

<p>X is a set of 30 periods (each of which contains 30 values). Lets assume X are the days in november and the elements in X are 30 evenly sampled &quot;changes&quot;, for example at 20 minute intervals, so that X[0][0] is 9AM, X[0][1] is 9:20, etc..<br>
Y is the last of those periods. (ie. november 30th).<br>
You then fit the 30 periods in X to the last period in Y. This is same as fitting November 1st to 9AM, then November 2nd to 9:20AM, November 3rd to 9:40AM, etc..<br>
You then predict use Y to predict the next window. </p>

<p>This seems a bit odd to me, so I think there must be something fundamental that I either don&#39;t understand about history or classifier..?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='53ff13d8b4126469b0000485' id='53ff13d8b4126469b0000485'>
<a href='#53ff13d8b4126469b0000485'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1409225691000' class='quanto-date posted-at response-posted-at' href='#53ff13d8b4126469b0000485'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Chris,</p>

<p>I&#39;ll have a look tomorrow or this weekend.  Frankly, I never quite figured this all out in detail...just hacked my way through it.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5400535ade0adae40600029d' id='5400535ade0adae40600029d'>
<a href='#5400535ade0adae40600029d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1409307486000' class='quanto-date posted-at response-posted-at' href='#5400535ade0adae40600029d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Chris,</p>

<p>I took a look at your concern, and I just don&#39;t have the time to dig into it.  Perhaps someone else can shed some light on this?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='540139f2959c2e303a000154' id='540139f2959c2e303a000154'>
<a href='#540139f2959c2e303a000154'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53fd9a2bf40b33816300018b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/43bc20caf97713fbe1ede25336217e57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53fd9a2bf40b33816300018b'>Chris F</a>
</div>
<a UTCms='1409366516000' class='quanto-date posted-at response-posted-at' href='#540139f2959c2e303a000154'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>No problem, thanks for getting back to me. I figured it might be a simple misunderstanding.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5401b6d47394964d3a00024e' id='5401b6d47394964d3a00024e'>
<a href='#5401b6d47394964d3a00024e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/524ff7f3bf0d63ab6f0000fb'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/537f6bb7d27513bae086c8b963260a9a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/524ff7f3bf0d63ab6f0000fb'>Ruaridh</a>
</div>
<a UTCms='1409398486000' class='quanto-date posted-at response-posted-at' href='#5401b6d47394964d3a00024e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Chris F,</p>

<p>I also had a small issue understanding why the splits were used in the way they are. To understand I quickly broke the algorithm down; you can see a notebook for this here:</p>

<p><a href="http://nbviewer.ipython.org/gist/anonymous/fee5be4c6b59a62b87b2">http://nbviewer.ipython.org/gist/anonymous/fee5be4c6b59a62b87b2</a></p>

<p>The notebook shows what I see as the training data and target labels/classes. Please see the notebook for a full description, here&#39;s a snippet:</p>

<blockquote>
<p>Changes in Feb-March 2012 are being used to predict the change on 26<br>
August 2013. Then March-April 2012 are being used to predict 27th<br>
August 2013. April-May 2012 used to predict 28th August 2013.  </p>

<p>This gap slowly closes with changes for July-August 2013 to predict<br>
20th September 2013. Finally, August-September 2013 to predict 23rd<br>
September 2013. A crucial note: the last training set actually<br>
includes the target value.  </p>

<p>The labels are then used to predict the next day.</p>
</blockquote>

<p>From a machine learning perspective I&#39;m also unsure how this training data makes sense.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5422390d2ca62053120000be' id='5422390d2ca62053120000be'>
<a href='#5422390d2ca62053120000be'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5420c95fdbad621be9000079'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ee66334d0a7b6dcad241f2127237830c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5420c95fdbad621be9000079'>Nathan</a>
</div>
<a UTCms='1411528976000' class='quanto-date posted-at response-posted-at' href='#5422390d2ca62053120000be'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>New to this. Does anyone have an example of machine learning where the length of an Talib MA is changed for optimum results based on past data?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5422ef2e89f5c5a2a30002e8' id='5422ef2e89f5c5a2a30002e8'>
<a href='#5422ef2e89f5c5a2a30002e8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5150fd5e153d46083d0002df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cd967e3fc329b28fddcc04bf5848e3c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5150fd5e153d46083d0002df'>Gus Gordon</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1411575600000' class='quanto-date posted-at response-posted-at' href='#5422ef2e89f5c5a2a30002e8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Nathan, so basically figure out what length of MA would yield the best results for historical data, then use that length MA for the current time frame? I&#39;m not sure that is a job for machine learning, but more just selection of the strategy that has the highest returns if I&#39;m understanding you correctly.</p>

<p>I have an example where random strategies are tested and the best one is used that you may find interesting: <a href="https://www.quantopian.com/posts/evolutionary-strategy">https://www.quantopian.com/posts/evolutionary-strategy</a></p>

<p>Gus  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='54236fe40f8779fa57000063' id='54236fe40f8779fa57000063'>
<a href='#54236fe40f8779fa57000063'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5420c95fdbad621be9000079'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ee66334d0a7b6dcad241f2127237830c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5420c95fdbad621be9000079'>Nathan</a>
</div>
<a UTCms='1411608551000' class='quanto-date posted-at response-posted-at' href='#54236fe40f8779fa57000063'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ah yes, thanks Gus!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5428b5c5f8e2eac2220001a0' id='5428b5c5f8e2eac2220001a0'>
<a href='#5428b5c5f8e2eac2220001a0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53b0f06146b0c828e20000ce'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/493475dee01c47dc6a3a7f347ab78d84?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53b0f06146b0c828e20000ce'>Nyan Paing Tin</a>
</div>
<a UTCms='1411954119000' class='quanto-date posted-at response-posted-at' href='#5428b5c5f8e2eac2220001a0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, </p>

<p>Thank you for sharing this awesome machine learning strategy. I have several questions here.</p>

<p>1) is there any particular advantages in using the change in stock price (1,0,0,1) rather than using the original price itself?<br>
   Please see that attached backtest that I did, using your code with minor modification of using original price series as<br>
   input parameters. </p>

<p>2) Should not prediction be either 1 or 0? Why do we see other values such as 0.4, 0.6 in the graph?  </p>

<p>3) Currently, the code trains the each time we get new price data, which is cool. But, I want to understand assumptions behind using<br>
   this approach. for example, Do we believe the pattern in stock price changes each time we get new data ?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5428bf5237ed7a7a020001ad' id='5428bf5237ed7a7a020001ad'>
<a href='#5428bf5237ed7a7a020001ad'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5150fd5e153d46083d0002df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cd967e3fc329b28fddcc04bf5848e3c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5150fd5e153d46083d0002df'>Gus Gordon</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1411956564000' class='quanto-date posted-at response-posted-at' href='#5428bf5237ed7a7a020001ad'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Nyan!</p>

<p>1) There is no real advantage, I just thought it would be easier to understand, because then it would be a binary long or short signal thats input was also a binary signal.</p>

<p>2) The graph shows the other values because it&#39;s smoothed since there are so many data points, so a few predictions are averaged for a single data point shown on the graph.</p>

<p>3) I think two key assumptions to make are that a) we will never have a perfect model and b) the model is constantly changing as the world changes. However, the rate of change of the model is negligible when compared to the inaccuracies from our imperfect model. So the goal is basically to improve the model as new data comes in. That&#39;s the way I&#39;ve been thinking about it, anyway.</p>

<p>Hope that helps! Let me know if you have any more questions.</p>

<p>Gus  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='542ba2d276060e88770001c5' id='542ba2d276060e88770001c5'>
<a href='#542ba2d276060e88770001c5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53b0f06146b0c828e20000ce'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/493475dee01c47dc6a3a7f347ab78d84?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53b0f06146b0c828e20000ce'>Nyan Paing Tin</a>
</div>
<a UTCms='1412145875000' class='quanto-date posted-at response-posted-at' href='#542ba2d276060e88770001c5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Gus,</p>

<p>Thank you for your answers. They are helpful. I have another question. My understanding is that it is always possible to overfit in using<br>
these machine learning algorithms, and you have to use cross-validation and/or regularization to prevents overfitting. </p>

<p>Since our model here is to train the algorithm using the last 12 bars, are we doing anything here to address overfitting issue?<br>
Obviously, I am not an expert on machine learning, and does not know much about this Random Forest algorithm, other than what I learn from a quick google search. </p>

<p>Nyan  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='542c0d2dad929081e800032c' id='542c0d2dad929081e800032c'>
<a href='#542c0d2dad929081e800032c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5150fd5e153d46083d0002df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cd967e3fc329b28fddcc04bf5848e3c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5150fd5e153d46083d0002df'>Gus Gordon</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1412173103000' class='quanto-date posted-at response-posted-at' href='#542c0d2dad929081e800032c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That&#39;s a good point. I&#39;m not doing anything here to account for overfitting, in fact I&#39;m not doing much of anything besides showing the basic features. In order to have a realistic algorithm, some alternative signals would probably need to be used, I&#39;d say that&#39;s the first step. But overfitting does not necessarily need to be accounted for, just smart selection of independent and dependent variables.</p>

<p>Gus  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='54c002ff8bda2ca04b0002e9' id='54c002ff8bda2ca04b0002e9'>
<a href='#54c002ff8bda2ca04b0002e9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54bc99b8cace9854b6000177'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2963fe4a23bb2fd01b556cdb55198132?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54bc99b8cace9854b6000177'>Will Chen</a>
</div>
<a UTCms='1421869831000' class='quanto-date posted-at response-posted-at' href='#54c002ff8bda2ca04b0002e9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant,</p>

<p>I&#39;m getting what looks like a square root error in your version that trades once per day on a basket of stocks from SPY.</p>

<p>&quot;AttributeError: sqrt
There was a runtime error on line 88.&quot;</p>

<p>Quantopian suggested that square root came from calculating z-score, which I understand and seems reasonable, but too ignorant of packages to know where the z-score function is coming from.  Perhaps we need to use another z-score routine or implement own.</p>

<p>Btw, a random forest is an ensemble of decision trees.  Each tree makes decisions like &quot;If yesterday was 1 and the day before was 0, then today is a 1&quot; (obviously an overly simple toy decision).  Each individual tree is not generally great, perhaps it predicts well in only one part of the high dimensional space.  But together, the tree errors cancel so that the forest aggregate prediction is good and does not overfit.  I&#39;m guessing a properly regularized nonlinear SVM would perform quite similarly.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c0146123625f40290004c8' id='54c0146123625f40290004c8'>
<a href='#54c0146123625f40290004c8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54441f05bf5a34524400037b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e865d487ba1cd307c3fec24663ef67f1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54441f05bf5a34524400037b'>Jason Owens</a>
</div>
<a UTCms='1421874280000' class='quanto-date posted-at response-posted-at' href='#54c0146123625f40290004c8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Sorry to randomly butt in, I was also working on a machine learning algorithm, more specifically using several layers of neural networks and with a conditional probability and return matrix as a decision maker. I was going to import data from quantl.com and since my algorithm is neural based, I naturally am going to want as much raw data as possible. With this in mind and also the fact that I want to run this data every minute, I have to ask if you guys have a limit on the amount of processing power or code in one algorithm.<br>
Thanks!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c50df9b9e161f188000236' id='54c50df9b9e161f188000236'>
<a href='#54c50df9b9e161f188000236'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53f1360e61407a3fbd000020'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ce4cd804be21eb45e9c67d7e6cda4111?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53f1360e61407a3fbd000020'>Jamie Lunn</a>
</div>
<a UTCms='1422200316000' class='quanto-date posted-at response-posted-at' href='#54c50df9b9e161f188000236'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey @Grant, I&#39;m also interested in using the z-score to find arbitrage opportunities. My only programming experience is in VBA and it shows in my python script.. @Will Chen -- I don&#39;t know how to leverage the stats libraries so I&#39;m calculating the z-score manually [(price-average price)/stdev]. Would you guys mind taking a look at my script? I&#39;m trying to do something similar without the random trees function (which i wish i knew how to use). @Grant, like you, I&#39;m looking for a difference between the z-score of the spy and the z-score of each of the 9 sector ETFs. If the sector_z &gt; spy_z I will go long that particular sector as momentum trade. The algo seems to work decently well: I can avoid large drawdowns and still make excess returns above the index. </p>

<p>This community has been a great resource. Somehow a guy who programs in excel can write an algo in python--thats amazing!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c52cb48cbfa264280001e7' id='54c52cb48cbfa264280001e7'>
<a href='#54c52cb48cbfa264280001e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1422208183000' class='quanto-date posted-at response-posted-at' href='#54c52cb48cbfa264280001e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Jamie,</p>

<p>You might start by having a look at the algo I posted on <a href="https://www.quantopian.com/posts/working-with-history-dataframes">https://www.quantopian.com/posts/working-with-history-dataframes</a> (June 21, 2014).  Just clone it and see if you can understand everything.  If you have questions, I recommend posting them to <a href="https://www.quantopian.com/posts/working-with-history-dataframes">https://www.quantopian.com/posts/working-with-history-dataframes</a> (or post an improved example!).</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='551b42c6d599dcddcf00002c' id='551b42c6d599dcddcf00002c'>
<a href='#551b42c6d599dcddcf00002c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54f717ee66aea6239f000274'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0c2b51aac4540dbc179f7583f7a231ea?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54f717ee66aea6239f000274'>Ethan Adair</a>
</div>
<a UTCms='1427849929000' class='quanto-date posted-at response-posted-at' href='#551b42c6d599dcddcf00002c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve been playing around with random forest a bit as well, I&#39;m wondering if anyone knows if there is a way to construct the classifier to have multiple inputs. So instead of using fit(x,y) you would do fit(x1,x2,y).  Is there a way to do this? Originally was thinking to do a separate fit for each input and averaging the resulting predictions but I think it would be ideal to include them all in one function to capture the interplay between the inputs.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553b2f40db90459d9500033d' id='553b2f40db90459d9500033d'>
<a href='#553b2f40db90459d9500033d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5538952d1458f2af12000713'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/782f50f9c5212c6bb836e961541381f0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5538952d1458f2af12000713'>Gene Ruebsamen</a>
</div>
<a UTCms='1429942082000' class='quanto-date posted-at response-posted-at' href='#553b2f40db90459d9500033d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The machine learning algorithm seems to have under-performed recently.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ddd125153bf1148c000161' id='57ddd125153bf1148c000161'>
<a href='#57ddd125153bf1148c000161'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57dc994c1b12c042dc000256'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/56a815a6812b95bdb3e2f50b2884cf7f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57dc994c1b12c042dc000256'>sean chu</a>
</div>
<a UTCms='1474154794000' class='quanto-date posted-at response-posted-at' href='#57ddd125153bf1148c000161'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>New to this. forgive me if i am wrong.<br>
It seems to me that, all the data are used for training, and those data were used for testing purpose too.<br>
We should separate training and testing at least?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dddc24153bf1148c0001bc' id='57dddc24153bf1148c0001bc'>
<a href='#57dddc24153bf1148c0001bc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51b651d0956f24ba1500001e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d17292b97e9706e631dcf8157b5f6e57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51b651d0956f24ba1500001e'>Timothy Fletcher</a>
</div>
<a UTCms='1474157610000' class='quanto-date posted-at response-posted-at' href='#57dddc24153bf1148c0001bc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57de9869e6a959b201000a4e' id='57de9869e6a959b201000a4e'>
<a href='#57de9869e6a959b201000a4e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/574f5e9fe88a3bc0070001b8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e921c22d1e84abc1e89ed68b7b800371?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/574f5e9fe88a3bc0070001b8'>basim ali</a>
</div>
<a UTCms='1474205808000' class='quanto-date posted-at response-posted-at' href='#57de9869e6a959b201000a4e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve got a very stupid noob question :-). How can i add my own features to this algorithm?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dece43f4b69fa9b1000cbb' id='57dece43f4b69fa9b1000cbb'>
<a href='#57dece43f4b69fa9b1000cbb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51b651d0956f24ba1500001e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d17292b97e9706e631dcf8157b5f6e57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51b651d0956f24ba1500001e'>Timothy Fletcher</a>
</div>
<a UTCms='1474219594000' class='quanto-date posted-at response-posted-at' href='#57dece43f4b69fa9b1000cbb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Start by cloning the algorithm. Then you can review the code, maybe run a few backtests over different time periods and get comfortable with what it&#39;s doing. Then modify or add to the code as you see fit.</p>

<p>To elaborate my response above - build your algorithm with a training data set, but test it using out of sample data.</p>

<p>Good luck.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e1d0c55e48781c9d000328' id='57e1d0c55e48781c9d000328'>
<a href='#57e1d0c55e48781c9d000328'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5501efaea0e531678900003e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d6d2b79bef88b7c42d106583fedf86f6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5501efaea0e531678900003e'>Jon Joh</a>
</div>
<a UTCms='1474416842000' class='quanto-date posted-at response-posted-at' href='#57e1d0c55e48781c9d000328'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ll try to simplify Random Forest as much as possible. Feel free for anyone to correct me:</p>

<p>Usually you have a lot of variables or a fair amount in order to classify and, similar to the overfitting lecture on quantopian, if you make a tree with all variables, you&#39;ll probably overfit. There&#39;s also obviously some thought that goes into tree splits for variables, usually a variable gets a score on how well it can split the different distributions of classes (in our case 1&#39;s and 0&#39;s or positive and negative days) and so on.</p>

<p>So RF says, let&#39;s back up, and have a whole bunch of mini trees and each tree will take a few variables or so (you decide), and make small trees to make predictions. So instead of a disgusting long tree that has overfit the data, you have hundreds or a large number of mini trees to make predictions. This acts as a voting mechanism and the output from all of the mini trees are aggregated and averaged to form a response.</p>

<p>For those of you aware of the bias-variance tradeoff. A tree with all variables has high variance. A tree with fewer variables has more bias. Introduce many trees with randomly sampled variables and RF does a decent job of finding a mid-ground in a lot of scenarios.</p>

<p><strong>Based on this explanation:</strong><br>
In it&#39;s essence, the algo you guys posted more or less just trades on autocorrelation. (is a day in the past predictive of today&#39;s returns?)</p>

<p>The only problem is that this is worse than solely trading on autocorrelated variables because, if I understand this correctly, even if you did have some statistically significant variable (say t-5) that had a high autocorrelation to your current t, you&#39;d noise up the signal with all the other t&#39;s that you introduced. </p>

<p>Hopefully this helps. @Gus and @Grant  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/simple-machine-learning-example'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/simple-machine-learning-example'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#583e3d3d3c3a393b3318292d39362c3728313936763b3735">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
