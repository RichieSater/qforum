<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Statistical Arbitrage based on Divergence (Version 2)
</title>
<meta content='This is a corrected version of the strategy I posted earlier ( https://www.quantopian.com/posts/statistical-arbitrage-based-on-divergence ). Also, I have changed the entry and exit rules. The aim is to create a beta neutral position when divergence is observed. For back-testing, I have used 6 IT stocks from S&amp;P 500 companies, namely  Apple Inc. (AAPL) Microsoft Corporation (MSFT) Amazon.com Inc. (AMZN) Alphabet Inc. Class A (GOOGL) Accenture (ACN) Adobe (ADBE) Following are the steps for the...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="RUxv1MiC+oTqQHVDIzHRPCH0rXvOUhoCTVBYwk4DFKY5KhmZanQoZ1NdLHJs3nlIGXqOErSeDxnPX4Oo5EZ2HQ==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/statistical-arbitrage-based-on-divergence-version-2' property='og:url'>
<meta content='Statistical Arbitrage based on Divergence (Version 2)' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/statistical-arbitrage-based-on-divergence-version-2' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Statistical Arbitrage based on Divergence (Version 2)' property='og:title'>
<meta content='This is a corrected version of the strategy I posted earlier ( https://www.quantopian.com/posts/statistical-arbitrage-based-on-divergence ). Also, I have changed the entry and exit rules. The aim is to create a beta neutral position when divergence is observed. For back-testing, I have used 6 IT stocks from S&amp;P 500 companies, namely  Apple Inc. (AAPL) Microsoft Corporation (MSFT) Amazon.com Inc. (AMZN) Alphabet Inc. Class A (GOOGL) Accenture (ACN) Adobe (ADBE) Following are the steps for the...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/statistical-arbitrage-based-on-divergence-version-2">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5a242eece5ed490016f39b83'>
<div class='post-container' data-post-id='5a242eece5ed490016f39b83' id='5a242eece5ed490016f39b83'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Statistical Arbitrage based on Divergence (Version 2)</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57ca839871b74e9cb600021c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fd59a6b7fcea31e6eb3504c4c4e2e6d5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57ca839871b74e9cb600021c'>Himanshu Babbar</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1512320748000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Statistical Arbitrage based on Divergence (Version 2)&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fstatistical-arbitrage-based-on-divergence-version-2%3Futm_source%3Dwebsite_share%26utm_campaign%3Dstatistical-arbitrage-based-on-divergence-version-2%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fstatistical-arbitrage-based-on-divergence-version-2%3Futm_source%3Dwebsite_share%26utm_campaign%3Dstatistical-arbitrage-based-on-divergence-version-2%26utm_medium%3Dlinkedin&amp;title=Statistical+Arbitrage+based+on+Divergence+%28Version+2%29+%28Himanshu+Babbar%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/statistical-arbitrage-based-on-divergence-version-2?utm_source=website_share&amp;utm_campaign=statistical-arbitrage-based-on-divergence-version-2&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Himanshu Babbar" />
<div class='body-text'>
<div class='body-text-container post-body'><p>This is a corrected version of the strategy I posted earlier (<a href="https://www.quantopian.com/posts/statistical-arbitrage-based-on-divergence">https://www.quantopian.com/posts/statistical-arbitrage-based-on-divergence</a>).<br>
Also, I have changed the entry and exit rules. The aim is to create a beta neutral position when divergence is observed.</p>

<p>For back-testing, I have used 6 IT stocks from S&amp;P 500 companies, namely </p>

<ol>
<li>Apple Inc. (AAPL)<br></li>
<li>Microsoft Corporation (MSFT)<br></li>
<li>Amazon.com Inc. (AMZN)<br></li>
<li>Alphabet Inc. Class A (GOOGL)<br></li>
<li>Accenture (ACN)<br></li>
<li>Adobe (ADBE)</li>
</ol>

<p>Following are the steps for the strategy:</p>

<p><strong>Calculations required</strong><br>
Every day, at market open, I calculate the historical volatility of the stocks as well as the benchmark (SPY) based on last one month&#39;s data, and calculate beta with respect to the benchmark for every stock.</p>

<p>Every day, 5 minutes before the market closes, I compute the divergence of every stock. Divergence is calculated is the difference between the stock&#39;s daily percentage return and the expected return of the stock based on its beta (Expected Return = (Benchmark Return*Stock Beta)).</p>

<p><strong>Entry Rules</strong><br>
Once I have the divergence for every stock, I find the stock with maximum divergence values. Then I find the stock with minimum positive divergence. In case all the other stocks have a negative divergence, I select the stock with maximum negative divergence.<br>
Then, I short the stock with maximum divergence if the divergence value is more than 1%  and long the stock with minimum positive (or maximum negative) divergence value.</p>

<p><strong>Exit and Stop Loss Rule</strong><br>
I square off my positions when the divergence of the stock with maximum divergence (at the time of entry) becomes less than or equal to 1/4th of divergence at the time of entry or when the the divergence of the stock with maximum divergence (at the time of entry) becomes more than or equal to 1.5 times the divergence at the time of entry.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>4 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='5a244262e5ed49000df39a5d' id='5a244262e5ed49000df39a5d'>
<a href='#5a244262e5ed49000df39a5d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1512325730000' class='quanto-date posted-at response-posted-at' href='#5a244262e5ed49000df39a5d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Max Lvrg:   7.82  2008-01-03<br>
Max Lvrg: 11.90  2008-01-16<br>
Usually due to partial fills. For example, tracking GOOG_L ...</p>

<pre><code>2008-01-02 06:31 ti:261 INFO 2008-01-02 to 2017-11-30  $100000  2017-12-03 10:23 US/Pacific  
2008-01-02 12:50 _t:433 INFO  380  Buy          1000 GOOG_L 681.66      _            0  0.00  6da5   100000  
2008-01-02 12:51 _t:433 INFO  381    Bot     379|0|1000 GOOG_L 682.06     379         -17  3.19  6da5   -98088  
2008-01-02 12:52 _t:433 INFO  382    Bot     503|379|1000 GOOG_L 683.00     882         318  6.61  6da5  -441659  
2008-01-02 12:53 _t:433 INFO  383    Bot     all 118|882|1000 GOOG_L 683.57    1000         820  7.39  6da5  -522320  
2008-01-03 12:50 _t:433 INFO  380  Sell                 -1000 GOOG_L 682.54    1000        -210  7.41  5788  -522320  
2008-01-03 12:51 _t:433 INFO  381    Sold        -628|0|-1000 GOOG_L 682.58     372         -64  2.54  5788  -153835  
2008-01-03 12:52 _t:433 INFO  382    Sold    all -372|-628|-1000 GOOG_L 683.20      _        [+98]  0.00  5788   100306  
2008-01-08 13:00 _ti:967 INFO  5 trading days     0 hr 0.0 min   2017-12-03 10:23 US/Pacific  
    Portfolio:  101325               2008-01-02 to 2017-11-30                  Alpha:  
 Initial Cash:  100000                      Buys:      5 (2 partial)            Beta:    0.82  
  Unused Cash:       0                     Sells:      5 (1 partial)          Sharpe:  
   Max Margin: -522321               Commissions:      9                    Drawdown:     9.2  
     Max Risk:  622321 (622%)         Shares Now:   1866                   Stability:   0.030  
  Cash Profit:   38224                Shares Val: -36899                     Sortino:  
 Total Profit:    1325                  Cash Now: 138224                    Shrt/Lng Now:  1.94  
     Q Return:   1.33% Profit/Init      Max Lvrg:   7.82  2008-01-03          Max Shorts:  -76139  
   PvR Return:   0.21% Profit/Risk     PvR %/day:   0.04                      Max  Longs:  686590  
2008-01-08 13:00 ti:1139 INFO .  
2008-01-08 13:00 _ti:967 INFO   Sort column 1                 Positions: 2 of 5 traded  
         Profit    Max   Return  Return   Buy    Price    Buy|Sell    Max     Shares   Shares  
 Symbol    PnL   Risked     %     %/day   Hold  Init|Now   Orders   Shrt|Lng    Now       %  
    ACN   1008    34939   2.89    1.44    -0.0   35|34      1|1     -1000|0       0         0  
   MSFT    231    27592   0.84    0.42    -0.0   34|33      1|1      0|803        0         0  
   AMZN    178    76317   0.23    0.12    -0.1   96|88      1|2      -866|0    -866   -0.7514  
 GOOG_L     98   682712   0.01    0.01    -0.1  682|631     1|1      0|1000       0         0  
   ADBE   -111    39351  -0.28   -0.28    -0.0   39|39      1|0      0|1000    1000    0.3873  
                   Trading Minute  Action          Fild|Prv|Ordr  Sym    Prc      Shrs        PnL   Lvrg  Oid     Cash  
2008-01-14 12:50 _t:433 INFO  380  Buy                      1000 GOOG_L 653.91      _            0  0.00  c32f   104272  
2008-01-14 12:51 _t:433 INFO  381    Bot              375|0|1000 GOOG_L 654.71     375         -16  2.96  c32f   -77748  
2008-01-14 12:52 _t:433 INFO  382    Bot            245|375|1000 GOOG_L 654.14     620        -240  4.51  c32f  -238023  
2008-01-14 12:53 _t:433 INFO  383    Bot        all 380|620|1000 GOOG_L 653.61    1000        -576  6.90  c32f  -486402  
2008-01-16 12:50 _t:433 INFO  380  Sell                    -1000 GOOG_L 617.48    1000      -36706  9.77  3da8  -486402  
2008-01-16 12:51 _t:433 INFO  381    Sold           -783|0|-1000 GOOG_L 616.88     217       -8096  1.94  3da8   -65008  
2008-01-16 12:52 _t:433 INFO  382    Sold    all -217|-783|-1000 GOOG_L 617.97      _        [-36940]  0.00  3da8    69090  
2008-02-05 12:50 _t:433 INFO  380  Sell                     -587 GOOG_L 507.79      _               0  0.00  cb48    66228  
2008-02-05 12:51 _t:433 INFO  381    Sold                   -587 GOOG_L 508.28    -587             -3  4.57  cb48   360237  
2008-02-06 12:50 _t:433 INFO  380  Buy                       587 GOOG_L 501.83    -587           3783  4.66  0231   331119  
2008-02-06 12:51 _t:433 INFO  381    Bot                     587 GOOG_L 501.50      _        [-32961]  0.32  0231    47926  
2008-02-07 12:50 _t:433 INFO  380  Sell                      -38 GOOG_L 503.30      _               0  0.00  9378    70448  
2008-02-07 12:51 _t:433 INFO  381    Sold                    -38 GOOG_L 504.49     -38             -0  1.23  9378   157314  
2008-02-08 12:50 _t:433 INFO  380  Buy                        38 GOOG_L 517.15     -38           -481  1.39  ace8   160649  
2008-02-08 12:51 _t:433 INFO  381    Bot                      38 GOOG_L 516.99      _        [-33437]  0.03  ace8    69283  
2008-02-26 12:50 _t:433 INFO  380  Sell                     -468 GOOG_L 462.21      _               0  0.00  afec    71931  
2008-02-26 12:51 _t:433 INFO  381    Sold                   -468 GOOG_L 462.78    -468             -1  3.52  afec   325007  
2008-02-28 12:50 _t:433 INFO  380  Buy                       468 GOOG_L 474.14    -468          -5318  3.90  d9dd   325007  
2008-02-28 12:51 _t:433 INFO  381    Bot                     468 GOOG_L 474.77      _        [-39050]  0.22  d9dd    80375  
2008-03-03 13:00 _ti:967 INFO  42 trading days     0 hr 0.4 min   2017-12-03 10:23 US/Pacific  
    Portfolio:   66027               2008-01-02 to 2017-11-30                  Alpha:  
 Initial Cash:  100000                      Buys:    37 (15 partial)            Beta:   -0.30  
  Unused Cash:       0                     Sells:    37 (20 partial)          Sharpe:  
   Max Margin: -522321               Commissions:    49                     Drawdown:    52.0  
     Max Risk:  622321 (622%)         Shares Now:     0                    Stability:   0.546  
  Cash Profit:  -33973                Shares Val:     0                      Sortino:  
 Total Profit:  -33973                  Cash Now: 66027                     Shrt/Lng Now:  
     Q Return: -33.97% Profit/Init      Max Lvrg: 11.90  2008-01-16           Max Shorts: -299188  
   PvR Return:  -5.46% Profit/Risk     PvR %/day: -0.13                       Max  Longs:  686590  
2008-03-03 13:00 ti:1139 INFO .  
2008-03-03 13:00 _ti:967 INFO   Sort column 1                 Positions: 0 of 6 traded  
         Profit    Max   Return  Return   Buy    Price    Buy|Sell     Max      Shares  Shares  
 Symbol     PnL  Risked     %     %/day   Hold  Init|Now   Orders    Shrt|Lng    Now       %  
   AMZN    9008   83311   10.8     0.9    -0.3   96|62     10|10     -1000|0      0       0  
    ACN    2860   39632   7.22    0.56    -0.0   35|35      9|9     -1000|1000    0       0  
   ADBE    1684   39351   4.28    0.86    -0.2   39|33      4|4       0|1000      0       0  
   MSFT     231   27592   0.84    0.42    -0.2   34|27      1|1       0|803       0       0  
   AAPL   -8475  159219  -5.32   -0.89    -0.2  159|122     3|3      -1000|0      0       0  
 GOOG_L  -39050  682712  -5.72   -0.71    -0.3  682|457     5|5     -587|1000     0       0  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a24ca485db78a00133a35b7' id='5a24ca485db78a00133a35b7'>
<a href='#5a24ca485db78a00133a35b7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57ca839871b74e9cb600021c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fd59a6b7fcea31e6eb3504c4c4e2e6d5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57ca839871b74e9cb600021c'>Himanshu Babbar</a>
</div>
<a UTCms='1512360520000' class='quanto-date posted-at response-posted-at' href='#5a24ca485db78a00133a35b7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi,</p>

<p>Thanks for pointing that out.<br>
I ran the backtest again with a capital of $400,000.<br>
That brought down the leverage to 2x.</p>

<p>PFA the backtest for the same and let me know your views on it.</p>

<p>Thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a24dab360d9010011d088b2' id='5a24dab360d9010011d088b2'>
<a href='#5a24dab360d9010011d088b2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1512364723000' class='quanto-date posted-at response-posted-at' href='#5a24dab360d9010011d088b2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Sure. Couple thoughts. </p>

<p>You can be certain of the max leverage <a href="https://www.quantopian.com/posts/max-intraday-leverage">this</a> way since it watches every minute although it will slow things down a bit:</p>

<pre><code>def initialize(context):  
    context.mx_lvrg = 0  
    ...  
def handle_data(context, data):  
    if context.account.leverage &gt; context.mx_lvrg:  
        context.mx_lvrg = context.account.leverage  
        record(MxLv = context.mx_lvrg)       # Record maximum leverage encountered  
</code></pre>

<p>With the goal in mind of not needing to worry about leverage, if you could distribute each stock&#39;s orders at different times so they won&#39;t overlap each other, could be one thing to try. The essential deal is when selling (including short), and incomplete, and buying complete, that&#39;s when the leverage is occurring here probably. Although leverage can also happen quickly with an increase in price in short shares.</p>

<p>Another route (since there are only six stocks here so far) that is difficult and requires a lot of code would be to hold each stock&#39;s order until the previous is complete. Dealing with them in a loop perhaps, and rechecking for get_open_orders(), only proceeding to the next when any partial fills are done, or only buying with available cash. Or maybe schedule a few times and change ratio*1000 to a lower number, distributing in that way. That would be the simplest I think, although I haven&#39;t delved into it to wrap my head around your code very well. Previously all I did is drop some code into it and take a look at the output.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a259f72c7645264ae62e20c' id='5a259f72c7645264ae62e20c'>
<a href='#5a259f72c7645264ae62e20c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57ca839871b74e9cb600021c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fd59a6b7fcea31e6eb3504c4c4e2e6d5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57ca839871b74e9cb600021c'>Himanshu Babbar</a>
</div>
<a UTCms='1512415090000' class='quanto-date posted-at response-posted-at' href='#5a259f72c7645264ae62e20c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi,</p>

<p>Thanks for the suggestion. I will surely try running the back-test using your methodology for controlling the leverage.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/statistical-arbitrage-based-on-divergence-version-2'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/statistical-arbitrage-based-on-divergence-version-2'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#d2b4b7b7b6b0b3b1b992a3a7b3bca6bda2bbb3bcfcb1bdbf">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
