<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
The Math of the Stock Trading Game is Quite Simple
</title>
<meta content='A stock trader deals in standardized pieces of paper representing his share of ownership which can easily be auctioned in a public marketplace. You buy some shares of some company (q∙p) to resell them later, hopefully, at a better price (q∙p+), thus making money. Every merchant on the planet sees the same kind of problem.  The problem with trading is that one cannot make just one trade, as if by definition. Once it is done, what will you do next? One will need to do many trades over many...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="y8fl4MgHZVD8WxC9ekoBacYMtSEW+0vpQ3dpKI4jQJC3oZOtavG3s0VGSYw1pakd/oKWSGw3XvLBeLJCJGYiKw==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/the-math-of-the-stock-trading-game-is-quite-simple' property='og:url'>
<meta content='The Math of the Stock Trading Game is Quite Simple' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/the-math-of-the-stock-trading-game-is-quite-simple' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='The Math of the Stock Trading Game is Quite Simple' property='og:title'>
<meta content='A stock trader deals in standardized pieces of paper representing his share of ownership which can easily be auctioned in a public marketplace. You buy some shares of some company (q∙p) to resell them later, hopefully, at a better price (q∙p+), thus making money. Every merchant on the planet sees the same kind of problem.  The problem with trading is that one cannot make just one trade, as if by definition. Once it is done, what will you do next? One will need to do many trades over many...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/the-math-of-the-stock-trading-game-is-quite-simple">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5b5e30ee47c3ff004cf27cf6'>
<div class='post-container' data-post-id='5b5e30ee47c3ff004cf27cf6' id='5b5e30ee47c3ff004cf27cf6'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>The Math of the Stock Trading Game is Quite Simple</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1532899566000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=The Math of the Stock Trading Game is Quite Simple&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fthe-math-of-the-stock-trading-game-is-quite-simple%3Futm_source%3Dwebsite_share%26utm_campaign%3Dthe-math-of-the-stock-trading-game-is-quite-simple%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fthe-math-of-the-stock-trading-game-is-quite-simple%3Futm_source%3Dwebsite_share%26utm_campaign%3Dthe-math-of-the-stock-trading-game-is-quite-simple%26utm_medium%3Dlinkedin&amp;title=The+Math+of+the+Stock+Trading+Game+is+Quite+Simple+%28Guy+Fleury%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/the-math-of-the-stock-trading-game-is-quite-simple?utm_source=website_share&amp;utm_campaign=the-math-of-the-stock-trading-game-is-quite-simple&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Guy Fleury" />
<div class='body-text'>
<div class='body-text-container post-body'><p>A stock trader deals in standardized pieces of paper representing his share of ownership which can easily be auctioned in a public marketplace. You buy some shares of some company (q∙p) to resell them later, hopefully, at a better price (q∙p+), thus making money. Every merchant on the planet sees the same kind of problem. </p>

<p>The problem with trading is that one cannot make just one trade, as if by definition. Once it is done, what will you do next? One will need to do many trades over many years and keep an eye on the end result. </p>

<p>To make the problem more complex, you will not know for sure if the price of your selected stocks will be rising going forward. If you knew, you probably would be betting the house on every trade you made. Any player at this game realizes early that going all-in all the time is not the prudent way to play. Too much uncertainty, too much risk. It is simple: you lose it all, you are sort of out of the game. You will need to start over again with a new stake, and a new strategy, since your last one, in the end, proved disastrous. </p>

<p>So, most players learn to average things out (diversify) and make a lot of smaller trades (bets). They develop automated trading methods that can accumulate more profits from winning trades than losses in losing ones to produce an overall profit over the long haul simply by averaging out the risk, and uncertainty, over time. There is an equation to resume all that.</p>

<p><strong>The Portfolio Equation</strong></p>

<p>If all the trading activity could be summarized in a single definitive equation, then it would be great. But, we already have such a contraption. It is old, here it is again:</p>

<p>F(t) = F(0)∙(1+g_bar)^t = F(0) + Σ(<strong>H</strong>∙Δ<strong>P</strong>) -  Σ(<strong>E</strong>xp) = F(0) + n∙x_bar =  F(0) + (n - λ)∙AW + λ∙AL</p>

<p>The equal sign will stand for every section of this payoff matrix equation. </p>

<p>It starts by saying that a portfolio&#39;s final value F(t) is equal to the initial funds F(0) operating as if invested at a rate of return of g_bar for t years. This is equal to having F(0) to which is added the result (+/-) of all the trades minus all trading expenses. Evidently. How could it be otherwise!</p>

<p>The payoff matrix itself Σ(<strong>H</strong>∙Δ<strong>P</strong>) could be of any size, thousands of rows (days) by hundreds of columns (stocks) and it would still resume to the penny all the trading activity ever done in that portfolio. </p>

<p>Furthermore, all this trading can be reduced to 2 numbers: n and x_bar. From all the trades (n), the strategy managed to generate an average net profit or loss of x_bar, including expenses. Again, hard to argue the point. The equal sign stands. </p>

<p>Therefore, at the end of it all, only two numbers will prevail, and this whatever your trading strategy does or that you think it can do, even if it does a million trades+. You will be subject to the number of trades the strategy made and to the average net profit per trade that it was able to achieve. Those are the important numbers of any trading strategy. They are the numbers you will end up with. Consequently, those are the numbers to be concerned about.</p>

<p>The last part of the equation is breaking down n∙x_bar into its components: the number of winning and losing trades. So, you have the number of losing trades (λ) times the average net loss per trade (AL). and the rest (n – λ), the number of winning trades times the average net profit per trade (AW). Nothing very complicated, almost trivial and certainly self-evident.</p>

<p>We have a portfolio equation to explain the outcome of any trading strategy whatever its composition and whatever its duration.</p>

<p><strong>So What!</strong> </p>

<p>Well, if all trading strategies end up with F(t) = F(0) + n∙x_bar, or, F(t) = F(0) + (n - λ)∙AW + λ∙AL, then those are the numbers that matter. Everything else not having an impact on these numbers might as well be considered as irrelevant or some kind of cosmetic code.</p>

<p>Whenever I see the outcome of a program where AW tends to AL (AW → |AL|), and many programs have this, I look at (n – λ) to see if it was worthwhile. For instance, a hit rate of 51% (n – λ)/n is not that much different than the expected outcome of flipping a fair coin, whatever predictive powers one would like to attribute to their trading program. It most certainly is not the way to show predictive powers.</p>

<p>If your trading program has for outcome: F(t) = F(0) + (n - λ)∙AW + λ∙AL, then those are the only numbers to worry about. Evidently, you want to make AL and λ as small as possible while having n and AW as large as you possibly can. It does translate to having a better hit rate: (n – λ)/λ than just 51%, and a better average win to average loss ratio: (n – λ)∙AW / λ∙|AL|.</p>

<p>Whatever the design of your trading strategy it will end up with the above equality. </p>

<p>Therefore, improving on a trading strategy will require code modification that can have an impact on the above equation. Any code modification or improvement will need to find ways to increase n, reduce λ, increase AW and reduce AL. Whatever you do, there is nothing else that matters if it does not have an impact on those numbers. </p>

<p>The equation stands, and it will stand for centuries to come. That is not an opinion. It is an old statement bearing an equal sign declaring and setting it in stone.</p>

<p>In the end, common sense must prevail. Should you not be interested in looking at what are the long-term consequences of your trading strategy, then don&#39;t blame anyone but yourself for not having planned that far. If in the end, you lose, it will be strictly your fault, no one else&#39;s. You had all the tools to make it good and even better than everyone else and with ease, but you failed. </p>

<p>The market was not against you, you simply designed your trading strategy to fail from the start, and it did. So, do not be surprised, and do not complain. You were the architect of your own demise. You do not want to plan for the above equation, it is your choice, but it won&#39;t make those numbers disappear.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>1 response</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='5b633d90306123498ebaa0d9' id='5b633d90306123498ebaa0d9'>
<a href='#5b633d90306123498ebaa0d9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1533230480000' class='quanto-date posted-at response-posted-at' href='#5b633d90306123498ebaa0d9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>The Math of the Stock Trading Game is Still Simple</strong></p>

<p>Following my last post, I thought it might be of interest to provide an example with numbers while keeping with the portfolio&#39;s payoff matrix equation as presented. You look at a problem long enough and you start to synthesize what it is all about. Not that you master it, but that you can somehow replicate its parts. </p>

<p>The idea here is to show the impact trading mechanics can have on the outcome of a trading strategy. The numbers do not belong to a particular trading strategy. The numbers are, however, representative of some strategies I have seen lately on Quantopian. We could view these numbers as a variation on the same theme. </p>

<p>Nonetheless, they should make the point. Which is: demonstrate that slight changes in the behavior of a trading strategy can have quite an impact when the number of trades is large and executed over extended periods of time.</p>

<p><strong>Trading is a Journey</strong></p>

<p>No one should trade for a week, stop, and then wait for years. It is not productive enough to sustain any long-term objective, except if you were very very lucky. </p>

<p>The following table shows a strategy generating some 200,000 trades over an undetermined time interval. What we are interested in is the portfolio&#39;s payoff equation as presented in the above cited article, wherein all the variables are described in detail. The equation is reproduced here for convenience&#39;s sake: </p>

<p>F(t) = F(0)∙(1+g_bar)^t = F(0) + Σ(<strong>H</strong>∙Δ<strong>P</strong>) -  Σ(<strong>E</strong>xp) = F(0) + n∙x_bar =  F(0) + (n - λ)∙AW + λ∙AL</p>

<p>Figure 1: <strong>Outcome of Payoff Matrix Equation</strong><br>
<img src="https://image-proxy.quantopian.com/d18ab724dcba4fc33e53b17bdaccf12ed222bb83/687474703a2f2f616c706861706f77657274726164696e672e636f6d2f7175616e746f7069616e2f466967312e706e67" /> </p>

<p>From the chart, the initial stake is set at $10 million with 200,000 executed trades. The number of trades (n) is sufficiently large to make it statistically significant and allow us to speak in terms of averages. </p>

<p><strong>Where is the Money</strong></p>

<p>In the first panel, the average win (AW) equals the average loss (|AL|). We have: AW = |AL| = $100. With a 50% hit rate, the strategy&#39;s outcome is zero, no reward. It would have made 200,000 trades with not even a penny to show for all the work. </p>

<p>This is equivalent to having an x_bar of zero, no edge, therefore no profit. It is the same as the expected outcome of tossing a fair coin.  An x_bar of zero does translate to no gain, but also to no loss. You lose if x_bar goes negative. Those scenarios do exist, but are not considered in the above table. </p>

<p>Designing trading strategies with a negative x_bar is not desirable since, on average, you would be paying to lose money to play the game. Evidently, do not do that. Know your strategy&#39;s numbers before you trade live, and a simulation can easily give you an estimate of those numbers before even considering such a decision.</p>

<p><strong>An Edge</strong></p>

<p>A 51% hit rate, or a 1% edge, is sufficient to make some money, even in a scenario where AW = |AL|, as illustrated in panel 1. Tossing a loaded coin having a 1% bias would give the same expected outcome. It gets better as the edge increases. </p>

<p>The middle panel shows the strategy after improving AW, its average win per trade. Not by much. At the 50% hit rate, it is $50 per trade. It could be done simply by requesting, on average, a higher profit target per trade. </p>

<p><strong>The Win/Loss Ratio</strong></p>

<p>In panel 2, even with a 50% hit rate, you win. Even more so than the best in the first panel at a 60% hit rate. The effort to increase the average net profit on the average winning trade was worth it. Going to the 51% ratio does increase performance, but not by that much. It is the hit rate which is improving x_bar and thereby the total outcome.</p>

<p>At a 60% hit rate, panel 2 generates 4 times as much as in panel 1. Yet, AW is just twice |AL| which was set at -$100. The 50% hit rate did $10 million while at the 60% level the total moved up to $16 million in profits. All simple numbers to compute. It also stresses the importance of a better hit rate which has for expression: (n – λ)/n.</p>

<p>Panel 3 shows the impact of doubling AW and |AL|. Evidently, it doubles the outcome whatever the hit rate. But note that, at the 50% hit rate, we have only added $50 to x_bar compared to panel 2. This is not a huge amount when your trading unit is at something like $25k or $50k (a 400 or 200 stock portfolio). Making $100 on a $25k bet is 0.40%. So, I cannot consider this a big move. It is equivalent to a 40¢ move on a $100 stock, 20¢ on a $50 stock and 10¢ on a $25 stock. That kind of price move is available thousands of times a day.</p>

<p>When designing our trading strategies, we definitely could benefit from improving the spread between AW and |AL| as well as improving on our hit rate since these numbers do have an impact on x_bar as shown in Figure 1. </p>

<p><strong>The Value of Time</strong></p>

<p>Figure 1 does not consider time in its calculations since it is all concentrated on execution and the account&#39;s bottom line which is the outcome of the portfolio payoff matrix equation. Figure 2 tries to partly remedy the situation:</p>

<p>Figure 2: <strong>The Value of Time</strong><br>
<img src="https://image-proxy.quantopian.com/9ccc7465610816732122f606a7960ec557402452/687474703a2f2f616c706861706f77657274726164696e672e636f6d2f7175616e746f7069616e2f466967322e706e67" /> </p>

<p>Figure 2 makes the compounded annual growth rate  (CAGR) calculations for a 3, 5, 10, and 20-year time interval. The first section of the chart is the same as in Figure 1. The CAGR formula is simple: [(F(0) + n∙x_bar) / F(0)]^(1/t) – 1. </p>

<p>We can observe that the longer the time period to execute the 200,000 trades, the lower the CAGR is. Even at its best, in panel 3 with a 60% hit rate, the 20-year CAGR is just 7.44%. Yet, it looked impressive if one did not do the calculations. A $32 million profit on a $10 million investment is still money. Depending on the time interval it was executed, it could have been an impressive CAGR.</p>

<p><strong>The Need to Rush</strong></p>

<p>What Figure 2 shows is that there should be a rush to execute those 200,000 trades, making it as fast as possible. That is how you can improve your CAGR. Increase your hit rate on your positive edge. It does not say how you do it, only that it needs to be done, or is the result of the modifications you bring to your trading procedures. In a way, it is up to you to design the strategy you want. But, if what you do does not impact the numbers in the portfolio equation, then do not be surprised if the overall outcome does not change.</p>

<p>This leaves the door open to any type of trading strategy, whatever the basis of its edge. You want results, they can be had by designing strategies that will respect the portfolio equation. You want to ignore it, it&#39;s OK. The equation will still tally the result anyway and keep the score in your trading account. Except that, it will do what it has to do and not necessarily what you want it to do. </p>

<p><strong>Have a Trading Plan</strong></p>

<p>Plan for what you want to see, then program your trading strategy to do the job you want. You can design a table like the one above for your own portfolio scenarios. Your simulations can provide the numbers.</p>

<p>At the end of the game, the portfolio&#39;s payoff equation will prevail. It is not an opinion, not even a bold statement. It has been carved in stone for quite some time. </p>

<p><strong>Improving on Your Strategy</strong></p>

<p>If you want to improve your trading strategy, meaning have it do more for you. Then the solution is simple. Find ways to increase the number of trades having a positive impact. Increase the average profit per trade (AW). Reduce the number of losing trades λ. Increase the spread between AW and |AL|, the more you do so, the more your hit rate (n – λ)/n will scale up your profits. </p>

<p>These suggestions are going for the mechanics of the trading strategy and not necessarily for better factors or indicators. For instance, increasing AW could be a simple matter of procedure or policy to simply delay gratification thereby exploiting part of the market&#39;s general upward tendencies. </p>

<p>The economic reason is also very simple. The variance of stock prices is proportional to the square-root of time. You will find this all over academic papers starting with Bachelier in 1900. In the end, it is all up to you.</p>

<p>You want to win, that&#39;s understandable. Then you better understand the math of the game. Or, else... repeat after me: cash o∙b∙l∙i∙v∙i∙o∙n. Or, I used to play that game.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/the-math-of-the-stock-trading-game-is-quite-simple'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/the-math-of-the-stock-trading-game-is-quite-simple'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#ef898a8a8b8d8e8c84af9e9a8e819b809f868e81c18c8082">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
