<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Volatility Bias - up range / total range strategy
</title>
<meta content='' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="7jnzIH8ChQ7ySykZotJlB6bz73EF7OdYxgzGlHIwTSWSX4Vt3fRX7UtWcCjtPc1znn3MGH8g8kNEAx3+2HUvng==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/volatility-bias-up-range-slash-total-range-strategy' property='og:url'>
<meta content='Volatility Bias - up range / total range strategy' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/volatility-bias-up-range-slash-total-range-strategy' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Volatility Bias - up range / total range strategy' property='og:title'>
<meta content='' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/volatility-bias-up-range-slash-total-range-strategy">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5393dd10d78d55213900451c'>
<div class='post-container' data-post-id='5393dd10d78d55213900451c' id='5393dd10d78d55213900451c'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Volatility Bias - up range / total range strategy</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50e91684917ddce675000101'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/57475cf7d9b69c70ed7cbb16cd6d7a4e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50e91684917ddce675000101'>Anony Mole</a>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1404573824000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Volatility Bias - up range / total range strategy&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fvolatility-bias-up-range-slash-total-range-strategy%3Futm_source%3Dwebsite_share%26utm_campaign%3Dvolatility-bias-up-range-slash-total-range-strategy%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fvolatility-bias-up-range-slash-total-range-strategy%3Futm_source%3Dwebsite_share%26utm_campaign%3Dvolatility-bias-up-range-slash-total-range-strategy%26utm_medium%3Dlinkedin&amp;title=Volatility+Bias+-+up+range+%2F+total+range+strategy+%28Anony+Mole%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/volatility-bias-up-range-slash-total-range-strategy?utm_source=website_share&amp;utm_campaign=volatility-bias-up-range-slash-total-range-strategy&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Anony Mole" />
<div class='body-text'>
<div class='body-text-container post-body'></div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>27 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='539482a260a8fee0e0002830' id='539482a260a8fee0e0002830'>
<a href='#539482a260a8fee0e0002830'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1402241702000' class='quanto-date posted-at response-posted-at' href='#539482a260a8fee0e0002830'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Nice!  I remember a strategy to find high beta-bias stocks vs low beta-bias stocks, where one would sort the universe on beta_up / beta_down, long the top percentile and short the bottom.  Probably suffers from the same problem as momentum at market bottoms, but I haven&#39;t backtested it in a while.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='53948eb8eee257cc8a00009b' id='53948eb8eee257cc8a00009b'>
<a href='#53948eb8eee257cc8a00009b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1402244793000' class='quanto-date posted-at response-posted-at' href='#53948eb8eee257cc8a00009b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Anony,</p>

<p>A couple quick thoughts:</p>

<p>--The algo doesn&#39;t perform very well beyond the &quot;Great Recession&quot; downturn, right?  So, I&#39;m wondering what is gained?<br>
--Aside from the bond component, you are dealing with sectors of the S&amp;P 500 (SPY).  Would it make sense to measure the volatility relative to SPY?  It seems that the overall market volatility should be factored out, to measure the sector-dependent volatility.  Kind of a fuzzy thought at this point, but I have a simple algo in mind to see if it makes sense.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5394cc26d78d55197800848b' id='5394cc26d78d55197800848b'>
<a href='#5394cc26d78d55197800848b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1402260520000' class='quanto-date posted-at response-posted-at' href='#5394cc26d78d55197800848b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just a hobby for me, at this point.  As you must already figure, I have not found the holy grail.  And I do not have the time/energy/experience for more than some sort of plain vanilla monthly/quarterly asset allocation algo.  At this point, I&#39;m waiting to see how much that&#39;s gonna cost through Quantopian/IB.  It might make sense--we&#39;ll see.  --Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5396d594bbd97e98f1000006' id='5396d594bbd97e98f1000006'>
<a href='#5396d594bbd97e98f1000006'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1402394006000' class='quanto-date posted-at response-posted-at' href='#5396d594bbd97e98f1000006'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Anony,</p>

<p>In your VolBias code, why do you use the (i+1) multiplier:</p>

<pre><code>        upPortion = 0  
        dnPortion = 0  
        span = len(self.Close)  
        for i in range(0, span):  
            if (self.Close[i] &gt; self.Open[i]):  
                upPortion += (i + 1) * (self.High[i] - self.Low[i])  
            else:  
                dnPortion += (i + 1) * (self.High[i] - self.Low[i])  
        factor = upPortion / (upPortion + dnPortion)  
        self.Weight = factor  
</code></pre>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5399970b274f49889f000165' id='5399970b274f49889f000165'>
<a href='#5399970b274f49889f000165'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1402574604000' class='quanto-date posted-at response-posted-at' href='#5399970b274f49889f000165'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Anony, I am about to take a stab at your very interesting idea.   Where did you come up with the initial thought?  Also, how did you pick the portfolio?  I see you mention something about &quot;Q&quot;, what&#39;s that?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539a2ebd09fbc889f5000037' id='539a2ebd09fbc889f5000037'>
<a href='#539a2ebd09fbc889f5000037'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1402613439000' class='quanto-date posted-at response-posted-at' href='#539a2ebd09fbc889f5000037'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Anony,</p>

<p>I started to play around with your approach, using my own coding style (see attached for a draft).  Would you mind fleshing out a bit the indicator and trading rules?  I&#39;ll see if I can replicate your result.</p>

<p>Sorry, I&#39;m not yet up on Python object-oriented programming, so with a little guidance I should be able to decipher your code.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539a433aee10d86de900006d' id='539a433aee10d86de900006d'>
<a href='#539a433aee10d86de900006d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1402618687000' class='quanto-date posted-at response-posted-at' href='#539a433aee10d86de900006d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Anony, thanks for the explanations, I&#39;ll be porting your algo to my quantshim framework too, as this is the best way for me to learn.    Your Security/SecurityMgr objects are actually already similar to mine, so think it should be easy-peasy.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539ac88cee10d8846400011f' id='539ac88cee10d8846400011f'>
<a href='#539ac88cee10d8846400011f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1402652814000' class='quanto-date posted-at response-posted-at' href='#539ac88cee10d8846400011f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Anony,</p>

<p>Another detail:</p>

<pre><code>record(Weight=context.SecMgr.GetSecurities()[0].Weight,\  
           Trigger=context.SecMgr.GetSecurities()[0].Trigger)  
</code></pre>

<p>Are you just plotting the weight and trigger for one security, as a check that the algo is working properly (and perhaps to estimate your entry/maintenance/exit conditions)?  Or is something else going on?</p>

<p>Also, I gather that your linear weighting versus time (the period(0...n) mutiplier) serves to bias the VolBias toward more recent changes, correct?  In this industry, I see that this weighting is conventionally called a weighted moving average (WMA) (see <a href="http://www.tradestation.com/education/labs/analysis-concepts/a-comparative-study-of-moving-averages">http://www.tradestation.com/education/labs/analysis-concepts/a-comparative-study-of-moving-averages</a>).  Correct?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539b2d8009fbc869cb0001dd' id='539b2d8009fbc869cb0001dd'>
<a href='#539b2d8009fbc869cb0001dd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5258725aa09fa7ebaa000024'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7734b86e32e834268bee6749eb322fb4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5258725aa09fa7ebaa000024'>David Edwards</a>
</div>
<a UTCms='1402678658000' class='quanto-date posted-at response-posted-at' href='#539b2d8009fbc869cb0001dd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Anony, do you mind explaining the reasoning/mechanisms behind your slippage model, I commented out the set_slippage line and it doesn&#39;t perform as well with the default slippage model.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539b4d3b09fbc889f500022f' id='539b4d3b09fbc889f500022f'>
<a href='#539b4d3b09fbc889f500022f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5258725aa09fa7ebaa000024'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7734b86e32e834268bee6749eb322fb4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5258725aa09fa7ebaa000024'>David Edwards</a>
</div>
<a UTCms='1402686781000' class='quanto-date posted-at response-posted-at' href='#539b4d3b09fbc889f500022f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Okay, that makes sense. For minute data would you say that the default slippage model makes sense because the trades are executed in the following minutes and not a full day later?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539cd1d8cceab1390a000e20' id='539cd1d8cceab1390a000e20'>
<a href='#539cd1d8cceab1390a000e20'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1402786265000' class='quanto-date posted-at response-posted-at' href='#539cd1d8cceab1390a000e20'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Made a little headway on a minute bar version.  No trading yet, but it looks like the weight and trigger values are in the ballpark.  I decided to use the Pandas canned ewma instead of the homebrew weighted moving average, since it is basically the same kinda thing--most recent events are weighted most heavily.  </p>

<p>I&#39;ll add some comments to the &quot;cryptic matrix alchemy&quot; just to show there&#39;s no magic involved.</p>

<p>--Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539d62a5cceab1390a005293' id='539d62a5cceab1390a005293'>
<a href='#539d62a5cceab1390a005293'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/539d6024245922023e004b97'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/96f58f76697715639adf81bbd26e9e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/539d6024245922023e004b97'>Lou Fowls</a>
</div>
<a UTCms='1402823335000' class='quanto-date posted-at response-posted-at' href='#539d62a5cceab1390a005293'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anony Mole,<br>
What&#39;s the entry and exit logic with the trend variable coding newbie here but v interesting  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539dc8ffcceab1748b005313' id='539dc8ffcceab1748b005313'>
<a href='#539dc8ffcceab1748b005313'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/537400743fcd41da07000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/566071c42a032f096a4b6925585231da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/537400743fcd41da07000056'>Matt Clark</a>
</div>
<a UTCms='1402849538000' class='quanto-date posted-at response-posted-at' href='#539dc8ffcceab1748b005313'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One possible source of bias is that you&#39;ve hardcoded the DJIA components, when actually those components change over time.  What that might mean is that you&#39;ve introduced some look-ahead bias into your algorithm, in that you&#39;ve picked stocks in 2003 that you shouldn&#39;t have known would become successful enough to join the DJIA (Cisco, United Health, etc) and likewise you&#39;ve avoided some stocks which you shouldn&#39;t have known would leave the DJIA (Altria, Honeywell, AIG, Citi, GM, Kraft).  Ideally for the DJIA component selection to be valid you would have to adjust the DJIA components over time (not too taxing as they don&#39;t change frequently, could upload a CSV to Dropbox and import without too much effort).</p>

<p>That said I haven&#39;t looked into how much those specific picks drove the results of your latest version.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539ded38e84d809efa004d93' id='539ded38e84d809efa004d93'>
<a href='#539ded38e84d809efa004d93'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/537400743fcd41da07000056'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/566071c42a032f096a4b6925585231da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/537400743fcd41da07000056'>Matt Clark</a>
</div>
<a UTCms='1402858810000' class='quanto-date posted-at response-posted-at' href='#539ded38e84d809efa004d93'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think one other thing to consider is whether your slippage model is a reasonable approximation of what will actually happen in live trading.  I converted one of your algorithms (the third one you posted in this thread) to trade in minute mode with the default slippage model and configured it to trade at the first possible opportunity - in other words, at the open of the next trading day following the weight and trigger calculations.  I ran them side by side for the period 2007-03-09 - 2007-12-31 (I actually ran the daily mode test from 2007-01-01 but due to warm up it doesn&#39;t trade until this date, so I delayed the minute mode algorithm accordingly which requires no warm up).  I used a relatively small initial budget ($10K).</p>

<p>The performance varied widely even though the weight/trigger calculations and entry/exit parameters were identical (I logged them all).  Essentially what happens is that on any given day, the trade price in minute mode trading at the open varies from your &quot;trade at open&quot; slippage model by a range of -1.5% to +0.99%.  In this case that means for the first few months of the test, the minute mode algorithm underperforms the daily mode algorithm significantly (average price discrepancy is +0.037% per day in favor of the daily algorithm).  The price discrepancy shifts back in favor of the minute mode algorithm for the second half of the test but by then the daily algorithm is already 7% ahead due to the compounded advantage.</p>

<p>I need to clean up the code for the minute mode version and then I&#39;ll post it (later today) and I&#39;ll also upload the Excel analysis of each individual transaction with price discrepancies detailed.</p>

<p>This has me wondering about having the minute mode algorithm try to trade at the end of the day or near it on the day used to calculate VolBias rather than at the open of the next day, to minimize price drift.  I am also wondering about the default slippage model and how realistic it is.  Does anyone know how the Quantopian team arrived at the VolumeShareSlippage default parameters?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539ed8d8649bb3621800011d' id='539ed8d8649bb3621800011d'>
<a href='#539ed8d8649bb3621800011d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1402919130000' class='quanto-date posted-at response-posted-at' href='#539ed8d8649bb3621800011d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Anony, and everyone else</p>

<p>I finally cleared my plate and started looking at your strategy!   I started by taking your latest version and ported it to my QuantShim framework.  The backtest results don&#39;t currently match yours, so I need to work through and find what&#39;s causing the discrepancy.  That said, the results are approximately the same, so that&#39;s a good sign.</p>

<p>My first bit of feedback would be a bit of a worry about the increased trade frequency,  why do this?  Cutting the initial capital down to 10k (something I could realistically afford for a strategy like this) cut returns from 438% to 190%, on this super-optimized backtest.<br>
I&#39;ll give more feedback once I get my port to achieve the same returns as yours.    After that, I&#39;ll get this running in minute mode.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539edd6c649bb31b3a00015c' id='539edd6c649bb31b3a00015c'>
<a href='#539edd6c649bb31b3a00015c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1402920302000' class='quanto-date posted-at response-posted-at' href='#539edd6c649bb31b3a00015c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>btw, if someone is interested in using QuantShim, please keep in mind that history values are inserted in-front,  which is different from how quantopian likes to show it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539f0a5c649bb36218000188' id='539f0a5c649bb36218000188'>
<a href='#539f0a5c649bb36218000188'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1402931806000' class='quanto-date posted-at response-posted-at' href='#539f0a5c649bb36218000188'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Anony, as Matt said, I bet there&#39;s some survivorship bias.  It&#39;s time for bed for me, but tomorrow I&#39;ll try using the quantopian 10% universe stuff and see how that goes.  fyi when I used the 9 sector ETF&#39;s my returns were not nearly as good...   but again, I don&#39;t have the same returns as your implementation yet, so I might have a critical bug somewhere....  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539f429d6a8041d65b000246' id='539f429d6a8041d65b000246'>
<a href='#539f429d6a8041d65b000246'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/537cd94deb6589e6d8000011'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2b10b8e915360826a9ee96e74f8279f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/537cd94deb6589e6d8000011'>Nihar Sheth</a>
</div>
<a UTCms='1402946207000' class='quanto-date posted-at response-posted-at' href='#539f429d6a8041d65b000246'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How would we go about implementing this strategy with Set_Universe? And has anyone been able to run it in minute mode?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539f94022b7a91de62000033' id='539f94022b7a91de62000033'>
<a href='#539f94022b7a91de62000033'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1402967045000' class='quanto-date posted-at response-posted-at' href='#539f94022b7a91de62000033'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Nihar: It would be a bit of work to use set_universe with anony&#39;s codebase, as he&#39;d need to either move the weight logic somewhere else, or dynamically construct his security objects. </p>

<p>Thankfully,  the quantshim port I did will make using set_universe very easy once I get the returns to match Anony&#39;s  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539fbbac0f94d3cbfe000076' id='539fbbac0f94d3cbfe000076'>
<a href='#539fbbac0f94d3cbfe000076'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1402977197000' class='quanto-date posted-at response-posted-at' href='#539fbbac0f94d3cbfe000076'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>fyi I found the bug in my port of Anony&#39;s &quot;DJIA frequent trade&quot; run  (I was missing a parenthesis) so now the returns roughly match.  The couple-percent difference I think is due to how my framework dynamically handles rebalancing.</p>

<p>Next I will try running with 10% universe and then get it running in minute mode.  After that, I&#39;ll integrate whatever optimizations Anony has come up with since :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='539fedc58e7dbb52190000ba' id='539fedc58e7dbb52190000ba'>
<a href='#539fedc58e7dbb52190000ba'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530db036ff0da19ab9000253'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4b4da70bef68f9e309c46e2661d4eeb8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530db036ff0da19ab9000253'>Jason Swearingen</a>
</div>
<a UTCms='1402990023000' class='quanto-date posted-at response-posted-at' href='#539fedc58e7dbb52190000ba'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Anony: re your inverted weights,  in my testing with various portfolios this only has a slight (if any) impact on returns.  for example your initial &quot;DJIA&quot; portfolio has almost the exact returns.  I presume this is due to your weights hovering in the 0.5 range to begin with.</p>

<p>I&#39;ve attached a run using the top 10% universe.  This guarantees a bias free portfolio, and the results are significantly worse, but still promising due to the potential of decreasing the excessive trades</p>

<p>However, I don&#39;t think I&#39;ll be converting to minute mode just yet.   the 10% universe took more than 2 hours to run, so I&#39;ll play with the other interesting improvement ideas first.  Minute mode will take 10x or so longer to test so I think we can do that a bit later :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='53a08ee515236a36b60001ee' id='53a08ee515236a36b60001ee'>
<a href='#53a08ee515236a36b60001ee'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5351146d50e6b24f1e000043'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5ee4e8d7cdeb7eaea5604c7324ad3542?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5351146d50e6b24f1e000043'>Sekuri Jouri</a>
</div>
<a UTCms='1403031271000' class='quanto-date posted-at response-posted-at' href='#53a08ee515236a36b60001ee'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Took a stab at converting this to minute mode while maintaining the analysis/execution on a daily basis. Here&#39;s what I&#39;ve changed:</p>

<ul>
<li>No custom slippage - uses default slippage<br></li>
<li>The analysis is still done daily, but at a time that can be (eventually) controlled: right now, security manager update is done once a day early during trading. If any orders are to be placed, they&#39;re placed at the same time early in the day (this can be modified to place buy orders early and sell orders nearer to close times etc)<br></li>
<li>For the analysis, it calls on the history function to load the previous day&#39;s final ohlc data.<br></li>
<li>Modified the security manager to take symbols instead of sids (my own preference really and to understand when some securities started - will set back to sid for the next run)<br></li>
<li>Set the start date to 2008/3/19 - to account for unique symbols and shorter for quicker results (will go farther back with sids instead of symbols)<br></li>
<li>Capital_base set to $10k instead of $100k. I had noticed higher returns with larger starting capital in daily tests.</li>
</ul>

<p>Otherwise, I&#39;ve kept all else the same. Still needs a weightPeriods warm up etc. This backtest took under 2 hours to run. While survivor bias is important to eliminate, this particular minute mode implementation behaves like a robust defensive strategy, at least. Comparing to daily mode, and at the risk of stating the obvious with most investments, sensitivity to entry/exit plays a major role.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='53a093c315236a36b6000202' id='53a093c315236a36b6000202'>
<a href='#53a093c315236a36b6000202'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/537cd94deb6589e6d8000011'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2b10b8e915360826a9ee96e74f8279f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/537cd94deb6589e6d8000011'>Nihar Sheth</a>
</div>
<a UTCms='1403032518000' class='quanto-date posted-at response-posted-at' href='#53a093c315236a36b6000202'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Why do the results deteriorate in minute mode? We are still only trading once a day, which is very similar to daily trading, right?</p>

<p>On the other hand, even with set_universe, the results still look pretty good (4% alpha), so the strategy is likely viable if we can make the minute mode version track the daily version more closely.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='53a0972115236abace0001fc' id='53a0972115236abace0001fc'>
<a href='#53a0972115236abace0001fc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1403033379000' class='quanto-date posted-at response-posted-at' href='#53a0972115236abace0001fc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Presumably the edge is dependent on joining the opening auction.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='53a0aeac181fba38ce00024f' id='53a0aeac181fba38ce00024f'>
<a href='#53a0aeac181fba38ce00024f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5351146d50e6b24f1e000043'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5ee4e8d7cdeb7eaea5604c7324ad3542?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5351146d50e6b24f1e000043'>Sekuri Jouri</a>
</div>
<a UTCms='1403039406000' class='quanto-date posted-at response-posted-at' href='#53a0aeac181fba38ce00024f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can&#39;t say for sure but there are differences between daily and minutely testing. For one, the slippage model in minutely has much tighter constraints in volume, and the close_price of the first bar is not the day&#39;s open. Slippage can cause spreading of an order over several bars resulting in higher uncertainty in the cost basis. This <a href="https://www.quantopian.com/posts/testing-on-dailies-doesnt-make-sense">post</a> may be helpful.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='53a0bf9215c4bc5d3f00001d' id='53a0bf9215c4bc5d3f00001d'>
<a href='#53a0bf9215c4bc5d3f00001d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1403043732000' class='quanto-date posted-at response-posted-at' href='#53a0bf9215c4bc5d3f00001d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Would like to know the simplest way to keep it from going in the hole.</p>

<pre><code>1970-01-01  Starting cash 100000.0  
2003-10-20  New cash low 835.4615  
2003-10-21  New cash low -2133.098  
2004-06-23  New cash low -2150.923  
2004-09-02  New cash low -2416.6681  
2004-09-30  New cash low -3030.1226  
2006-01-27  New cash low -3313.521981  
2007-04-23  New cash low -3799.721181  
2007-09-27  New cash low -5850.262881  
2009-04-08  New cash low -6899.456317  
2009-04-22  New cash low -10969.950317  
2009-06-11  New cash low -18195.840017  
End of logs.  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='53a0e37fabb4e75852000064' id='53a0e37fabb4e75852000064'>
<a href='#53a0e37fabb4e75852000064'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1403052928000' class='quanto-date posted-at response-posted-at' href='#53a0e37fabb4e75852000064'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s a variant, run on minute bars.  A couple notes:</p>

<p>--No commissions (set_commission(commission.PerShare(cost=0.0)))<br>
--As I understand, Quantopian still cancels orders at the day&#39;s end, so it won&#39;t work as written in live trading</p>

<p>Hopefully, the code is readable.  Questions/comments/improvements welcome.</p>

<p>Grant  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/volatility-bias-up-range-slash-total-range-strategy'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/volatility-bias-up-range-slash-total-range-strategy'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#3c5a5959585e5d5f577c4d495d5248534c555d52125f5351">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
