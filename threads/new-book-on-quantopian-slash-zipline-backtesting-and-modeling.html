<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
New book on Quantopian/Zipline backtesting and modeling
</title>
<meta content='Hi guys, My third book is just released today. Trading Evolved is an in-depth guide into the world of Python based backtesting. Starting with the assumption of little to no prior knowledge, I&#39;ll take you on a ride which will eventually show you how to construct advanced trading models for equities and futures.  I started writing this book a year ago after finding a lack of this type of explanatory documentation in the Python world. The tools available to us are incredibly powerful, but it is...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="XRIHQTWVicEoX+3MAqvxvTFiPIA7CD92LRI+mI0ENo4hdHEMl2NbIpFCtP1NRFnJCewf6UHEKm2vHeXyJ0FUNQ==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/new-book-on-quantopian-slash-zipline-backtesting-and-modeling' property='og:url'>
<meta content='New book on Quantopian/Zipline backtesting and modeling' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/new-book-on-quantopian-slash-zipline-backtesting-and-modeling' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='New book on Quantopian/Zipline backtesting and modeling' property='og:title'>
<meta content='Hi guys, My third book is just released today. Trading Evolved is an in-depth guide into the world of Python based backtesting. Starting with the assumption of little to no prior knowledge, I&#39;ll take you on a ride which will eventually show you how to construct advanced trading models for equities and futures.  I started writing this book a year ago after finding a lack of this type of explanatory documentation in the Python world. The tools available to us are incredibly powerful, but it is...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/new-book-on-quantopian-slash-zipline-backtesting-and-modeling">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5d4bd14a58004100401760a1'>
<div class='post-container' data-post-id='5d4bd14a58004100401760a1' id='5d4bd14a58004100401760a1'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>New book on Quantopian/Zipline backtesting and modeling</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1565249866000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=New book on Quantopian/Zipline backtesting and modeling&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fnew-book-on-quantopian-slash-zipline-backtesting-and-modeling%3Futm_source%3Dwebsite_share%26utm_campaign%3Dnew-book-on-quantopian-slash-zipline-backtesting-and-modeling%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fnew-book-on-quantopian-slash-zipline-backtesting-and-modeling%3Futm_source%3Dwebsite_share%26utm_campaign%3Dnew-book-on-quantopian-slash-zipline-backtesting-and-modeling%26utm_medium%3Dlinkedin&amp;title=New+book+on+Quantopian%2FZipline+backtesting+and+modeling+%28Andreas+Clenow%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/new-book-on-quantopian-slash-zipline-backtesting-and-modeling?utm_source=website_share&amp;utm_campaign=new-book-on-quantopian-slash-zipline-backtesting-and-modeling&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Andreas Clenow" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Hi guys,</p>

<p>My third book is just released today. Trading Evolved is an in-depth guide into the world of Python based backtesting. Starting with the assumption of little to no prior knowledge, I&#39;ll take you on a ride which will eventually show you how to construct advanced trading models for equities and futures. </p>

<p>I started writing this book a year ago after finding a lack of this type of explanatory documentation in the Python world. The tools available to us are incredibly powerful, but it is not easy for most people to really get into this way of working. It can be a daunting process to learn about Python and backtesting, both from a technical and financial perspective.</p>

<p>My new book is highly practical and full of source code and detailed explanations. It&#39;s my intention that by the end of this book, you will be well on your way to becoming a professional systematic trader.</p>

<p>You can find the new book here: <a href="https://amzn.to/31tDkwn" rel="nofollow">https://amzn.to/31tDkwn</a></p>

<p>A considerable amount of work has gone into writing this book and I hope that the community out there will have use for it. I would greatly appreciate reviews, comments and feedback.</p>

<p>Thank you,</p>

<p>Andreas  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>183 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='5d4be1f333000400480d1960' id='5d4be1f333000400480d1960'>
<a href='#5d4be1f333000400480d1960'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/591472bd9ba3d40010df03ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f213c9b748ebc7737039dc3bf42c4246?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/591472bd9ba3d40010df03ad'>Fredrik Fyring</a>
</div>
<a UTCms='1565254131000' class='quanto-date posted-at response-posted-at' href='#5d4be1f333000400480d1960'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I just ordered the book for delivery in start of September. I really look forward to reading it and  promise to come back with feedback. </p>

<p>Thanks!<br>
 Fredrik  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d4be55ec3c8b6004846d95c' id='5d4be55ec3c8b6004846d95c'>
<a href='#5d4be55ec3c8b6004846d95c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1565255006000' class='quanto-date posted-at response-posted-at' href='#5d4be55ec3c8b6004846d95c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Much appreciated, Fredrik! I hope you&#39;ll like it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d4beaf333000400450d198f' id='5d4beaf333000400450d198f'>
<a href='#5d4beaf333000400450d198f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1565256435000' class='quanto-date posted-at response-posted-at' href='#5d4beaf333000400450d198f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hej Andreas,</p>

<p>That looks awesome! I’ll most likely order it either way, but I’m curious if there’s a table of contents available, and also if the book covers alpha research and how to best avoid/limit overfitting?</p>

<p>Mvh,<br>
Joakim  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d4bec46c3c8b6004546d99b' id='5d4bec46c3c8b6004546d99b'>
<a href='#5d4bec46c3c8b6004546d99b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1565256774000' class='quanto-date posted-at response-posted-at' href='#5d4bec46c3c8b6004546d99b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tjena Joakim,</p>

<p>You&#39;ll find a complete table of contents here: <a href="https://www.followingthetrend.com/trading-evolved/" rel="nofollow">https://www.followingthetrend.com/trading-evolved/</a></p>

<p>I don&#39;t cover those topics though. I find that Rob Carver is better than I at explaining those things, and would very much recommend his books.</p>

<p>ac  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d4bf11c5800410045176150' id='5d4bf11c5800410045176150'>
<a href='#5d4bf11c5800410045176150'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1565258012000' class='quanto-date posted-at response-posted-at' href='#5d4bf11c5800410045176150'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tackar!</p>

<p>That looks like just what I need. Looking forward to going through it! I might pick up one of Rob&#39;s books too while I&#39;m at it. :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d4c2a9a40ab8b7652108973' id='5d4c2a9a40ab8b7652108973'>
<a href='#5d4c2a9a40ab8b7652108973'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c9a292788391322331f9413'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/38a1905cfc18f3d41e805d2ecc1d77d8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c9a292788391322331f9413'>Mike Burke</a>
</div>
<a UTCms='1565272730000' class='quanto-date posted-at response-posted-at' href='#5d4c2a9a40ab8b7652108973'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I already ordered the book and am looking forward to it.</p>

<p>Quick question - for the code in the book, will there be .py or .ipynb files available for download?</p>

<p>Either way, I cant wait to get my hands on this!  Thanks again Andreas!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d4c2b895800415a201760da' id='5d4c2b895800415a201760da'>
<a href='#5d4c2b895800415a201760da'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1565272969000' class='quanto-date posted-at response-posted-at' href='#5d4c2b895800415a201760da'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Both, but mostly Notebook files. Most of the models and demos is in Jupyter, with things like bundles and the like in .py.</p>

<p>All the code is in the book, with explanations, and also downloadable with inline comments in the source.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d4c32ca580041004317630d' id='5d4c32ca580041004317630d'>
<a href='#5d4c32ca580041004317630d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1565274826000' class='quanto-date posted-at response-posted-at' href='#5d4c32ca580041004317630d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andreas, just ordered too, and looking forward to reading your new book. It is like it is coming out just went I have a use for such a book. Thanks for putting it out.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d5132f54996625a2fe07391' id='5d5132f54996625a2fe07391'>
<a href='#5d5132f54996625a2fe07391'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c61ff18d57e2300437ebb51'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ab40ab81df7ea6791aed4f43e053f369?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c61ff18d57e2300437ebb51'>geoff foster</a>
</div>
<a UTCms='1565602549000' class='quanto-date posted-at response-posted-at' href='#5d5132f54996625a2fe07391'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Andreas - your site seems to have stopped serving https - I can access the site with http - although the browser still keeps spinning I can see most of the content .  Also - where is the code - I can&#39;t seem to find it on your site  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d514d5b1cc4de004144464d' id='5d514d5b1cc4de004144464d'>
<a href='#5d514d5b1cc4de004144464d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1565609307000' class='quanto-date posted-at response-posted-at' href='#5d514d5b1cc4de004144464d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, Geoff. You&#39;re absolutely right, and I&#39;m getting the techies on it. It&#39;s either a total coincidence, or the release of the book a few days ago actually generated so much traffic that my site broke. A self-DoS...</p>

<p>Once the site is operational again, and hopefully that&#39;s within a couple of hours, you&#39;ll find the code as well as random sample data here: <a href="https://www.followingthetrend.com/trading-evolved/" rel="nofollow">https://www.followingthetrend.com/trading-evolved/</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d514dcc549e4e004b2f68a9' id='5d514dcc549e4e004b2f68a9'>
<a href='#5d514dcc549e4e004b2f68a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1565609420000' class='quanto-date posted-at response-posted-at' href='#5d514dcc549e4e004b2f68a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Oh, and as you rightly point out, http still works even if it is really slow. So you can get the code here <a href="http://www.followingthetrend.com/trading-evolved/" rel="nofollow">http://www.followingthetrend.com/trading-evolved/</a> under headline Downloads.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d5168084996620040e07b38' id='5d5168084996620040e07b38'>
<a href='#5d5168084996620040e07b38'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c61ff18d57e2300437ebb51'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ab40ab81df7ea6791aed4f43e053f369?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c61ff18d57e2300437ebb51'>geoff foster</a>
</div>
<a UTCms='1565616136000' class='quanto-date posted-at response-posted-at' href='#5d5168084996620040e07b38'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Andreas - managed to get the code. Going through your book and examples now. BTW - appreciate the insights in your books and good to have you in the python community  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d5427d5bfdaa200429d54a8' id='5d5427d5bfdaa200429d54a8'>
<a href='#5d5427d5bfdaa200429d54a8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1565796309000' class='quanto-date posted-at response-posted-at' href='#5d5427d5bfdaa200429d54a8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>With a book like this, there&#39;s sure to be updates needed and errors corrected. I&#39;ve started on the list already: <a href="https://www.followingthetrend.com/2019/08/trading-evolved-errata-and-updates/" rel="nofollow">https://www.followingthetrend.com/2019/08/trading-evolved-errata-and-updates/</a></p>

<p>I will keep a running log here of errors, updates and changes. As this list grows large enough, I&#39;ll push out and updated version of the book.</p>

<p>A curious new error to highlight: Seems like Zipline won&#39;t install on Conda 4.7.10. Solution is either to downgrade Conda, as show in the article (thanks to Richard Dale), or to use pip. The latter is a bit more messy though, so downgrading Conda is easiest for now.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d5432251274e038c1cc731b' id='5d5432251274e038c1cc731b'>
<a href='#5d5432251274e038c1cc731b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c4f68c10e115b004d909116'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1e861aea610d21eb80cc05a10138cfeb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c4f68c10e115b004d909116'>Olaf kroneman</a>
</div>
<a UTCms='1565798949000' class='quanto-date posted-at response-posted-at' href='#5d5432251274e038c1cc731b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>i just bought it and looking forward to reading it  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d546c93bfdaa229559d502a' id='5d546c93bfdaa229559d502a'>
<a href='#5d546c93bfdaa229559d502a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1565813907000' class='quanto-date posted-at response-posted-at' href='#5d546c93bfdaa229559d502a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andreas, just finished your book. Much appreciated. Great job.</p>

<p>I bought your book with the anticipation that you would cover the stuff I needed now, and it is exactly what you provided. Your book, for me, will be a great time-saver by opening doors to greater possibilities. </p>

<p>Having Zipline on my machine is to keep all my stuff on my machine as well (total and guaranteed program privacy). </p>

<p>Thank you for all the code examples and explanations. Be assured I will find good use of them.</p>

<p>Again, congratulation for a job well done.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d5513d8a5b7ec0041c52f87' id='5d5513d8a5b7ec0041c52f87'>
<a href='#5d5513d8a5b7ec0041c52f87'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1565856728000' class='quanto-date posted-at response-posted-at' href='#5d5513d8a5b7ec0041c52f87'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you, Guy! I&#39;m glad you liked it. </p>

<p>Book writing is a hobby for me, and I&#39;ll keep doing it as long as it&#39;s fun. And getting positive feedback is the fun part. :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d5729995002eb5f27857b5a' id='5d5729995002eb5f27857b5a'>
<a href='#5d5729995002eb5f27857b5a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c1c56a6b82860004c99d852'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/70b0712fc783a11ae271f014837aa6fa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c1c56a6b82860004c99d852'>James Erdmier</a>
</div>
<a UTCms='1565993369000' class='quanto-date posted-at response-posted-at' href='#5d5729995002eb5f27857b5a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am brand new here. This is one of the first posts that I read and I am happy about that. I just bought your book!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d5ab272c727935e249ba3f1' id='5d5ab272c727935e249ba3f1'>
<a href='#5d5ab272c727935e249ba3f1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d44614435b27909c756b7de'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c249d1384a4a1874316b1bfe85402aa0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d44614435b27909c756b7de'>Zug Zwang</a>
</div>
<a UTCms='1566225010000' class='quanto-date posted-at response-posted-at' href='#5d5ab272c727935e249ba3f1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Does the book cover the issue how to use proprietary/own data with zipline?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d5ab43d103c4f0040f2f727' id='5d5ab43d103c4f0040f2f727'>
<a href='#5d5ab43d103c4f0040f2f727'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1566225469000' class='quanto-date posted-at response-posted-at' href='#5d5ab43d103c4f0040f2f727'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Sure does. Two chapters dedicated to hooking up your own data source. I also show how to set up a local MySql securities database, populate it with data and use that data for Zipline. Equities and futures are covered.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d5ae52611887c7ceda675b0' id='5d5ae52611887c7ceda675b0'>
<a href='#5d5ae52611887c7ceda675b0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d58d9e16ec57b004c84cf4f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f4a8080d56fe094e59d4b05e553a3693?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d58d9e16ec57b004c84cf4f'>Ryan Wasielewski</a>
</div>
<a UTCms='1566237990000' class='quanto-date posted-at response-posted-at' href='#5d5ae52611887c7ceda675b0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I Just purchased this book. Looks like it will provide some great information to learn from. Thank you, and will let you know what I think of it soon!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d5d35cec5439f373016e9ac' id='5d5d35cec5439f373016e9ac'>
<a href='#5d5d35cec5439f373016e9ac'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5aa1649def545a000fe5a081'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7d8fa8a7344508578051eb6cbce8a0b5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5aa1649def545a000fe5a081'>Emanuel R.</a>
</div>
<a UTCms='1566389710000' class='quanto-date posted-at response-posted-at' href='#5d5d35cec5439f373016e9ac'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have Python 3.6 on my PC and I don&#39;t  want to try and install Conda or Zipline. Let&#39;s say right now I&#39;m too lazy/wary of installing issues.<br>
Is it possible to follow your book here on, and only on, Quantopian, as the title of the post suggests?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d5d37e8582c8a7458405d8e' id='5d5d37e8582c8a7458405d8e'>
<a href='#5d5d37e8582c8a7458405d8e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1566390248000' class='quanto-date posted-at response-posted-at' href='#5d5d37e8582c8a7458405d8e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The models in the book should be possible to replicate and run on Quantopian with minor modifications.</p>

<p>Also, I&#39;m sure you&#39;re aware, but you can install a Python 3.5 environment without risking any issues with your current 3.6 environment.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d5ea243f93cc05ec4e1e091' id='5d5ea243f93cc05ec4e1e091'>
<a href='#5d5ea243f93cc05ec4e1e091'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b2a4ec95d6af938a204427e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/504bdb53875062fb8e8cf48b2b4e3b7b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b2a4ec95d6af938a204427e'>Cyril Baudrillart</a>
</div>
<a UTCms='1566483011000' class='quanto-date posted-at response-posted-at' href='#5d5ea243f93cc05ec4e1e091'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bought today! Thank you very much for your great work Andreas. It seems really good, especially for people like me who are not IT programmers. The chapters on custom data with Zipline and MySql seem very interesting!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d63ffca7ce93d004c7ce3d8' id='5d63ffca7ce93d004c7ce3d8'>
<a href='#5d63ffca7ce93d004c7ce3d8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a7f9ed1770b77725fd18e3b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/66d3e4b56126bcac2f210c47cf864077?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a7f9ed1770b77725fd18e3b'>Gurjeet Matharu</a>
</div>
<a UTCms='1566834634000' class='quanto-date posted-at response-posted-at' href='#5d63ffca7ce93d004c7ce3d8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Andreas,</p>

<p>I just purchased the book, thank you.</p>

<p>I wish I saw the updates page earlier, I spent quite some time creating a Dockerfile to install zipline with conda.  I ended up just using pip.</p>

<p>Looking forward to the read, thanks again!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d697a1ca3d0d353b58c9d17' id='5d697a1ca3d0d353b58c9d17'>
<a href='#5d697a1ca3d0d353b58c9d17'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e362ce655a97f8ae0000dd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d2daaceadf6989220007f3dd690a443f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e362ce655a97f8ae0000dd'>Julian Mukaj</a>
</div>
<a UTCms='1567193628000' class='quanto-date posted-at response-posted-at' href='#5d697a1ca3d0d353b58c9d17'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can we access the source code if we got the book on amazon?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d69afefdf6e5f4c3e3e727c' id='5d69afefdf6e5f4c3e3e727c'>
<a href='#5d69afefdf6e5f4c3e3e727c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c1bea82cdb76867598127fb'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5b8b1662a7d20b25e1b7ac98618f3c0c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c1bea82cdb76867598127fb'>Ryan Kuvelas</a>
</div>
<a UTCms='1567207407000' class='quanto-date posted-at response-posted-at' href='#5d69afefdf6e5f4c3e3e727c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Great book, it looks like it was a great deal of work  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6a600ee5052f004541fa17' id='5d6a600ee5052f004541fa17'>
<a href='#5d6a600ee5052f004541fa17'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1567252494000' class='quanto-date posted-at response-posted-at' href='#5d6a600ee5052f004541fa17'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Julian Sure, you can download the code even if you didn&#39;t buy the book. You can find the link here: <a href="https://www.followingthetrend.com/trading-evolved/" rel="nofollow">https://www.followingthetrend.com/trading-evolved/</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6a605d4ea8476ddd533d19' id='5d6a605d4ea8476ddd533d19'>
<a href='#5d6a605d4ea8476ddd533d19'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1567252573000' class='quanto-date posted-at response-posted-at' href='#5d6a605d4ea8476ddd533d19'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Ryan Thanks, it took a lot of time and effort to put together.  An Amazon review is a good way to vote for more books like this. :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6a92ebe5052f110241f947' id='5d6a92ebe5052f110241f947'>
<a href='#5d6a92ebe5052f110241f947'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c61ff18d57e2300437ebb51'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ab40ab81df7ea6791aed4f43e053f369?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c61ff18d57e2300437ebb51'>geoff foster</a>
</div>
<a UTCms='1567265515000' class='quanto-date posted-at response-posted-at' href='#5d6a92ebe5052f110241f947'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Andreas,I have downloaded code  all the data and processed both the stocks and futures data. I&#39;ve run  the stocks simulations etc and have had a productive time learning the  thought process you are taking us through.<br>
I am now on Chapter 15 and am having a few issues running the futures backtest.<br>
1) In the book and code you have in agriculture &#39;BL, but that is not in the data.zip - I&#39;ve just commented that out as an easy work around<br>
2) In the zipline backtest - you start from - start = datetime(2001, 1, 1, 8, 15, 12, 0, pytz.UTC), but the futures in the data.zip file seem to start at about 2015 or so (they seem to start at different dates).  I&#39;ve played changing the date to (2015 etc but then I get </p>

<p>~/anaconda3/envs/Zipline/lib/python3.5/site-packages/zipline/data/dispatch_bar_reader.py in load_raw_arrays(self, fields, start_dt, end_dt, sids)
    110         for i, asset in enumerate(assets):<br>
    111             t = type(asset)<br>
--&gt; 112             sid_groups[t].append(asset)<br>
    113             out_pos[t].append(i)<br>
    114 </p>

<p>KeyError: </p>

<p>So I&#39;m wondering if there is some missing data? If not - I can upload the full error logs, but I&#39;m hoping that its just missing data</p>

<p>thanks in advance<br>
Geoff  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6aa513c2524c094641ed5c' id='5d6aa513c2524c094641ed5c'>
<a href='#5d6aa513c2524c094641ed5c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1567270163000' class='quanto-date posted-at response-posted-at' href='#5d6aa513c2524c094641ed5c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Geoff,</p>

<p>The data is just random anyhow, and not even very realistic random. I merely provided that so that those who really have no access to any data can still play with Zipline. I generated this data myself with a simple Python based random walk script.</p>

<p>With the futures, it would be too much data for an easy download if I generate too far back in time. For my actual backtests, I used about 20,000 individual futures contracts.</p>

<p>My recommendation is this:</p>

<ul>
<li>Read through the book first, until chapter 23.<br></li>
<li>If you want to replicate the models locally, find and subscribe to a data source for that type of data.<br></li>
<li>Construct your own bundle, as outlined in chapters 23 and 24.<br></li>
<li>Run the models on your own data, and update bundle name and instrument universe as needed.</li>
</ul>

<p>One welcome development is that a data provider is soon releasing their own Zipline interface to their data, which would make things much easier. I have been testing Norgate&#39;s new interface, and it seems really good so far.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6ab1a505733d00493bbc7e' id='5d6ab1a505733d00493bbc7e'>
<a href='#5d6ab1a505733d00493bbc7e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c61ff18d57e2300437ebb51'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ab40ab81df7ea6791aed4f43e053f369?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c61ff18d57e2300437ebb51'>geoff foster</a>
</div>
<a UTCms='1567273381000' class='quanto-date posted-at response-posted-at' href='#5d6ab1a505733d00493bbc7e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for taking up time over your weekend to answer these questions and give advice.  Norgate looks to be reasonably priced, however it looks to be windows only  installer and not practical for the likes of me (you&#39;ll find with python there are a lot of linux people out there). I can get my data from other sources and its not too hard to script.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6db317b647b1318e0ea20d' id='5d6db317b647b1318e0ea20d'>
<a href='#5d6db317b647b1318e0ea20d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1567470359000' class='quanto-date posted-at response-posted-at' href='#5d6db317b647b1318e0ea20d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi,</p>

<p>I bought the book and have read through about 1/3 of it and am really enjoying the author takes you through learning the python and the related libraries.  I downloaded the sample code and data and have been able to get up through Chapter 6 samples working.  For context, I&#39;ve worked in the software industry for 30+ years and have lost track of how many computer languages I know, and I have used Python in the past.</p>

<p>So was enjoying the book and moved on to backtesting... and then Zipline.  I have spent the better part of an afternoon trying every possible work around posted online to getting zipline working on my system.  Yes, I&#39;ve set up a Python 3.5 environment with Anaconda and tried all the variations on the errata page.   I&#39;ve had the most success with &quot;pip install zipline&quot; and while it seems to make it pretty far it eventually fails with a series of &quot;Failed building the wheel...&quot; errors that all end with &quot;error: Microsoft Visual C++ 14.0 is required. Get it with &quot;Microsoft Visual C++ Build Tools&quot;: <a href="https://visualstudio.microsoft.com/downloads/" rel="nofollow">https://visualstudio.microsoft.com/downloads/</a>&quot;</p>

<p>I have MS VS 2019 Community edition installed.  I still get the error.  I found an artricle on this at <a href="https://www.scivision.co/python-windows-visual-c-14-required/" rel="nofollow">https://www.scivision.co/python-windows-visual-c-14-required/</a> and it basically implied installing MS VS 2015 or 2017 might help, but I don&#39;t have a license for these so at this point I am SOL and calling it quits for today.</p>

<p>I humbly request the author (or someone) try install the latest version of Python, Anaconda 3, VS 2019 Comm Edition on the latest patch of Windows 10 and publish how they made zipline work.  I&#39;d like to know!</p>

<p>I&#39;m looking forward to solving the zipline installation issue and moving on in the book :-)</p>

<p>Regards,</p>

<p>Laura P.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6de2d9b647b1003d0ea81c' id='5d6de2d9b647b1003d0ea81c'>
<a href='#5d6de2d9b647b1003d0ea81c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1567482585000' class='quanto-date posted-at response-posted-at' href='#5d6de2d9b647b1003d0ea81c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Laura, i had similar issues installing Zipline, but downgrading Conda to     4.6.11  solved the problem. Also make sure you&#39;re running python 3.5 and the latest 3.7. Hope it works for you as well.<br>
conda config --set allow_conda_downgrades true<br>
conda install conda=4.6.11  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6e027c635e5f0a7de54a32' id='5d6e027c635e5f0a7de54a32'>
<a href='#5d6e027c635e5f0a7de54a32'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1567490684000' class='quanto-date posted-at response-posted-at' href='#5d6e027c635e5f0a7de54a32'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Maxim,<br>
I managed to (sort of) fix the zipline installation issue by  1) finding a VS 2014 link on Stack Overflow (it&#39;s a MS download, but I could not find the link through the MS website) at <a href="http://go.microsoft.com/fwlink/?LinkId=691126&fixForIE=.exe" rel="nofollow">http://go.microsoft.com/fwlink/?LinkId=691126&amp;fixForIE=.exe</a>. 2) fixing the VS 2014 installation as it was missing &quot;rc.exe&quot; on the PATH - instructions here: <a href="https://stackoverflow.com/questions/14372706/visual-studio-cant-build-due-to-rc-exe" rel="nofollow">https://stackoverflow.com/questions/14372706/visual-studio-cant-build-due-to-rc-exe</a>  After 1) + 2) I was able to &quot;conda install -c quantopian zipline&quot; and zipline and all of it&#39;s required packages <em>appeared</em> to install.  However, when I go to use zipline in Jupyter Notebook I get an error about LRU not being available when I import anything from zipline.<br>
I did try your suggestion of downgrading Conda, but that generated a new set of errors.</p>

<p>I may just clean install python+anaconda+VS14 and try over.  Tomorrow.</p>

<p>Again, it would be nice to get a set of instructions for fresh install of all the latest sw on the latest os.  The book, errata, etc. are a bit adhoc in their suggested approach to getting zipline workling.</p>

<p>Regards, Laura P  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6e43d29b7f4400461593e5' id='5d6e43d29b7f4400461593e5'>
<a href='#5d6e43d29b7f4400461593e5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d6cfb42635e5f0047e54809'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8f46cec54c2eae6ae4b6c91837d6da18?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d6cfb42635e5f0047e54809'>Robin Szeto</a>
</div>
<a UTCms='1567507410000' class='quanto-date posted-at response-posted-at' href='#5d6e43d29b7f4400461593e5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A very good book!  I tried a few days and finally got the zipline 1.3 installed ……. :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6e441e1f42ca5c4078da14' id='5d6e441e1f42ca5c4078da14'>
<a href='#5d6e441e1f42ca5c4078da14'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d6cfb42635e5f0047e54809'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8f46cec54c2eae6ae4b6c91837d6da18?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d6cfb42635e5f0047e54809'>Robin Szeto</a>
</div>
<a UTCms='1567507486000' class='quanto-date posted-at response-posted-at' href='#5d6e441e1f42ca5c4078da14'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>For those who use Win10 and Anaconda, you can try this:<br>
<a href="https://anaconda.org/robinszeto/env_zipline" rel="nofollow">https://anaconda.org/robinszeto/env_zipline</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6e50f79b7f44004615943c' id='5d6e50f79b7f44004615943c'>
<a href='#5d6e50f79b7f44004615943c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1567510775000' class='quanto-date posted-at response-posted-at' href='#5d6e50f79b7f44004615943c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><h3 id='5d6e50f79b7f44004615943c-for-zipline'><a class='clickable-header-link' href='#5d6e50f79b7f44004615943c-for-zipline'>For Zipline</a></h3>

<p>I haven&#39;t read the book by Andreas, but these might help.</p>

<p><strong>Python</strong><br>
I always install Anaconda to a directory with short name, like <code>C:\Python36</code>.<br>
Then I don&#39;t use any of the special Conda aspects of it, I treat it like straight Python.<br>
I&#39;m using Anaconda 3 version 5.2 from <a href="https://repo.continuum.io/archive/" rel="nofollow">https://repo.continuum.io/archive/</a>, that is, Anaconda3-5.2.0-Windows-x86_64.exe</p>

<p><strong>Compiler</strong><br>
Laura, correct, that link/solution you posted already, in my experience has been the simplest, quickest and most surefire way to take care of the LRU problem with a C compiler on Windows 10: <a href="http://go.microsoft.com/fwlink/?LinkId=691126&fixForIE=.exe" rel="nofollow">http://go.microsoft.com/fwlink/?LinkId=691126&amp;fixForIE=.exe</a>. So I&#39;m surprised there were further problems and would check these ...</p>

<p><strong>Path</strong><br>
Elements of the Windows path involving python in mine working fine with zipline:<br>
<code>C:\Python36;C:\Python36\DLLs;C:\Python36\Lib;C:\Python36\Library\bin;C:\Python36\Library\mingw-w64\bin;C:\Python36\Scripts;C:\Python36\bin</code></p>

<p><strong>Dependencies</strong><br>
Another thing that can sometimes help, checking dependencies:</p>

<pre><code>python.exe -m pip install --upgrade pip  
pip install pipdeptree  
pipdeptree -p zipline  
</code></pre>

<p>Supposing <code>pipdeptree</code> reports any conflicts, let&#39;s say, a module named <code>zoo</code> with a message looking something like this ...</p>

<pre><code>C:\&gt; pipdeptree -p zipline  
Warning!!! Possibly conflicting dependencies found:  
 - zoo [required: &gt;=2.0,&lt;3.0, installed: 1.5.10]  
</code></pre>

<p>... that can be resolved like:</p>

<p><code>pip install &quot;zoo&gt;=2.0&quot;</code></p>

<p><strong>Debugger</strong><br>
Once past all those, seems to me zipline is remarkably reliable.<br>
If someone wants to dig into zipline with breakpoints, to my knowledge VS Code cannot, but PyCharm does.<br>
<em>(the name must be from snake charming since python is a snake)</em>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6ec0fa9b7f4423321593dd' id='5d6ec0fa9b7f4423321593dd'>
<a href='#5d6ec0fa9b7f4423321593dd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1567539450000' class='quanto-date posted-at response-posted-at' href='#5d6ec0fa9b7f4423321593dd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The instructions above on how to get Anaconda 3 version 5.2 combined with Robin&#39;s YML files at <a href="https://anaconda.org/robinszeto/env_zipline" rel="nofollow">https://anaconda.org/robinszeto/env_zipline</a> got me past zipline installation issues.  Thank you!</p>

<p>I created a quandl account and successfully got zipline to ingest the quandl bundle (with some warnings).  Now  trying to write a backtest using zipline with quandl data and am having what appears to be some errors parsing the quandl data.  So progress, but still not quite there...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6f180bfa81fe004317d831' id='5d6f180bfa81fe004317d831'>
<a href='#5d6f180bfa81fe004317d831'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1567561739000' class='quanto-date posted-at response-posted-at' href='#5d6f180bfa81fe004317d831'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I did eventually get zipline working :-)</p>

<p>I had to apply the patches to the zipline files as outlined in “Patching the Framework” on Mr Clenow&#39;s errata page as the final fix.  So the full install that worked for me was  </p>

<blockquote>
<p>uninstall all prior copies of python, anaconda<br>
install VS14 build tools from here  <a href="http://go.microsoft.com/fwlink/?LinkId=691126&fixForIE=.exe" rel="nofollow">http://go.microsoft.com/fwlink/?LinkId=691126&amp;fixForIE=.exe</a>. and patch VS 2014 installation to add missing &quot;rc.exe&quot; on the PATH - instructions here: <a href="https://stackoverflow.com/questions/14372706/visual-studio-cant-build-due-to-rc-exe" rel="nofollow">https://stackoverflow.com/questions/14372706/visual-studio-cant-build-due-to-rc-exe</a><br>
Run installer Anaconda3-5.2.0-Windows-x86_64.exe from here  <a href="https://repo.continuum.io/archive/" rel="nofollow">https://repo.continuum.io/archive/</a><br>
Launch Anaconda Navigator and open a terminal window per the instructions in the book<br>
Update pip to latest version: python.exe -m pip install --upgrade pip<br>
Use conda to create the Python environ &quot;env_zipline&quot; using Robin Szeto&#39;s YML <a href="https://anaconda.org/robinszeto/env_zipline" rel="nofollow">https://anaconda.org/robinszeto/env_zipline</a><br>
Install matplotlib 3.0.0 using Anaconda Navigator<br>
Follow the book instructions to get a Quandl account and ingest the quandl bundle using zipline<br>
Follow instructions for “Patching the Framework” on Mr Clenow&#39;s errata page<br>
Use &quot;env_zipline&quot; when launching Jupyter Notebook</p>
</blockquote>

<p>At that point zipline should work in Python examples per the book on a Win10 machine.</p>

<p>Good luck!</p>

<p>Update:  Anaconda-3 2019.07 (the latest version) works just as well as Anaconda-3 version 5.2 in the above instrsuctions  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6f5ac789e625004d597836' id='5d6f5ac789e625004d597836'>
<a href='#5d6f5ac789e625004d597836'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d6cfb42635e5f0047e54809'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8f46cec54c2eae6ae4b6c91837d6da18?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d6cfb42635e5f0047e54809'>Robin Szeto</a>
</div>
<a UTCms='1567578823000' class='quanto-date posted-at response-posted-at' href='#5d6f5ac789e625004d597836'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Dear all,</p>

<p>Great to see some of you had used my &quot;env&quot; to get the zipline installed.<br>
Here is an updated one for your reference:</p>

<p><a href="https://anaconda.org/robinszeto/env_zipline" rel="nofollow">https://anaconda.org/robinszeto/env_zipline</a><br>
<a href="https://anaconda.org/robinszeto/env_zipline/2019.09.04.052239/download/env_zipline_20190904b_office.yml" rel="nofollow">https://anaconda.org/robinszeto/env_zipline/2019.09.04.052239/download/env_zipline_20190904b_office.yml</a></p>

<p>Thanks and regards,<br>
Robin  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6f5e100aee5c0041c8b7b3' id='5d6f5e100aee5c0041c8b7b3'>
<a href='#5d6f5e100aee5c0041c8b7b3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1567579664000' class='quanto-date posted-at response-posted-at' href='#5d6f5e100aee5c0041c8b7b3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m glad it worked out, Laura. </p>

<p>Issues like these are the main reason why everyone advised me against writing this book. The problem is that any number of things can go wrong depending on local environments and unexpected changes in software or API calls, and much of it can&#39;t be predicted or preempted. </p>

<p>Luckily, there are kind and helpful people like Robin and Mr. Seahawk out there to assist! Thanks guys!</p>

<p>Andreas  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6fdc7189e6255601597673' id='5d6fdc7189e6255601597673'>
<a href='#5d6fdc7189e6255601597673'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1567612017000' class='quanto-date posted-at response-posted-at' href='#5d6fdc7189e6255601597673'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>And yet you wrote the book - thank you, I&#39;m enjoying it - so here we are!</p>

<p>The problems are very normal (albeit icky) software dev problems and are largely addressable with a systematic and published approach to tool versioning and package management and documenting of the install process on a clean machine.</p>

<p>You have a good start in your book.  It would be nice to have a repository for instructions and conda YML for the top couple OS variants across Mac/Windows/Linux, maybe linked to on your website? :-)  Just an idea.  </p>

<p>Thank you for your response,</p>

<p>Laura P  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6fdf6dde09223325d6a29a' id='5d6fdf6dde09223325d6a29a'>
<a href='#5d6fdf6dde09223325d6a29a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1567612781000' class='quanto-date posted-at response-posted-at' href='#5d6fdf6dde09223325d6a29a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ha, something tells me you&#39;ve got a far deeper software engineering background than I do. </p>

<p>Although I&#39;ve been programming since the 80s and started my first IT firm in the 90s, I really have no formal background in tech. My actual background is in finance and business, and on the tech side I&#39;ve always taken a &#39;fly by the seat of your pants&#39; approach. Which by the way is one of my favorite anglosaxan idioms since it makes no sense whatsoever. My approach is completely result focused and that often leads to doing things less by the book than a proper software engineer would have done. </p>

<p>Well, if you or anyone else out there would like to contribute to such a project, I&#39;d be happy to help out, host it and give it visibility. :)</p>

<p>Funny thing though. So far, the book sold extremely well. Surprisingly well. I got a large amount of feedback, but only two really negative. One was quite upset because the book was far too difficult. The other was equally upset over the book being far too simplistic.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d712f4a8e86d550a6c07e31' id='5d712f4a8e86d550a6c07e31'>
<a href='#5d712f4a8e86d550a6c07e31'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1567698762000' class='quanto-date posted-at response-posted-at' href='#5d712f4a8e86d550a6c07e31'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi,</p>

<p>The &quot;Momentum Model&quot; example in Ch 12 uses the bundle &quot;ac_equities_db&quot; (which, of course, we don&#39;t have) and changing it to &quot;quandl&quot; generates errors due to the symbol names you use in the index universe.  An AC blessed fix for this would be appreciated.</p>

<p>Related, is there a better place to post errata than this thread?</p>

<p>I managed to get zipline working on a 2nd Win10 machine without any issues by following the instructions I posted (and updated).  Yes, I have a sw eng background.  BTW - &quot;flying by the seat of your pants&quot; is rooted in  pilot lingo in reference how accurately your ass tells you some things about your flying that instruments don&#39;t capture.  Modern F1 drivers talk about the same phenomenon and if you&#39;ve ever raced a car around a track you quickly understand the term.</p>

<p>Regards, Laura  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d71690cc81279674891fb5e' id='5d71690cc81279674891fb5e'>
<a href='#5d71690cc81279674891fb5e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1567713548000' class='quanto-date posted-at response-posted-at' href='#5d71690cc81279674891fb5e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ah, yes, I&#39;ve realized that I was perhaps not clear enough on that one. I got a few questions like that already.</p>

<p>From chapter 12 on, you will need better data than you&#39;ll find for free. That means that you&#39;ll need to get your own data and build your own bundle to hook it up. That part is explained in chapters 23 and 24. </p>

<p>Initially I had those chapters up front, explaining how to make bundles and hook up your own data early on. I moved it to the back on advice from a fellow author, who pointed out that those technical chapters will make many casual readers drop off without getting to the models and trading stuff. </p>

<p>This is a good place to discuss, but I&#39;m following the threads on other places as well. There&#39;s some activity around these things on my own site, followingthetrend.com, and my errata page there. If you find errors, and hopefully solutions, please let me know and I&#39;ll update the official errata page.</p>

<p>Thanks for the background on that phrase! Next time my wife tells me to slow down my BMW, I&#39;ll use that. &quot;But honey, I&#39;m flying by the seat of my pants, just like pilots and F1 drivers do!&quot;  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d726215deb5ae23f13df217' id='5d726215deb5ae23f13df217'>
<a href='#5d726215deb5ae23f13df217'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b2a4ec95d6af938a204427e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/504bdb53875062fb8e8cf48b2b4e3b7b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b2a4ec95d6af938a204427e'>Cyril Baudrillart</a>
</div>
<a UTCms='1567777301000' class='quanto-date posted-at response-posted-at' href='#5d726215deb5ae23f13df217'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, I am having some problems running file Portfolio Backtest.ipynb from chapter 8. Even after modifying file Benchmarks.py as recommended by Andreas, the code is still unable to execute correctly on my PC. Running zipline 1.3.0 with python 3.5.6 in Anaconda virtual environnement. All previous codes from the book worked correctly. Error is when running &quot;run_algorithm&quot; function.  See below. Any one having a similar issue?  </p>

<pre><code>---------------------------------------------------------------------------  
ValueError                                Traceback (most recent call last)  
&lt;ipython-input-2-b68d206bfb01&gt; in &lt;module&gt;()  
    103     capital_base=10000,  
    104     data_frequency = &#39;daily&#39;,  
--&gt; 105     bundle=&#39;quandl&#39;  
    106 )

C:\Anaconda3\envs\quantopian\lib\site-packages\zipline\utils\run_algo.py in run_algorithm(start, end, initialize, capital_base, handle_data, before_trading_start, analyze, data_frequency, data, bundle, bundle_timestamp, trading_calendar, metrics_set, default_extension, extensions, strict_extensions, environ, blotter)  
    428         local_namespace=False,  
    429         environ=environ,  
--&gt; 430         blotter=blotter,  
    431     )

C:\Anaconda3\envs\quantopian\lib\site-packages\zipline\utils\run_algo.py in _run(handle_data, initialize, before_trading_start, analyze, algofile, algotext, defines, data_frequency, capital_base, data, bundle, bundle_timestamp, start, end, output, trading_calendar, print_algo, metrics_set, local_namespace, environ, blotter)  
    227     ).run(  
    228         data,  
--&gt; 229         overwrite_sim_params=False,  
    230     )  
    231 

C:\Anaconda3\envs\quantopian\lib\site-packages\zipline\algorithm.py in run(self, data, overwrite_sim_params)  
    760             daily_stats = self._create_daily_stats(perfs)  
    761  
--&gt; 762             self.analyze(daily_stats)  
    763         finally:  
    764             self.data_portal = None

C:\Anaconda3\envs\quantopian\lib\site-packages\zipline\algorithm.py in analyze(self, perf)  
    474  
    475         with ZiplineAPI(self):  
--&gt; 476             self._analyze(self, perf)  
    477  
    478     def __repr__(self):

&lt;ipython-input-2-b68d206bfb01&gt; in analyze(context, perf)  
     87 def analyze(context, perf):  
     88     # Use PyFolio to generate a performance report  
---&gt; 89     returns, positions, transactions = pf.utils.extract_rets_pos_txn_from_zipline(perf)  
     90     pf.create_returns_tear_sheet(returns, benchmark_rets=None)  
     91 

ValueError: too many values to unpack (expected 3)

</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d726b542d7975210322d6c0' id='5d726b542d7975210322d6c0'>
<a href='#5d726b542d7975210322d6c0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1567779668000' class='quanto-date posted-at response-posted-at' href='#5d726b542d7975210322d6c0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am not an expert but &quot;too many values to unpack&quot; may imply a version mismatch in the libraries.  Check your install vs. <a href="https://anaconda.org/robinszeto/env_zipline/2019.09.04.052239/download/env_zipline_20190904b_office.yml" rel="nofollow">Robin Szeto&#39;s YML</a> and pyfolio 0.9.2</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d726c762d7975210322d6c8' id='5d726c762d7975210322d6c8'>
<a href='#5d726c762d7975210322d6c8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1567779958000' class='quanto-date posted-at response-posted-at' href='#5d726c762d7975210322d6c8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes, my thoughts as well. You might have accidentally installed an earlier version of PyFolio.</p>

<p>Note that, at least last time I checked, the PyFolio package on the conda channel isn&#39;t updated. Installing through conda will give you an old version.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d7274c05342da1a14b61351' id='5d7274c05342da1a14b61351'>
<a href='#5d7274c05342da1a14b61351'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b2a4ec95d6af938a204427e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/504bdb53875062fb8e8cf48b2b4e3b7b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b2a4ec95d6af938a204427e'>Cyril Baudrillart</a>
</div>
<a UTCms='1567782080000' class='quanto-date posted-at response-posted-at' href='#5d7274c05342da1a14b61351'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks a lot for your help Laura &amp; Andreas! I run pyfolio 0.5.1 so that&#39;s probably why... I confirm it is impossible to upgrade using conda update as you mentioned earlier, Andreas <a href="https://github.com/quantopian/pyfolio/issues/560" rel="nofollow">Conda Installation Version Inconsistency</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d72761edeb5ae23f13df2a3' id='5d72761edeb5ae23f13df2a3'>
<a href='#5d72761edeb5ae23f13df2a3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1567782430000' class='quanto-date posted-at response-posted-at' href='#5d72761edeb5ae23f13df2a3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That&#39;s definitely the issue. And I think I know why...</p>

<p>The PyFolio package on conda isn&#39;t updated for some reason, so if you install using conda you&#39;ll get 0.5.1. You need to use pip to install this package.</p>

<p>I&#39;ve raised this a long time ago, but it&#39;s not updated yet. I was hoping to avoid using pip for the book, but for this package I had to.</p>

<p>I&#39;d uninstall PyFolio and then install it again, using pip.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d72c9f5b87c8812f0e8693f' id='5d72c9f5b87c8812f0e8693f'>
<a href='#5d72c9f5b87c8812f0e8693f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1567803893000' class='quanto-date posted-at response-posted-at' href='#5d72c9f5b87c8812f0e8693f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just to confuse matters: it appears conda will run pip to install packages if you provide a YML with a pip section.  So it&#39;s possible to get all the right libraries with a single YML and conda.</p>

<p>Andreas, I saw your post about Ch23/24.  I kind understand why you might put these end of the book.  imho, this is a technical books for a technical audience so before Chap 12 would have been fine for me.  Anyway, I set up a trial Norgate Data account and am working through modifying your sample code to get zipline to ingest the data.  I believe you need a line of code after you read the CSV file for zipline to work with Norgate:</p>

<pre><code>df.rename(columns={&quot;Close&quot;:&quot;close&quot;,&quot;Open&quot;:&quot;open&quot;,&quot;High&quot;:&quot;high&quot;,&quot;Low&quot;:&quot;low&quot;,&quot;Volume&quot;:&quot;volume&quot;},inplace=True)
</code></pre>

<p>Also, some validity checking of the dataframe returned by pd.read_csv() will help filter out corrupt data files (I had one in my download for some reason).  I added a line to ensure the df return from read_csv() had at least 5 columns, which is pretty minimal error checking but got me past the corrupt file.  So I now have a Norgate trial data bundle working and I&#39;m debating whether to go through Ch24 and get MySQL working or skip that step go back to Ch12.  which leads me to my question.</p>

<p>Will zipline run_algoritm() run any faster if I take the extra step of importing the data into MySQL and creating a MySQL based bundle?  It looks like the ingest process will be faster, but the actual in Python use in handle_data() and data.history() will run at the same speed as they are mapping internally in zipline/pandas to bcolz and there&#39;s no direct linkage to MySQL after the ingest.  Is this correct?</p>

<p>Have a great weekend :-)</p>

<p>Laura P  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d72d2d1b87c885cf0e86a1b' id='5d72d2d1b87c885cf0e86a1b'>
<a href='#5d72d2d1b87c885cf0e86a1b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b2a4ec95d6af938a204427e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/504bdb53875062fb8e8cf48b2b4e3b7b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b2a4ec95d6af938a204427e'>Cyril Baudrillart</a>
</div>
<a UTCms='1567806161000' class='quanto-date posted-at response-posted-at' href='#5d72d2d1b87c885cf0e86a1b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>My problem has now been solved. He is what I did.</p>

<ol>
<li> I first created a new anaconda virtual environment for zipline using line &quot;conda env create -f env_zipline_20190904b_office.yml&quot; into Anaconda Prompt. <a href="https://anaconda.org/robinszeto/env_zipline/files" rel="nofollow">zipline yml file here</a><br></li>
<li>As it seemed that pyfolio was not included, I installed the latest version of this library using command &quot;pip install pyfolio&quot;<br></li>
<li> I then run again file &quot;Backtest Analysis.ipynb&quot; in Jupyter Notebook and everything is fine now :-)</li>
</ol>

<p>Thanks so much for you help Laura &amp; Andreas!</p>

<p>Cyril</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d760a56aaf21d7c82d83078' id='5d760a56aaf21d7c82d83078'>
<a href='#5d760a56aaf21d7c82d83078'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d11fb3acd14c40045cbe17f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8f81131738dcb7dd80804616b6b65b35?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d11fb3acd14c40045cbe17f'>JJ JJ</a>
</div>
<a UTCms='1568016982000' class='quanto-date posted-at response-posted-at' href='#5d760a56aaf21d7c82d83078'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have tried installing and uninstalling and reinstalling in various iterations, but I seem to keep ending up with a variation of the same error.  </p>

<p>Usually I can do an ingest in zipline as indicated in the book and don&#39;t get a &quot;ImportError: cannot import name &#39;load_prices_from_csv&#39;&quot; until running the example code available on the book website.  </p>

<p>I have tried importing the environment method as above and seem to getting &quot;ImportError: cannot import name &#39;load_prices_from_csv&#39;&quot; when I try to ingest the quandl data.  </p>

<pre><code>(env_zipline) C:\Users\Jason&gt;zipline ingest -b quandl
Traceback (most recent call last):  
  File &quot;C:\Users\Jason\Anaconda3\envs\env_zipline\Scripts\zipline-script.py&quot;, line 11, in &lt;module&gt;  
    load_entry_point(&#39;zipline==1.3.0&#39;, &#39;console_scripts&#39;, &#39;zipline&#39;)()  
  File &quot;C:\Users\Jason\Anaconda3\envs\env_zipline\lib\site-packages\pkg_resources\__init__.py&quot;, line 484, in load_entry_point  
    return get_distribution(dist).load_entry_point(group, name)  
  File &quot;C:\Users\Jason\Anaconda3\envs\env_zipline\lib\site-packages\pkg_resources\__init__.py&quot;, line 2707, in load_entry_point  
    return ep.load()  
  File &quot;C:\Users\Jason\Anaconda3\envs\env_zipline\lib\site-packages\pkg_resources\__init__.py&quot;, line 2325, in load  
    return self.resolve()  
  File &quot;C:\Users\Jason\Anaconda3\envs\env_zipline\lib\site-packages\pkg_resources\__init__.py&quot;, line 2331, in resolve  
    module = __import__(self.module_name, fromlist=[&#39;__name__&#39;], level=0)  
  File &quot;C:\Users\Jason\Anaconda3\envs\env_zipline\lib\site-packages\zipline\__init__.py&quot;, line 23, in &lt;module&gt;  
    from . import data  
  File &quot;C:\Users\Jason\Anaconda3\envs\env_zipline\lib\site-packages\zipline\data\__init__.py&quot;, line 2, in &lt;module&gt;  
    from .loader import (  
ImportError: cannot import name &#39;load_prices_from_csv&#39;  
</code></pre>

<p>And the error in JupyterLab that has been consistent across various installation attempts:</p>

<pre><code>ImportError                               Traceback (most recent call last)  
&lt;ipython-input-2-d870b0556631&gt; in &lt;module&gt;()  
      1 # Import a few libraries we need  
      2 get_ipython().run_line_magic(&#39;matplotlib&#39;, &#39;inline&#39;)  
----&gt; 3 from zipline import run_algorithm  
      4 from zipline.api import order_target_percent, symbol,      schedule_function, date_rules, time_rules  
      5 from datetime import datetime

~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\__init__.py in &lt;module&gt;()
     21 from trading_calendars import get_calendar  
     22  
---&gt; 23 from . import data  
     24 from . import finance  
     25 from . import gens

~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\data\__init__.py in &lt;module&gt;()
      1 from . import loader  
----&gt; 2 from .loader import (  
      3     load_prices_from_csv,  
      4     load_prices_from_csv_folder,  
      5 )

ImportError: cannot import name &#39;load_prices_from_csv&#39;  
</code></pre>

<p>Any help would be appreciated!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d7ba4bedb72e93de1c0f7d6' id='5d7ba4bedb72e93de1c0f7d6'>
<a href='#5d7ba4bedb72e93de1c0f7d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56406b03491ea6ba6400026e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/feb4cbf34749af2eb518ca1110c1a4e3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56406b03491ea6ba6400026e'>Thomas Chang</a>
</div>
<a UTCms='1568384190000' class='quanto-date posted-at response-posted-at' href='#5d7ba4bedb72e93de1c0f7d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andreas:<br>
I&#39;ve just read the index of your book. But it seems there is intruduction how to connect your program/algo to IB for live trading?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d7ba9f3db72e91ee8c043c9' id='5d7ba9f3db72e91ee8c043c9'>
<a href='#5d7ba9f3db72e91ee8c043c9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1568385523000' class='quanto-date posted-at response-posted-at' href='#5d7ba9f3db72e91ee8c043c9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There is nothing about live trading in the book. Mostly because I have an allergy against law suits and I believe that including a chapter on live trading would give me quite a rash. Publishing a book with code for live trading would be a legal nightmare.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d7c878b0ba5f256b32356f9' id='5d7c878b0ba5f256b32356f9'>
<a href='#5d7c878b0ba5f256b32356f9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56406b03491ea6ba6400026e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/feb4cbf34749af2eb518ca1110c1a4e3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56406b03491ea6ba6400026e'>Thomas Chang</a>
</div>
<a UTCms='1568442251000' class='quanto-date posted-at response-posted-at' href='#5d7c878b0ba5f256b32356f9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am not sure if there is misunderstanding here.  Ok, I change my question as follow:<br>
In your book is there describtion about how to connect the zipline platform or the algo-program to the paper account by IB?</p>

<p>Besides, as to the backtesting, I wonder if there is describtion how to do the auto- optimation. Formerly one can do this with the Quantopian notebook. But later Quantopian has taken out and switch off a component and it is not possible any more to do the auto-optimation of backtesting.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d7d024f1af44d5fefce979c' id='5d7d024f1af44d5fefce979c'>
<a href='#5d7d024f1af44d5fefce979c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1568473679000' class='quanto-date posted-at response-posted-at' href='#5d7d024f1af44d5fefce979c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>In your book is there describtion about how to connect the zipline platform or the algo-program to the paper account by IB?</p>
</blockquote>

<p>No.</p>

<blockquote>
<p>I wonder if there is describtion how to do the auto- optimation.</p>
</blockquote>

<p>I&#39;m not familiar with that term.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d7de3466a7da530b55dd090' id='5d7de3466a7da530b55dd090'>
<a href='#5d7de3466a7da530b55dd090'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56406b03491ea6ba6400026e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/feb4cbf34749af2eb518ca1110c1a4e3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56406b03491ea6ba6400026e'>Thomas Chang</a>
</div>
<a UTCms='1568531270000' class='quanto-date posted-at response-posted-at' href='#5d7de3466a7da530b55dd090'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>To the &quot;auto- optimation&quot; I mean:<br>
Assumed my algo is based on SMA1 cross over SMA2. But I am not sure what values are the &quot;best&quot; for SMA1 and SMA2. So I set the SMA1 to 10 and SMA2 to 50 first and do a backtesting. Then I will change the SMA1 and SMA2 to other values. After each changing I do the backtesting again. Surely I can do this manually but this is quite boring. So if I use a for loop, then I can just start the backtesting one time (but in fact there will be hundres of backtesting running one after the other) and at the end select the &quot;best&quot; combination of SMA1 and SMA2. </p>

<p>Hope you understand what I mean here. One can also call this as parameter optination for backtesting. The Ninjatrader has such a function. One could do this by Quantopian formerly. But the Quantopain turned it off later.</p>

<p>Surely this could lead to over-fitting, but this is another theme.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d7de50e3f797c00418b123d' id='5d7de50e3f797c00418b123d'>
<a href='#5d7de50e3f797c00418b123d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56406b03491ea6ba6400026e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/feb4cbf34749af2eb518ca1110c1a4e3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56406b03491ea6ba6400026e'>Thomas Chang</a>
</div>
<a UTCms='1568531726000' class='quanto-date posted-at response-posted-at' href='#5d7de50e3f797c00418b123d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>To the question of connecting the zipline to paper account by IB:<br>
Formerly one can do the live-trade here by Quantopian. Since the Quantopian turned off this function, many people looking for another altervatives. Me too. I&#39;ve heard the zipline is one of them. But at that time the zipline was still in developing phase. I am not sure if the zipline is now mature enough. I though you know zipline well. It is not matter if you haven&#39;t described this in your book. I just want to know if one can use the zipline to do live-trade.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d8002613a1c4e003e9326a2' id='5d8002613a1c4e003e9326a2'>
<a href='#5d8002613a1c4e003e9326a2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b99d4c93e700152810cec84'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fc97a290c6622bf174ec3495020a1dc1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b99d4c93e700152810cec84'>Lee Shuck</a>
</div>
<a UTCms='1568670305000' class='quanto-date posted-at response-posted-at' href='#5d8002613a1c4e003e9326a2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thomas, Have you looked at IBridgePy <a href="http://www.ibridgepy.com/" rel="nofollow">http://www.ibridgepy.com/</a> ?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d80741496fb49003f2edce8' id='5d80741496fb49003f2edce8'>
<a href='#5d80741496fb49003f2edce8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1568699412000' class='quanto-date posted-at response-posted-at' href='#5d80741496fb49003f2edce8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, I&#39;ve enjoyed the book to the last page and am going back through and working with the examples.  The symbols CU and NE are listed as currencies and TW is shown as an equity in the book, but I don&#39;t seem to have these in the couple data feeds I&#39;m using.   What are they?  In general, some comments in the code next to the futures symbols would make them easier to map to other data feeds.</p>

<p>Best, LP  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d807b92ccce500045dd149f' id='5d807b92ccce500045dd149f'>
<a href='#5d807b92ccce500045dd149f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56406b03491ea6ba6400026e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/feb4cbf34749af2eb518ca1110c1a4e3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56406b03491ea6ba6400026e'>Thomas Chang</a>
</div>
<a UTCms='1568701330000' class='quanto-date posted-at response-posted-at' href='#5d807b92ccce500045dd149f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Lee<br>
Yes, I am using now IbridgePy. But I find it is not stable and robust enough. My algo is broken up quite often bcz this or that problem. The documentation for backtesting is poor.</p>

<p>But the IBridgePy is easy to use and it is free.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d80994128b84d0041620962' id='5d80994128b84d0041620962'>
<a href='#5d80994128b84d0041620962'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1568708929000' class='quanto-date posted-at response-posted-at' href='#5d80994128b84d0041620962'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>CU is the Euro currency futures and NE is New Zealand currency futures. TW is MSCI Taiwan index futures.</p>

<p>The ticker symbols may appear slightly differently for some data providers.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d81a6a2e8b58a0045f41ea9' id='5d81a6a2e8b58a0045f41ea9'>
<a href='#5d81a6a2e8b58a0045f41ea9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1568777890000' class='quanto-date posted-at response-posted-at' href='#5d81a6a2e8b58a0045f41ea9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes, mapping the codes is quite a joy :-p Two more: BL and LR?</p>

<p>Are you aware of any sort of Zipline upgrade that does incremental data updates instead of the full ingest?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d81c534e6caab004b274575' id='5d81c534e6caab004b274575'>
<a href='#5d81c534e6caab004b274575'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1568785716000' class='quanto-date posted-at response-posted-at' href='#5d81c534e6caab004b274575'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>BL is milling wheat. LR is Robusta.</p>

<p>I&#39;m not sure, but I think the upcoming Norgate Data plugin for Zipline works with incremental updates. I don&#39;t know how they solved it though.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d81d7625355720049b9614b' id='5d81d7625355720049b9614b'>
<a href='#5d81d7625355720049b9614b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c61ff18d57e2300437ebb51'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ab40ab81df7ea6791aed4f43e053f369?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c61ff18d57e2300437ebb51'>geoff foster</a>
</div>
<a UTCms='1568790370000' class='quanto-date posted-at response-posted-at' href='#5d81d7625355720049b9614b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>a nice ft article on hedge funds following the trend. Unfortunately its paywall</p>

<p><a href="https://www.ft.com/content/916ed2e0-d63f-11e9-a0bd-ab8ec6435630" rel="nofollow">https://www.ft.com/content/916ed2e0-d63f-11e9-a0bd-ab8ec6435630</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d823b46a8cae1143001a175' id='5d823b46a8cae1143001a175'>
<a href='#5d823b46a8cae1143001a175'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b2a4ec95d6af938a204427e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/504bdb53875062fb8e8cf48b2b4e3b7b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b2a4ec95d6af938a204427e'>Cyril Baudrillart</a>
</div>
<a UTCms='1568815942000' class='quanto-date posted-at response-posted-at' href='#5d823b46a8cae1143001a175'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I completed my first reading. Congrat again for this great book Andreas. I created my first custom Bundle and it seems ok. Without your help it would have taken months! Of course there is still a lot of homework to do to use and customize all the valuable source codes from the book.<br>
I am also new in MySQL and found this part is a bit light for a beginner. I have issues running the codes of chapter 24, probably because of my low level. Any book or materials to recommend to start learning mySQL combined with python?<br>
It would have also been great to focus on how to use pipeline with custom bundles. Everything I read on this topic is very technical and difficult to understand for someone with an intermediate level in python. Maybe Andreas will need to write another book :-)<br>
Any interest to build a community around this book? I am not sure Q forum is the best place to discuss all these topics but maybe it is...<br>
Feedbacks welcomed.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d82b4d067783760e64f697b' id='5d82b4d067783760e64f697b'>
<a href='#5d82b4d067783760e64f697b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1568847056000' class='quanto-date posted-at response-posted-at' href='#5d82b4d067783760e64f697b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Andreas, thank you.  LR - of course - thank you.  I still can&#39;t map BL to Norgate Data futures - the closest seems to be KE, &quot;KC HRW Wheat&quot; but I am not confident it&#39;s the right mapping.  Any comments?</p>

<p>Also, great news about the potential ND plugin to zipline.  Have been contemplating finding a way to do fast and incremental &quot;zipline ingests&quot;, more like &quot;zipline snack&quot; (or maybe nibble?) but would be happy if someone else solves the problem.</p>

<p>Cyril - you are in the deep end of the pool now!  1) as far as I can see, you are not required to use MySQL to work with the samples in the book, it&#39;s just a very useful tool for all the reasons Andreas lists in Ch24.  I&#39;m using MySQL for a variety of reasons beyond what the book covers for stock/futures metadata for example. 2) keep in mind that MySQL is a universe of learning unto itself and just about any book on MySQL will help you because you need to learn how to set up the database and run queries, all of which have little to do with Python or zipline.  So find a book (or website) on MySQL that you like and just start experimenting.  I should mention that with all things Python, getting the right versions of the MySQL libraries installed can be a challenge.</p>

<p>The idea to start a community/forum around the book other than this Q thread is good.  But where?</p>

<p>-Laura P  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d82df226a27d6003fd5270f' id='5d82df226a27d6003fd5270f'>
<a href='#5d82df226a27d6003fd5270f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d82da16fcc8cd5c6e49b883'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d41797946ed677cc2669e3e96772baa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d82da16fcc8cd5c6e49b883'>Ed Kmiec</a>
</div>
<a UTCms='1568857890000' class='quanto-date posted-at response-posted-at' href='#5d82df226a27d6003fd5270f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Greetings all !</p>

<p>Andreas, with Laura Peterson&#39;s help I was finally able to install Zipline and get it working.  She came out of nowhere and responded to one of my questions on Anaconda Community giving me the missing piece of the puzzle.  Laura, again, thanks very much for your help.</p>

<p>I seem to be part of a very small group using Python on a Mac.  Most of the fixes noted here and elsewhere are not relevant to the Mac OS, and some of the issues I experienced on my Mac cannot be answered by Windows users.  Andreas, I continue  to believe that posting the YML&#39;s you used to test your code on Windows, Mac OS and Linux machines would be very helpful to your readers.</p>

<p>I am an accountant, not a coder.  So much of the code displayed ion the book is directionally understandable, but I doubt I will be able to generate my own code after reading this book.  Nevertheless, I an enjoying reading  the book and the ideas presented.</p>

<p>I do have a few immediate questions:</p>

<ol>
<li><p>Do the returns using the strategies in the book include dividends?</p></li>
<li><p>If so, how are the dividend declaration and payment dates captured and used in determining total returns?</p></li>
<li><p>Is there a way to separate dividends from Total Return?</p></li>
</ol>

<p>Thanks for your help.</p>

<p>Ed  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d830857fcc8cd0e9b499758' id='5d830857fcc8cd0e9b499758'>
<a href='#5d830857fcc8cd0e9b499758'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b2a4ec95d6af938a204427e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/504bdb53875062fb8e8cf48b2b4e3b7b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b2a4ec95d6af938a204427e'>Cyril Baudrillart</a>
</div>
<a UTCms='1568868439000' class='quanto-date posted-at response-posted-at' href='#5d830857fcc8cd0e9b499758'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Laura! You are right I must learn swimming by myself but the deepness of the pool is a bit frightening :-) This book was the best I can get because written by a senior manager coming from the finance industry and sharing the same language. Happy to discuss here as main topic is zipline / quantopian  unless Andreas finds a better way to communicate. I found a couple of libraries on Github to improve communication between zipline and local cvs files but will have to test them.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d8319104b742b004aab0730' id='5d8319104b742b004aab0730'>
<a href='#5d8319104b742b004aab0730'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1568872720000' class='quanto-date posted-at response-posted-at' href='#5d8319104b742b004aab0730'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The MySql chapter nearly got cut. I had a couple of technical reviewers of the manuscript telling me that it&#39;s irrelevant to the core topic and would only confuse people. They may very well be right, and it&#39;s certainly not required. But I did take their advice and moved the chapter to the end of the book, instead of the middle where it originally was. </p>

<p>I find MySql really useful for maintaining a local securities database. You don&#39;t really need to go very deep into this topic to have use for it. You might want to look into the Head First book series on topics like this. I find that series really great for getting into a totally new technical subject. It&#39;s not written for software engineers, but rather people with a more casual background.</p>

<p>Discussion forum: I&#39;d be happy to take suggestions. I had a similar thought, and a few people suggesting it. </p>

<p>At first, I considered setting up a vBulletin or similar on my own server, but I had some bad experiences in the past trying to police a site like that. Second, on suggestion I looked into using GitHub for the code sharing and discussion, but it doesn&#39;t seem like a great place for this kind of purpose.</p>

<p>I&#39;m sure there must be a great existing site somewhere, allowing creation of sub communities with all kinds of built in functionality. I normally try my best to stay far away from the whole social media scene, and I&#39;ve lost track of the players in the space. If anyone knows of a good site for this kind of purpose, please let me know.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d834697b8084c02a1df1929' id='5d834697b8084c02a1df1929'>
<a href='#5d834697b8084c02a1df1929'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b2a4ec95d6af938a204427e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/504bdb53875062fb8e8cf48b2b4e3b7b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b2a4ec95d6af938a204427e'>Cyril Baudrillart</a>
</div>
<a UTCms='1568884375000' class='quanto-date posted-at response-posted-at' href='#5d834697b8084c02a1df1929'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you very much for your answer Andreas. Writing a chapter on MySql was an excellent idea and we can easily feel that your initial plan was to spend more time on this topic. Thank you for recommending the Head First book!<br>
Regarding forum, best would be to use this thread but I am afraid it will become complex to update &amp; read. Not sure talking about zipline is the main goal of this community. Could be better to use google group dedicated to zipline. I would love to have the opinion of Quantopian team!<br>
Moderation is a full-time job without any value added and potential legal hurdles so if you wish to create an independant forum, it is probably best to keep it private and small.  Once again Google Groups seem to be a good option but I will ask my children tonight as they are my best social network advisors :-)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d840ec5e13838004b5f223f' id='5d840ec5e13838004b5f223f'>
<a href='#5d840ec5e13838004b5f223f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d82fe7a67783744124f6812'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/65c56f6da7eb0f6c62964f0beee95428?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d82fe7a67783744124f6812'>Henry Luk</a>
</div>
<a UTCms='1568935621000' class='quanto-date posted-at response-posted-at' href='#5d840ec5e13838004b5f223f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Andreas</p>

<p>Let you know I solved the technical problem myself. This little tip could be helpful to anyone who is a Python beginner so I will share it here. You need to patch benchmark.py and loader.py like the book said to make the &quot;Your First Zipline Backtest&quot; work. However, you can&#39;t patch it then run the test while Python is running. You need to exit everything first. Then patch. Then reload the whole python zipline, set quandl API key, ingest quandl bundle. then run the test, then it will work.</p>

<p>Also I notice that I need to set quandl API key and ingest quandl bundle EACH TIME I start python zipline backtesting. Once I quit Anaconda, everything is lost.</p>

<p>Now I am onto Portfolio Backtest. Hopefully everything will work fine from here onwards. Fingers Crossed.</p>

<p>Andreas, since yesterday, I cannot load/access your website: <a href="http://www.followingthetrend.com" rel="nofollow">www.followingthetrend.com</a> and your book Errata and Updates page. It says &quot;The connection has timed out. The server at <a href="http://www.followingthetrend.com" rel="nofollow">www.followingthetrend.com</a> is taking too long to respond.&quot; Could you please have a look at that? Thank you.</p>

<p>Henry  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d8cc6048b98b1004391694a' id='5d8cc6048b98b1004391694a'>
<a href='#5d8cc6048b98b1004391694a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5cc464b0fee49d3e41bc942c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/bb2dfc60b2d81716df978d15c70fcbda?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5cc464b0fee49d3e41bc942c'>Vagrams Sajadovs</a>
</div>
<a UTCms='1569506820000' class='quanto-date posted-at response-posted-at' href='#5d8cc6048b98b1004391694a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ordered the book. Thank you!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d8de4dfe5c9083ce61615f5' id='5d8de4dfe5c9083ce61615f5'>
<a href='#5d8de4dfe5c9083ce61615f5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/562b71338de08c04ca000086'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/096afe66a0419e14936eec25dde02e36?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/562b71338de08c04ca000086'>kai yin chan</a>
</div>
<a UTCms='1569580255000' class='quanto-date posted-at response-posted-at' href='#5d8de4dfe5c9083ce61615f5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ordered and started reading.</p>

<p>For the market data part, I am wondering if you have come across some good source of fundamental data apart from just market data.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d8e4c0ae5c9082a761653c4' id='5d8e4c0ae5c9082a761653c4'>
<a href='#5d8e4c0ae5c9082a761653c4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1569606666000' class='quanto-date posted-at response-posted-at' href='#5d8e4c0ae5c9082a761653c4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The best free fundamental data sources I&#39;ve found must be screen scraped with something like the Python BeautifulSoup package (which I certainly can&#39;t recommend as a practice). </p>

<p>The book website is slow and does timeout at times.  Patience is a virtue.</p>

<p>The quandl API key issue that Henri Luk had could be any number of things.  One possible solution is to set the environment variable at the system level (how you do this depends on whether you are running Windows/Mac/Linux).</p>

<p>Personally, it seems like I&#39;ve spent way too much time on data source issues but I have mostly solved them.  I have a nice automated system that runs overnight to obtain equity, futures, and fundamental data, cache it, insert in MySQL and Zipline and a minmal logging facility so I can check the correctness of the data.  It&#39;s a work in progress and the samples in the book were helpful in getting me started.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d8eaacce5c90828aa162df3' id='5d8eaacce5c90828aa162df3'>
<a href='#5d8eaacce5c90828aa162df3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d82fe7a67783744124f6812'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/65c56f6da7eb0f6c62964f0beee95428?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d82fe7a67783744124f6812'>Henry Luk</a>
</div>
<a UTCms='1569630924000' class='quanto-date posted-at response-posted-at' href='#5d8eaacce5c90828aa162df3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Laura</p>

<p>Thank you for your advice. I am running Windows 10 Pro 64bits. I am a beginner with Python. Would you mind if you could elaborate on how I can set the environment variable at the system level please?</p>

<p>YES! what you are doing with your data capturing is exactly how I want to do it for myself. I am still slowly working through the book at the moment (up to page around 200) so I am nowhere near that but when I try to do that later. May I ask you for help if I am stuck somewhere please?</p>

<p>Thank you for your help Laura.</p>

<p>Henry  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d8f64a50600ac0045536e47' id='5d8f64a50600ac0045536e47'>
<a href='#5d8f64a50600ac0045536e47'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a775b95c25e40000fbf414c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6e196b7ab787d420a3328fee0b96fff8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a775b95c25e40000fbf414c'>cemal arican</a>
</div>
<a UTCms='1569678501000' class='quanto-date posted-at response-posted-at' href='#5d8f64a50600ac0045536e47'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Andreas I just bought your book, I read all the comments. So I am excited to whats in store :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d8fa1d6c5f84a7138e38336' id='5d8fa1d6c5f84a7138e38336'>
<a href='#5d8fa1d6c5f84a7138e38336'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1569694166000' class='quanto-date posted-at response-posted-at' href='#5d8fa1d6c5f84a7138e38336'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Henri, as with many things the internet is a better source of &quot;how to&quot; than I can type here and that is true of setting a system environment var.</p>

<p>Pulling together a custom overnight job is not too difficult.  You make sure all the python applets you want to execute run cleanly from the command line, put them all in a single batch (.bat) file - including the call to anaconda &quot;activate&quot; to set the Python environment - and schedule it using the Windows &quot;Task Scheduler&quot;.  You  may have to play around with the batch file and the task scheduler job properties a bit to get it to work the way you want.  The process on a Mac or Linux is a bit different but well documented on the interwebs.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5daf3ffd0acc3a3b5e268569' id='5daf3ffd0acc3a3b5e268569'>
<a href='#5daf3ffd0acc3a3b5e268569'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b1a5fd59c894d095dcc5228'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/648f32e1db8d94968fe3fc005fbfa12c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b1a5fd59c894d095dcc5228'>Noved</a>
</div>
<a UTCms='1571766269000' class='quanto-date posted-at response-posted-at' href='#5daf3ffd0acc3a3b5e268569'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Laura (and anyone else who has faced this issue!), Did you have to modify the &quot;random futures data&quot; bundle (or whatever bundle you used to load your futures contracts) to ensure that the futures contracts loaded in the correct order to ensure the proper rolling of continuous futures contracts? Right now my continuous futures contracts are rolling on a yearly basis (from one &quot;F&quot; contract&quot; to the next &quot;F&quot;, for example) and that seems to be a result of the order in which the contracts were ingested. Can you share how you were able to overcome this issue? (Caleb, this might be related to your issue above too...? Unless you have already encountered/addressed the issue I am describing?) Thanks for your input!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5db053c27b58565b0b0c204e' id='5db053c27b58565b0b0c204e'>
<a href='#5db053c27b58565b0b0c204e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5db04bc0a504e72a7d533534'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0c0a47bff1ae6b7395ab83858b5fe64a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5db04bc0a504e72a7d533534'>Alan Culpitt</a>
</div>
<a UTCms='1571836866000' class='quanto-date posted-at response-posted-at' href='#5db053c27b58565b0b0c204e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Huge thanks to Laura Peterson and Robin Szeto.  I used their resources and fixed my installation which I wouldn&#39;t have been able to do without them  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5db36f955b168100488f7414' id='5db36f955b168100488f7414'>
<a href='#5db36f955b168100488f7414'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a8196e384d0519150000cf'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fc260316ff51383a8eb95a56353cf504?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a8196e384d0519150000cf'>kamran sokhanvari</a>
</div>
<a UTCms='1572040597000' class='quanto-date posted-at response-posted-at' href='#5db36f955b168100488f7414'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Has anyone managed to make this setup work with minute based equity data? </p>

<p>if yes, who is your data provider? Any sample bundle specs for minute based data?</p>

<p>Thanks!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5dd4310af71959668d8ef63b' id='5dd4310af71959668d8ef63b'>
<a href='#5dd4310af71959668d8ef63b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5cd83d5876ca2b23478080e5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f2257469c9bff25982a8af2f7d14857f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5cd83d5876ca2b23478080e5'>Eric Huang</a>
</div>
<a UTCms='1574187274000' class='quanto-date posted-at response-posted-at' href='#5dd4310af71959668d8ef63b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>just read week ago. A nice book to cover many trading strategy ideas, specially in Python.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5dd715b1bc01550046a91fe5' id='5dd715b1bc01550046a91fe5'>
<a href='#5dd715b1bc01550046a91fe5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d5cd03c52116e3580ae47d3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3a599839eaf323e9daee4bb8a93e5812?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d5cd03c52116e3580ae47d3'>Laura Peterson</a>
</div>
<a UTCms='1574376881000' class='quanto-date posted-at response-posted-at' href='#5dd715b1bc01550046a91fe5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve not had that sqllite error.  I will say that the work Norgate Data have done to make their feed work well with Mr. Clenow&#39;s book is very helpful.  They provide full zipline integration and I saw they have even published the book examples using their zipline plugin.  It&#39;s good to see the reinvigorated interest in zipline due to the book!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5dde7b504e54334079f68093' id='5dde7b504e54334079f68093'>
<a href='#5dde7b504e54334079f68093'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d77681effe48b3f2b0902d0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e11d1378f4ae63f21a443949f527a6e3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d77681effe48b3f2b0902d0'>Hetesh Joosery</a>
</div>
<a UTCms='1574861648000' class='quanto-date posted-at response-posted-at' href='#5dde7b504e54334079f68093'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey @Andreas Clenow great book just finished it, do you have any work coming out on optimisation of portfolio/parameters soon?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5de0d26d952f69556a0841a8' id='5de0d26d952f69556a0841a8'>
<a href='#5de0d26d952f69556a0841a8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b47dc34b7a97d003d106686'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/49c334b7631db937ce2ed0192e71854f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b47dc34b7a97d003d106686'>Jason Harris</a>
</div>
<a UTCms='1575015021000' class='quanto-date posted-at response-posted-at' href='#5de0d26d952f69556a0841a8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey everyone. Just wondering whether anyone has had an ingest issue where a given futures contract is mapped to the month ahead. For example I have ingested a chain of ES contracts - and zipline has mapped the price/volume data of my ESZ15 to its ESH16. I have tried and checked and everything appears to adhere to all formatting and ordering rules, and am not getting any annoying errors. I feel success is close once this is resolved..</p>

<p>Anyone seen this before?</p>

<p>---Problem Solved---<br>
I foolishly removed the insert into metadata table part because I had my database doing that instead. This resulted in the SIDs for each contract being ingested beginning at 1, and the index of the metadata table beginning at 0. naturally resulting in an offset. This matters, for anyone who runs into this issue at some point.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5de9bd6b5900700393f5dcdf' id='5de9bd6b5900700393f5dcdf'>
<a href='#5de9bd6b5900700393f5dcdf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c027cfdc361a8004c82b40d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5016f6401ab96f40707f1db9883b85d1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c027cfdc361a8004c82b40d'>Wordsworthtopian</a>
</div>
<a UTCms='1575599467000' class='quanto-date posted-at response-posted-at' href='#5de9bd6b5900700393f5dcdf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>...just ordered book! Looks excellent. I am learning this, don&#39;t want to reinvent the wheel, and I am encouraged by all the previous positive posts. Thanks, Andrew!</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ded22f370156d3a44ea1065' id='5ded22f370156d3a44ea1065'>
<a href='#5ded22f370156d3a44ea1065'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5deca27e70156d18afea1020'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/66d0dac9c04c93055e6c033627fa4db4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5deca27e70156d18afea1020'>Edward Hayman</a>
</div>
<a UTCms='1575822067000' class='quanto-date posted-at response-posted-at' href='#5ded22f370156d3a44ea1065'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Andreas,<br>
I have been in technology for over 30 years and have recently stumbled upon trend following and algo trading which have quickly become my new passions. I finished your two books, Following the Trend and Stocks on the Move and am now in the middle of Trading Evolved.  Your work is outstanding and I greatly appreciate the trading strategies you describe and explain how to backtest in Python/zipline.  I am new to Python and have closely followed the great support provided by Laura P and Robin S.    I have quandl correctly importing a bundle and I have Pyfolio 0.9.1 installed.  However, when I run the  First Zipline Backtest, I get the following error:  </p>

<pre><code>JSONDecodeError: Expecting value: line 1 column 1 (char 0)
</code></pre>

<p>I have gone through all the suggestions in this thread and have googled the error message without being able to resolve the issue.  Does anyone have an idea where I might be doing something wrong?   Thanks in advance.  </p>

<p>Here is the full error message:</p>

<hr>

<p>JSONDecodeError                           Traceback (most recent call last)<br>
 in ()<br>
     71     handle_data=handle_data,<br>
     72     capital_base=10000,<br>
---&gt; 73     data_frequency = &#39;daily&#39;, bundle=&#39;quandl&#39;<br>
     74 ) </p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\utils\run_algo.py in run_algorithm(start, end, initialize, capital_base, handle_data, before_trading_start, analyze, data_frequency, data, bundle, bundle_timestamp, trading_calendar, metrics_set, default_extension, extensions, strict_extensions, environ, blotter)
    428         local_namespace=False,<br>
    429         environ=environ,<br>
--&gt; 430         blotter=blotter,<br>
    431     )</p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\utils\run_algo.py in _run(handle_data, initialize, before_trading_start, analyze, algofile, algotext, defines, data_frequency, capital_base, data, bundle, bundle_timestamp, start, end, output, trading_calendar, print_algo, metrics_set, local_namespace, environ, blotter)
    157             trading_calendar=trading_calendar,<br>
    158             trading_day=trading_calendar.day,<br>
--&gt; 159             trading_days=trading_calendar.schedule[start:end].index,<br>
    160         )<br>
    161         first_trading_day =\</p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\finance\trading.py in <strong>init</strong>(self, load, bm_symbol, exchange_tz, trading_calendar, trading_day, trading_days, asset_db_path, future_chain_predicates, environ)
    101             trading_day,<br>
    102             trading_days,<br>
--&gt; 103             self.bm_symbol,<br>
    104         )<br>
    105 </p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\data\loader.py in load_market_data(trading_day, trading_days, bm_symbol, environ)
    147         # date so that we can compute returns for the first date.<br>
    148         trading_day,<br>
--&gt; 149         environ,<br>
    150     )<br>
    151     tc = ensure_treasury_data(</p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\data\loader.py in ensure_benchmark_data(symbol, first_date, last_date, now, trading_day, environ)
    216<br>
    217     try:<br>
--&gt; 218         data = get_benchmark_returns(symbol)<br>
    219         data.to_csv(get_data_filepath(filename, environ))<br>
    220     except (OSError, IOError, HTTPError):</p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\data\benchmarks.py in get_benchmark_returns(symbol)
     46         &#39;<a href="https://api.iextrading.com/1.0/stock/%7B%7D/chart/5y&#x27;.format(symbol)" rel="nofollow">https://api.iextrading.com/1.0/stock/{}/chart/5y&#39;.format(symbol)</a><br>
     47     )<br>
---&gt; 48     data = r.json()<br>
     49<br>
     50     df = pd.DataFrame(data)</p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\requests\models.py in json(self, **kwargs)
    895                     # used.<br>
    896                     pass<br>
--&gt; 897         return complexjson.loads(self.text, **kwargs)<br>
    898<br>
    899     @property</p>

<p>~\Anaconda3\envs\env_zipline\lib\json_<em>init</em>_.py in loads(s, encoding, cls, object_hook, parse_float, parse_int, parse_constant, object_pairs_hook, **kw)
    317             parse_int is None and parse_float is None and<br>
    318             parse_constant is None and object_pairs_hook is None and not kw):<br>
--&gt; 319         return _default_decoder.decode(s)<br>
    320     if cls is None:<br>
    321         cls = JSONDecoder</p>

<p>~\Anaconda3\envs\env_zipline\lib\json\decoder.py in decode(self, s, _w)
    337<br>
    338         &quot;&quot;&quot;<br>
--&gt; 339         obj, end = self.raw_decode(s, idx=_w(s, 0).end())<br>
    340         end = _w(s, end).end()<br>
    341         if end != len(s):</p>

<p>~\Anaconda3\envs\env_zipline\lib\json\decoder.py in raw_decode(self, s, idx)
    355             obj, end = self.scan_once(s, idx)<br>
    356         except StopIteration as err:<br>
--&gt; 357             raise JSONDecodeError(&quot;Expecting value&quot;, s, err.value) from None<br>
    358         return obj, end</p>

<p>JSONDecodeError: Expecting value: line 1 column 1 (char 0)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5df0216026b8a50043e2651b' id='5df0216026b8a50043e2651b'>
<a href='#5df0216026b8a50043e2651b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5de908dcc3cbe166a89cafe9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/124cace28940adb96fc17a8739a928fa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5de908dcc3cbe166a89cafe9'>Carsten</a>
</div>
<a UTCms='1576018272000' class='quanto-date posted-at response-posted-at' href='#5df0216026b8a50043e2651b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andreas</p>

<p>I have difficulties to run &quot;Populating Database&quot;</p>

<p>I setup the<br>
- SQL community server.<br>
- created to database model like described in the book<br>
- used some csv files from random stocks<br>
- have connection to the database</p>

<p>but it looks like is not correctly writing to it, I&#39;m quite sure the db empty later.<br>
&quot;Populating Database&quot; has as small typo &quot;query = insert_init + vals + insert&quot; is guess it should be &quot;...insert_end&quot;</p>

<p>Do you have more information were I could have set up the SQL sever wrong? (you said someone deleted the pages from your book, may be store a PDF on your homepage)<br>
Could you try if the version in the book/on you Homepage works with your SQL...might be one more typo...</p>

<p>Thanks<br>
Carsten</p>

<p>the message I get:<br>
ProgrammingError: (mysql.connector.errors.ProgrammingError) 1146 (42S02): Table &#39;dbstocksprice.equity_history&#39; doesn&#39;t exist [SQL: &quot;insert into equity_history \n        (trade_date, ticker, open, high, low, close, volume, dividend, in_sp500)\n        values \n        (&#39;1999-11-18 00:00:00&#39;, &#39;A&#39;, 50.24309847871317, 50.24309847871317, 50.24309847871317, 50.24309847871317, 58425783.68, 0.0, 0.0),(&#39;1999-11-19 00:00:00&#39;, &#39;A&#39;, 51.092206843003424, 51.092206843003424, 51.092206843003424, 51.092206843003424, 19084157.7, 0.0, 0.0),(&#39;1999-11-22 00:00:00&#39;, &#39;A&#39;, 50.39224360925426, 50.39224360925426, 50.39224360925426, 50.39224360925426, 8310053.22, 0.0, 0.0),(&#39;1999-11-23 00:00:00&#39;, &#39;A&#39;, 4  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5df0aeb02c12fa1f49e7dd6e' id='5df0aeb02c12fa1f49e7dd6e'>
<a href='#5df0aeb02c12fa1f49e7dd6e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1576054448000' class='quanto-date posted-at response-posted-at' href='#5df0aeb02c12fa1f49e7dd6e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Andreas,<br>
I just bought your new book on Amazon and now waiting for it to arrive here in a few days. I look forward to reading it and chatting with you again.<br>
All the best, from Tony M.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5df1e90bfae37f4509a78c99' id='5df1e90bfae37f4509a78c99'>
<a href='#5df1e90bfae37f4509a78c99'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1576134923000' class='quanto-date posted-at response-posted-at' href='#5df1e90bfae37f4509a78c99'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Edward: Looks like you ran into the IEX API issue. Zipline fetches data in the background from IEX, which is somewhat odd as that data isn&#39;t really used for anything meaningful anyhow. Well, recently IEX decided to kill their API, bricking Zipline. </p>

<p>The good news is that the fix is easy. Just disable the benchmark data fetching. You won&#39;t need it. </p>

<p>More details: <a href="https://github.com/quantopian/zipline/issues/2480" rel="nofollow">https://github.com/quantopian/zipline/issues/2480</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5df1e9670c6de4003cf431a6' id='5df1e9670c6de4003cf431a6'>
<a href='#5df1e9670c6de4003cf431a6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1576135015000' class='quanto-date posted-at response-posted-at' href='#5df1e9670c6de4003cf431a6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Carsten: Seems like you don&#39;t have a table with the name equity_history. Your query tries to insert values into a table which does not exist. Create table if you haven&#39;t done so, and check spelling if you already have the table.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5df1e9a8d2e7b42f2fde88a7' id='5df1e9a8d2e7b42f2fde88a7'>
<a href='#5df1e9a8d2e7b42f2fde88a7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1576135080000' class='quanto-date posted-at response-posted-at' href='#5df1e9a8d2e7b42f2fde88a7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tony, I hope you&#39;ll like the book. I was speaking at a conference in Singapore a couple of weeks ago, but didn&#39;t see you there. Perhaps next time around, if you&#39;re still based in spor.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5df483d6aa6cc4004439927f' id='5df483d6aa6cc4004439927f'>
<a href='#5df483d6aa6cc4004439927f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53540ad41deb33b0190000a5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fdeb80422aa102ccc18df2e21556f348?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53540ad41deb33b0190000a5'>Simon Burns</a>
</div>
<a UTCms='1576305622000' class='quanto-date posted-at response-posted-at' href='#5df483d6aa6cc4004439927f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ordering the book as well! Looks great, thanks for sharing!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5dfa869698f3a4638d73bc26' id='5dfa869698f3a4638d73bc26'>
<a href='#5dfa869698f3a4638d73bc26'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c0fdb0449bfdd4907d6d12c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/620013019703500f9c9f6a6732f75e22?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c0fdb0449bfdd4907d6d12c'>Caleb Johnson</a>
</div>
<a UTCms='1576699542000' class='quanto-date posted-at response-posted-at' href='#5dfa869698f3a4638d73bc26'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m running a futures backtest and trying to get a more complete tear sheet, but am running into a few issues.<br>
I have:  </p>

<pre><code>def analyze (context, perf):  
returns, positions, transactions = pf.utils.extract_rets_pos_txn_from_zipline(perf)  
pf.create_full_tear_sheet(returns, positions = positions, transactions = transactions, live_start_date=&#39;2001-02-01&#39;, benchmark_rets=None)  
</code></pre>

<p>This does return quite a few more helpful stats for the backtest, but when it lists the &quot;Top 10 Positions&quot; (long, short, overall), it&#39;s not calculating their percentage return accurately. Does this have to do with the cost basis? What metrics are other folks using for full tear sheets on futures backtests?<br>
Also, it is not returning the benchmark. The code in the book has &quot;benchmark_rets=None&quot;. Is that correct? I patched the benchmark file, and everything else seems to be running smoothly.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5dfa9aec5da04e003c5f7ff6' id='5dfa9aec5da04e003c5f7ff6'>
<a href='#5dfa9aec5da04e003c5f7ff6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/547cbf6d921e777fab00e094'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/957b8eb47b37fa29c3fa46918d685e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/547cbf6d921e777fab00e094'>Paul Hoff</a>
</div>
<a UTCms='1576704748000' class='quanto-date posted-at response-posted-at' href='#5dfa9aec5da04e003c5f7ff6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The patch you made to not get the benchmark means you will not get benchmark results from the backtest.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5dfa9ce4e4de210046399040' id='5dfa9ce4e4de210046399040'>
<a href='#5dfa9ce4e4de210046399040'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c0fdb0449bfdd4907d6d12c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/620013019703500f9c9f6a6732f75e22?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c0fdb0449bfdd4907d6d12c'>Caleb Johnson</a>
</div>
<a UTCms='1576705252000' class='quanto-date posted-at response-posted-at' href='#5dfa9ce4e4de210046399040'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, Paul. That&#39;s sort of what I had thought, but the other sample backtests (at least in the book) still seemed to include benchmark results.<br>
So what are other folks doing as a workaround, or are people just not incorporating benchmarks in their futures backtests on zipline now?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5dfaf47c67d41e5cb38e7800' id='5dfaf47c67d41e5cb38e7800'>
<a href='#5dfaf47c67d41e5cb38e7800'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5df429960059863c5a9ec899'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d3b17d50104d1b70fc3ff6d87e83349e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5df429960059863c5a9ec899'>Miguel Hurtado</a>
</div>
<a UTCms='1576727676000' class='quanto-date posted-at response-posted-at' href='#5dfaf47c67d41e5cb38e7800'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I give up. I have spent hours trying to install this thing in my Mac with no success...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5dffc4a7f1479500472b68a2' id='5dffc4a7f1479500472b68a2'>
<a href='#5dffc4a7f1479500472b68a2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b21387de656c4122587f1f3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b47db5d04a615a06bbef6bfb13380486?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b21387de656c4122587f1f3'>Raphael Tam</a>
</div>
<a UTCms='1577043111000' class='quanto-date posted-at response-posted-at' href='#5dffc4a7f1479500472b68a2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Could anyone recommend a quality data provider that supports macOS?   Norgate is Windows only.  Thanks very much.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5dffc6e600a9f5004583c6c8' id='5dffc6e600a9f5004583c6c8'>
<a href='#5dffc6e600a9f5004583c6c8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d3244ae52f80b004d578572'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3cc2be8fb9ba0751e76a3501b4f08a40?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d3244ae52f80b004d578572'>John Grover</a>
</div>
<a UTCms='1577043686000' class='quanto-date posted-at response-posted-at' href='#5dffc6e600a9f5004583c6c8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Raphael, I use Interactive brokers data for generating trade signals. Works well on a Mac and free for non professionals too.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e07e5dbd707a44bf0ae3868' id='5e07e5dbd707a44bf0ae3868'>
<a href='#5e07e5dbd707a44bf0ae3868'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a5509e768d09a000f270e45'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/34b68163b80853a7000ef538835bda52?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a5509e768d09a000f270e45'>Bernie Wolford</a>
</div>
<a UTCms='1577575899000' class='quanto-date posted-at response-posted-at' href='#5e07e5dbd707a44bf0ae3868'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anyone had an issue installing nb_conda package in Python 3.5 environment?</p>

<p>I get the following message when attempting to install the package:</p>

<p><em>&quot;UnsatisfiableError: The following specifications were found<br>
to be incompatible with the existing python installation in your environment:<br>
Specifications:<br>
  - nb_conda -&gt; python[version=&#39;&gt;=2.7,=3.6,=3.7, python[version=&#39;&gt;=3.6&#39;]<br>
Your python: python=3.5&quot;</em>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e07e98bdfea2c44890d4d60' id='5e07e98bdfea2c44890d4d60'>
<a href='#5e07e98bdfea2c44890d4d60'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e0044e8eaf2f70042c9c63b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6e39f73e5035c812be61cc7c21c60295?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e0044e8eaf2f70042c9c63b'>Tom Johnston</a>
</div>
<a UTCms='1577576843000' class='quanto-date posted-at response-posted-at' href='#5e07e98bdfea2c44890d4d60'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bernie,</p>

<p>I (and others) had the same problem. Our workaround was to install nb_conda using the terminal rather than through the GUI of Anaconda Navigator. From your environment in Anaconda Navigator, open up the terminal. Then paste in:</p>

<p>conda install -c conda-forge nb_conda</p>

<p>Also, see this page with hints to overcome other bugs along the way in the book: <a href="https://www.followingthetrend.com/2019/08/trading-evolved-errata-and-updates/" rel="nofollow">https://www.followingthetrend.com/2019/08/trading-evolved-errata-and-updates/</a></p>

<p>Cheers!</p>

<p>Tom  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e087e7b0edce4004521fdb4' id='5e087e7b0edce4004521fdb4'>
<a href='#5e087e7b0edce4004521fdb4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5de908dcc3cbe166a89cafe9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/124cace28940adb96fc17a8739a928fa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5de908dcc3cbe166a89cafe9'>Carsten</a>
</div>
<a UTCms='1577614971000' class='quanto-date posted-at response-posted-at' href='#5e087e7b0edce4004521fdb4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tom</p>

<p>I got the same issue, but</p>

<p>conda install -c conda-forge nb_conda</p>

<p>allowed to install the nb_conda package.</p>

<p>Unfortunately the Jupiter notebook gave an error opening the conda tap, does it work in your environment? Do you use Mac or Windows? (I’m on a Mac)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e08da340edce467c121fcfd' id='5e08da340edce467c121fcfd'>
<a href='#5e08da340edce467c121fcfd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e0044e8eaf2f70042c9c63b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6e39f73e5035c812be61cc7c21c60295?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e0044e8eaf2f70042c9c63b'>Tom Johnston</a>
</div>
<a UTCms='1577638452000' class='quanto-date posted-at response-posted-at' href='#5e08da340edce467c121fcfd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Carsten</p>

<p>I&#39;m using both Linux (Ubuntu 18.04)  and Windows 10 on a dual-booted machine. I got it to work on both. I did not have problems opening the environmment in Jupyter Notebook.  One idea.  Try opening it in Jupyter Lab instead of Jupyter Notebook?  (Jupyter Lab is just the newer version of Jupyter Notebook and available on Anaconda Navigator.)</p>

<p>You can see the exact sequence I followed in my long post at the bottom of this thread: <a href="https://www.followingthetrend.com/2019/08/trading-evolved-errata-and-updates/" rel="nofollow">https://www.followingthetrend.com/2019/08/trading-evolved-errata-and-updates/</a></p>

<p>I hope that helps.  I&#39;m afraid I can&#39;t help you with any Mac-specific problems.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e090ca58ac34046c5f174d2' id='5e090ca58ac34046c5f174d2'>
<a href='#5e090ca58ac34046c5f174d2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d3e243f3ef9cf3a23ff0e9f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/969b8167ebfecea286eed5a3221144ab?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d3e243f3ef9cf3a23ff0e9f'>Chip Chenoweth</a>
</div>
<a UTCms='1577651365000' class='quanto-date posted-at response-posted-at' href='#5e090ca58ac34046c5f174d2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Any suggestions would be greatly appreciated!</p>

<p>With the help of comments here and elsewhere, and a great deal of fiddling, I have managed to get through the first 7 Chapters. Now, with no errors. And thanks to Tom above got nb_conda installed.</p>

<p>I am in Chapter 8, simply opened the code given for the chapter in a new Jupyter Notebook and receive the error message below for the first cell:</p>

<p><em>ValueError                                Traceback (most recent call last)<br>
 in ()<br>
      5 from datetime import datetime<br>
      6 import pytz<br>
----&gt; 7 import pyfolio as pf<br>
      8<br>
      9 def initialize(context):<br>
D:\Chip\Documents\Anaconda3\envs\Z35_Test\lib\site-packages\pyfolio_<em>init</em><em>.py in ()<br>
      2<br>
      3 from . import utils<br>
----&gt; 4 from . import timeseries<br>
      5 from . import pos<br>
      6 from . import txn<br>
D:\Chip\Documents\Anaconda3\envs\Z35_Test\lib\site-packages\pyfolio\timeseries.py in ()<br>
     23 import scipy as sp<br>
     24 import scipy.stats as stats<br>
---&gt; 25 from sklearn import linear_model<br>
     26<br>
     27 from .deprecate import deprecated<br>
D:\Chip\Documents\Anaconda3\envs\Z35_Test\lib\site-packages\sklearn__init</em><em>.py in ()<br>
     72 else:<br>
     73     from . import __check_build<br>
---&gt; 74     from .base import clone<br>
     75     from .utils._show_versions import show_versions<br>
     76<br>
D:\Chip\Documents\Anaconda3\envs\Z35_Test\lib\site-packages\sklearn\base.py in ()<br>
     18<br>
     19 from . import __version</em>_<br>
---&gt; 20 from .utils import <em>IS_32BIT<br>
     21<br>
     22 _DEFAULT_TAGS = {<br>
D:\Chip\Documents\Anaconda3\envs\Z35_Test\lib\site-packages\sklearn\utils__init</em><em>.py in ()<br>
     18 from scipy.sparse import issparse<br>
     19<br>
---&gt; 20 from .murmurhash import murmurhash3_32<br>
     21 from .class_weight import compute_class_weight, compute_sample_weight<br>
     22 from . import _joblib<br>
__init</em>_.pxd in init sklearn.utils.murmurhash()<br>
ValueError: numpy.ufunc size changed, may indicate binary incompatibility. Expected 216 from C header, got 192 from PyObject</em></p>

<p>I am on a Win10/64 system and have reinstalled Anaconda twice and created a fresh Python3.5 environment multiple times all with the same result. </p>

<p>Any suggestions will be greatly appreciated.</p>

<p>Chip  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e0966ae631415671cb938a2' id='5e0966ae631415671cb938a2'>
<a href='#5e0966ae631415671cb938a2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5bfa13ea7f5dbe0047c8fce0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/bb284bb659913bdce50a083f261d19b4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5bfa13ea7f5dbe0047c8fce0'>Shaw Lu</a>
</div>
<a UTCms='1577674414000' class='quanto-date posted-at response-posted-at' href='#5e0966ae631415671cb938a2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Andreas,</p>

<p>I am reading your book and got stuck with ingesting Quandl data. The data can be ingested, but the date format cannot be parsed by pandas. Maybe my pandas version is wrong (0.22.0). Or maybe Quandl updated their date format. Can you share what pandas version are you using? The error occurs at </p>

<pre><code>Error parsing datetime string &quot;2018_11_25T05:24:33.144739&quot; at position 4  
</code></pre>

<p>Full backtrace</p>

<pre><code class="python">results = run_algorithm(  
    start=start_date,  
    end=end_date,  
    initialize=initialize,  
    analyze=analyze,  
    handle_data=handle_data,  
    capital_base=10000,  
    data_frequency=&#39;daily&#39;,  
    bundle=&#39;quandl&#39;  
)

---------------------------------------------------------------------------  
ValueError                                Traceback (most recent call last)  
pandas/_libs/tslib.pyx in pandas._libs.tslib.convert_str_to_tsobject()

pandas/_libs/src/datetime.pxd in datetime._string_to_dts()

ValueError: Error parsing datetime string &quot;2018_11_25T05:24:33.144739&quot; at position 4

During handling of the above exception, another exception occurred:

ParserError                               Traceback (most recent call last)  
pandas/_libs/tslib.pyx in pandas._libs.tslib.convert_str_to_tsobject()

pandas/_libs/tslibs/parsing.pyx in pandas._libs.tslibs.parsing.parse_datetime_string()

/opt/anaconda3/envs/quant/lib/python3.5/site-packages/dateutil/parser/_parser.py in parse(timestr, parserinfo, **kwargs)
   1373     else:  
-&gt; 1374         return DEFAULTPARSER.parse(timestr, **kwargs)  
   1375 

/opt/anaconda3/envs/quant/lib/python3.5/site-packages/dateutil/parser/_parser.py in parse(self, timestr, default, ignoretz, tzinfos, **kwargs)
    648         if res is None:  
--&gt; 649             raise ParserError(&quot;Unknown string format: %s&quot;, timestr)  
    650 

ParserError: Unknown string format: 2018_11_25T05:24:33.144739

During handling of the above exception, another exception occurred:

ValueError                                Traceback (most recent call last)  
/opt/anaconda3/envs/quant/lib/python3.5/site-packages/zipline/data/bundles/core.py in most_recent_data(bundle_name, timestamp, environ)
    485                      filter(complement(pth.hidden), candidates),  
--&gt; 486                      key=from_bundle_ingest_dirname,  
    487                  )],

/opt/anaconda3/envs/quant/lib/python3.5/site-packages/zipline/data/bundles/core.py in from_bundle_ingest_dirname(cs)
    122     &quot;&quot;&quot;  
--&gt; 123     return pd.Timestamp(cs.replace(&#39;;&#39;, &#39;:&#39;))  
    124 

pandas/_libs/tslib.pyx in pandas._libs.tslib.Timestamp.__new__()

pandas/_libs/tslib.pyx in pandas._libs.tslib.convert_to_tsobject()

pandas/_libs/tslib.pyx in pandas._libs.tslib.convert_str_to_tsobject()

ValueError: could not convert string to Timestamp

During handling of the above exception, another exception occurred:

ValueError                                Traceback (most recent call last)  
&lt;ipython-input-9-ed12f86c5de4&gt; in &lt;module&gt;()  
      7     capital_base=10000,  
      8     data_frequency=&#39;daily&#39;,  
----&gt; 9     bundle=&#39;quandl&#39;  
     10 )

/opt/anaconda3/envs/quant/lib/python3.5/site-packages/zipline/utils/run_algo.py in run_algorithm(start, end, initialize, capital_base, handle_data, before_trading_start, analyze, data_frequency, data, bundle, bundle_timestamp, trading_calendar, metrics_set, default_extension, extensions, strict_extensions, environ, blotter)
    428         local_namespace=False,  
    429         environ=environ,  
--&gt; 430         blotter=blotter,  
    431     )

/opt/anaconda3/envs/quant/lib/python3.5/site-packages/zipline/utils/run_algo.py in _run(handle_data, initialize, before_trading_start, analyze, algofile, algotext, defines, data_frequency, capital_base, data, bundle, bundle_timestamp, start, end, output, trading_calendar, print_algo, metrics_set, local_namespace, environ, blotter)
    139             bundle,  
    140             environ,  
--&gt; 141             bundle_timestamp,  
    142         )  
    143 

/opt/anaconda3/envs/quant/lib/python3.5/site-packages/zipline/data/bundles/core.py in load(name, environ, timestamp)
    519         if timestamp is None:  
    520             timestamp = pd.Timestamp.utcnow()  
--&gt; 521         timestr = most_recent_data(name, timestamp, environ=environ)  
    522         return BundleData(  
    523             asset_finder=AssetFinder(

/opt/anaconda3/envs/quant/lib/python3.5/site-packages/zipline/data/bundles/core.py in most_recent_data(bundle_name, timestamp, environ)
    495                 &#39;maybe you need to run: $ zipline ingest -b {bundle}&#39;.format(  
    496                     bundle=bundle_name,  
--&gt; 497                     timestamp=timestamp,  
    498                 ),  
    499             )

ValueError: no data for bundle &#39;quandl&#39; on or before 2019-12-30 02:43:25.867976+00:00  
maybe you need to run: $ zipline ingest -b quandl  
</code></pre>

<p>I know the data have been successfully ingested, because I can execute the following:</p>

<pre><code>import quandl  
data = quandl.get(&quot;WIKI/AAPL&quot;, trim_start = &quot;2000-12-12&quot;, trim_end=&quot;2019-12-30&quot;, authtoken=quandl.ApiConfig.api_key)  
</code></pre>

<p>Thanks for your help  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e0a32b27a960c004016f0af' id='5e0a32b27a960c004016f0af'>
<a href='#5e0a32b27a960c004016f0af'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5de908dcc3cbe166a89cafe9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/124cace28940adb96fc17a8739a928fa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5de908dcc3cbe166a89cafe9'>Carsten</a>
</div>
<a UTCms='1577726642000' class='quanto-date posted-at response-posted-at' href='#5e0a32b27a960c004016f0af'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andreas</p>

<p>I managed to populate the data base (Chapter 24) </p>

<p>Just 3 issues</p>

<ul>
<li><p>there is a small typo: query = insert_init + vals + insert   should be query = insert_init + vals + insert_end</p></li>
<li><p>For Mac it reads always a hidden file, my solution is:  -&gt;      while &#39;.DS_S&#39; in symbols: symbols.remove(&#39;.DS_S&#39;)<br>
for Mac this should look like this:</p></li>
</ul>

<p>def process_symbols():<br>
        # Remember slicing? Let&#39;s slice away the last four<br>
        # characters, which will be &#39;.csv&#39;<br>
        # Using [] to make a list of all the symbols<br>
       symbols = [s[:-4] for s in os.listdir(data_location)]<br>
       while &#39;.DS_S&#39; in symbols: symbols.remove(&#39;.DS_S&#39;)<br>
       for symbol in tqdm_notebook(symbols, desc=&#39;Importing...&#39;):<br>
           import_file(symbol)</p>

<ul>
<li>For the Database Table you used the attribute &#39;Unique&#39; for trade_date and ticker (Figure 24‑2 in the book)<br>
If I use this, I can exactly transfer one row for every ticker to the database.<br>
If I remove the attribute for ticker, I get all the data, but just for one ticker.<br>
The other ticker don&#39;t  load fort the existing dates from the first ticker.<br>
I have to remove unique for both to fill the database - no problem if the datasource is clean.<br>
I think you would like to avoid several times the same trade_date for one ticker, but with the setting shown in your book, the result is like explained above.<br>
If one could set unique for ticker AND trade_date this should do the job, but did not find the setting so far.</li>
</ul>

<p>Thankx<br>
Carsten  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e0e704bc4c5e1003e7d4528' id='5e0e704bc4c5e1003e7d4528'>
<a href='#5e0e704bc4c5e1003e7d4528'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d3e243f3ef9cf3a23ff0e9f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/969b8167ebfecea286eed5a3221144ab?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d3e243f3ef9cf3a23ff0e9f'>Chip Chenoweth</a>
</div>
<a UTCms='1578004555000' class='quanto-date posted-at response-posted-at' href='#5e0e704bc4c5e1003e7d4528'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tom</p>

<p>I have tried your install sequence suggested in your link above. I have done it several times the last from a complete uninstall/reinstall of Anaconda. I continue to get a Kernal Error when I open Jupyter Notebook. The last couple of lines of the error are:</p>

<p><em>File &quot;D:\Chip\Documents\Anaconda\envs\pyt35\lib\site-packages\jupyter_client\connect.py&quot;, line 100, in secure_write<br>
    win32_restrict_file_to_user(fname)<br>
  File &quot;D:\Chip\Documents\Anaconda\envs\pyt35\lib\site-packages\jupyter_client\connect.py&quot;, line 53, in win32_restrict_file_to_user<br>
    import win32api<br>
ImportError: No module named &#39;win32api&#39;</em></p>

<p>I am on a Windows 10 64bit laptop.</p>

<p>Thanks for any help.</p>

<p>Chip  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e0e755cc4c5e1003e7d4545' id='5e0e755cc4c5e1003e7d4545'>
<a href='#5e0e755cc4c5e1003e7d4545'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e0044e8eaf2f70042c9c63b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6e39f73e5035c812be61cc7c21c60295?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e0044e8eaf2f70042c9c63b'>Tom Johnston</a>
</div>
<a UTCms='1578005852000' class='quanto-date posted-at response-posted-at' href='#5e0e755cc4c5e1003e7d4545'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Chip,</p>

<p>Try the following command in the terminal (make sure you go into the terminal from the environment you created):</p>

<p>conda install pywin32</p>

<p>After this installs, get out of everything.  Out of the terminal.  Out of Anaconda Navigator.  Then go back in and see if you can get it to work.  </p>

<p>I had this exact problem and error code, and (searching for &quot;ImportError: No module named &#39;win32api&#39;&quot; in Google) I found that solution as the top suggested solution on Google.  In general, if you get an error code, try Google.  It&#39;s crazy how many times the top search result or two will be what you need.</p>

<p>I hope this helps, and kudos to you for your persistence.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e0e7c097b93aa003df52ec8' id='5e0e7c097b93aa003df52ec8'>
<a href='#5e0e7c097b93aa003df52ec8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5deca27e70156d18afea1020'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/66d0dac9c04c93055e6c033627fa4db4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5deca27e70156d18afea1020'>Edward Hayman</a>
</div>
<a UTCms='1578007561000' class='quanto-date posted-at response-posted-at' href='#5e0e7c097b93aa003df52ec8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Chip</p>

<p>I have been working with a good Window&#39;s 10 installation of Python 3.5 and Zipline for the past month. Unfortunately, I recently upgraded a package and the environment no longer worked with zipline backtest tearsheats. As such, I removed and tried to re-install Python and Zipline. I spent over two days trying to get a working environment again. I tried Lauren&#39;s steps (9/3/2019) and Robin Szeto&#39;s YML configuration above which was the original configuration I got working in early December.  I could no longer get it to work.  I tried ideas on   <a href="https://github.com/quantopian/zipline/issues/2514" rel="nofollow">https://github.com/quantopian/zipline/issues/2514</a> and ran into other errors including the Kernel error you encountered.  Finally, I tried Tom&#39;s configuration steps at the bottom of <a href="https://www.followingthetrend.com/2019/08/trading-evolved-errata-and-updates/" rel="nofollow">https://www.followingthetrend.com/2019/08/trading-evolved-errata-and-updates/</a>.  I ran into errors and had to try a few times before I was finally able to get my environment working.  Here are the specific steps I took:</p>

<ol>
<li> Uninstall all prior copies of python, anaconda<br>
    a.    NOTE:  After doing this multiple times over the past few days, I opted to just delete the zipline environment within Anaconda.  I then removed the corresponding subdirectory on my home folder .   This process was successful when I finally got the configuration steps in a working order.  Also, I had followed Lauren&#39;s recommendation to install VS14 build tools and add &quot;RC.exe&quot; to the path.<br></li>
<li> Install the latest Anaconda Distribution –<br>
    a.  “Anaconda3-2019.10-Windows-x86_64”<br></li>
<li> Update conda:<br>
    a.  (base) conda update conda<br></li>
<li> Create new zipline env:<br>
    a.  (base) conda create -n yourenvname python=3.5 anaconda<br>
    b.    NOTE:  I used (env_zip35)<br></li>
<li> Activate env:<br>
    a.  (base) conda activate yourenvname<br></li>
<li> Upgrade pip:<br>
    a.  (env_zip35) python -m pip install –upgrade pip<br></li>
<li> Install modules using pip and conda (specific method is important):<br>
    a.  (env_zip35) pip install msgpack<br>
    b.  (env_zip35) pip install pyfolio<br>
    c.   (env_zip35) conda install -c Quantopian zipline<br>
    d.  (env_zip35) conda install -c conda-forge nb_conda<br>
    e.  (env_zip35) conda install -c conda-forge matplotlib<br></li>
<li> Uninstall gevent:<br>
    a.  (env_zip35) pip uninstall gevent<br>
    b.  NOTE:  I did encounter the RLOCK issue so I initially used conda unistall gevent and it removed needed components.  One of them was the win32api.<br></li>
<li> Per Tom’s suggestion, re-run zipline install<br>
    a.  (env_zip35) conda install -c Quantopian zipline<br>
    b.  NOTE:  No follow up updates were made in my environment<br></li>
<li>Verify dependencies,<br>
    a.  (env_zip35) pip install pipdeptree<br>
    b.  (env_zip35) pipdeptree -p zipline<br>
    c.  NOTE:  Look for any issues that might be at top of list.  I saw none following these steps.<br></li>
<li>Import quandl bundle:<br>
    a.  (env_zip35)  Set QUANDL_API_KEY = your_own_api_key<br>
    b.  (env_zip35)  zipline ingest –b quandl<br></li>
<li>Install Norgate and Norgate-zipline integration (optional)<br>
    a.  (env_zip35) pip install norgatedata zipline-norgatedata</li>
</ol>

<p>After most of the individual installs/updates, I would open Jupyter Notebook and run a couple quick tests to make sure things were progressing properly.  I had identified Kernel errors and other issues during previous attempts.  </p>

<p>I hope this helps!</p>

<p>Happy New Year everyone for all your help through this thread.<br>
Ed H  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e0e8f4a7b93aa0040f52f3c' id='5e0e8f4a7b93aa0040f52f3c'>
<a href='#5e0e8f4a7b93aa0040f52f3c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e0044e8eaf2f70042c9c63b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6e39f73e5035c812be61cc7c21c60295?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e0044e8eaf2f70042c9c63b'>Tom Johnston</a>
</div>
<a UTCms='1578012490000' class='quanto-date posted-at response-posted-at' href='#5e0e8f4a7b93aa0040f52f3c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ed,</p>

<p>Thanks for putting up your detailed steps.  We are all getting through this thing together!</p>

<p>Tom  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e0eb22390d7820044de630a' id='5e0eb22390d7820044de630a'>
<a href='#5e0eb22390d7820044de630a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d3e243f3ef9cf3a23ff0e9f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/969b8167ebfecea286eed5a3221144ab?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d3e243f3ef9cf3a23ff0e9f'>Chip Chenoweth</a>
</div>
<a UTCms='1578021411000' class='quanto-date posted-at response-posted-at' href='#5e0eb22390d7820044de630a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tom &amp; Ed;</p>

<p>Thanks for the help, installing pywin32 solved the Kernal error. However, I am now back to the same error I have had with each of the different installation methods I have tried. (I posted the error message about 4 posts above.) </p>

<p>I can run the code for chapter 7 with no problems. When I load the code from Chap. 8 and run the first cell it throws the error:<br>
           “ ValueError: numpy.ufunc size changed, may indicate binary incompatibility. Expected 216 from C header, got 192 from PyObject”</p>

<p>I have searched for answers but with no luck.</p>

<p>Chip  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e0eb45e90d7820044de6319' id='5e0eb45e90d7820044de6319'>
<a href='#5e0eb45e90d7820044de6319'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e0044e8eaf2f70042c9c63b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6e39f73e5035c812be61cc7c21c60295?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e0044e8eaf2f70042c9c63b'>Tom Johnston</a>
</div>
<a UTCms='1578021982000' class='quanto-date posted-at response-posted-at' href='#5e0eb45e90d7820044de6319'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Chip, </p>

<p>I didn&#39;t have any problems with the first few steps of Chapter 8 so can&#39;t help on that one. I&#39;m taking a break from the book and playing with algos directly on Quantopian for a bit -- as I felt the &quot;setting up the environment&quot; stuff was getting in the way of my actually learning the bigger picture of backtesting, writing the code, etc.  That said, I&#39;ll circle back relatively soon.</p>

<p>Tom  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e0f5eda578d923d0a9dfb75' id='5e0f5eda578d923d0a9dfb75'>
<a href='#5e0f5eda578d923d0a9dfb75'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5deca27e70156d18afea1020'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/66d0dac9c04c93055e6c033627fa4db4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5deca27e70156d18afea1020'>Edward Hayman</a>
</div>
<a UTCms='1578065626000' class='quanto-date posted-at response-posted-at' href='#5e0f5eda578d923d0a9dfb75'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Chip,</p>

<p>I consistently ran into that same ValueError: numpy.ufunc size changed.  The only way I got around it was following the detailed steps I used in my post from yesterday.  Please give it a try and see if you have success.</p>

<p>Ed  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e0fca63c4c5e16d4a7d45e9' id='5e0fca63c4c5e16d4a7d45e9'>
<a href='#5e0fca63c4c5e16d4a7d45e9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d3e243f3ef9cf3a23ff0e9f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/969b8167ebfecea286eed5a3221144ab?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d3e243f3ef9cf3a23ff0e9f'>Chip Chenoweth</a>
</div>
<a UTCms='1578093155000' class='quanto-date posted-at response-posted-at' href='#5e0fca63c4c5e16d4a7d45e9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ed;</p>

<p>I just, very quickly, built a new environment following your steps.  It appears to have worked as I am able to run the code from Chapter 8, though I do have one error from the next to last cell but believe it is only a typo or something similar. I will research later after doing a complete reinstall of Anaconda and the environment.</p>

<p>Thanks for your step by step guide and encouragement.</p>

<p>Chip  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e120e7848a81f0045f36318' id='5e120e7848a81f0045f36318'>
<a href='#5e120e7848a81f0045f36318'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5de908dcc3cbe166a89cafe9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/124cace28940adb96fc17a8739a928fa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5de908dcc3cbe166a89cafe9'>Carsten</a>
</div>
<a UTCms='1578241656000' class='quanto-date posted-at response-posted-at' href='#5e120e7848a81f0045f36318'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Laura</p>

<p>I think a sql server is a nice idea as you mentioned, so I set up a MySQL (community edition) like explained in the book.</p>

<p>Finally it  runs fine and its doing what it should do - but just very slow it seems.</p>

<p>Here is a comparison:<br>
- directly reading the csv files from disk and ingesting took 1 :35 minutes.(no sql involved)<br>
- first sending them to the database ( 12:30 min) and then ingesting them to zipline ( 50 min.!!!)<br>
I used always the random stocks.</p>

<p>Looks I&#39;m doing something wrong here or are SQL servers that slow?<br>
If I&#39;m doing something wrong, where can I start to look?<br>
I just installed it with its standard installer and used the Workbench to set it up.</p>

<p>thankx<br>
Carsten  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e150204232e1a0047d47a62' id='5e150204232e1a0047d47a62'>
<a href='#5e150204232e1a0047d47a62'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5de908dcc3cbe166a89cafe9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/124cace28940adb96fc17a8739a928fa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5de908dcc3cbe166a89cafe9'>Carsten</a>
</div>
<a UTCms='1578435076000' class='quanto-date posted-at response-posted-at' href='#5e150204232e1a0047d47a62'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andreas, and All</p>

<p>I&#39;m playing a bit in Chap 12 with the momentum model and notice some strange behavior.</p>

<p>The number of positions can dramatical overshoot the set portfolio size , special with small like portfolio_size = 5.<br>
In Mai 2005 it goes  &gt;50!!</p>

<p>I checked the different steps and the new portfolio has the correct size, everything looks fine in the code.<br>
First ist just starts with 1 additional stock which seems coming back from Zipline.<br>
If I reduce the weight of the order_target_percent this effect starts to dampen.<br>
With half of the portfolio, I get in May 2005 back to 5 stock and occasionally 6 in other part.</p>

<p>To keep this simple, I used &#39;weight = 0.5/portfolio_size&#39; instead of &#39;weight = vola_target_weights[security] &#39;<br>
I used the random stock sample to be able to compare results and<br>
I monitored the size of kept_positions  with &#39;print(len(kept_positions))&#39;</p>

<p>Somebody else found this behavior?<br>
or do I have a unique Problem with Zipline installation?</p>

<p>Best<br>
Carsten  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e152b17232e1a003ed47b3c' id='5e152b17232e1a003ed47b3c'>
<a href='#5e152b17232e1a003ed47b3c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5df3a87f00598600479ecd7d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ac852af1000c2ce43af0c18f350d3267?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5df3a87f00598600479ecd7d'>Kuni Fitz-Gerald</a>
</div>
<a UTCms='1578445591000' class='quanto-date posted-at response-posted-at' href='#5e152b17232e1a003ed47b3c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I just downloaded it!<br>
I&#39;ve just started messing around with Quantopian and I&#39;m looking forward to learning more.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e1b48f27896b4004848939b' id='5e1b48f27896b4004848939b'>
<a href='#5e1b48f27896b4004848939b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c13e9ced7f0ec132d7bc792'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5fd208963049bb3f6a695c76bcb5af0e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c13e9ced7f0ec132d7bc792'>Stephen S</a>
</div>
<a UTCms='1578846450000' class='quanto-date posted-at response-posted-at' href='#5e1b48f27896b4004848939b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@chip,  </p>

<p>Issue: “ ValueError: numpy.ufunc size changed, may indicate binary incompatibility. Expected 216 from C header, got 192 from PyObject”</p>

<p>Looks like I may have had a similar problem chapter 8 which is now resolved.  If still an issue, you may want to look at <a href="https://github.com/scikit-image/scikit-image/issues/3655" rel="nofollow">https://github.com/scikit-image/scikit-image/issues/3655</a>.<br>
My steps included copying the environment (so that I could revert back if necessary)  and running &#39;pip install numpy==1.16.1&#39; in the new environment </p>

<p>thanks,<br>
Stephen  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e1dec5e1b121900497ae0c1' id='5e1dec5e1b121900497ae0c1'>
<a href='#5e1dec5e1b121900497ae0c1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c0fdb0449bfdd4907d6d12c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/620013019703500f9c9f6a6732f75e22?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c0fdb0449bfdd4907d6d12c'>Caleb Johnson</a>
</div>
<a UTCms='1579019358000' class='quanto-date posted-at response-posted-at' href='#5e1dec5e1b121900497ae0c1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve having trouble creating a tearsheet for the combined portfolio. When you store the results of the combined models, do you just run a tearsheet the same way you did for a single strategy? That doesn&#39;t seem to be working for me.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e1ea679ffde960044ca4fc5' id='5e1ea679ffde960044ca4fc5'>
<a href='#5e1ea679ffde960044ca4fc5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e1e9db6fccbfe0042b2a61a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2aa534702ff7082d1a5bd135d406ada7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e1e9db6fccbfe0042b2a61a'>Boris B</a>
</div>
<a UTCms='1579067001000' class='quanto-date posted-at response-posted-at' href='#5e1ea679ffde960044ca4fc5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello all<br>
Please could you help, having similar issues with Zipline.<br>
I too am working through the Trading Evolved and stuck on the Zipline backtest after seemingly getting past the installation.</p>

<p>So far I have:<br>
1. Created zip35 environment in Anaconda<br>
2. Installed Zipline<br>
3. Failed to install &#39;nb_conda&#39; v2.2.1 getting an UnsatisfiableError<br>
4. Installing conda (conda install -c conda-forge nb_conda) via the terminal which seemed to work<br>
5. Installed Jupyter Notebook 5.7.0 from Home page<br>
6. Launched Jupyter Notebook<br>
7. Creating new notebook from the conda_env:zip35<br>
8. Started writing first line of code:</p>
<h1 id='5e1ea679ffde960044ca4fc5-import-zipline-functions-that-we-need'><a class='clickable-header-link' href='#5e1ea679ffde960044ca4fc5-import-zipline-functions-that-we-need'>Import Zipline functions that we need</a></h1>

<p>from zipline import run_algorithm \<br>
from zipline.api import order_target_percent, symbol</p>

<p>...but nothing happens, also when I tried renaming the notebook it says &quot;settings is null&quot;.</p>

<p>Can you advise on next steps? Is there an issue with the conda install?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e1f0a67ffde960041ca5293' id='5e1f0a67ffde960041ca5293'>
<a href='#5e1f0a67ffde960041ca5293'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d3e243f3ef9cf3a23ff0e9f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/969b8167ebfecea286eed5a3221144ab?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d3e243f3ef9cf3a23ff0e9f'>Chip Chenoweth</a>
</div>
<a UTCms='1579092583000' class='quanto-date posted-at response-posted-at' href='#5e1f0a67ffde960041ca5293'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Boris</p>

<p>I experienced similar problem and solved them by starting from scratch and following the detail post (about a week ago) by Edward Hayman above.</p>

<p>Chip  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e1fa3bf56cc4824a8a6b514' id='5e1fa3bf56cc4824a8a6b514'>
<a href='#5e1fa3bf56cc4824a8a6b514'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54fb6ef0927ea40507000209'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d1fab005e73621481b860d961f6f930c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54fb6ef0927ea40507000209'>Zhonghai Wang</a>
</div>
<a UTCms='1579131839000' class='quanto-date posted-at response-posted-at' href='#5e1fa3bf56cc4824a8a6b514'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>followed the great instruction of Edward Hayman, it works! thank you Edward Hayman.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e67abd9a73037004d5d8d91' id='5e67abd9a73037004d5d8d91'>
<a href='#5e67abd9a73037004d5d8d91'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c0fdb0449bfdd4907d6d12c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/620013019703500f9c9f6a6732f75e22?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c0fdb0449bfdd4907d6d12c'>Caleb Johnson</a>
</div>
<a UTCms='1583852505000' class='quanto-date posted-at response-posted-at' href='#5e67abd9a73037004d5d8d91'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have an exception handling question. In the curve model, I&#39;m using a bundle with data that&#39;s up to date for today. But I can only run the model with an end date of October, otherwise it returns a ZeroDivisionError. How would you tell it to ignore contracts for which it can&#39;t calculate the annualized carry? </p>

<pre><code>&lt;ipython-input-2-1e338877cc1&gt; in weekly_trade(context, data)  
# Calculate the annualized carry  
annualized_carry = (np.power(  
(prices[0] / prices[1]), (365 / days_to_front))  
) -1

ZeroDivisionError: division by zero  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e72dbf2f23876004a908776' id='5e72dbf2f23876004a908776'>
<a href='#5e72dbf2f23876004a908776'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c90548e5e4fd5293bd92a46'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/39cd3b8ddc30bf5e80c0682cfd60d22f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c90548e5e4fd5293bd92a46'>Derek Nokes</a>
</div>
<a UTCms='1584585714000' class='quanto-date posted-at response-posted-at' href='#5e72dbf2f23876004a908776'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have been struggling to get a batch file to run in windows to activate the conda environment and call the ingest commands for each of my environments. Could someone provide an example? From the Anaconda command line prompt I call something like this:<br>
activate env_zipline<br>
zipline ingest -b norgatedata-nasdaq100<br>
zipline clean -b norgatedata-nasdaq100 --keep-last 1</p>

<p>Infinite Thanks, Derek.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e734fd9ae673f004393e60b' id='5e734fd9ae673f004393e60b'>
<a href='#5e734fd9ae673f004393e60b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e6761a04d4c35003f3f491e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e944aa4931175134e4e57a6647fd8f39?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e6761a04d4c35003f3f491e'>Richard Hepworth</a>
</div>
<a UTCms='1584615385000' class='quanto-date posted-at response-posted-at' href='#5e734fd9ae673f004393e60b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m getting the following error when trying to run the &#39;First Zipline Backtest&#39; code, it seems to be an issue with the benchmarks.py file that was amended, has anybody else run into the same issue?</p>
<h2 id='5e734fd9ae673f004393e60b-thanks'><a class='clickable-header-link' href='#5e734fd9ae673f004393e60b-thanks'>Thanks  </a></h2>

<p>AttributeError                            Traceback (most recent call last)<br>
 in ()<br>
     71     handle_data=handle_data,<br>
     72     capital_base=10000,<br>
---&gt; 73     data_frequency = &#39;daily&#39;, bundle=&#39;quandl&#39;<br>
     74 ) </p>

<p>/Users/homefolder/opt/anaconda3/envs/zipline-env/lib/python3.5/site-packages/zipline/utils/run_algo.py in run_algorithm(start, end, initialize, capital_base, handle_data, before_trading_start, analyze, data_frequency, data, bundle, bundle_timestamp, trading_calendar, metrics_set, default_extension, extensions, strict_extensions, environ, blotter)
    428         local_namespace=False,<br>
    429         environ=environ,<br>
--&gt; 430         blotter=blotter,<br>
    431     )</p>

<p>/Users/homefolder/opt/anaconda3/envs/zipline-env/lib/python3.5/site-packages/zipline/utils/run_algo.py in _run(handle_data, initialize, before_trading_start, analyze, algofile, algotext, defines, data_frequency, capital_base, data, bundle, bundle_timestamp, start, end, output, trading_calendar, print_algo, metrics_set, local_namespace, environ, blotter)
    157             trading_calendar=trading_calendar,<br>
    158             trading_day=trading_calendar.day,<br>
--&gt; 159             trading_days=trading_calendar.schedule[start:end].index,<br>
    160         )<br>
    161         first_trading_day =\</p>

<p>/Users/homefolder/opt/anaconda3/envs/zipline-env/lib/python3.5/site-packages/zipline/finance/trading.py in <strong>init</strong>(self, load, bm_symbol, exchange_tz, trading_calendar, trading_day, trading_days, asset_db_path, future_chain_predicates, environ)
    101             trading_day,<br>
    102             trading_days,<br>
--&gt; 103             self.bm_symbol,<br>
    104         )<br>
    105 </p>

<p>/Users/homefolder/opt/anaconda3/envs/zipline-env/lib/python3.5/site-packages/zipline/data/loader.py in load_market_data(trading_day, trading_days, bm_symbol, environ)
    147         # date so that we can compute returns for the first date.<br>
    148         trading_day,<br>
--&gt; 149         environ,<br>
    150     )<br>
    151     tc = ensure_treasury_data(</p>

<p>/Users/homefolder/opt/anaconda3/envs/zipline-env/lib/python3.5/site-packages/zipline/data/loader.py in ensure_benchmark_data(symbol, first_date, last_date, now, trading_day, environ)
    214<br>
    215     try:<br>
--&gt; 216         data = get_benchmark_returns(symbol)<br>
    217         data.to_csv(get_data_filepath(filename, environ))<br>
    218     except (OSError, IOError, HTTPError):</p>

<p>/Users/homefolder/opt/anaconda3/envs/zipline-env/lib/python3.5/site-packages/zipline/data/benchmarks.py in get_benchmark_returns(symbol)
      8         first_date = datetime(1930,1,1)<br>
      9         last_date = datetime(2030,1,1)<br>
---&gt; 10         dates = cal.sessions_in_range(first_date, last_date)<br>
     11         data = pd.DataFrame(0.0, index=dates, columns=[&#39;close&#39;])<br>
     12         data = data[&#39;close&#39;]</p>

<p>AttributeError: &#39;XNYSExchangeCalendar&#39; object has no attribute &#39;session_in_range&#39;  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e77abfa65c17a00461576f7' id='5e77abfa65c17a00461576f7'>
<a href='#5e77abfa65c17a00461576f7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e774476e9195e004038cac8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c704119295747906a441334ba957f3a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e774476e9195e004038cac8'>Mark Szemerszki</a>
</div>
<a UTCms='1584901114000' class='quanto-date posted-at response-posted-at' href='#5e77abfa65c17a00461576f7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey,</p>

<p>I just finished installing zipline as it was suggested by Edward.<br>
However, a problem occurred to me.<br>
This one is supposed to work,  but it does not...<br>
&quot;
File &quot;&quot;, line 10<br>
    equities_hist = data.history(context.stock, &quot;close&quot;, context.index_average_window, &quot;1d&quot;)<br>
                ^<br>
IndentationError: expected an indented block<br>
&quot;</p>

<p>It does not matter what I am writing as a variable. I think the reason for this problem is attributed to requesting data.<br>
Could someone help me?<br>
Thanks in advance.</p>

<p>My coding:<br>
%matplotlib inline
from zipline import run_algorithm<br>
from zipline.api import order_target_percent, symbol<br>
from datetime import datetime<br>
import pytz<br>
import matplotlib.pyplot as plt<br>
def initialize(context):<br>
    # Which stock to trade<br>
    context.stock = symbol(&#39;APPL&#39;)  </p>

<pre><code># Moving average window  
context.index_average_window = 100  

def handle_data(context, data):  
# Request history for the stock  
equities_hist = data.history(context.stock, &quot;close&quot;, context.index_average_window, &quot;1d&quot;)  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e78b0323e698400426bffdd' id='5e78b0323e698400426bffdd'>
<a href='#5e78b0323e698400426bffdd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e774476e9195e004038cac8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c704119295747906a441334ba957f3a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e774476e9195e004038cac8'>Mark Szemerszki</a>
</div>
<a UTCms='1584967730000' class='quanto-date posted-at response-posted-at' href='#5e78b0323e698400426bffdd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Well, after reinstalling my laptop, and starting again everything from scratch... no result. It does not work.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e78b37e1e1f55004d0cda21' id='5e78b37e1e1f55004d0cda21'>
<a href='#5e78b37e1e1f55004d0cda21'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5deca27e70156d18afea1020'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/66d0dac9c04c93055e6c033627fa4db4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5deca27e70156d18afea1020'>Edward Hayman</a>
</div>
<a UTCms='1584968574000' class='quanto-date posted-at response-posted-at' href='#5e78b37e1e1f55004d0cda21'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Derek Nokes<br>
Here are a couple items to consider.</p>

<p>Have you updated the  &#39;extension.py&#39; configuration file in your home.zipline directory?  It needs to contain a section for each package you want to ingest.  For example :</p>

<p>COMMENT:  # Register the Dow Jones Index DJIA<br>
register_norgatedata_equities_bundle(<br>
    bundlename = &#39;norgatedata-djia&#39;,<br>
    watchlists = [&#39;Dow Jones Industrial Average Current &amp; Past&#39;],<br>
    start_session = &#39;1990-01-01&#39;,<br>
)</p>

<p>Are you running your batch command file from your zipline python env?  I manually open  my &quot;env_zip35&quot; terminal environment and run the following batch file successfully.  Here is the first part of my &quot;loadngd.cmd&quot; file:<br>
ECHO OFF<br>
CLS<br>
ECHO .<br>
ECHO Loading ETF Sectors date<br>
zipline ingest -b norgatedata-sector-etfs<br>
zipline clean -b norgatedata-sector-etfs --keep-last 1<br>
ECHO .<br>
ECHO Loading SP 500 data<br>
zipline ingest -b norgatedata-sp500<br>
zipline clean -b norgatedata-sp500 --keep-last 1<br>
ECHO .<br>
ECHO Loading Russell MidCap data<br>
zipline ingest -b norgatedata-russelmidcap<br>
zipline clean -b norgatedata-russelmidcap --keep-last 1  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e78b60b3e6984004b6bffca' id='5e78b60b3e6984004b6bffca'>
<a href='#5e78b60b3e6984004b6bffca'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5deca27e70156d18afea1020'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/66d0dac9c04c93055e6c033627fa4db4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5deca27e70156d18afea1020'>Edward Hayman</a>
</div>
<a UTCms='1584969227000' class='quanto-date posted-at response-posted-at' href='#5e78b60b3e6984004b6bffca'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Mark S</p>

<p>I know it can be very frustrating to create a working python/zipline environment.  It can be done.  I successfully created a new environment on a second computer this weekend by following my instructions I posted on 02 Jan 2020 verbatim and was successful.  Please make sure you follow Lauren&#39;s recommendation to install VS14 build tools and add &quot;RC.exe&quot; to the path at the very beginning.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e78fadb0e7f4000455f06b3' id='5e78fadb0e7f4000455f06b3'>
<a href='#5e78fadb0e7f4000455f06b3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e774476e9195e004038cac8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c704119295747906a441334ba957f3a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e774476e9195e004038cac8'>Mark Szemerszki</a>
</div>
<a UTCms='1584986843000' class='quanto-date posted-at response-posted-at' href='#5e78fadb0e7f4000455f06b3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thats a problem I have not met yet. Anyone had the same ? Atleast I would know if I am on the right direction..<br>
Thanks in advance</p>

<p>File &quot;C:\Users\blake\anaconda3\envs\zip35\lib\site-packages\IPython\core\interactiveshell.py&quot;, line 2963, in run_code<br>
    exec(code_obj, self.user_global_ns, self.user_ns)</p>

<p>File &quot;&quot;, line 5, in<br>
    from zipline import run_algorithm</p>

<p>File &quot;C:\Users\blake\anaconda3\envs\zip35\lib\site-packages\zipline_<em>init</em>_.py&quot;, line 23, in<br>
    from . import data</p>

<p>File &quot;C:\Users\blake\anaconda3\envs\zip35\lib\site-packages\zipline\data_<em>init</em>_.py&quot;, line 1, in<br>
    from . import loader</p>

<p>File &quot;C:\Users\blake\anaconda3\envs\zip35\lib\site-packages\zipline\data\loader.py&quot;, line 22, in<br>
    from .benchmarks import get_benchmark_returns</p>

<p>File &quot;C:\Users\blake\anaconda3\envs\zip35\lib\site-packages\zipline\data\benchmarks.py&quot;, line 5<br>
    cal = get_calendar(&#39;NYSE&#39;)<br>
    ^<br>
SyntaxError: invalid character in identifier</p>

<p>Now it is implying to the lines which should have been changed.  Which I did of course as the same way it was written in the book benchmarks.py, and loader.py, specifically I followed a more precise description... I think I will try tomorrow as well. It is incredible frustrating...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e79f9dd586a89003e2b93da' id='5e79f9dd586a89003e2b93da'>
<a href='#5e79f9dd586a89003e2b93da'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e774476e9195e004038cac8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c704119295747906a441334ba957f3a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e774476e9195e004038cac8'>Mark Szemerszki</a>
</div>
<a UTCms='1585052125000' class='quanto-date posted-at response-posted-at' href='#5e79f9dd586a89003e2b93da'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have tried on another computer, where was &quot;failed to create a process&quot; when I typed zipline ingest -b quandl. ...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e79fcefebbc91004b03a034' id='5e79fcefebbc91004b03a034'>
<a href='#5e79fcefebbc91004b03a034'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1585052911000' class='quanto-date posted-at response-posted-at' href='#5e79fcefebbc91004b03a034'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi guys,</p>

<p>Sorry I can&#39;t be more active at the moment. Crazy times out there...</p>

<p>Mark: That process creation error is easily fixed: <a href="https://github.com/quantopian/zipline/issues/1591" rel="nofollow">https://github.com/quantopian/zipline/issues/1591</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e79fdb1586a89004a2b93fe' id='5e79fdb1586a89004a2b93fe'>
<a href='#5e79fdb1586a89004a2b93fe'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e774476e9195e004038cac8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c704119295747906a441334ba957f3a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e774476e9195e004038cac8'>Mark Szemerszki</a>
</div>
<a UTCms='1585053105000' class='quanto-date posted-at response-posted-at' href='#5e79fdb1586a89004a2b93fe'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah I have seen already, thanks. Working on it.<br>
I can understand it  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e7a0f5c3fcb270048c76176' id='5e7a0f5c3fcb270048c76176'>
<a href='#5e7a0f5c3fcb270048c76176'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e774476e9195e004038cac8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c704119295747906a441334ba957f3a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e774476e9195e004038cac8'>Mark Szemerszki</a>
</div>
<a UTCms='1585057628000' class='quanto-date posted-at response-posted-at' href='#5e7a0f5c3fcb270048c76176'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Having the same issue..</p>

<p>Traceback (most recent call last):</p>

<p>File &quot;C:\Anaconda\envs\env_zip35\lib\site-packages\IPython\core\interactiveshell.py&quot;, line 2963, in run_code<br>
    exec(code_obj, self.user_global_ns, self.user_ns)</p>

<p>File &quot;&quot;, line 5, in<br>
    from zipline import run_algorithm</p>

<p>File &quot;C:\Anaconda\envs\env_zip35\lib\site-packages\zipline_<em>init</em>_.py&quot;, line 23, in<br>
    from . import data</p>

<p>File &quot;C:\Anaconda\envs\env_zip35\lib\site-packages\zipline\data_<em>init</em>_.py&quot;, line 1, in<br>
    from . import loader</p>

<p>File &quot;C:\Anaconda\envs\env_zip35\lib\site-packages\zipline\data\loader.py&quot;, line 22, in<br>
    from .benchmarks import get_benchmark_returns</p>

<p>File &quot;C:\Anaconda\envs\env_zip35\lib\site-packages\zipline\data\benchmarks.py&quot;, line 5<br>
    cal = get_calendar(&#39;NYSE&#39;)<br>
    ^<br>
SyntaxError: invalid character in identifier</p>

<p>Could someone clarify it if I am doing it right<br>
benchmarks.py<br>
Only these codes should be there:</p>

<p>import pandas as pd<br>
from datetime import datetime<br>
from trading_calendars import get_calendar<br>
def get_benchmark_returns(symbol):<br>
    cal = get_calendar(&#39;NYSE&#39;)
    first_date = datetime(1930,1,1)
    last_date = datetime(2030,1,1)
    dates = cal.sessions_in_range(first_date, last_date)
    data = pd.DataFrame(0.0, index=dates, columns=[&#39;close&#39;])
    data = data[&#39;close&#39;]    return data.sort_index().iloc[1:]</p>

<p>loader.py<br>
at the 202 line there is this line which should be put into &quot;&quot;&quot;-&quot;&quot;&quot; comment to bypass it.<br>
    &quot;&quot;&quot;<br>
    if data is not None:<br>
        return data<br>
    &quot;&quot;&quot;</p>

<p>Did not have problems during the installation of libraries, and I can not find anybody with these specific problems.</p>

<p>Thanks in advance  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e7a151fa2405d0041ecb770' id='5e7a151fa2405d0041ecb770'>
<a href='#5e7a151fa2405d0041ecb770'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e774476e9195e004038cac8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c704119295747906a441334ba957f3a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e774476e9195e004038cac8'>Mark Szemerszki</a>
</div>
<a UTCms='1585059103000' class='quanto-date posted-at response-posted-at' href='#5e7a151fa2405d0041ecb770'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I applied MarikoKujo method on this thread, and it seems to work now <a href="https://github.com/quantopian/zipline/issues/2480" rel="nofollow">https://github.com/quantopian/zipline/issues/2480</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ea747b1f0643172cc2f5bdd' id='5ea747b1f0643172cc2f5bdd'>
<a href='#5ea747b1f0643172cc2f5bdd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5ea71f7c56570900439b9aec'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d7afda1706e9c1c482689723d1e2be6d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5ea71f7c56570900439b9aec'>Ahmad Nafisi</a>
</div>
<a UTCms='1588021169000' class='quanto-date posted-at response-posted-at' href='#5ea747b1f0643172cc2f5bdd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello </p>

<p>I just picked up this book and am new to python and zipline. I&#39;m trying to get stock data using the data.history function to run the first backtest on zipline but am getting a NameError for some reason I still can&#39;t figure out after several hours of searching for a solution. I am sure I missed some step somewhere and would appreciate any help to on how to solve this. Here is the code snippet I am using (taken directly from the book):</p>

<pre><code>from zipline import run_algorithm  
from zipline.api import order_target_percent, symbol

def initialize(context):  
    context.stock = symbol(&#39;AAPL&#39;)  
    context.index_average_window = 100

def handle_data(context,data):  
    equities_hist = data.history(context.stock, &quot;close&quot;,  
                                 context.index_average_window,&quot;1d&quot;)

equities_hist  
</code></pre>

<p>When I run &#39;equities_hist&#39; I get the message: &quot;NameError: name &#39;equities_hist&#39; is not defined&quot;.</p>

<p>Appreciate any guidance on what I&#39;m doing wrong.</p>

<p>Many thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ea74d5bf0643100432f8764' id='5ea74d5bf0643100432f8764'>
<a href='#5ea74d5bf0643100432f8764'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a775b95c25e40000fbf414c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6e196b7ab787d420a3328fee0b96fff8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a775b95c25e40000fbf414c'>cemal arican</a>
</div>
<a UTCms='1588022619000' class='quanto-date posted-at response-posted-at' href='#5ea74d5bf0643100432f8764'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>indent it in the def handle_data function and try printing it, that should work  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ea7507c39f49f2383b352e7' id='5ea7507c39f49f2383b352e7'>
<a href='#5ea7507c39f49f2383b352e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5ea71f7c56570900439b9aec'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d7afda1706e9c1c482689723d1e2be6d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5ea71f7c56570900439b9aec'>Ahmad Nafisi</a>
</div>
<a UTCms='1588023420000' class='quanto-date posted-at response-posted-at' href='#5ea7507c39f49f2383b352e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That fixed it. Thanks!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ea7521256570917719b64d1' id='5ea7521256570917719b64d1'>
<a href='#5ea7521256570917719b64d1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a775b95c25e40000fbf414c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6e196b7ab787d420a3328fee0b96fff8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a775b95c25e40000fbf414c'>cemal arican</a>
</div>
<a UTCms='1588023826000' class='quanto-date posted-at response-posted-at' href='#5ea7521256570917719b64d1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>nice :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ea89f11cf860432679743f7' id='5ea89f11cf860432679743f7'>
<a href='#5ea89f11cf860432679743f7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d08f884492e65003b695bfb'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0ac08d59545068aab2441687730aef78?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d08f884492e65003b695bfb'>Emre Tezel</a>
</div>
<a UTCms='1588109073000' class='quanto-date posted-at response-posted-at' href='#5ea89f11cf860432679743f7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Everyone,</p>

<p>Is it possible to create a custom data bundle in zipline with both futures and equities data? </p>

<p>-Emre  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ea8f88eaf497b0042100afa' id='5ea8f88eaf497b0042100afa'>
<a href='#5ea8f88eaf497b0042100afa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5ea8f5c4e11ada004294af0f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2e25dd1887ccb6d5725077d900bb6fe1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5ea8f5c4e11ada004294af0f'>Roger Harden</a>
</div>
<a UTCms='1588131982000' class='quanto-date posted-at response-posted-at' href='#5ea8f88eaf497b0042100afa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The below issue has been solved.  Not sure exactly how wires got crossed, but the following worked.  This is an install on a MacBook Pro.</p>

<p>Uninstall all traces of Python, Conda, PyCharm and the like.  (I could because this is my first project)</p>

<p>Follow the install instructions exactly from this site:   <a href="https://www.zipline.io/install.html#installing-with-conda" rel="nofollow">https://www.zipline.io/install.html#installing-with-conda</a></p>

<p>conda will install newer version of Pandas and Numpy, but when you create your zipline_environment and install zipline, the zipline installer will get all the versions downgraded correctly.  On to  chapter 9!</p>

<p>Thanks to the community for you previous posts. You helped me get through some setup issues.  I have one now I haven&#39;t got passed yet.  When trying to duplicate results in Chapter 8, PyFolio Return analysis, I have an error related to the zipline date_rules, time_rules. Error Code at the bottom/</p>

<p>-Roger</p>

<hr>

<p>TypeError                                 Traceback (most recent call last)<br>
 in<br>
    102<br>
    103 # Fire off the back test<br>
--&gt; 104 result = run_algorithm(start=start, end=end, initialize=initialize, analyze=analyze, capital_base=10000, data_frequency=&#39;daily&#39;,bundle=&#39;quandl&#39;)</p>

<p>~/.conda/envs/TradingEvolved/lib/python3.5/site-packages/zipline/utils/run_algo.py in run_algorithm(start, end, initialize, capital_base, handle_data, before_trading_start, analyze, data_frequency, data, bundle, bundle_timestamp, trading_calendar, metrics_set, default_extension, extensions, strict_extensions, environ, blotter)
    428         local_namespace=False,<br>
    429         environ=environ,<br>
--&gt; 430         blotter=blotter,<br>
    431     )</p>

<p>~/.conda/envs/TradingEvolved/lib/python3.5/site-packages/zipline/utils/run_algo.py in _run(handle_data, initialize, before_trading_start, analyze, algofile, algotext, defines, data_frequency, capital_base, data, bundle, bundle_timestamp, start, end, output, trading_calendar, print_algo, metrics_set, local_namespace, environ, blotter)
    227     ).run(<br>
    228         data,<br>
--&gt; 229         overwrite_sim_params=False,<br>
    230     )<br>
    231 </p>

<p>~/.conda/envs/TradingEvolved/lib/python3.5/site-packages/zipline/algorithm.py in run(self, data, overwrite_sim_params)
    754         try:<br>
    755             perfs = []<br>
--&gt; 756             for perf in self.get_generator():<br>
    757                 perfs.append(perf)<br>
    758 </p>

<p>~/.conda/envs/TradingEvolved/lib/python3.5/site-packages/zipline/algorithm.py in get_generator(self)
    627         method to get a standard construction generator.<br>
    628         &quot;&quot;&quot;<br>
--&gt; 629         return self._create_generator(self.sim_params)<br>
    630<br>
    631     def run(self, data=None, overwrite_sim_params=True):</p>

<p>~/.conda/envs/TradingEvolved/lib/python3.5/site-packages/zipline/algorithm.py in _create_generator(self, sim_params)
    587<br>
    588         if not self.initialized:<br>
--&gt; 589             self.initialize(*self.initialize_args, **self.initialize_kwargs)<br>
    590             self.initialized = True<br>
    591 </p>

<p>~/.conda/envs/TradingEvolved/lib/python3.5/site-packages/zipline/algorithm.py in initialize(self, *args, **kwargs)
    449         &quot;&quot;&quot;<br>
    450         with ZiplineAPI(self):<br>
--&gt; 451             self._initialize(self, *args, **kwargs)<br>
    452<br>
    453     def before_trading_start(self, data):</p>

<p>in initialize(context)<br>
     56<br>
     57     # Schedule daily trading routine for once per month<br>
---&gt; 58     schedule_function(handle_data, date_rules.month_start, time_rules.market_close())<br>
     59<br>
     60 def month_perf(ts):</p>

<p>~/.conda/envs/TradingEvolved/lib/python3.5/site-packages/zipline/utils/api_support.py in wrapped(*args, **kwargs)
     54                 % f.<strong>name</strong><br>
     55             )<br>
---&gt; 56         return getattr(algo_instance, f.<strong>name</strong>)(*args, **kwargs)<br>
     57     # Add functor to zipline.api<br>
     58     setattr(zipline.api, f.<strong>name</strong>, wrapped)</p>

<p>~/.conda/envs/TradingEvolved/lib/python3.5/site-packages/zipline/algorithm.py in schedule_function(self, func, date_rule, time_rule, half_days, calendar)
   1161<br>
   1162         self.add_event(<br>
-&gt; 1163             make_eventrule(date_rule, time_rule, cal, half_days),<br>
   1164             func,<br>
   1165         )</p>

<p>~/.conda/envs/TradingEvolved/lib/python3.5/site-packages/zipline/utils/events.py in make_eventrule(date_rule, time_rule, cal, half_days)
    667<br>
    668     if half_days:<br>
--&gt; 669         inner_rule = date_rule &amp; time_rule<br>
    670     else:<br>
    671         inner_rule = date_rule &amp; time_rule &amp; NotHalfDay()</p>

<p>TypeError: unsupported operand type(s) for &amp;: &#39;function&#39; and &#39;Always&#39;  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5eaea8bdba60ec0040df2751' id='5eaea8bdba60ec0040df2751'>
<a href='#5eaea8bdba60ec0040df2751'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5c97ccd7a242b7640f72c04b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/bbb90ae386743bddb6350b14f559168b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5c97ccd7a242b7640f72c04b'>Tobias Bogner</a>
</div>
<a UTCms='1588504765000' class='quanto-date posted-at response-posted-at' href='#5eaea8bdba60ec0040df2751'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello everybody, I run into the same Problem as Richard Hepworth above (March 19, 2020): When I try the First Zipline Backtest, there is a Problem with the bundle = &quot;quandl&quot; part. Here is the error message:</p>

<blockquote>
<p>--------------------------------------------------------------------------- AttributeError                            Traceback (most recent call<br>
last)  in ()<br>
     71     handle_data=handle_data,<br>
     72     capital_base=10000,<br>
---&gt; 73     data_frequency = &#39;daily&#39;, bundle=&#39;quandl&#39;<br>
     74 )  </p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\utils\run_algo.py<br>
in run_algorithm(start, end, initialize, capital_base, handle_data,<br>
before_trading_start, analyze, data_frequency, data, bundle,<br>
bundle_timestamp, trading_calendar, metrics_set, default_extension,<br>
extensions, strict_extensions, environ, blotter)<br>
    428         local_namespace=False,<br>
    429         environ=environ,<br>
--&gt; 430         blotter=blotter,<br>
    431     )  </p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\utils\run_algo.py<br>
in _run(handle_data, initialize, before_trading_start, analyze,<br>
algofile, algotext, defines, data_frequency, capital_base, data,<br>
bundle, bundle_timestamp, start, end, output, trading_calendar,<br>
print_algo, metrics_set, local_namespace, environ, blotter)<br>
    157             trading_calendar=trading_calendar,<br>
    158             trading_day=trading_calendar.day,<br>
--&gt; 159             trading_days=trading_calendar.schedule[start:end].index,<br>
    160         )<br>
    161         first_trading_day =\  </p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\finance\trading.py<br>
in <strong>init</strong>(self, load, bm_symbol, exchange_tz, trading_calendar,<br>
trading_day, trading_days, asset_db_path, future_chain_predicates,<br>
environ)<br>
    101             trading_day,<br>
    102             trading_days,<br>
--&gt; 103             self.bm_symbol,<br>
    104         )<br>
    105  </p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\data\loader.py<br>
in load_market_data(trading_day, trading_days, bm_symbol, environ)<br>
    147         # date so that we can compute returns for the first date.<br>
    148         trading_day,<br>
--&gt; 149         environ,<br>
    150     )<br>
    151     tc = ensure_treasury_data(  </p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\data\loader.py<br>
in ensure_benchmark_data(symbol, first_date, last_date, now,<br>
trading_day, environ)<br>
    214<br>
    215     try:<br>
--&gt; 216         data = get_benchmark_returns(symbol)<br>
    217         data.to_csv(get_data_filepath(filename, environ))<br>
    218     except (OSError, IOError, HTTPError):  </p>

<p>~\Anaconda3\envs\env_zipline\lib\site-packages\zipline\data\benchmarks.py<br>
in get_benchmark_returns(symbol)<br>
     21     first_date = datetime(1930,1,1)<br>
     22     last_date = datetime(2030,1,1)<br>
---&gt; 23     dates = cal.session_in_range(firs_date, last_date)<br>
     24     data = pd.DataFrame(0.0, index=dates, columns=[&quot;close&quot;])<br>
     25     data = data[&quot;close&quot;]  </p>

<p>AttributeError: &#39;XNYSExchangeCalendar&#39; object has no attribute<br>
&#39;session_in_range&#39;</p>
</blockquote>

<p>Does anybody know how to solve this? Thank you very much!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ebe7886d6177100440a79e4' id='5ebe7886d6177100440a79e4'>
<a href='#5ebe7886d6177100440a79e4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e846a6d40bfb01f41f38a06'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f12915f4aa6be6ce5e2d61098eecbe67?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e846a6d40bfb01f41f38a06'>Jakub Hulewicz</a>
</div>
<a UTCms='1589540998000' class='quanto-date posted-at response-posted-at' href='#5ebe7886d6177100440a79e4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Big fan of the book! v. helpful</p>

<p>Does anyone have an example of trading equities in futures together in market neutral strategy?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ec01bfbf6e312004134a4fe' id='5ec01bfbf6e312004134a4fe'>
<a href='#5ec01bfbf6e312004134a4fe'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5eb58b6e53f9bd0040482225'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/879ca89ae0db69e796919e8f207cee6f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5eb58b6e53f9bd0040482225'>Adrian Fraenkel</a>
</div>
<a UTCms='1589648379000' class='quanto-date posted-at response-posted-at' href='#5ec01bfbf6e312004134a4fe'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Andreas,<br>
I have now read all of your books including your new one. I recommend them highly.<br>
Adrian  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ecbda13d578df0041f42396' id='5ecbda13d578df0041f42396'>
<a href='#5ecbda13d578df0041f42396'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5da745cb18ebcf0040efa834'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/757050543a3de23ed4e5494a581a4dd8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5da745cb18ebcf0040efa834'>Valor Cuantitativo</a>
</div>
<a UTCms='1590417939000' class='quanto-date posted-at response-posted-at' href='#5ecbda13d578df0041f42396'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Andreas,</p>

<p>Thank you very much for writing this wonderful book. </p>

<p>I have also read you other two books and they are also very importante to me.</p>

<p>I began reading you book at the end of 2019, but had to stop because I needed to work in my own database. After several months working on that, I finally could run a backtest in those data. I refer to the code in chapter 12 and also with the Expanded Momentum Strategy which is included on tha data you provide in your webpage. When I built the bundle I noticed that in the final data was not included some columns, there were only the OHLCV columns. It seems that zipline didn&#39;t take the other data into account when I run the bundle. So, my question is wheter there is a way to load different data into zipline&#39;s database. For example, fundamental data. If it&#39;s not possible, could you or everyone please provide me some little help in a way to working with data different to OHLCV in the backtests. I suppose that one way to include those data is maybe using a similar approach that you used in the S&amp;P500 components for calculating the investment universe, that is, reading those data from CSV files in the rebalance routine, is that right?</p>

<p>Thx again Andreas, very important book for the investor&#39;s community, and the retail people like me.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5eccf690c837180040c2255e' id='5eccf690c837180040c2255e'>
<a href='#5eccf690c837180040c2255e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1590490768000' class='quanto-date posted-at response-posted-at' href='#5eccf690c837180040c2255e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Nicolás,</p>

<p>As far as I know, there&#39;s no native Zipline way of doing this. That doesn&#39;t mean it can&#39;t be done of course.</p>

<p>With something like fundamentals, you don&#39;t have all that much data really, compared to price time series. It would be easy to handle this separately from the actual Zipline framework.</p>

<p>Here&#39;s a suggested easy solution:</p>

<ul>
<li>Store your fundamentals in your preferred format, CSV, MySql etc.<br></li>
<li>In your Zipline algo&#39;s initialization, read the data into a DataFrame and keep it in memory.<br></li>
<li>Be sure to keep a date field, telling you when each value would have been available to you.<br></li>
<li>In the daily Zipline processing, reference your fundamentals DataFrame and check for latest available date, at backtest time.</li>
</ul>

<p>Easy and fast to implement. If you&#39;re dealing with larger amounts of data, just read and reference the necessary data on the fly instead of keeping the entire thing in memory. Often, fundamental data can be really so few points that it&#39;s faster to just read once and hold in memory.</p>

<p>And yes, this is exactly what I did for the book with the index membership info.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ecd30fb69ddff5f78898da6' id='5ecd30fb69ddff5f78898da6'>
<a href='#5ecd30fb69ddff5f78898da6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5da745cb18ebcf0040efa834'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/757050543a3de23ed4e5494a581a4dd8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5da745cb18ebcf0040efa834'>Valor Cuantitativo</a>
</div>
<a UTCms='1590505723000' class='quanto-date posted-at response-posted-at' href='#5ecd30fb69ddff5f78898da6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thx Andreas for your clear and quick answer!</p>

<p>Ok, thats pretty fine for me. The important point is to be able to do the backtests with that data. Perfect!.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ed30e9014ad8e20d10bb909' id='5ed30e9014ad8e20d10bb909'>
<a href='#5ed30e9014ad8e20d10bb909'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5de868f1a1a7e063c1bf55bb'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e952c5caf8bae8f830af14f4488b2d52?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5de868f1a1a7e063c1bf55bb'>Caramel xbj</a>
</div>
<a UTCms='1590890128000' class='quanto-date posted-at response-posted-at' href='#5ed30e9014ad8e20d10bb909'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Andreas Clenow </p>

<p>Just finished your book and it&#39;s amazing! After reading this book I realized there should be more books to be read. Can you please recommend some more books about developing strategies? Many thx.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ed36fd2104c39003e0f2a4c' id='5ed36fd2104c39003e0f2a4c'>
<a href='#5ed36fd2104c39003e0f2a4c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1590915026000' class='quanto-date posted-at response-posted-at' href='#5ed36fd2104c39003e0f2a4c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Try Rob Carver&#39;s Systematic Trading.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ed401b4fa4460003fe7833e' id='5ed401b4fa4460003fe7833e'>
<a href='#5ed401b4fa4460003fe7833e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5804841ed11a8ac44b0005b4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2c330d252d5fb3c0bc0109a5919d2ff4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5804841ed11a8ac44b0005b4'>Marc</a>
</div>
<a UTCms='1590952372000' class='quanto-date posted-at response-posted-at' href='#5ed401b4fa4460003fe7833e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Caramel here are a few more books:</p>

<p><a href="https://www.amazon.es/gp/product/1118362411" rel="nofollow">Inside the black box</a></p>

<p><a href="https://www.amazon.es/Algorithmic-Trading-Winning-Strategies-Rationale/dp/1118460146/" rel="nofollow">Algorithmic trading</a></p>

<p><a href="https://www.amazon.es/gp/product/0470284889" rel="nofollow">Quantitative trading</a></p>

<p><a href="https://www.amazon.es/gp/product/0071549846" rel="nofollow">Quantitative strategies for achieving alpha</a></p>

<p><a href="https://www.amazon.es/gp/product/1619615509/" rel="nofollow">The 30 minutes stock trader</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ed409003177de0043226d82' id='5ed409003177de0043226d82'>
<a href='#5ed409003177de0043226d82'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5de868f1a1a7e063c1bf55bb'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e952c5caf8bae8f830af14f4488b2d52?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5de868f1a1a7e063c1bf55bb'>Caramel xbj</a>
</div>
<a UTCms='1590954240000' class='quanto-date posted-at response-posted-at' href='#5ed409003177de0043226d82'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Andreas Clenow<br>
Thank you for the suggestion. This book is on its way to me. Any other suggestions? Thank you.</p>

<p>@Marc<br>
Thank you for the suggestion. I&#39;ll take a look.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ef39b515f71c70013859ba3' id='5ef39b515f71c70013859ba3'>
<a href='#5ef39b515f71c70013859ba3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e9e9f4f09b222003fc7c25c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/71ed7edff57e9064aa7e73ca9b7fe5f6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e9e9f4f09b222003fc7c25c'>Arunesh Sarker</a>
</div>
<a UTCms='1593023313000' class='quanto-date posted-at response-posted-at' href='#5ef39b515f71c70013859ba3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Some codes are not working in the Quantopian algorithm editor. For example, when I&#39;m writing the code for moving average</p>
<h1 id='5ef39b515f71c70013859ba3-make-a-list-of-symbols-from-the-list-of-tickers'><a class='clickable-header-link' href='#5ef39b515f71c70013859ba3-make-a-list-of-symbols-from-the-list-of-tickers'>Make a list of symbols from the list of tickers</a></h1>

<p>    context.dji_symbols = [symbol(s) for s in dji]
 </p>

<p>    # Moving average window<br>
    context.index_average_window = 100
 </p>

<p>def handle_data(context, data):<br>
    # Get history for all the stocks
    stock_hist = data.history(context.dji_symbols, &quot;close&quot;, context.index_average_window, &quot;1d&quot;)
 </p>

<p>    # Make an empty DataFrame to start with<br>
    stock_analytics = pd.DataFrame()
 </p>

<p>    # Add column for above or below average<br>
    stock_analytics[&#39;above_mean&#39;] = stock_hist.iloc[-1] &gt; stock_hist.mean()
 </p>

<p>    # Set weight for stocks to buy<br>
    stock_analytics.loc[stock_analytics[&#39;above_mean&#39;] == True, &#39;weight&#39;] = 1/len(context.dji_symbols)
 </p>

<p>    # Set weight to zero for the rest<br>
    stock_analytics.loc[stock_analytics[&#39;above_mean&#39;] == False, &#39;weight&#39;] = 0.0
 </p>

<p>    # Iterate each row and place trades<br>
    for stock, analytics in stock_analytics.iterrows():
        # Check if the stock can be traded
The editor is throwing either invalid character in identifier error, or showing expected string literal in the context.dji_symbols initialisation. I&#39;m stuck with this. I also cannot open the notebooks page of Quantopian website can&#39;t figure out what the problem is with this website. Should I switch to local editor and environment, or is there any solution to run the codes in Quantopian website?<br>
Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ef3a0cd5f808500165bd4c0' id='5ef3a0cd5f808500165bd4c0'>
<a href='#5ef3a0cd5f808500165bd4c0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1593024717000' class='quanto-date posted-at response-posted-at' href='#5ef3a0cd5f808500165bd4c0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Arunesh,</p>

<p>The code from my book will not work on the Quantopian website without a lot of modifications. I have not tried to get it working on Quantopian myself.</p>

<p>Andreas  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ef43ea90dceb300178fd0cc' id='5ef43ea90dceb300178fd0cc'>
<a href='#5ef43ea90dceb300178fd0cc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e9e9f4f09b222003fc7c25c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/71ed7edff57e9064aa7e73ca9b7fe5f6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e9e9f4f09b222003fc7c25c'>Arunesh Sarker</a>
</div>
<a UTCms='1593065129000' class='quanto-date posted-at response-posted-at' href='#5ef43ea90dceb300178fd0cc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I tried to set up a local environment with Zipline and python 3.5 using Anaconda, but there are many version conflicts. After running the Qunadl ingest, I tried to open Jupiter notebook, but failed, getting some error like<br>
 from jupyter_core.paths import jupyter_data_dir, jupyter_runtime_dir, secure_write<br>
ImportError: cannot import name &#39;secure_write&#39; from &#39;jupyter_core.paths&#39; (c:\python37\lib\site-packages\jupyter_core\paths.py)</p>

<p>Then tried to code it in command prompt itself, but when I tried to import matplotlib, I got some error with the package named &#39;pyparsing&#39;.<br>
Can anyone please suggest how to run the codes given in the book?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ef4917186f7330013f5ba1c' id='5ef4917186f7330013f5ba1c'>
<a href='#5ef4917186f7330013f5ba1c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d3e243f3ef9cf3a23ff0e9f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/969b8167ebfecea286eed5a3221144ab?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d3e243f3ef9cf3a23ff0e9f'>Chip Chenoweth</a>
</div>
<a UTCms='1593086321000' class='quanto-date posted-at response-posted-at' href='#5ef4917186f7330013f5ba1c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Arunesh</p>

<p>For a windows 10 install - scroll up in this thread to January 2, 2020  and find a post from Edward Hayman to @Chip. That worked for me.</p>

<p>If you are on another platform you are on your own though I have been able to get Zipline to run on a remote Linux server. But that a book unto itself.</p>

<p>Good Luck,</p>

<p>Chip  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f03f3f44d5a3828e52b627f' id='5f03f3f44d5a3828e52b627f'>
<a href='#5f03f3f44d5a3828e52b627f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5eb5ab28f2202b004560bbaa'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8093d41a150e56c2d5d84ce95d0ed56d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5eb5ab28f2202b004560bbaa'>Sergey C</a>
</div>
<a UTCms='1594094580000' class='quanto-date posted-at response-posted-at' href='#5f03f3f44d5a3828e52b627f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Andreas Clenow</p>

<p>Thank you for this interesting book.  It is very helpful.</p>

<p>A peculiarity of Portfolio_Backtest.ipynb file:<br>
changing the end date to, say, April 2020, results in Exposure exceeding 1 (even exceeding 6 at some point).<br>
The only change is in the end date in the following line of the file:<br>
end = datetime(2020, 4, 30, tzinfo=pytz.UTC)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f1e265007e06c0018eb3e0f' id='5f1e265007e06c0018eb3e0f'>
<a href='#5f1e265007e06c0018eb3e0f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5f1e24bf5938ea00114241fb'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/54cc8506acaa43e7d9505b0107ea9454?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5f1e24bf5938ea00114241fb'>Jon W</a>
</div>
<a UTCms='1595811408000' class='quanto-date posted-at response-posted-at' href='#5f1e265007e06c0018eb3e0f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Started working my way through the book this weekend. I&#39;ve been doing my own development in Amibroker for years, but much has changed in Python since I last seriously looked at it 10 years ago. It seems like the time to give it another spin to compliment amibroker...</p>

<p>Unfortunately I hit a brick wall and even the most simple backtest examples failed to run on my environment, even after running Edward Hayman&#39;s  guide. How to get deflated immediately! </p>

<p>Anyway, I identified the key problem. <em>Zipline 1.4 was released just days ago and seems completely broken</em> in the environment everyone here has setup. Either ensure you install a 1.3x version in your env or be prepared to work through a whole new set of environment (or maybe zipline) issues. Be warned!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f1f098a267ed95b4c7f12d5' id='5f1f098a267ed95b4c7f12d5'>
<a href='#5f1f098a267ed95b4c7f12d5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d93907930fc7e004340f53f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e644723e327fd611051429f303d79cba?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d93907930fc7e004340f53f'>Joe Zendle</a>
</div>
<a UTCms='1595869578000' class='quanto-date posted-at response-posted-at' href='#5f1f098a267ed95b4c7f12d5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jon W</p>

<p>I have seen 2 minor differences with respect to zipline 1.4 and source code w/ Andrea&#39;s book:</p>

<p>1) start time/end time are now pd.Timestamp data types.<br>
2) the zipline library must now be told to explicitly not perform benchmarking</p>

<p>add this to the examples:</p>

<p>in import section;</p>

<p>from zipline.api import set_benchmark<br>
import pandas as pd</p>

<p>in initialize function add this line:</p>

<p>set_benchmark(False)</p>

<p>toward bottom declare start/end as:</p>

<p>start_date = pd.Timestamp(&#39;2000-1-1&#39;, tz=&#39;utc&#39;)<br>
end_date = pd.Timestamp(&#39;2018-3-16&#39;, tz=&#39;utc&#39;)</p>

<p>Hope this helps!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f1f5f82d72fce000fbc6d49' id='5f1f5f82d72fce000fbc6d49'>
<a href='#5f1f5f82d72fce000fbc6d49'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5f1e24bf5938ea00114241fb'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/54cc8506acaa43e7d9505b0107ea9454?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5f1e24bf5938ea00114241fb'>Jon W</a>
</div>
<a UTCms='1595891586000' class='quanto-date posted-at response-posted-at' href='#5f1f5f82d72fce000fbc6d49'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you. I was definitely seeing issues with the pd.Timestamp being mentioned, but it looked buried in the benchmark subsystem. Looking at the <a href="https://www.zipline.io/appendix.html" rel="nofollow">zipline 1.4 docs</a> they still list those params to run_algorithm as datetime. That was enough to make me raise my hands and say &quot;I don&#39;t have time for this!&quot; and rolled back to 1.3. I&#39;ll clone my environment and try 1.4 again after I get further into the book.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f23c4765938ea714342290a' id='5f23c4765938ea714342290a'>
<a href='#5f23c4765938ea714342290a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/579a1617bbb7d625910003df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/be9fb2f30b26eed5fabc7d53d9300ca4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/579a1617bbb7d625910003df'>Raymond Korir</a>
</div>
<a UTCms='1596179574000' class='quanto-date posted-at response-posted-at' href='#5f23c4765938ea714342290a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>Ubuntu Installation</strong></p>

<p>Ubuntu Zipline setup is very simple. At the time of my writing this, Zipline only supports up to Python 3.5. If you&#39;ve already setup Python on Ubuntu, then you just need:</p>

<pre><code>$ pip3 install numpy
$ pip3 install cython
$ pip3 install -U setuptools
$ pip3 install zipline
</code></pre>

<p><strong>If you&#39;re on a fresh server:</strong></p>

<pre><code>$ sudo apt-get update &amp;&amp; sudo apt-get upgrade
$ sudo apt-get install python3-dev

$ sudo apt-get install libatlas-base-dev gfortran pkg-config libfreetype6-dev  
$ sudo apt-get install python3-pip
</code></pre>

<p><strong>For MacOS</strong></p>

<ol>
<li>Download and install Conda <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/macos.html" rel="nofollow">https://docs.conda.io/projects/conda/en/latest/user-guide/install/macos.html</a><br></li>
<li>Follow Below steps </li>
</ol>

<pre><code>$ conda install numpy

$ conda install cython

$ conda install -U setuptools

$ conda install zipline

</code></pre>

<ol>
<li>Running program</li>
</ol>

<pre><code>    $ conda create -n env_zipline python=3.5  
    $ source activate env_zipline  
    (env_zipline) $ conda install -c Quantopian zipline  
</code></pre>

<p><strong>Test Your Installation</strong></p>

<pre><code>(env_zipline)$ zipline --help


Usage: zipline [OPTIONS] COMMAND [ARGS]...

  Top level zipline entry point.

Options:  
  -e, --extension TEXT            File or module path to a zipline extension  
                                  to load.  
  --strict-extensions / --non-strict-extensions  
                                  If --strict-extensions is passed then  
                                  zipline will not run if it cannot load all  
                                  of the specified extensions. If this is not  
                                  passed or --non-strict-extensions is passed  
                                  then the failure will be logged but  
                                  execution will continue.  
  --default-extension / --no-default-extension  
                                  Don&#39;t load the default zipline extension.py  
                                  file in $ZIPLINE_HOME.  
  --help                          Show this message and exit.

Commands:  
  bundles  List all of the available data bundles.  
  clean    Clean up data downloaded with the ingest...  
  ingest   Ingest the data for the given bundle.  
  run      Run a backtest for the given algorithm.  
</code></pre>

<p><strong>Launching in Jupyter Notebook</strong></p>

<pre><code>     (env_zipline)$ pip3 install jupyter

       (env_zipline)$ conda install ipykernel

      (env_zipline) $ python -m ipykernel install --user

      (env_zipline) $ Jupyter Notebbok  
</code></pre>

<p><strong>End Environment</strong><br>
 <code>
(env_zipline) $ source deactivate
</code></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f2db174a45ca8000e3164fc' id='5f2db174a45ca8000e3164fc'>
<a href='#5f2db174a45ca8000e3164fc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5f29747f92239f00134f7f66'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81221be34767317ca01bf8a95f21fc32?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5f29747f92239f00134f7f66'>Alexander B</a>
</div>
<a UTCms='1596830068000' class='quanto-date posted-at response-posted-at' href='#5f2db174a45ca8000e3164fc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi guys - since days I&#39;m stuck with the &quot;first Zipline backtest&quot;. Getting this error message in line 74 in the code (bundle=&#39;quandl&#39;):</p>

<p><strong>(&quot;ValueError: index must be monotonic increasing or decreasing&quot;)</strong></p>

<p>If I bypass the cache in loader.py in code line 203/204, as suggested in the book, I instead get this error message:</p>

<p><strong>ValueError: setting an array element with a sequence.</strong></p>

<p>... any idea what I&#39;ve done wrong? (running on a Mac, in a Python 3.5 environment with Zipline 1.3.) </p>

<p>Thank you.</p>

<p>*/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/pandas/core/indexes/base.py:2248: FutureWarning: In the future, &#39;NAT &lt; x&#39; and &#39;x &lt; NAT&#39; will always be False.  </p>
<h2 id='5f2db174a45ca8000e3164fc-selfvalues0-lt-otherdiff0'><a class='clickable-header-link' href='#5f2db174a45ca8000e3164fc-selfvalues0-lt-otherdiff0'>  self._values[0] &lt; other_diff[0]  </a></h2>

<p>ValueError                                Traceback (most recent call last)<br>
 in ()<br>
     72     handle_data=handle_data,<br>
     73     capital_base=10000,<br>
---&gt; 74     data_frequency = &#39;daily&#39;, bundle=&#39;quandl&#39;<br>
     75 )<br>
     76<br>
/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/zipline/utils/run_algo.py in run_algorithm(start, end, initialize, capital_base, handle_data, before_trading_start, analyze, data_frequency, data, bundle, bundle_timestamp, trading_calendar, metrics_set, default_extension, extensions, strict_extensions, environ, blotter)
    428         local_namespace=False,<br>
    429         environ=environ,<br>
--&gt; 430         blotter=blotter,<br>
    431     )<br>
/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/zipline/utils/run_algo.py in <em>run(handle_data, initialize, before_trading_start, analyze, algofile, algotext, defines, data_frequency, capital_base, data, bundle, bundle_timestamp, start, end, output, trading_calendar, print_algo, metrics_set, local_namespace, environ, blotter)
    157             trading_calendar=trading_calendar,<br>
    158             trading_day=trading_calendar.day,<br>
--&gt; 159             trading_days=trading_calendar.schedule[start:end].index,<br>
    160         )<br>
    161         first_trading_day =\<br>
/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/zipline/finance/trading.py in __init</em><em>(self, load, bm_symbol, exchange_tz, trading_calendar, trading_day, trading_days, asset_db_path, future_chain_predicates, environ)
    101             trading_day,<br>
    102             trading_days,<br>
--&gt; 103             self.bm_symbol,<br>
    104         )<br>
    105<br>
/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/zipline/data/loader.py in load_market_data(trading_day, trading_days, bm_symbol, environ)
    159     # combine dt indices and reindex using ffill then bfill<br>
    160     all_dt = br.index.union(tc.index)<br>
--&gt; 161     br = br.reindex(all_dt, method=&#39;ffill&#39;).fillna(method=&#39;bfill&#39;)<br>
    162     tc = tc.reindex(all_dt, method=&#39;ffill&#39;).fillna(method=&#39;bfill&#39;)<br>
    163<br>
/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/pandas/core/series.py in reindex(self, index, **kwargs)
   2679     @Appender(generic._shared_docs[&#39;reindex&#39;] % _shared_doc_kwargs)<br>
   2680     def reindex(self, index=None, **kwargs):<br>
-&gt; 2681         return super(Series, self).reindex(index=index, **kwargs)<br>
   2682<br>
   2683     @Appender(generic._shared_docs[&#39;fillna&#39;] % _shared_doc_kwargs)<br>
/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/pandas/core/generic.py in reindex(self, *args, **kwargs)
   3021         # perform the reindex on the axes<br>
   3022         return self._reindex_axes(axes, level, limit, tolerance, method,<br>
-&gt; 3023                                   fill_value, copy).</em><em>finalize</em>_(self)<br>
   3024<br>
   3025     def _reindex_axes(self, axes, level, limit, tolerance, method, fill_value,<br>
/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/pandas/core/generic.py in _reindex_axes(self, axes, level, limit, tolerance, method, fill_value, copy)
   3034             ax = self._get_axis(a)<br>
   3035             new_index, indexer = ax.reindex(labels, level=level, limit=limit,<br>
-&gt; 3036                                             tolerance=tolerance, method=method)<br>
   3037<br>
   3038             axis = self._get_axis_number(a)<br>
/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/pandas/core/indexes/base.py in reindex(self, target, method, level, limit, tolerance)
   2988                     indexer = self.get_indexer(target, method=method,<br>
   2989                                                limit=limit,<br>
-&gt; 2990                                                tolerance=tolerance)<br>
   2991                 else:<br>
   2992                     if method is not None or limit is not None:<br>
/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/pandas/core/indexes/base.py in get_indexer(self, target, method, limit, tolerance)
   2689<br>
   2690         if method == &#39;pad&#39; or method == &#39;backfill&#39;:<br>
-&gt; 2691             indexer = self._get_fill_indexer(target, method, limit, tolerance)<br>
   2692         elif method == &#39;nearest&#39;:<br>
   2693             indexer = self._get_nearest_indexer(target, limit, tolerance)<br>
/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/pandas/core/indexes/base.py in _get_fill_indexer(self, target, method, limit, tolerance)
   2719         else:<br>
   2720             indexer = self._get_fill_indexer_searchsorted(target, method,<br>
-&gt; 2721                                                           limit)<br>
   2722         if tolerance is not None:<br>
   2723             indexer = self._filter_indexer_tolerance(target._values, indexer,<br>
/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/pandas/core/indexes/base.py in _get_fill_indexer_searchsorted(self, target, method, limit)
   2740         nonexact = (indexer == -1)<br>
   2741         indexer[nonexact] = self._searchsorted_monotonic(target[nonexact],<br>
-&gt; 2742                                                          side)<br>
   2743         if side == &#39;left&#39;:<br>
   2744             # searchsorted returns &quot;indices into a sorted array such that,<br>
/opt/anaconda3/envs/zip35/lib/python3.5/site-packages/pandas/core/indexes/base.py in _searchsorted_monotonic(self, label, side)
   3548             return len(self) - pos<br>
   3549<br>
-&gt; 3550         raise ValueError(&#39;index must be monotonic increasing or decreasing&#39;)<br>
   3551<br>
   3552     def _get_loc_only_exact_matches(self, key):<br>
ValueError: index must be monotonic increasing or decreasing*  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f34f497a15500001395aeaf' id='5f34f497a15500001395aeaf'>
<a href='#5f34f497a15500001395aeaf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1597306007000' class='quanto-date posted-at response-posted-at' href='#5f34f497a15500001395aeaf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey guys,</p>

<p>I just got around to testing out the new 1.4 package and I&#39;m running into all kinds of odd issues, along with the obvious lack of documentation and broken links.</p>

<p>If and when I get it all sorted, I&#39;ll make a post about the solutions. For now, I&#39;m as stuck as many others. Despite disabling the benchmark (thanks, Joe), I&#39;m getting a weird &quot;BenchmarkAssetNotAvailableTooLate&quot; error, referencing a the the futures contract that happened to have SID 0. In my case DAZ99. Links to the documentation for set_benchmark is broken, and I suppose I&#39;ll have to go through the source and find the issue myself.</p>

<p>It appears as if set_benchmark(False) still triggers benchmark validation in benchmark_source.py, using SID 0, interpreting False as the numerical value zero.</p>

<p>It&#39;s positive that Quantopian, quite unexpectedly, released an update. But it would have been nicer if they had listed compatibility issues.</p>

<p>Perhaps if any Q engineer is reading this thread, they might be able to provide some guidance for migration?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f378c36c014d60016f3ac17' id='5f378c36c014d60016f3ac17'>
<a href='#5f378c36c014d60016f3ac17'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d4ac2da5cf2ea004832e7df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/47900ab7cbdb3022aa6793f6a35a7ef0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d4ac2da5cf2ea004832e7df'>Rise T</a>
</div>
<a UTCms='1597475894000' class='quanto-date posted-at response-posted-at' href='#5f378c36c014d60016f3ac17'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Using (free) Quandl data, the &quot;BenchmarkAssetNotAvailableTooLate&quot; error only comes up with a backtest end date later than 2018-03-27. It makes no difference whether I set_benchmark to False or to some stock symbol.</p>

<p>Just saying, I&#39;m a complete noob with both Quandl and Zipline. Is there something special about this date that I don&#39;t know about?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f3956d1155b7d000e7e27f9' id='5f3956d1155b7d000e7e27f9'>
<a href='#5f3956d1155b7d000e7e27f9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d7b631edb72e914c8c05d89'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c7c0acecfdaf0ad2015eff796e0a40f9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d7b631edb72e914c8c05d89'>Zoran Pantoulas</a>
</div>
<a UTCms='1597593297000' class='quanto-date posted-at response-posted-at' href='#5f3956d1155b7d000e7e27f9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>[Zipline - Jupyter notebook issue]</p>

<p>Hello Andreas and fellow struggling programmers,</p>

<p><strong>I am as well encountering an issue with Jupyter Notebook not launching in Zip35 environment.</strong> </p>

<p>There are two problems that I encounter both associated with not being able to write code in a Jupyter Notebook tab.<br>
1) If I go to Anaconda Navigator and open Jupyter Notebook in the Zip35 environment, I receive a SyntaxError (described below). J Notebook never opens.<br>
2) If I open Jupyter Notebook with another environment and try to open a Python file within Zip35 Environment, the Kernel never connects. I get the following error: A connection to the notebook server could not be established</p>

<p>System: Win10 64bit<br>
Anaconda Navigator Version 1.9.12 (recently installed)<br>
Jupyter Notebook version installed on Zip35 environment : 5.7.0</p>

<p>Successfully complete actions from the book:<br>
1) Set new environment Zip35<br>
2) Install Zipline<br>
3) Connect Quandl API key<br>
4) Ingest Quandl Bandl<br>
5) Install Matplotlib library<br>
6) Install nb_conda using conda install -c conda-forge nb_conda</p>

<p>Failed actions:<br>
1) Opening Jupyter Notebook (Or Lab) on Zip35 environment</p>

<p><strong>Error</strong>:<br>
<em>short description</em><br>
Syntax Error on this line:  node_map: Dict[str, type] = {}<br>
This belongs to the parser.py code which is inside lib\site-packages\parso\</p>

<p><em>Long description as given by anaconda</em><br>
[I 17:41:56.333 NotebookApp] [nb_conda_kernels] enabled, 4 kernels found
Traceback (most recent call last):<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\Scripts\jupyter-notebook-script.py&quot;, line 10, in<br>
sys.exit(main())<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\jupyter_core\application.py&quot;, line 267, in launch_instance<br>
return super(JupyterApp, cls).launch_instance(argv=argv, **kwargs)<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\traitlets\config\application.py&quot;, line 657, in launch_instance<br>
app.initialize(argv)<br>
File &quot;&quot;, line 2, in initialize<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\traitlets\config\application.py&quot;, line 87, in catch_config_error<br>
return method(app, *args, **kwargs)<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\notebook\notebookapp.py&quot;, line 1629, in initialize<br>
self.init_webapp()<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\notebook\notebookapp.py&quot;, line 1379, in init_webapp<br>
self.jinja_environment_options,<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\notebook\notebookapp.py&quot;, line 158, in <strong>init</strong><br>
default_url, settings_overrides, jinja_env_options)<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\notebook\notebookapp.py&quot;, line 270, in init_settings<br>
nbextensions_path=jupyter_app.nbextensions_path,<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\notebook\notebookapp.py&quot;, line 1066, in nbextensions_path<br>
from IPython.paths import get_ipython_dir<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\IPython_<em>init</em><em>.py&quot;, line 55, in<br>
from .terminal.embed import embed<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\IPython\terminal\embed.py&quot;, line 16, in<br>
from IPython.terminal.interactiveshell import TerminalInteractiveShell<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\IPython\terminal\interactiveshell.py&quot;, line 33, in<br>
from .debugger import TerminalPdb, Pdb<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\IPython\terminal\debugger.py&quot;, line 6, in<br>
from IPython.core.completer import IPCompleter<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\IPython\core\completer.py&quot;, line 146, in<br>
import jedi<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\jedi__init</em><em>.py&quot;, line 41, in<br>
from jedi.api import Script, Interpreter, set_debug_function, \<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\jedi\api__init</em><em>.py&quot;, line 15, in<br>
import parso<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\parso__init</em>_.py&quot;, line 41, in<br>
from parso.parser import ParserSyntaxError<br>
File &quot;C:\Users\panos\anaconda3\envs\zip35\lib\site-packages\parso\parser.py&quot;, line 113<br>
node_map: Dict[str, type] = {}<br>
^
SyntaxError: invalid syntax</p>

<p>Since the error is inside the coding of a library file, I am really not sure how to approach this. Researching stackoverflow or github was not successful. </p>

<p>Please advise.</p>

<p>Have a wonderful day ahead!<br>
Zoran</p>

<p><em>_</em><em>*</em><em>_</em><em>*</em><em>_</em><em>*</em><em>_</em><em>*</em><em>_</em><em>*</em><em>_</em>_*</p>

<p>I have found the solution. </p>

<p>Step 1 : Removed Anaconda completely and reinstalled<br>
Step 2: Installed Python 3.5 using the prompt with:   conda create -n new_environment python=3.5<br>
Step 3: Added Zip35 environment using the Anaconda Navigator<br>
Step 4: Installed Zipline using the prompt with : conda install -c Quantopian zipline<br>
Step 5: Installed matplotlib via the Navigator<br>
Step 6: Installed Jupyter Lab via the Navigator home page (Note: Did not use nb_conda or forge nb_conda)<br>
Step 7: Opened Jupyter Notebook and received kernel error : Missing winp32 plugin<br>
Step 8: Installed winp32 using the prompt with: conda install pywin32</p>

<p>Kernell now works!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f39598d247175001100475c' id='5f39598d247175001100475c'>
<a href='#5f39598d247175001100475c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/579a1617bbb7d625910003df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/be9fb2f30b26eed5fabc7d53d9300ca4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/579a1617bbb7d625910003df'>Raymond Korir</a>
</div>
<a UTCms='1597593997000' class='quanto-date posted-at response-posted-at' href='#5f39598d247175001100475c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@zoran this is how to connect kernel  </p>

<pre><code> (env_zipline)$ pip3 install jupyter

       (env_zipline)$ conda install ipykernel

      (env_zipline) $ python -m ipykernel install --user

      (env_zipline) $ Jupyter Notebook  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f3a113736a6376ca728dc38' id='5f3a113736a6376ca728dc38'>
<a href='#5f3a113736a6376ca728dc38'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d7b631edb72e914c8c05d89'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c7c0acecfdaf0ad2015eff796e0a40f9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d7b631edb72e914c8c05d89'>Zoran Pantoulas</a>
</div>
<a UTCms='1597641015000' class='quanto-date posted-at response-posted-at' href='#5f3a113736a6376ca728dc38'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Raymond</p>

<p>Thank you for your reply.</p>

<p>After entering this order [ (env_zipline) $ python -m ipykernel install --user ] I receive the exact same Invalid Syntax Error. </p>

<p>This seems like a mistake on the parser.py coding. I am not sure how else to approach this.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f3a379b25c73e0014c464e4' id='5f3a379b25c73e0014c464e4'>
<a href='#5f3a379b25c73e0014c464e4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/579a1617bbb7d625910003df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/be9fb2f30b26eed5fabc7d53d9300ca4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/579a1617bbb7d625910003df'>Raymond Korir</a>
</div>
<a UTCms='1597650843000' class='quanto-date posted-at response-posted-at' href='#5f3a379b25c73e0014c464e4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@zoran can you paste your error output here? Also, seems you are using windows?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f3a5370c014d6001af3b54e' id='5f3a5370c014d6001af3b54e'>
<a href='#5f3a5370c014d6001af3b54e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d7b631edb72e914c8c05d89'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c7c0acecfdaf0ad2015eff796e0a40f9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d7b631edb72e914c8c05d89'>Zoran Pantoulas</a>
</div>
<a UTCms='1597657968000' class='quanto-date posted-at response-posted-at' href='#5f3a5370c014d6001af3b54e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Raymond.</p>

<p>I have posted all my details on my post. System, mark, and all errors.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f3c37aa905ca10017a9aa54' id='5f3c37aa905ca10017a9aa54'>
<a href='#5f3c37aa905ca10017a9aa54'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5b734d9e12fa9f72d2bd9ce2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/45997f7dbe4507c3caffa786574fa8fe?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5b734d9e12fa9f72d2bd9ce2'>Bruno Franca</a>
</div>
<a UTCms='1597781930000' class='quanto-date posted-at response-posted-at' href='#5f3c37aa905ca10017a9aa54'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey guys, I&#39; stuck trying to install Matplotlib and nb_conda on the Zip35 environment. I keep getting the following error:</p>

<p>UnsatisfiableError: The following specifications were found to be incompatible with each other:</p>

<p>Output in format: Requested package -&gt; Available versions</p>

<p>Package sqlite conflicts for:<br>
matplotlib -&gt; python[version=&#39;&gt;=3.7, sqlite[version=&#39;&gt;=3.25.3,=3.26.0,=3.27.2,=3.28.0,=3.29.0,=3.30.1,=3.31.1,=3.32.3,=3.30.0, python[version=&#39;&gt;=3.8, sqlite[version=&#39;&gt;=3.25.3,=3.26.0,=3.29.0,=3.30.0,=3.30.1,=3.31.1,=3.32.3,=3.28.0,=3.27.2,&lt;4.0a0&#39;]</p>

<p>Package setuptools conflicts for:<br>
python=3.5 -&gt; pip -&gt; setuptools<br>
matplotlib -&gt; setuptools</p>

<p>Does anyone know what I should do?</p>

<p>Thank you,</p>

<p>Bruno  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f4ac6cadbf2993397328549' id='5f4ac6cadbf2993397328549'>
<a href='#5f4ac6cadbf2993397328549'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5f1e24bf5938ea00114241fb'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/54cc8506acaa43e7d9505b0107ea9454?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5f1e24bf5938ea00114241fb'>Jon W</a>
</div>
<a UTCms='1598736074000' class='quanto-date posted-at response-posted-at' href='#5f4ac6cadbf2993397328549'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Been continuing to slowly work through this book and compare test it against some of the previous tooling I&#39;ve used. A few things I&#39;ve noted:</p>

<ol>
<li>Be careful of the zipline position size/fill logic on futures with low-volume futures data. I had one model from the book (counter-trend trading) go absolutely bonkers with the returns usually reporting NaN and showing wild, unrealistic swings in the portfolio value history. Turns out the culprit was the New Zealand dollar contract (6N/NZ), because the history only started to have real volume in ~2007. Trades in 2006, where the data I&#39;m using (norgate) had virtually no volume and single-tick price information, had the model doing wild stuff with position size. This probably happens often in contracts that start mid-way through backtest history creating very unrealistic results, but perhaps not a in a way that is so overtly noticeable. </li>
</ol>

<p>VolatilityVolumeShare slippage didn&#39;t seem to handle this as expected, but adding a more explicit check, like the one from the trend following model in the book, seems to alleviate this:  </p>

<pre><code>contracts_cap = int(h[&#39;volume&#39;][-20:].mean() * 0.2)  
contracts_to_trade = min(contracts_to_trade, contracts_cap)  
</code></pre>

<p>It is probably also worth filtering when a time series has a number of days with open = close data points</p>

<ol>
<li>By default all the models in this book fill at a strange price: tomorrows <em>close</em> (plus slippage if enabled). I believe this has to do with how history is requested. Zipline by default won&#39;t fill the an order the same day as a signal to prevent look-head bias. This is good, however, waiting all the way until tomorrows close to fill seems unrealistic in a conservative way and assumes you will nail a different specific price. It is probably worth writing your own slippage class. I tested the <a href="https://github.com/quantopian/zipline/issues/1844" rel="nofollow">simple one near the bottom of this github issue</a> to trade at market open (yes, yes, not realistic short of small trade sizes in equities) and it made a 2% difference in annualized returns on a decade of trend following model and about 1% on an equities momentum model. </li>
</ol>

<p>I confirmed all this by looking at the transactions list pyfolio creates with equities/single-contract prices from the same vendor (norgate) charted in amibroker.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f58f5d5fdba220016101ce0' id='5f58f5d5fdba220016101ce0'>
<a href='#5f58f5d5fdba220016101ce0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5976c099d9fb3100103cceb7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/83f17e34f558b6aba4768207ea021e46?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5976c099d9fb3100103cceb7'>Josh Dawson</a>
</div>
<a UTCms='1599665621000' class='quanto-date posted-at response-posted-at' href='#5f58f5d5fdba220016101ce0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just picked up the book for kindle. Thanks for the help, sir!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f58f6ed626b0b0013b1867a' id='5f58f6ed626b0b0013b1867a'>
<a href='#5f58f6ed626b0b0013b1867a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1599665901000' class='quanto-date posted-at response-posted-at' href='#5f58f6ed626b0b0013b1867a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, Josh! Happy to help.</p>

<p>Just keep in mind that the book is written using Zipline 1.3. I haven&#39;t updated for the new 1.4 yet, but essentially the upgrade breaks most code in the book. Solution for now is to install 1.3, if you want to follow the code samples.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f7c761233681300123be03b' id='5f7c761233681300123be03b'>
<a href='#5f7c761233681300123be03b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d4ac2da5cf2ea004832e7df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/47900ab7cbdb3022aa6793f6a35a7ef0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d4ac2da5cf2ea004832e7df'>Rise T</a>
</div>
<a UTCms='1601992210000' class='quanto-date posted-at response-posted-at' href='#5f7c761233681300123be03b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Try zipline v1.4.1 which got released yesterday.</p>

<p>Among some other things, it fixes the benchmark-related bug (the solution of which thankfully some user pointed <a href="https://github.com/quantopian/zipline/issues/2761" rel="nofollow">out</a>). I&#39;m currently not that far in Andreas&#39;s book (as I&#39;ve tried to get my Python and pandas skills up to speed first), but I&#39;m having no more problems running e. g. the first portfolio backtest.</p>

<p>To my knowledge, there are just 2 things you have to change in the code from the book:</p>

<ul>
<li>As mentioned in a post <a href="https://www.quantopian.com/posts/new-book-on-quantopian-slash-zipline-backtesting-and-modeling#5f1f098a267ed95b4c7f12d5" rel="nofollow">above</a>, zipline now uses the pandas timestamp data type instead of using Python&#39;s datetime and pytz (so you can additionally also remove the import statements for both datetime and pytz):<br></li>
</ul>

<pre><code>start_date = pd.Timestamp(&quot;2000-01-01&quot;, tz=&quot;utc&quot;)  
end_date = pd.Timestamp(&quot;2017-12-31&quot;, tz=&quot;utc&quot;)  
</code></pre>

<ul>
<li>The second change is optional, but per default zipline now uses the &#39;quantopian-quandl&#39; bundle instead of the &#39;quandl&#39; bundle. The quantopian one is somehow optimized and thus the ingesting process is faster - which is the only difference. So:</li>
</ul>

<pre><code>bundle = &quot;quantopian-quandl&quot;  
</code></pre>

<p>Btw, it seems like the data history of the free Quandl bundles (both &quot;quantopian-quandl&quot; and &quot;quandl&quot;) stops at 2018-03-27. So no more newer free data from Quandl. They <a href="https://www.quandl.com/databases/WIKIP/documentation" rel="nofollow">write</a> &quot;As of April 11, 2018 this data feed is no longer actively supported by the Quandl community&quot;, but personally, I couldn&#39;t retrieve any data later than 2018-03-27. Update: I also noticed many NaN values in the existing price history, specifically, due to reasons unknown to me, the ticker &quot;MMM&quot; stood out like a sore thump in this regard and affected backtests quite severely. So be warned about the cleanliness of that data.</p>

<ul>
<li>The patching of zipline described in Andreas&#39; book doesn&#39;t apply and is not necessary anymore.<br></li>
<li>Also, setting the benchmark to None (or False) is not necessary anymore (which didn&#39;t fully help due to the nature of that bug in 1.4.0 anyway), as it&#39;s set to None per default with v.1.4.1.</li>
</ul>

<p>FYI, I myself have been running this on a Linux system, using conda and a Python 3.6 virtual environment (the following conda commands are the same for all operating systems, though):</p>

<pre><code>conda create env -n zl_py36 python=3.6   # since zipline 1.4, you can (and should) use Python 3.6  
conda activate zl_py36  
conda install -c conda-forge zipline   # they recently moved zipline from the quantopian to the conda-forge channel  
</code></pre>

<p>At this point, I &#39;ve tried to install the other stuff like matplotlib, but got a plethora of messages regarding compatibility issues. I used to think that conda installs the latest versions possible within the given compatibility constraints, but somehow that wasn&#39;t the case here. So I was able to install the remaining packages only after updating everything that just got installed 3 minutes ago:</p>

<pre><code>conda update --all

conda install matplotlib jupyter notebook   # plus any other package you want to install  
</code></pre>

<p>Hope this helps.</p>

<p>PS: @Andreas Doing all of this on a Linux system (i. e. with a case-sensitive file system), I&#39;ve noticed that the file names of your downloadable example data often differ from the file names in the book&#39;s (and the download&#39;s) code, e. g. &quot;.csv&quot; vs. &quot;.CSV&quot;, which on Linux (and potentially on Mac) leads to a file not found error.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f7c7d7d44084b001342c318' id='5f7c7d7d44084b001342c318'>
<a href='#5f7c7d7d44084b001342c318'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1601994109000' class='quanto-date posted-at response-posted-at' href='#5f7c7d7d44084b001342c318'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks you for that! </p>

<p>I&#39;ve been meaning to push out an updated version of the book, but as for most people in this business (and I suppose in any business), it&#39;s been a rather busy year. Your testing and solutions will help speed things up. I&#39;ll get it all up and running on 1.4.1 and try to push that book update out. </p>

<p>On the mixed case mess, all I can say in my defense there is that you tend to get very sloppy with file names when you&#39;ve primarily been on Windows for the past... well, long enough to remember the big difference between Windows 3.1 and Windows 3.11, which makes me older than I&#39;d like to count right now.</p>

<p>Much to my surprise, this rather specialized book is far outselling my other books, and still selling strong after over a year. It&#39;s really puzzling me. Quite frankly, I wrote Trading Evolved mostly for fun and to push myself in getting deeper into Zipline. I hadn&#39;t expected all that much book sales. I thought it would be quite a narrow group who&#39;d be interested. For this book to overtake Following the Trend is really a total surprise to me, and I believe that I have the community on this very website to thank for this.</p>

<p>Nobody makes all that much money on books, unless you write about wizards and vampires, but sales numbers are still a confirmation that people actually care, and they are in the end the reason and motivation for writing the next one. So thank you all for that!</p>

<p>ac  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f7c8a4a336813000d3be21f' id='5f7c8a4a336813000d3be21f'>
<a href='#5f7c8a4a336813000d3be21f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d4ac2da5cf2ea004832e7df'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/47900ab7cbdb3022aa6793f6a35a7ef0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d4ac2da5cf2ea004832e7df'>Rise T</a>
</div>
<a UTCms='1601997386000' class='quanto-date posted-at response-posted-at' href='#5f7c8a4a336813000d3be21f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andreas:<br>
I can feel your pain :-). In fact, my favorite sentence in your book is &quot;These were the days when nerdy Scandinavian kids like me would program little &#39;demos&#39;, with jumping and blinking text that proclaims how smart we are in the coolest American street slang as we could muster, saving it on 5.25&quot; floppy disks along with perfectly legal copies of computer games, put them in paper envelopes and mail them around the world to like-minded indiviudals. It was a strange time.&quot;</p>

<p>While not Scandinavian (Fairlight anyone...?), I got warm and fuzzy feelings when reading this, as this was my youth. In fact, your book has been my personal excuse to do something I wanted to do for a very long time: Diving into some coding again, after a decades-long coding hiatus and with an extremely dusty expertise in removing copy protections and coding little intros &amp; demos in 6510 and 68000 Assembler. Much to my embarrassment (Python...? After Assembler? Really?!), it took me a long while to somewhat wrap my head around simple things like that &quot;strange new&quot; concept of objected-oriented programming. &quot;What the heck is an object? What do I need this for? And how does this thing look like at memory level?&quot;</p>

<p>As you probably know, some of the cracking scene from back then morphed into the <a href="https://scene.org/" rel="nofollow">demo scene</a>.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f7c93b644084b000e42c39c' id='5f7c93b644084b000e42c39c'>
<a href='#5f7c93b644084b000e42c39c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1601999798000' class='quanto-date posted-at response-posted-at' href='#5f7c93b644084b000e42c39c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Oh, those were the days. :) I was on the young side during the golden years and probably a bit of a lamer and a ripper (Look it up, kids!). But I remember the copy parties, the cracking (rather finding and stripping) code in assembler... I had some contacts in Germany at the time, exchanging floppies with, and I seem to remember that you, Mr. T, are German, so who knows. At least I associate your picture with a German I&#39;ve been in contact with before on this site.</p>

<p>Let me offer my celebrity story, my brief encounter with greatness, since you mention Fairlight. Apologies in advance to the normies reading this, having no clue what we&#39;re talking about. Now it must have been around 1995. A good decade or more since the golden days of C64 cracking, and I&#39;m in a computer room in the basement of the supposedly highly ranked business university I was enrolled at. Not many people back then understood computers in such a place, and if someone did more than just two-finger-type their school papers, you paid attention. I started talking to some guy there, a few years older than me. Turns out he was also part of  the scene back in the days. After a while, I asked which group he was in and what his handle was. </p>

<p>I was completely star struck when he introduced himself as Strider of Fairlight! Can you believe it? Strider of Fairlight went to my school!</p>

<p>Sure, so did the chairman of ABB, the CEO of Volvo and the guy in red who sang &quot;<a href="https://www.youtube.com/watch?v=UTFec_mrD-c" rel="nofollow">Diggiloo Diggiley</a>&quot; but who cares. Strider went to my school! And I was too star struck to even ask his real name...</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f88b24cbae8920011477eb8' id='5f88b24cbae8920011477eb8'>
<a href='#5f88b24cbae8920011477eb8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5f3ea568d952b0000f4400f9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5a5881e3c178de73d6d594400f64ed6d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5f3ea568d952b0000f4400f9'>Justin Greenwell</a>
</div>
<a UTCms='1602794060000' class='quanto-date posted-at response-posted-at' href='#5f88b24cbae8920011477eb8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am inching closer to getting the code up and running but still struggling with ingesting the random data. Has anyone else run into this issue when ingesting the bundle? </p>

<pre><code>(zip35) C:\Users\jrgr2&gt;zipline ingest -b random_futures_data
Traceback (most recent call last):  
  File &quot;C:\Users\jrgr2\anaconda3\envs\zip35\Scripts\zipline-script.py&quot;, line 11, in &lt;module&gt;  
    load_entry_point(&#39;zipline==1.4.1&#39;, &#39;console_scripts&#39;, &#39;zipline&#39;)()  
  File &quot;C:\Users\jrgr2\anaconda3\envs\zip35\lib\site-packages\pkg_resources\__init__.py&quot;, line 484, in load_entry_point  
    return get_distribution(dist).load_entry_point(group, name)  
  File &quot;C:\Users\jrgr2\anaconda3\envs\zip35\lib\site-packages\pkg_resources\__init__.py&quot;, line 2707, in load_entry_point  
    return ep.load()  
  File &quot;C:\Users\jrgr2\anaconda3\envs\zip35\lib\site-packages\pkg_resources\__init__.py&quot;, line 2325, in load  
    return self.resolve()  
  File &quot;C:\Users\jrgr2\anaconda3\envs\zip35\lib\site-packages\pkg_resources\__init__.py&quot;, line 2331, in resolve  
    module = __import__(self.module_name, fromlist=[&#39;__name__&#39;], level=0)  
  File &quot;C:\Users\jrgr2\anaconda3\envs\zip35\lib\site-packages\zipline\__init__.py&quot;, line 29, in &lt;module&gt;  
    from .utils.run_algo import run_algorithm  
  File &quot;C:\Users\jrgr2\anaconda3\envs\zip35\lib\site-packages\zipline\utils\run_algo.py&quot;, line 31, in &lt;module&gt;  
    from zipline.algorithm import TradingAlgorithm, NoBenchmark  
  File &quot;C:\Users\jrgr2\anaconda3\envs\zip35\lib\site-packages\zipline\algorithm.py&quot;, line 59, in &lt;module&gt;  
    from zipline.finance.blotter import SimulationBlotter  
  File &quot;C:\Users\jrgr2\anaconda3\envs\zip35\lib\site-packages\zipline\finance\blotter\__init__.py&quot;, line 16, in &lt;module&gt;  
    from .simulation_blotter import SimulationBlotter  
  File &quot;C:\Users\jrgr2\anaconda3\envs\zip35\lib\site-packages\zipline\finance\blotter\simulation_blotter.py&quot;, line 43, in &lt;module&gt;  
    class SimulationBlotter(Blotter):  
TypeError: &#39;str&#39; object is not callable  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f8963eb0662ef000dd658ee' id='5f8963eb0662ef000dd658ee'>
<a href='#5f8963eb0662ef000dd658ee'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1602839531000' class='quanto-date posted-at response-posted-at' href='#5f8963eb0662ef000dd658ee'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Justin,</p>

<p>Without having seen the code, I do have a guess. It sounds like you&#39;ve redefined the expression str. </p>

<p>str is a built-in function, used to convert something to a string. For instance str(0) = &quot;0&quot;. </p>

<p>But if you redefine that expression, for example by naming a variable str, things get all confused.</p>

<p>str = &quot;this is now a variable&quot;<br>
str(0) =&gt; Error. Not callable.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f8b01cfb5245b0012e2e6dd' id='5f8b01cfb5245b0012e2e6dd'>
<a href='#5f8b01cfb5245b0012e2e6dd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5f3ea568d952b0000f4400f9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5a5881e3c178de73d6d594400f64ed6d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5f3ea568d952b0000f4400f9'>Justin Greenwell</a>
</div>
<a UTCms='1602945487000' class='quanto-date posted-at response-posted-at' href='#5f8b01cfb5245b0012e2e6dd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Andreas. Currently all the code is copied directly from the files found on your site. I will take another look to see if I missed something. Thanks for the quick response.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f8eb8110662ef76bfd61699' id='5f8eb8110662ef76bfd61699'>
<a href='#5f8eb8110662ef76bfd61699'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5f8b65b9982b65630d898441'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/bc14c20968b4336e02b9f69324fcd0d5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5f8b65b9982b65630d898441'>Mehmet Kaan Erkoc</a>
</div>
<a UTCms='1603188753000' class='quanto-date posted-at response-posted-at' href='#5f8eb8110662ef76bfd61699'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Andreas, </p>

<p>Great book as I can tell from its content. Is it possible to make kindle version of it  ? I would like get e-book version of your book. </p>

<p>Thanks !  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f8ec1720662ef000fd67b14' id='5f8ec1720662ef000fd67b14'>
<a href='#5f8ec1720662ef000fd67b14'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1603191154000' class='quanto-date posted-at response-posted-at' href='#5f8ec1720662ef000fd67b14'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Mehmet,</p>

<p>It is available in Kindle: <a href="https://amzn.to/3jjo3Xb" rel="nofollow">https://amzn.to/3jjo3Xb</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f964832fd8c020013df2965' id='5f964832fd8c020013df2965'>
<a href='#5f964832fd8c020013df2965'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5f07d9da4d5a385e5c2b6859'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e0717814e3cf2d342bd75e2890998663?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5f07d9da4d5a385e5c2b6859'>Winston Marie</a>
</div>
<a UTCms='1603684402000' class='quanto-date posted-at response-posted-at' href='#5f964832fd8c020013df2965'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In Chapter 8 Analyzing Performance with Pyfolio, can anyone tell me why my below results do not match the books? Thank you</p>

<p>Start date  2003-01-02<br>
End date    2017-12-29<br>
Total months    179<br>
Backtest<br>
Annual return   4.3%<br>
Cumulative returns  88.9%<br>
Annual volatility   18.0%<br>
Sharpe ratio    0.33<br>
Calmar ratio    0.07<br>
Stability   0.05<br>
Max drawdown    -64.6%<br>
Omega ratio 1.06<br>
Sortino ratio   0.46<br>
Skew    -0.12<br>
Kurtosis    9.48<br>
Tail ratio  0.93<br>
Daily value at risk -2.2%</p>

<p>Also, how can I display table 8.1 Ranking Table in my jupyter notebook? Thank you  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/new-book-on-quantopian-slash-zipline-backtesting-and-modeling'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/new-book-on-quantopian-slash-zipline-backtesting-and-modeling'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#593f3c3c3d3b383a3219282c38372d3629303837773a3634">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
