<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Intraday algorithm US equities 4.5 Sharpe
</title>
<meta content='With Quantopian&#39;s new low commission model intraday trading algorithms are profitable. Here is an algorithm with 10,000,000 dollars traded everyday. Trades are opened in the morning and closed in the evening with no overnight positions held in the portfolio.     Feedback welcome.' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="12hzaLpWXA23dKPey2AMhKNw4FfEm3bK/fSQ5PK30xKrDgUlGKCO7g5p+u+Ej6Twm/7DPr5XY9F/+0uOWPKxqQ==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/intraday-algorithm-us-equities-4-dot-5-sharpe' property='og:url'>
<meta content='Intraday algorithm US equities 4.5 Sharpe' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/intraday-algorithm-us-equities-4-dot-5-sharpe' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Intraday algorithm US equities 4.5 Sharpe' property='og:title'>
<meta content='With Quantopian&#39;s new low commission model intraday trading algorithms are profitable. Here is an algorithm with 10,000,000 dollars traded everyday. Trades are opened in the morning and closed in the evening with no overnight positions held in the portfolio.     Feedback welcome.' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/intraday-algorithm-us-equities-4-dot-5-sharpe">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5982fbe053448c7e05314bd7'>
<div class='post-container' data-post-id='5982fbe053448c7e05314bd7' id='5982fbe053448c7e05314bd7'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Intraday algorithm US equities 4.5 Sharpe</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1528440181000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Intraday algorithm US equities 4.5 Sharpe&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fintraday-algorithm-us-equities-4-dot-5-sharpe%3Futm_source%3Dwebsite_share%26utm_campaign%3Dintraday-algorithm-us-equities-4-dot-5-sharpe%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fintraday-algorithm-us-equities-4-dot-5-sharpe%3Futm_source%3Dwebsite_share%26utm_campaign%3Dintraday-algorithm-us-equities-4-dot-5-sharpe%26utm_medium%3Dlinkedin&amp;title=Intraday+algorithm+US+equities+4.5+Sharpe+%28Deleted+User%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Mean Reversion' data-tag-id='55c50e7d8d4710ec6e00000d' href='/posts/tag/Mean-Reversion/newest'>Mean Reversion</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Show Q' data-tag-id='55c50e7d8d4710ec6e000010' href='/posts/tag/Show-Q/newest'>Show Q</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Portfolio Optimization' data-tag-id='55d33f293f6ba10061000000' href='/posts/tag/Portfolio-Optimization/newest'>Portfolio Optimization</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Market Neutral' data-tag-id='55d33f6e3f6ba10061000002' href='/posts/tag/Market-Neutral/newest'>Market Neutral</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Stat Arb' data-tag-id='55d33f863f6ba10065000003' href='/posts/tag/Stat-Arb/newest'>Stat Arb</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/intraday-algorithm-us-equities-4-dot-5-sharpe?utm_source=website_share&amp;utm_campaign=intraday-algorithm-us-equities-4-dot-5-sharpe&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Deleted User" />
<div class='body-text'>
<div class='body-text-container post-body'><p>With Quantopian&#39;s new low commission model intraday trading algorithms are profitable.</p>

<p>Here is an algorithm with 10,000,000 dollars traded everyday. Trades are opened in the morning and closed in the evening with no overnight positions held in the portfolio. </p>

<p><img src="https://image-proxy.quantopian.com/b86dc5f654fb2544eea36d8f32368c633c680c14/687474703a2f2f6936372e74696e797069632e636f6d2f32696163756e632e6a7067" />  </p>

<p>Feedback welcome.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>62 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='598389af3bdb2866331cac84' id='598389af3bdb2866331cac84'>
<a href='#598389af3bdb2866331cac84'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b9b56c02cabe5dae000143'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e9388ae5102f3b152fa6225f955a29d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b9b56c02cabe5dae000143'>Alisa Deychman</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1501792687000' class='quanto-date posted-at response-posted-at' href='#598389af3bdb2866331cac84'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for sharing your strategy! Reviewing the tearsheet, it&#39;s well on the way towards a strategy that may receive an <a href="https://www.quantopian.com/allocation">allocation</a>. </p>

<p>Looking at the risk and performance: </p>

<ul>
<li>The in-sample sharpe is positive and high, it will be interesting to see how this continues to track out of sample<br></li>
<li>Beta exposure is neutral, with the returns being driven by the alpha signal<br></li>
<li>Fama french factor exposure is low, suggesting a low exposure to those three common factors<br></li>
<li>Portfolio is cross-sectional, with a diversified number of holdings from the Q1500 tradable universe<br></li>
<li>The securities have low position concentration, diversifying the risk across many positions, and not taking concentrated bets in any single ticker<br></li>
<li>Algorithm is sector neutral, removing the sector exposure risk<br></li>
<li>Algorithm is dollar neutral, removing the market exposure risk<br></li>
<li>Algorithm is unleveraged, showing the raw returns of the strategy<br></li>
<li>Algorithm avoids trading directly at the market open, when the spreads tend to be very high driving higher execution costs. The selected times still have good liquidity with tighter spreads. </li>
</ul>

<p>Bravo! For the next steps in the strategy development I&#39;d suggest: </p>

<ul>
<li>Analyze the strategy over longer time periods to see how it&#39;s performed in different market regimes<br></li>
<li>See how the performance survives once transaction costs are layered onto the strategy<br></li>
<li> Collect out of sample data to track the performance</li>
</ul>

<p>Good luck,<br>
Alisa</p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='59839d63963a7300101b924f' id='59839d63963a7300101b924f'>
<a href='#59839d63963a7300101b924f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1501797731000' class='quanto-date posted-at response-posted-at' href='#59839d63963a7300101b924f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Alisa,</p>

<p>Thanks for your detailed analysis and positive feedback. At the moment I am using Quantopian&#39;s new commission model (0.1 cent per share) and avoid slippage. Am I right in assuming that backtest automatically takes care of the bid ask spread? </p>

<p>Is there a function in pyfolio that will allow me to analyze results as a function of increasing costs? That way, I won&#39;t have to run the algorithm multiple times with different cost assumptions. It will also tell me the break-even cost.</p>

<p>Best regards,<br>
Pravin  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5983d00e4175f8000dc41183' id='5983d00e4175f8000dc41183'>
<a href='#5983d00e4175f8000dc41183'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/590d5227e419a9000d45012f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ec8ade036fa981e69554a29c20c9a752?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/590d5227e419a9000d45012f'>Jason Klatt</a>
</div>
<a UTCms='1501810702000' class='quanto-date posted-at response-posted-at' href='#5983d00e4175f8000dc41183'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can you start the backtest in say 2005 and show us the rolling sharpe ratio?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5983d925e05d0743b4d8125a' id='5983d925e05d0743b4d8125a'>
<a href='#5983d925e05d0743b4d8125a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1501813029000' class='quanto-date posted-at response-posted-at' href='#5983d925e05d0743b4d8125a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><img src="https://image-proxy.quantopian.com/4b477c713d581934ea250881d9afcb41ed7d867f/687474703a2f2f6936352e74696e797069632e636f6d2f346b7a676f782e6a7067" />  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59843a10e706021dfc188f91' id='59843a10e706021dfc188f91'>
<a href='#59843a10e706021dfc188f91'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1501837840000' class='quanto-date posted-at response-posted-at' href='#59843a10e706021dfc188f91'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Alisa,</p>

<p>Could you please elaborate on:</p>

<blockquote>
<p>Algorithm avoids trading directly at the market open, when the spreads tend to be very high driving higher execution costs. The selected times still have good liquidity with tighter spreads.</p>
</blockquote>

<p>Isn&#39;t the backtest transaction cost model independent of the time of day?  Or is &quot;execution cost&quot; in this context different from &quot;transaction cost&quot; which would be imposed by the broker?</p>

<p>Also, you suggest that there may be some optimum time to trade, relative to the open and close.  Can one sort that out on Quantopian, without the bid-ask data?  For the Q1500US as a whole, are there sweet spots after the open and before the close when one would want to trade (for the type of algos you are looking to fund)?  Across stocks, how much variation in the optimum trading times exists?</p>

<p>Just curious--how could you tell, just from a tear sheet, what times of day the algo is trading?  I suppose you took a peek at the backtest &#39;exhaust&#39; to see when the trades were executed.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598451e82dedca34e97c5ba4' id='598451e82dedca34e97c5ba4'>
<a href='#598451e82dedca34e97c5ba4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1501843944000' class='quanto-date posted-at response-posted-at' href='#598451e82dedca34e97c5ba4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Karl -</p>

<p>Cool.  Is that a new pyfolio feature?  I don&#39;t recall seeing it before.</p>

<p>On a related note, perhaps it would be a tall task, but a change log of substantive features would be nice (e.g. <a href="https://www.quantopian.com/posts/is-there-a-change-slash-feature-log">https://www.quantopian.com/posts/is-there-a-change-slash-feature-log</a> ).  Personally, I&#39;d review it from time to time.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59846729e7e0b01ba6f457cd' id='59846729e7e0b01ba6f457cd'>
<a href='#59846729e7e0b01ba6f457cd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1501849385000' class='quanto-date posted-at response-posted-at' href='#59846729e7e0b01ba6f457cd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Karl it&#39;s 5% per annum. NOT daily.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5984829a78a36400107b5b9c' id='5984829a78a36400107b5b9c'>
<a href='#5984829a78a36400107b5b9c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1501856410000' class='quanto-date posted-at response-posted-at' href='#5984829a78a36400107b5b9c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>now Pravin, how can we help to improve it?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5984837c4175f8000dc41d92' id='5984837c4175f8000dc41d92'>
<a href='#5984837c4175f8000dc41d92'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1501856636000' class='quanto-date posted-at response-posted-at' href='#5984837c4175f8000dc41d92'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Peter,</p>

<p>I have been thinking about it and it is very sensitive to slippage. At the moment I am opening positions 1 hour after market open and closing them in the last 30 minutes. Is there a way I could  book profits/losses intraday? I mean instead of waiting for last 30 minutes before close? Also do you have any ideas on volume analysis. Current algorithm does not use volume information and I think that can add value.</p>

<p>Best regards,<br>
Pravin  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59848697e7e0b01ba6f45982' id='59848697e7e0b01ba6f45982'>
<a href='#59848697e7e0b01ba6f45982'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578af5aada75b0075500027f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5523f972e275cb9c2cc1c3d529515df8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578af5aada75b0075500027f'>Cheng Peng</a>
</div>
<a UTCms='1501857431000' class='quanto-date posted-at response-posted-at' href='#59848697e7e0b01ba6f45982'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m a complete novice in market microstructure and intraday strategies. </p>

<p>But maybe using something like <a href="https://www.tradingsetupsreview.com/guide-volume-spread-analysis-vsa/">https://www.tradingsetupsreview.com/guide-volume-spread-analysis-vsa/</a> would help to determine possible exit signals during the day instead of last 30 minutes? </p>

<p>It might also be helpful to check prices throughout the day, and rebalance certain stocks through some risk parity.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598488fcf492d12260d450fe' id='598488fcf492d12260d450fe'>
<a href='#598488fcf492d12260d450fe'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1501858044000' class='quanto-date posted-at response-posted-at' href='#598488fcf492d12260d450fe'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Cheng Peng. That is a good idea. I can look at the return distribution and book profits periodically beyond a threshold while maintaining the balance of the portfolio.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59848c4a78a36400107b5c33' id='59848c4a78a36400107b5c33'>
<a href='#59848c4a78a36400107b5c33'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578af5aada75b0075500027f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5523f972e275cb9c2cc1c3d529515df8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578af5aada75b0075500027f'>Cheng Peng</a>
</div>
<a UTCms='1501858890000' class='quanto-date posted-at response-posted-at' href='#59848c4a78a36400107b5c33'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Great! Happy I could help.</p>

<p>Needless to say, I am thoroughly impressed by your strategy here!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59848e7da08bee3a9b989711' id='59848e7da08bee3a9b989711'>
<a href='#59848e7da08bee3a9b989711'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1501859453000' class='quanto-date posted-at response-posted-at' href='#59848e7da08bee3a9b989711'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Karl. Thanks. I see what you are doing there.<br>
@Cheng. I got lucky.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598494b8a08bee3c7a989740' id='598494b8a08bee3c7a989740'>
<a href='#598494b8a08bee3c7a989740'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/553d45aa1a4723fbe6000474'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d06bbfc5dc0dcda4ea59e64f2ef7fbb3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/553d45aa1a4723fbe6000474'>Marco B</a>
</div>
<a UTCms='1501861048000' class='quanto-date posted-at response-posted-at' href='#598494b8a08bee3c7a989740'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Aqua Rooster: Wow that looks quite impressive!</p>

<p>It&#39;s a bit difficult to provide feedback, as we don&#39;t really know what assumptions went into the algorithm. Would you be willing to share some more details?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59849626f492d12260d451e8' id='59849626f492d12260d451e8'>
<a href='#59849626f492d12260d451e8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1501861414000' class='quanto-date posted-at response-posted-at' href='#59849626f492d12260d451e8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><ol>
<li>Ability to short securities<br></li>
<li>Near zero slippage<br></li>
<li>Commissions of 0.001 $ per share<br></li>
<li>100% fill rate<br></li>
</ol>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5984a8d8e7e0b00010f45d0e' id='5984a8d8e7e0b00010f45d0e'>
<a href='#5984a8d8e7e0b00010f45d0e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b9b56c02cabe5dae000143'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e9388ae5102f3b152fa6225f955a29d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b9b56c02cabe5dae000143'>Alisa Deychman</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1501866200000' class='quanto-date posted-at response-posted-at' href='#5984a8d8e7e0b00010f45d0e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The key question here is if the algorithm will survive transaction costs. The backtester doesn&#39;t account for bid-ask spread, but using a slippage model is meant to account for that. The Quantopian default VolumeSlippage model is a starting point.</p>

<p>You can use the transaction settings that are in the <a href="https://www.quantopian.com/open">contest</a>:  </p>

<pre><code>set_slippage(slippage.VolumeShareSlippage(volume_limit=0.025, price_impact=0.1))  
set_commission(commission.PerShare(cost=0.001, min_trade_cost=0))  
</code></pre>

<p>Looking at the universe and daily turnover, the algo holds 400 positions with 100% daily turnover, so it&#39;s unlikely to survive in live trading. If you were able to achieve 2bps of slippage, that is 5% cost per year. The annualized alpha is 5%, cutting away the returns. </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='598508d5c02015000deba3db' id='598508d5c02015000deba3db'>
<a href='#598508d5c02015000deba3db'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56773eb6271c427081000371'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9da21e368de45c2a78a11b0be3b6e719?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56773eb6271c427081000371'>Karen Chaltikian</a>
</div>
<a UTCms='1501890773000' class='quanto-date posted-at response-posted-at' href='#598508d5c02015000deba3db'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You could estimate transaction costs using 30 min window around the execution time (the calculation could be scheduled for once a day at market close).<br>
Since at the end of day you also know all the model trades, you could calculate daily &quot;bid/ask expense&quot;, and store the cumulative value in a context variable (which you could also then plot alongside the performance). You can assume a constant factor translating 1-min frequency volatility to bid/ask, and run backtest under couple values of that factor  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59853ba7c44db4000d9fe6be' id='59853ba7c44db4000d9fe6be'>
<a href='#59853ba7c44db4000d9fe6be'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1501903783000' class='quanto-date posted-at response-posted-at' href='#59853ba7c44db4000d9fe6be'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Karen,</p>

<p>Thanks for your excellent suggestion.</p>

<p>Best regards,<br>
Pravin  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598545ad9ff2f10010a6bdd0' id='598545ad9ff2f10010a6bdd0'>
<a href='#598545ad9ff2f10010a6bdd0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59065fbb5afa7d0010371ea1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/08e3b9ac969cdd40340b6094e6ce2bd7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59065fbb5afa7d0010371ea1'>Viridian Hawk</a>
<span class='badge medal'></span>
</div>
<a UTCms='1501906349000' class='quanto-date posted-at response-posted-at' href='#598545ad9ff2f10010a6bdd0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Awua/Pravin, Ok, so you&#39;re secretive, but why not tell us the general principle at play here -- not the mechanics, but the economic assumption behind your signal?  Yes, we see every day at 10:30am you put in $5mil long and $5mil short, and clear out everything 15 minutes before close.  But it&#39;s hard to suggest anything concrete when we don&#39;t even know what we&#39;re looking at. </p>

<p>Personally for me I guess the question is how much do you prioritize sharpe over alpha? If it&#39;s for me, I want to see some returns and can stomach a few percent volatility no sweat.  The Q Open on the other hand penalizes volatility really heavily and doesn&#39;t seem to care too much about returns -- so it seems like you&#39;re good there if that&#39;s your goal.  But also, the drawdown periods though not deep are expansive, especially 2016 -- SPY is skyrocketing and your algo is sitting still for like an entire year.  That would be hard for me.  Why do you think your alpha signal fails there?</p>

<p>I assume you&#39;ve A/Bed it and holding just during the day works out better than simply rebalancing once a day?  Also better than a full rebalance twice a day (hold a different basket of stocks over night)?</p>

<p>Different sectors of the market do slooooowly fluctuate between having a daytime edge and a nighttime edge.  Nonetheless, day and night are typically roughly 50/50.  By only being in the game during the day, you&#39;re missing out on half the action.  Can you develop a night time strategy to complement this daytime strategy?  Or what about simply at least parking that cash in interest-paying bonds over night?  Your algo has been heavy on utilities -- and utilities have tended to make all their money over the backtest period during the day, and have lost money overnight and during the first hour.   I&#39;ve tried to track the difference in momentum of these time-of-day moves to no avail, but if you can crack that cookie you can maybe get more alpha out of this algo and implement a night strategy as well.</p>

<p>As far as using volume to deal with liquidity or slippage issues, you can start with just something simple -- limit all your start of day orders to x percent (probably 2% at most?) of the average daily volume.  Allocate the extra cash to the securities with more volume.</p>

<p>@Alisa, I&#39;m curious -- why does Quantopian lack bid/ask spread data in the backtester?  I&#39;m a total novice here, so I don&#39;t really understand a lot of things with the stock market.  Does using limit orders help make the backtest slippage simulation more realistic, or is the lack of bid/ask spread data still going to throw everything off?   I guess Q will say it filled when it wouldn&#39;t have in cases where the price hits the limit price but not the ask doesn&#39;t?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598546cbbaf4692926afd5eb' id='598546cbbaf4692926afd5eb'>
<a href='#598546cbbaf4692926afd5eb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1501906635000' class='quanto-date posted-at response-posted-at' href='#598546cbbaf4692926afd5eb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Viridian - Thanks for your inputs. I cannot disclose the general principle because it will dilute the alpha going forward. As it is anomalies are so difficult to find in an efficient market like US and even if I give a high level overview Quantopians are smart enough to figure it out. I am changing it such that it is no longer intraday but rebalances once every morning and holds positions overnight. Will post the results soon. </p>

<p>You are right that I prioritize sharpe over alpha because I want to reduce drawdowns. Most people cannot stomach drawdowns. I hear from the street that 5% drawdown on unlevered capital and you are out of the game. I will post the results of overnight strategy in an hour or so.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5985ad888f70130010c3eed2' id='5985ad888f70130010c3eed2'>
<a href='#5985ad888f70130010c3eed2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1501932936000' class='quanto-date posted-at response-posted-at' href='#5985ad888f70130010c3eed2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Pravin (aka Aqua Rooster),</p>

<p>The 5% drawdown limit on unlevered capital seems reasonable, but over what time frame?  I think one has to be careful here, since running just a 2-year backtest (e.g. as required by the contest) might need to have a tighter limit (and the 6-month contest/fund out-of-sample period would seem to be way too short, especially if one is simply evaluating the algo as a black box without a firm understanding of a potential &quot;edge&quot;).</p>

<p>The SR ~ 4.5 should be a clue that the algo is probably unrealistic--my understanding is that long-term, SR ~ 1ish would be more realistic and I&#39;d suspect that the Q backtester is spitting out unrealistic numbers.  If you use the settings recommended by Alisa above, what happens?</p>

<pre><code>set_slippage(slippage.VolumeShareSlippage(volume_limit=0.025, price_impact=0.1))  
set_commission(commission.PerShare(cost=0.001, min_trade_cost=0))  
</code></pre>

<p>Just curious, did you use the optimize API?  If so, perhaps you&#39;d be willing to share your block of code along with the settings?  I gather that the Q approach will be to work with authors and if possible, push the combined alpha (portfolio update) through a risk-mitigating function, based on the optimize API, to control various risk factors on an individual algo basis (versus trying to diversify by cobbling together lots of algos).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5985b11e9ff2f10010a6c567' id='5985b11e9ff2f10010a6c567'>
<a href='#5985b11e9ff2f10010a6c567'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1501933854000' class='quanto-date posted-at response-posted-at' href='#5985b11e9ff2f10010a6c567'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Grant,<br>
I am not very sure about the time frame of 5% drawdown limit. Will come back to you when I find out more.<br>
Regarding 4.5 SR it is quite possible for intraday algorithms. I have heard of higher SR for high frequency algorithms.<br>
I use 0.001 commissions. But I cannot use 0.025 volume limit slippage because that means it will take 40 minute bars to fill volume in 1 minute bar which to me is unrealistic. Instead I have attached a new backtest where positions are liquidated in the last 30 minutes and have used a slippage of 1 bps. Beyond this algorithm is not profitable. Maybe someone in a HFT firm who have advanced execution algorithms can use this strategy and close positions at VWAP price. It has annual returns of 8% with SR of 2.37 for 1 bps slippage. Also there is a huge loss during the week of 8th December 2014 which I am guessing is a data issue. Needs investigation.</p>

<p>I am using optimize API but in fact have copied the code from one of your algorithms :). Doing nothing out of the ordinary; just basic optimization constraints to comply with Quantopian&#39;s risk model.</p>

<p>By the way, I am going to try Karen&#39;s suggestion above. I just need to figure out how to get the transaction information from pyfolio, extract daily prices, compute the closing VWAP price and check my new P/L curve.</p>

<p>Best regards,<br>
Pravin  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5985e3e96033ee000dff9e01' id='5985e3e96033ee000dff9e01'>
<a href='#5985e3e96033ee000dff9e01'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1501946857000' class='quanto-date posted-at response-posted-at' href='#5985e3e96033ee000dff9e01'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Well, it would be interesting to hear from Alisa again, because if I&#39;m interpreting correctly, there could be a &quot;mirage&quot; here in terms of what Q simulation (backtesting/paper trading) would indicate, and what would actually happen in the market (i.e. if an algo is &quot;unlikely to survive in live trading&quot; as she says above, then there ought to be a way to configure the algo so that fact would pop out and be obvious).</p>

<p>I would note that Q supports custom slippage models (unless something has changed), so there should be some flexibility in incorporating real-world effects beyond the canned slippage model.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5985e4c698cb750010e89d11' id='5985e4c698cb750010e89d11'>
<a href='#5985e4c698cb750010e89d11'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1501947078000' class='quanto-date posted-at response-posted-at' href='#5985e4c698cb750010e89d11'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes Grant. The &quot;mirage&quot; is because I am not using the default slippage model. I am going to run a backtest with their default slippage model and see if that works. Basically if I cannot enter it into contest there is no point in it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5986341ac02015000debb597' id='5986341ac02015000debb597'>
<a href='#5986341ac02015000debb597'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1501967386000' class='quanto-date posted-at response-posted-at' href='#5986341ac02015000debb597'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Pravin, may I make a suggestion?</p>

<p>Try removing the slippage altogether by going with limit orders. This way by fixing the price, you get no slippage. You will be missing some trades, but overall it might come close to balancing out. </p>

<p>Your current scenario is subject to more slippage than you might think. If you went for the 2.5% of volume rule, you might see your orders spread out over the next few minutes (up to 30 minutes at times).</p>

<p>Nonetheless, the setting proposed by Quantopian puts no minimum commission. I don&#39;t think that is realistic. </p>

<p>Quantopian should reveal what will be the actual measures they will use in their tests to give allocation. Otherwise, you might be simply dealing with a “mirage” as you said.</p>

<p>A napkin calculation of just $0.01 slippage on the volume presented in your notebook over a 2-year period totals to a cost in the vicinity of $3.7 million. A $1.00 minimum per trade eats up another $ 200k over the same period. Together, they eat your lunch!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5986696fb64d4500103f6945' id='5986696fb64d4500103f6945'>
<a href='#5986696fb64d4500103f6945'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1501981039000' class='quanto-date posted-at response-posted-at' href='#5986696fb64d4500103f6945'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Guy Fleury.  I don&#39;t think Quantopian allows limit orders using optimize API. Guess I will have to rollout my own optimizer using cvxpy.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59883f4e471a47001061f771' id='59883f4e471a47001061f771'>
<a href='#59883f4e471a47001061f771'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1502101326000' class='quanto-date posted-at response-posted-at' href='#59883f4e471a47001061f771'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Pravin,</p>

<p>The other thing to consider is I gather that Quantopian has a strong preference now for algos that find alpha in the alternative data sets and futures.  So, if this strategy uses OHLCV bars exclusively, it might be o.k. for the contest, but not so hot for the fund.  That said, perhaps you could treat it as one of many factors that would be combined in a multi-factor strategy that includes OHLCV-based factors and ones based on alternative data sets.  Such a strategy presumably would be acceptable for the fund (but it is not clear then how one would demonstrate that the factors based on alternative data are playing a significant role).  And of course only data sets that are free could be used, to be eligible to enter into the contest.</p>

<p>Regarding writing your own code using CVXPY, my understanding is that Q is still planning to open-source the optimization API, so you might get a sense for the timing of that release before you put too much effort in custom code.   You should be able to recycle some of it.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5989e75f48c6f32d01e34ccb' id='5989e75f48c6f32d01e34ccb'>
<a href='#5989e75f48c6f32d01e34ccb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1502209887000' class='quanto-date posted-at response-posted-at' href='#5989e75f48c6f32d01e34ccb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Alisa,</p>

<p>Here is a modified version with following changes:<br>
1. Reduced number of traded stocks by filtering for opportunity.<br>
2. Better clustering/grouping of stocks<br>
3. Better models.<br>
4. Exclude M&amp;A events<br>
4. Filter stocks by earnings calendar</p>

<p>The Sharpe is now 5.6 and alpha is 14%. However it still uses only commissions and ignores slippage. I simply cannot use the default slippage model provided by Quantopian because I wan&#39;t to close all positions in last 30 minutes and default slippage model does not allow that. Is there any other way I can test the viability of this algorithm on Quantopian? I believe Dan mentioning that you are revamping your slippage model. Ideally I would like to to close positions using the last 30/60 minute VWAP price + slippage.</p>

<p>Best regards,<br>
Pravin  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5989fd7cbf0c37000d99935a' id='5989fd7cbf0c37000d99935a'>
<a href='#5989fd7cbf0c37000d99935a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5674b7bd1869e73f4a000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e411d64f7a123f5c2102614fafa48b58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5674b7bd1869e73f4a000334'>Luke Izlar</a>
</div>
<a UTCms='1502215548000' class='quanto-date posted-at response-posted-at' href='#5989fd7cbf0c37000d99935a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>I simply cannot use the default slippage model provided by Quantopian because I wan&#39;t to close all positions in last 30 minutes and default slippage model does not allow that.  </p>
</blockquote>

<p>If that&#39;s the case then your algorithm is not viable with $10M in capital. That means it&#39;s a small time strategy at best or completely worthless in real life trading at worst. Q does not want strategies like this, nor do institutional investors. Assuming you are using 1.0 leverage of $10M with 400 positions You&#39;re trying to sell $25,000 worth of each stock in 30 minutes at the end of the day. Not all stocks can tolerate that volume, insisting won&#39;t make it so.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5989fde0bf0c37000d999361' id='5989fde0bf0c37000d999361'>
<a href='#5989fde0bf0c37000d999361'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5936d06932462300102b4d1e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/467295c63386e5a9cfd2e59383b4f07b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5936d06932462300102b4d1e'>Beha Abasi</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1502215648000' class='quanto-date posted-at response-posted-at' href='#5989fde0bf0c37000d999361'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Guy Fleury  </p>

<p>Although limit orders may reduce slippage in the sense that they reduce price drag, there is another component that the Quantopian slippage model tries to simulate, which is price impact. In general, we group transaction costs into 3 categories: explicit costs, implicit costs, and missed trade opportunity costs. </p>

<p>Explicit costs deal with things like commission and fees, which would be handled by the 
<code>set_commission()</code> method. This is an unavoidable cost of trading.</p>

<p>Implicit costs address the impact that wanting to trade has on the market. Any new information to the market signals to investors that they should adjust their prices. Notice that you do not necessarily have to execute an order in order to have an impact on the market! Consider a limit order that is non-marketable (i.e., away from current market price, gets added to the limit order book). Even though the order is awaiting a fill, it is still impacting the market as it is public information. In a scenario like this, the limit order would move the price further away from you without even getting you a fill! </p>

<p>Missed trade opportunity costs are also relevant in this scenario, since giving up urgency means that you&#39;re exposing yourself more and more to the chance that the market may move away from you. This introduces a skew in the distribution of your transaction costs, as it is possible that you&#39;d get a lot of fills at slightly favorable prices, however you may also be forced to execute some at highly unfavorable prices, if at all. It&#39;s important to notice the danger of stale limit orders in the higher latency context we&#39;re in. Imagine you&#39;re a buyer with a limit away from the market, you&#39;d only get filled as the stock price falls, unintentionally introducing a style bias into your trading. This opens you up to potentially experiencing severe losses during times when short-term momentum is a dominant force.  Furthermore, missed trades are problematic, as your carefully calculated exposures are probably based on the assumption of completion, so you cannot rely on missed shares &quot;balancing out&quot; in the end.</p>

<p>A good starting point when you&#39;re thinking about slippage is the slippage vs. cumulative return plot included in the pyfolio tear sheet. Always look at that plot to gauge the sensitivity of your algo to varying levels of transaction costs. Market impact cannot be avoided, but the Quantopian slippage model is a first step in determining whether you algo is properly taking it into account!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598a00f897a9434cc814847d' id='598a00f897a9434cc814847d'>
<a href='#598a00f897a9434cc814847d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56773eb6271c427081000371'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9da21e368de45c2a78a11b0be3b6e719?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56773eb6271c427081000371'>Karen Chaltikian</a>
</div>
<a UTCms='1502216440000' class='quanto-date posted-at response-posted-at' href='#598a00f897a9434cc814847d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Aqua Rooster, you could  address @Luke Izlar &#39;s concern by filtering on liquidity. Basically, only hold positions and trade in securities whose trade size is below certain % of their ADV. This will undoubtedly reduce your universe from what it is now, but it will make your backtest substantially more realistic.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598a09b334ea8100104f664b' id='598a09b334ea8100104f664b'>
<a href='#598a09b334ea8100104f664b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59065fbb5afa7d0010371ea1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/08e3b9ac969cdd40340b6094e6ce2bd7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59065fbb5afa7d0010371ea1'>Viridian Hawk</a>
<span class='badge medal'></span>
</div>
<a UTCms='1502218675000' class='quanto-date posted-at response-posted-at' href='#598a09b334ea8100104f664b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Now I like the look of that returns graph much better.  Silky smooth.  And that sharpe ratio!</p>

<p>I don&#39;t know enough about this stuff to totally understand the slippage issue.  Is your argument that Q&#39;s default slippage model is unrealistic and that it&#39;s totally feasible for you to be able to dump $10 mil worth of stock (something like $100,000 per stock) within 30 minutes every day?  Or is it as other people are arguing -- wishful thinking is getting the better of you? </p>

<p>I read somewhere that Q will soon be updating their slippage models to make them more accurate.  Maybe that will help when it comes out.  But in the meantime for the Q Open I think you have to work with the default slippage model.</p>

<p>What happens if you enable the default slippage model and include an extra scheduled function that runs at the next morning at open to finish off closing off positions that didn&#39;t get filled by market close? </p>

<p>Or, what about if instead of closing <em>everything</em> out 30 minutes before close, you instead split your stocks up in various baskets according to their avg. daily volume thresholds so that suuuper liquid stocks you&#39;d try to dump 10 minutes before close, and more illiquid stocks you&#39;d try to dump 2 hours before close, and various fine-tuned degrees inbetween.  Obviously there&#39;s a lot of day-to-day variance in volume so the method won&#39;t be fullproof, but at least it&#39;s probably better than a one-size-fits-all approach like you currently have.</p>

<p>It&#39;s still eluding me why holding over night has such a detrimental effect on your strategy.  I would have thought it would just be extra noise at worst.  If there is indeed some consistent pattern of your strategy reverting overnight, that&#39;s something you could potentially exploit or hedge against, right?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598a1b5734ea81000d4f67e8' id='598a1b5734ea81000d4f67e8'>
<a href='#598a1b5734ea81000d4f67e8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/539133a0ca9962c7a9000124'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/40fd36f74ef482a61e96f7be42763d65?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/539133a0ca9962c7a9000124'>Charles Piché</a>
</div>
<a UTCms='1502223191000' class='quanto-date posted-at response-posted-at' href='#598a1b5734ea81000d4f67e8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Did you double-check for possible look-ahead bias?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598a48b7ad3a740010c64b13' id='598a48b7ad3a740010c64b13'>
<a href='#598a48b7ad3a740010c64b13'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1502234807000' class='quanto-date posted-at response-posted-at' href='#598a48b7ad3a740010c64b13'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Luke - Maybe you are right and I should discard this algorithm. But I want to get some data to see if $100,000 cannot be executed in last 30 minutes on liquid stocks (Q1500) before I do that.</p>

<p>@Karen - I am using Q1500 universe that filters for ADV but probably that is not enough. I will reduce universe as you suggested and try it out. Maybe something will work. I always believed that it is easy to execute 100K+ on liquid stocks during last 30 minutes or in fact even during the closing auction. I will talk to a couple of institutional people to get a better picture.</p>

<p>@Charles - I am using OHLCV data only and no external data outside of Quantopian nor third party feeds except for M&amp;A filter and earnings calendar. I think Quantopian protects from look-ahead bias.</p>

<p>@Viridian - I am generating results by closing as many positions as possible in the last 45 minutes  and the remaining on open next day as you suggested. This one uses commissions and default volume slippage and is currently taking forever to run.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598a4c549e35ba0010b74291' id='598a4c549e35ba0010b74291'>
<a href='#598a4c549e35ba0010b74291'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1502235732000' class='quanto-date posted-at response-posted-at' href='#598a4c549e35ba0010b74291'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Beha, you are right on all counts. </p>

<p>However, the opportunity costs might be the hardest to determine since it will depend on what the future was or will be, and that is not accessible until after the fact. Will you wait for a ”I should have done....” when you had to make a decision: do you enter the trade or not? And then live with the consequences, whatever they may be. </p>

<p>What is the opportunity cost of what could turn out to be a losing trade? Would you not get again another ”I should have ....”? Putting you in total trade paralysis waiting for the outcome of all those “I should have...” to then again being confronted with: do you enter the trade or not?</p>

<p>No matter what you do, there will be real and tangible costs that can be seen on entering a trade (for instance: commissions). It is so direct that your broker will charge it immediately. We see much less on slippage since in a simulation we don&#39;t even see the bid and ask, or what the volume in the book was. </p>

<p>Not having access to that information, we are almost operating blind as to how much the real slippage will be. I see the broker report the commission as soon as you enter a trade. But, I have never seen them report: you had such and such in slippage per share for that trade.</p>

<p>I presented a case in another thread were 189 trades on TMF were spattered all over the trading day. 70 of those trades were for 20+ shares at a time. The rest (119 trades) were for 20 shares or less (due to the 2.5% rule). Some might not want to consider slippage, or commissions, but they do have an impact. And, it is higher than they think. </p>

<p>Trades were occurring about every two minutes, at whatever price there was. Sure, you will get an average price at the end of day. It could be close to the first trade taken, but then again, it might not. From what the trade report gave on that day, trades were executed from $ 23.33 to<br>
$ 24.00 per share. This is more than a penny per share of slippage, the executed range was $ 0.67.</p>

<p>Nonetheless, we need to design trading strategies that will survive these more or less hidden costs. And it is not by hiding them that we will design better systems. It is by designing them even under these adverse trading conditions.</p>

<p>Not having a realistic frictional cost model, as a minimum, should be considered detrimental to anyone&#39;s trading strategy since what would be presented would be fluffed and puffed to look much better than it really is.</p>

<p>The equation for a fund is: F(t) = (1+L)∙F(0)∙(1 + r_m + α - fc% - lc% - d%)^t. And the alpha extracted should be enough to cover all frictional costs: α &gt; |fc%| + |lc%| + |d%|. Where fc% is for commissions and slippage. And the alpha should be even greater in order to justify the added work.</p>

<p>It is why, in my strategy designs, I prefer to use the default IB settings. This includes the current Quantopian slippage setting and the minimum cost per trade. A trading strategy should at least cover those costs.</p>

<p>I have a prejudice against trading strategies that consider frictional costs as a major portion of their potential profits. All it tells me is that their strategy is so weak that it can barely exceed its friction costs. And since frictional costs, as a percentage, are low, it can only mean the overall return (CAGR) is low as well. There is a cost to trading, and the more you trade, the more it will cost. </p>

<p>If α &lt; |fc%| + |lc%| + |d%|, then the generated alpha would not be enough to cover expenses or even beat the averages.</p>

<p>Maybe it is another way of saying there is no free lunch, or maybe that your broker or somebody else wants your lunch. They will just take it, without even saying a word since you are freely giving it away.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598a5b6ed61aa5000d773cfd' id='598a5b6ed61aa5000d773cfd'>
<a href='#598a5b6ed61aa5000d773cfd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1502239598000' class='quanto-date posted-at response-posted-at' href='#598a5b6ed61aa5000d773cfd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Pravin, I like your last notebook.</p>

<p>Before abandoning your strategy design, may I suggest that you take a look at the contest and funding requirements again. They do give you some latitude. </p>

<p>For instance, you last notebook showed a beta of 0.01. But, the contest and funding can live with up to 0.30. Therefore, you could constrain your beta to 0.25 and allowing your program to be slightly biased to the upside. Say 0.55 longs to 0.45 shorts. This will generate a net positive exposure to the market while maintaining leverage requirements.</p>

<p>Your annual volatility was recorded as 0.03. There, you are allowed up to 0.10. Make the constraint 0.08. It should give you the ability to extract more of the alpha by getting more of the momentum. This increasing your APPT.</p>

<p>Also, your drawdown is at -0.02. You are allowed up to -0.10. Make the constraint -0.08 or -0.09. This will allow a greater participation in all the momentum moves from which you could extract some extra points. </p>

<p>Allow your trading strategy to trade more if it has an edge (APPT &gt; 0). Let it do more of what it can do. </p>

<p>There are other moves that could improve performance even higher than what you will find using the above steps.</p>

<p>These moves are intended to increase APPT, your net average profit per trade. And letting the strategy trade more will increase n the number of trades. Both together will increase your overall return to a point where you could not only win the contest, but most importantly get the allocation.</p>

<p>Best of luck.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598ae92ed61aa5397c7742e7' id='598ae92ed61aa5397c7742e7'>
<a href='#598ae92ed61aa5397c7742e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1502275886000' class='quanto-date posted-at response-posted-at' href='#598ae92ed61aa5397c7742e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Guy Fleury - Thanks. I will try to figure out how to relax my stringent risk constraints.</p>

<p><a href="https://ibb.co/juKzsF">Here</a> is a backtest with default volume slippage. Unfortunately I can no longer use pyfolio (runs out of memory). It closes approximately 75% of positions on same day and remaining 25% of positions the next morning.</p>

<p><img src="https://image-proxy.quantopian.com/12f66987a4594944c4124a411919f506141874b3/68747470733a2f2f6962622e636f2f6a754b7a7346" /></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598af237aa14c3000df39cae' id='598af237aa14c3000df39cae'>
<a href='#598af237aa14c3000df39cae'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1502278199000' class='quanto-date posted-at response-posted-at' href='#598af237aa14c3000df39cae'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Some pretty long stretches where the algo is flat (including the most recent epoch).  Given that the Q fund looks primarily at the most recent 6 months of out-of-sample results, I wonder if this would still be of interest?  What if the next 6 months are flat?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598b17645eabfc000deae03e' id='598b17645eabfc000deae03e'>
<a href='#598b17645eabfc000deae03e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1502287716000' class='quanto-date posted-at response-posted-at' href='#598b17645eabfc000deae03e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Pravin, from your screen snapshot, I noticed your equity curve is flattening out. </p>

<p>This too should be taken care of. </p>

<p>You need to compensate for return degradation. The easiest way is to make sure that n the number of trades that generated your APPT is not linear but exponential. Even if this is to a small degree.</p>

<p>You have two numbers that matter. First, APPT which will tend to a limit due to the sheer size of n and therefore will tend more and more to a constant as the trading strategy evolves. And then, you have n which is just incrementing one by one. Therefore, Δ(n∙APPT)/Δt will also tend to a constant. Yet, your competition is operating in a CAGR world.</p>

<p>There is no difference between (1+r)^t and (1+r)∙t when t=1. But as t increases, they will spread apart. It is why your curve is flattening out compared to its benchmark. And as said, it is easily correctable.</p>

<p>Presently, I estimate your strategy is made to break down by design. This, in or out of sample.</p>

<p>You have your framework. You have your trade mechanics. This is commendable. The next step is to take care of the return degradation problem. </p>

<p>The side effect of having this compensation in place is that the strategy should not break down out of sample, it should just continue to grow, and this by strategy design.</p>

<p>Then, you should try finding the strategy&#39;s limits. If it is by relaxing some of its constraints as suggested, so be it. There is more out there than just a contest you know.</p>

<p>I would ask: What do you think you have in hand, and how far do you think you can push it? </p>

<p>Once you would know your strategy&#39;s limits, you could scale back down a bit knowing where they were. Giving you some tactical leeway.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598cb0feed0a6b000df51818' id='598cb0feed0a6b000df51818'>
<a href='#598cb0feed0a6b000df51818'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b9b56c02cabe5dae000143'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e9388ae5102f3b152fa6225f955a29d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b9b56c02cabe5dae000143'>Alisa Deychman</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1502392574000' class='quanto-date posted-at response-posted-at' href='#598cb0feed0a6b000df51818'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There’s been a lot of great points raised in this thread. Let me take a step back from the transaction costs discussion and parameter optimization and talk about strategy construction as a whole.</p>

<p>First and foremost, it’s important to understand if you have found positive alpha. And the time horizon of your alpha signal. What is driving your return stream?</p>

<p>Typically, the process begins in the research environment, analyzing signals and exploring datasets. Once a custom model is constructed, you can run an <a href="https://www.quantopian.com/posts/alphalens-a-new-tool-for-analyzing-alpha-factors">Alphalens</a> analyzing your <a href="https://www.quantopian.com/lectures/factor-analysis">factor exposure</a> and time sensitivities.</p>

<p>Once you have an estimated positive alpha signal, migrate the strategy to the IDE and begin developing the algorithm, selecting the parameters (using optimization if needed in the research environment), and tuning the details. During the coding phase, run a <a href="https://www.quantopian.com/research/notebooks/Tutorials%20and%20Documentation/6.%20Tutorial%20-%20Analyzing%20Backtest%20Results.ipynb">pyfolio tearsheet</a>  to understand your risk exposures. How is your beta fluctuating over time? How steep and how long are your drawdowns? Are there specific months the algorithm did well/poorly, why? Is your leverage managed? Is the book dollar neutral throughout time? Are the position concentrations properly managed or were there any runaway positions? What is the average strategy turnover, is this per expectations? As a rule of thumb aim for: beta neutral (zero rolling and average exposure over time), dollar neutral (zero rolling and average exposure over time), max 1x leverage (to view the raw unleveraged returns), sector neutral (to reduce the common factor risk), low position concentration (~max 5%)  achieved via a large name diversified portfolio. We shared the common pitfalls in this <a href="https://www.quantopian.com/posts/getting-an-allocation-june-2017-update">forum post</a>.</p>

<p>The discussion in this thread has been focused around the contest and the contest submission rules, but I’d suggest the greater prize is an allocation from the portfolio. A winning contest entry has a $5,000 prize whereas a potential multimillion dollar allocation is a greater prize and runway. Dan dives into the details in this <a href="https://www.quantopian.com/posts/gaming-the-contest">thread</a>.</p>

<p>With this in mind, I’d restructure the conversation to think “How can I get an allocation from Quantopian”. Instead of aiming for greater beta exposure or sector exposure to win a contest prize, aim to reduce these common factors. This will increase your chances of getting noticed by Quantopian’s investment team. We are continuously working on improving the contest rules to give guidance to the community. And in this spirit, aim for minimal exposure to common factors: beta, dollar, fama-french, all while trading a liquid universe (the Q1500).</p>

<p>Hope that helps,<br>
Alisa</p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='598d02654542e40010f8579e' id='598d02654542e40010f8579e'>
<a href='#598d02654542e40010f8579e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58c438f09743b9000af3383e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/32398eaf6a03bb327e81e719befefe09?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58c438f09743b9000af3383e'>Axle Rod</a>
</div>
<a UTCms='1502413413000' class='quanto-date posted-at response-posted-at' href='#598d02654542e40010f8579e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is a great thread. I do believe Interactive Brokers provides a report where there is analysis of the arrival price I.e the price at which it receives the order and the price at which it filled, thus also outlining the impact cost. I don&#39;t recall the name of the report but I remember having seen it. Maybe this report is of more help</p>

<p>And Praveen, don&#39;t give up on the idea yet. Aiming for an allocation is the correct way to think, just as Guy and Alisa have suggested  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598ede5c260f5d00108f5ba3' id='598ede5c260f5d00108f5ba3'>
<a href='#598ede5c260f5d00108f5ba3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1502535260000' class='quanto-date posted-at response-posted-at' href='#598ede5c260f5d00108f5ba3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Alisa -</p>

<p>Regarding better alignment of the contest and the fund, I&#39;d suggest a separate community discussion on the topic.  If the idea is to have contest rank represent the probability of getting an allocation then reviewing how you expect to make allocation decisions in 6 months would be a starting point.  Then adjustments can be made to the contest accordingly.</p>

<p>But maybe the contest should be more flexible?  It could cover the risk that your model for fund-able algos is not ideal (e.g. maybe you are wrong in some assumptions about the fund construction, presumably based on what has worked in the past or what you perceive the market will be in the future).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5990579bcde89100100889de' id='5990579bcde89100100889de'>
<a href='#5990579bcde89100100889de'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1502631835000' class='quanto-date posted-at response-posted-at' href='#5990579bcde89100100889de'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>3.92 <a href="https://ibb.co/gFNjUv">Sharpe</a> with commissions and volume slippage.</p>

<p><img src="https://image-proxy.quantopian.com/cedc03586832cf3ecfef41a46dad0fea2228cf16/68747470733a2f2f6962622e636f2f67464e6a5576" /></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59905c9d3b153e000d01f965' id='59905c9d3b153e000d01f965'>
<a href='#59905c9d3b153e000d01f965'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59065fbb5afa7d0010371ea1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/08e3b9ac969cdd40340b6094e6ce2bd7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59065fbb5afa7d0010371ea1'>Viridian Hawk</a>
<span class='badge medal'></span>
</div>
<a UTCms='1502633117000' class='quanto-date posted-at response-posted-at' href='#59905c9d3b153e000d01f965'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Pravin, the image isn&#39;t loading for me...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59905e299a6edf00104a9655' id='59905e299a6edf00104a9655'>
<a href='#59905e299a6edf00104a9655'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1502633513000' class='quanto-date posted-at response-posted-at' href='#59905e299a6edf00104a9655'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><a href="https://ibb.co/gFNjUv">https://ibb.co/gFNjUv</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5990792bcde891000d088c14' id='5990792bcde891000d088c14'>
<a href='#5990792bcde891000d088c14'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1502640427000' class='quanto-date posted-at response-posted-at' href='#5990792bcde891000d088c14'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m just saying from a software development standpoint sharpe ratio is not gospel so long as returns and metrics are calculated in this way, notice the Sharpe below is also above 3 at 3.08. Alpha at 43 beats yours. Does that mean this strategy is nearly as good as yours? This is not even margin below, the risk is from shorting.</p>

<p>The only way to accurately relate strategy merit or compare versions, iterations is profit for the amount invested, not initial capital. If you change your backtest to start with $1000 and other values you can wind up with any Sharpe you want in this environment. However profit per dollar actually utilized will always be exactly the same.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59907cb5cde8910010088bc5' id='59907cb5cde8910010088bc5'>
<a href='#59907cb5cde8910010088bc5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1502641333000' class='quanto-date posted-at response-posted-at' href='#59907cb5cde8910010088bc5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Notice also in the backtest above, the leverage charted once per day, which is what your screenshot indicates, is zero. Because charting leverage, even if doing record(leverage = context.account.leverage) every minute of every day is still just a once per day snapshot (the last one it sees), that&#39;s how the chart works. So it doesn&#39;t tell others what the code is doing. For that, you can use code like <a href="https://www.quantopian.com/posts/max-intraday-leverage">https://www.quantopian.com/posts/max-intraday-leverage</a>. And to share what an algorithm is doing, it helps to know how much was invested. Initial capital in the chart is like telling mom and dad, yes I&#39;m going to clean my room, it is only an ideal, too often. What actually gets done is what matters, actually invested can be way over or way under for any returns one might like to see. And in the chart above I could change the dates to make it show good returns and say, hey everybody look no leverage, just hover over the chart and you&#39;ll see there&#39;s never any leverage so you should all send me zero dollars and riches! No. Return per dollar maximum (ever) is the only way an investor can know what matters. Sorry if I sound awfully zealous on this point, it&#39;s because I find it useful and would just like to see a wider awareness of it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59907fdb22291f001071b9ec' id='59907fdb22291f001071b9ec'>
<a href='#59907fdb22291f001071b9ec'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59065fbb5afa7d0010371ea1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/08e3b9ac969cdd40340b6094e6ce2bd7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59065fbb5afa7d0010371ea1'>Viridian Hawk</a>
<span class='badge medal'></span>
</div>
<a UTCms='1502642139000' class='quanto-date posted-at response-posted-at' href='#59907fdb22291f001071b9ec'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Blue my mind is blown.  I don&#39;t understand why the alpha and sharpe are positive.  But I do agree sharpe is a weird metric.</p>

<p>@Pravin, I would second the concern others have about how your returns graph starts flattening out in recent years.  As returns compound you&#39;d expect it to take off, not taper off.  So either you&#39;re hitting a capacity barrier or the alpha you&#39;ve discovered has already been arbitraged out of the marketplace.  Hopefully it&#39;s the former as that&#39;ll be easier to work around.  That&#39;s great thought that you have it working with default slippage enabled.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59909bd5fb4b41000f9e03af' id='59909bd5fb4b41000f9e03af'>
<a href='#59909bd5fb4b41000f9e03af'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1502649301000' class='quanto-date posted-at response-posted-at' href='#59909bd5fb4b41000f9e03af'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So anyway, negative returns and positive Sharpe. I think of Sharpe as consistency of upwardness and higher the more upward.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5990e82a45347200107b5fc5' id='5990e82a45347200107b5fc5'>
<a href='#5990e82a45347200107b5fc5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1502668842000' class='quanto-date posted-at response-posted-at' href='#5990e82a45347200107b5fc5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That is a bug in Quantopian. As per formula of Sharpe ratio, negative returns means negative Sharpe.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5996e77cd693e2000d5e1982' id='5996e77cd693e2000d5e1982'>
<a href='#5996e77cd693e2000d5e1982'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1503061884000' class='quanto-date posted-at response-posted-at' href='#5996e77cd693e2000d5e1982'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In case anyone is interested the intraday algorithm is an adaptation of this <a href="https://arxiv.org/pdf/1408.2217.pdf">paper</a>. Maybe we should all collaborate and make it a community algorithm in the contest. Proceeds will go the the betterment of the community :D</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a04d0ff99c3f0010962d48' id='59a04d0ff99c3f0010962d48'>
<a href='#59a04d0ff99c3f0010962d48'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1503677711000' class='quanto-date posted-at response-posted-at' href='#59a04d0ff99c3f0010962d48'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I cannot use Alphalens for this algorithm. If you notice I neutralize the betas and maximize the alphas. With Alphalens you can only make the portfolio dollar neutral (cannot neutralize the betas). If you trade fewer stocks (instead of 100+ positions) it won&#39;t fill 10 million dollars in the last 30 minutes.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a24e5e85db78a000d3a378b' id='5a24e5e85db78a000d3a378b'>
<a href='#5a24e5e85db78a000d3a378b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59c3fc9f3d6ccc000dbaca99'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/692d31f29cb43be3d7ec6e8ff0f44236?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59c3fc9f3d6ccc000dbaca99'>Chuck Reilly</a>
</div>
<a UTCms='1512367592000' class='quanto-date posted-at response-posted-at' href='#5a24e5e85db78a000d3a378b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Congrats Pravin for the algo! When changing the schedule for the rebalancing function to 15 minutes before the close (I lowered the portfolio size also to make sure there was enough volume), I get only about half of the performance. I find it odd because your model was fitted on close to close data so I was expecting to perform at least as well on this timeframe. Any idea why? Did you optimize the entry time?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a24e64a5db78a00193a36ad' id='5a24e64a5db78a00193a36ad'>
<a href='#5a24e64a5db78a00193a36ad'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59c3fc9f3d6ccc000dbaca99'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/692d31f29cb43be3d7ec6e8ff0f44236?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59c3fc9f3d6ccc000dbaca99'>Chuck Reilly</a>
</div>
<a UTCms='1512367690000' class='quanto-date posted-at response-posted-at' href='#5a24e64a5db78a00193a36ad'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>below the attached backtest with trading 15min before close instead of 1hr after open  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a24e67efd539e0010413090' id='5a24e67efd539e0010413090'>
<a href='#5a24e67efd539e0010413090'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1512367742000' class='quanto-date posted-at response-posted-at' href='#5a24e67efd539e0010413090'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Chuck - because positions are not closed in last 15 minutes. There is not enough volume.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a24e73dc764526ef562e316' id='5a24e73dc764526ef562e316'>
<a href='#5a24e73dc764526ef562e316'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59c3fc9f3d6ccc000dbaca99'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/692d31f29cb43be3d7ec6e8ff0f44236?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59c3fc9f3d6ccc000dbaca99'>Chuck Reilly</a>
</div>
<a UTCms='1512367933000' class='quanto-date posted-at response-posted-at' href='#5a24e73dc764526ef562e316'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I don&#39;t think that is the case, I reduced portfolio size to 1m for that reason, across 100 names, its about 10k per name, it&#39;s really not much.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a24e7b9fd539e0013412fd0' id='5a24e7b9fd539e0013412fd0'>
<a href='#5a24e7b9fd539e0013412fd0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1512368057000' class='quanto-date posted-at response-posted-at' href='#5a24e7b9fd539e0013412fd0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Well then I don&#39;t know why 15 minutes would make such a difference. I did not optimise the time.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a24e8f960d9010014d088bc' id='5a24e8f960d9010014d088bc'>
<a href='#5a24e8f960d9010014d088bc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59c3fc9f3d6ccc000dbaca99'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/692d31f29cb43be3d7ec6e8ff0f44236?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59c3fc9f3d6ccc000dbaca99'>Chuck Reilly</a>
</div>
<a UTCms='1512368377000' class='quanto-date posted-at response-posted-at' href='#5a24e8f960d9010014d088bc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok, it&#39;s not 15 minutes, because positions are held overnight, they are opened every day at 15:45 and closed the day after at 15:30, so that&#39;s a different time horizon. But at the same time your model was fitted on close to close data, and with higher move amplitude because of longer time horizon, I was expecting a better realization of the residuals.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a24e9a860d901000ed089a4' id='5a24e9a860d901000ed089a4'>
<a href='#5a24e9a860d901000ed089a4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1512368552000' class='quanto-date posted-at response-posted-at' href='#5a24e9a860d901000ed089a4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Well 2+ Sharpe is still not bad. With your time horizon, you could also take out the set_slippage and see how the Sharpe is affected by slippage.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a2526e65db78a000d3a3a6b' id='5a2526e65db78a000d3a3a6b'>
<a href='#5a2526e65db78a000d3a3a6b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1512384230000' class='quanto-date posted-at response-posted-at' href='#5a2526e65db78a000d3a3a6b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m curious how this looks in light of the new risk model and the contest rules that penalize 
<code>short_term_reversal</code>?  I gather that any pure short-term mean reversion algo won&#39;t make the cut.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a72e02ab384d51015342da9' id='5a72e02ab384d51015342da9'>
<a href='#5a72e02ab384d51015342da9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1517477930000' class='quanto-date posted-at response-posted-at' href='#5a72e02ab384d51015342da9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes, dollar neutral and beta neutral are two different things.  The former is relatively easy to achieve point-in-time, whereas the latter is more challenging (for beta, I&#39;m starting to wonder if a short-term minute-bar-based approach might yield better results than the Q baseline approach of computing beta with a 1-year trailing window).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a73d71d57afa14faf00beda' id='5a73d71d57afa14faf00beda'>
<a href='#5a73d71d57afa14faf00beda'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1517541149000' class='quanto-date posted-at response-posted-at' href='#5a73d71d57afa14faf00beda'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Grant. I was not talking about dollar and beta neutral. I was talking about hedging and beta neutral where beta is your exposure to systematic risk factors.</p>

<p>Basically I need to replace the constraint on exposure from:</p>

<p>cvx.abs(betas.T * W) &lt; 0.01 </p>

<p>to</p>

<p>cvx.abs(W - betas * (c * W)) &lt; 0.001)  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/intraday-algorithm-us-equities-4-dot-5-sharpe'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/intraday-algorithm-us-equities-4-dot-5-sharpe'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#c0a6a5a5a4a2a1a3ab80b1b5a1aeb4afb0a9a1aeeea3afad">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
