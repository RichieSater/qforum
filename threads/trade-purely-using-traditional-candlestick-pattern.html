<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Trade purely using traditional candlestick pattern
</title>
<meta content='I seldom see any algo that is trading purely using candle stick patterns (e.g. engulfing candle or whatever other signal such as evening star) ?  Anyone having such experience ?  is it working (for forex, stock, future..etc) ?' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="hEJPv+RY2BEIQDwRO+SLIyZAtZGmxhY/m4s0eUs0CZX4JDnyRq4K8rFdZSB0CyNXHs6W+NwKAyQZhO8T4XFrLg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/trade-purely-using-traditional-candlestick-pattern' property='og:url'>
<meta content='Trade purely using traditional candlestick pattern' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/trade-purely-using-traditional-candlestick-pattern' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Trade purely using traditional candlestick pattern' property='og:title'>
<meta content='I seldom see any algo that is trading purely using candle stick patterns (e.g. engulfing candle or whatever other signal such as evening star) ?  Anyone having such experience ?  is it working (for forex, stock, future..etc) ?' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/trade-purely-using-traditional-candlestick-pattern">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='59f049994d2b640009ae205b'>
<div class='post-container' data-post-id='59f049994d2b640009ae205b' id='59f049994d2b640009ae205b'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Trade purely using traditional candlestick pattern</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59381598c8d18c0010e9e58f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/551f0a43169039520885672f9418aa2f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59381598c8d18c0010e9e58f'>Tony Chang</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1508919705000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Trade purely using traditional candlestick pattern&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Ftrade-purely-using-traditional-candlestick-pattern%3Futm_source%3Dwebsite_share%26utm_campaign%3Dtrade-purely-using-traditional-candlestick-pattern%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Ftrade-purely-using-traditional-candlestick-pattern%3Futm_source%3Dwebsite_share%26utm_campaign%3Dtrade-purely-using-traditional-candlestick-pattern%26utm_medium%3Dlinkedin&amp;title=Trade+purely+using+traditional+candlestick+pattern+%28Tony+Chang%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/trade-purely-using-traditional-candlestick-pattern?utm_source=website_share&amp;utm_campaign=trade-purely-using-traditional-candlestick-pattern&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Tony Chang" />
<div class='body-text'>
<div class='body-text-container post-body'><p>I seldom see any algo that is trading purely using candle stick patterns (e.g. engulfing candle or whatever other signal such as evening star) ?  Anyone having such experience ?  is it working (for forex, stock, future..etc) ?  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>9 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='59f059634fc60f000991d58f' id='59f059634fc60f000991d58f'>
<a href='#59f059634fc60f000991d58f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1508923747000' class='quanto-date posted-at response-posted-at' href='#59f059634fc60f000991d58f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Tony,</p>

<p>i&#39;m sort-of new on Quantopian and not using candlesticks here (at least not at the moment), but I did play around a lot with candlesticks in my own personal trading. My conclusion was and still is that candlesticks are a fantastic visualization tool, and I always use them as the display format in charts when I&#39;m trading.  However the problem and shortcoming with candlesticks is that they are purely descriptive in nature, i.e. qualitative rather than quantitative. Maybe once-upon-a-time people could successfully trade on a purely qualitative basis, but I think those days are probably over, except for a small handful of exceptionally skilled discretionary traders.</p>

<p>My personal opinion, and I&#39;m sure most people here at Quantopian would share the same view (after all it is called QUANT-opian) is that success in modern trading requires a QUANT-itative approach, and the Quantopian platform has some fantastic tools for exactly that. So, IMHO, if you want to do well at trading, and you want to use a candlestick approach, then you will almost certainly have to introduce a strong numerical element as well, which goes far beyond the traditional candlestick approach.</p>

<p>You will probably also have to introduce a comprehensive nomenclature / classification system that is significantly different to the classical Japanese one. I have worked on it with the idea of taking it into an algorithm but, for reasons that you will understand if you try for yourself, in order to be adequately comprehensive for real trading, even the simplest system becomes almost unmanageable once you get to 3 or more bars! </p>

<p>If you have read all the standard candlestick type books and you want to read something good about trading WITHOUT using a numerical approach, then I would definitely suggest the 4 books by Al Brooks. He uses candlesticks, one moving average, and trend-lines for support &amp; resistance, and that&#39;s all. After reading &amp; understanding his books &amp; his method, I tried using it live day-trading the ES futures contract for several months at the end of last year, but just as an experiment, because actually I don&#39;t normally trade  futures much and I don&#39;t really like day-trading at all. (It&#39;s too exciting, and I don&#39;t want my trading to be for excitement). Yes, it worked, following the ideas in his books, but the hard part is getting to the point of really understanding what Brooks is on about.</p>

<p>Al Brooks books (all 4 of them) have very similar titles: &quot;... Price Action ... Bar-by-bar ... for the Serious Trader&quot;. At  first I found them difficult reading because of his particular writing style. In fact honestly, I found them to be four of the most dull, boring and tedious books that I have ever read and it was a big effort to keep going ...... UNTIL I started to get what Brooks is really on about, and then at that point my opinion changed completely. I re-read them all again and, on the second time around I found them fascinating, to the point of feeling like I couldn&#39;t put them down. And then after that, I read them AGAIN! Yes, seriously, I&#39;m not kidding!     </p>

<p>What I realized was that Al Brooks, after many years of trying all sorts of approaches, has devised a simple yet profound minimalist approach to his own discretionary trading. Is it possible to &quot;algorithmize&quot; what he does? I don&#39;t know. I have tried. It&#39;s not easy and I have not succeeded (yet). I have asked around among some very good traders, including the person who originally recommended Brooks books to me in the first place, to find out if they have or even if they know of anyone who has managed to &quot;algorithmize&quot; Brooks ideas, and the answer is &quot;no&quot;.  </p>

<p>However, if you are skilled at coding in python (and I&#39;m NOT) and you really want to try a qualitative candlesticks approach that incorporates Al Brooks&#39; ideas, then I&#39;m certainly up to working on it with you .... on the proviso that first you read all of Brooks 4 books carefully, cover-to-cover, at least once each ... if you can endure it ;-))</p>

<p>Cheers, very best wishes,<br>
TonyM.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59f09eec2621b600098aac6d' id='59f09eec2621b600098aac6d'>
<a href='#59f09eec2621b600098aac6d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59381598c8d18c0010e9e58f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/551f0a43169039520885672f9418aa2f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59381598c8d18c0010e9e58f'>Tony Chang</a>
</div>
<a UTCms='1508941548000' class='quanto-date posted-at response-posted-at' href='#59f09eec2621b600098aac6d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi TonyM, thank for your positive feedback.  I know a bit about python and now i am writing my own python code and use the IB API for conducting backtest (Quantopian does not support forex spot yet and also unable to change the trading hour because forex is trading almost 24 hour except New York time 17:00 - 17:15).  Since accessing forex market data at IB is free, i try to test by tracking engulfing pattern (e.g. one bullish bar and then immediately engulfing by a bearish bar and then I short).  However, the result is really disappointing.  i can not get an average positive return.  So i am a bit doubtful on candlestick pattern.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59f0afae38327200099aebb5' id='59f0afae38327200099aebb5'>
<a href='#59f0afae38327200099aebb5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1508945838000' class='quanto-date posted-at response-posted-at' href='#59f0afae38327200099aebb5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Tony C,</p>

<p>You write: &quot;... engulfing pattern (e.g. one bullish bar and then immediately engulfing by a bearish bar and then I short). However, the result is really disappointing&quot;. </p>

<p>Don&#39;t give up on it. If you want to use this pattern (and actually it&#39;s not a bad one to work with for looking at the end of up-trends and then going short at the tops), I think you need to do a whole lot more than just identify the existence of the pattern. Here are some potentially useful suggestions for you, based on my own research &amp; experience:</p>

<p>1) As this is only a small pattern (2 bars), you need to carefully consider the overall CONTEXT in which the pattern occurs.<br>
2) Do you have any other indicators that would tend to suggest that the uptrend is weakening BEFORE the pattern occurs?<br>
3) Is the open or the high of the 2nd bar (black) at an identifiable resistance level?<br>
4) How long, in proportion to the total range of the black bar, is its LOWER wick (or tail or shadow) between the low and the close?<br>
5) Is the low of the black bar at an identifiable support level?<br>
6) Where is the close of the 2nd (black) bar with respect to the low and/or the close of the first (white) bar?<br>
7) Use some sort of metric (measuring unit) such as the length of the black bar, and/or the ATR of the past N = ?? bars as the basis for comparison of all your measurements<br>
8) Take these factors, as well as any others that you think might be relevant (and there should be quite a lot), and then design a QUANTITATIVE scoring system for evaluating the &quot;Quality&quot; of all patterns of this type that you find.<br>
9) See if you can find any useful relationship(s) between the score (from item 8 above) and the &quot;success&quot; that could potentially have been obtained with a subsequent short immediately after the black bar.<br>
10) Can you find a &quot;threshold&quot; score such that any patterns that you see but which don&#39;t (at least) achieve that score should NOT be traded?</p>

<p>Good hunting, best wishes,<br>
Tony M.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59f15c5ddb00f5398fa2d219' id='59f15c5ddb00f5398fa2d219'>
<a href='#59f15c5ddb00f5398fa2d219'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1508990045000' class='quanto-date posted-at response-posted-at' href='#59f15c5ddb00f5398fa2d219'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Tony C,<br>
Well, as I expected, the general level of enthusiasm for this topic doesn&#39;t seem to be very high does it, with no-one else posting here (yet) except you &amp; me. Maybe a lot of people here at Quantopian consider anything with a thread title like &quot;... Purely Using Traditional Candlestick Patterns&quot; is something akin to Gann &amp; Voodoo ;-))</p>

<p>Actually its not a bad little problem . I worked on a few things like this years ago using Neural Networks. The problem with NN (at least the old ones that I was using) was their tendency to memorize rather than generalize, and I&#39;m sure that some of the modern ML (such as SVM) could do a much better job, although I don&#39;t have time to start getting into that right now. However the 10 point summary in the post above gives a framework for how to do it. </p>

<p>What I can do easily is write good working code in AFL to search for viable patterns and generate some initial statistics, so I did this last night for you (and for anyone else here who might be interested). I present it at the end of this post and if you use AmiBroker software then you can just copy &amp; run it. Unfortunately I am not good with python, but maybe you or someone else can translate it into python.</p>

<p>I ran it on my personal database of about five and a half thousand securities (futures, FX, US, Canadian, Australian and HongKong stocks) with data going back to 1980. What I found is that on the 5-point scale of strength that I used (see above and the code below) the average score is 2.9 for tops &amp; 2.6 for bottoms, and that on average a potentially viable engulfing pattern signal corresponding to a genuine turning point occurs between about 0.9 and 1.1 times per year (using EOD data bars), with similar frequencies for tops &amp; bottoms. I did this as a statistical data gathering exercise and did not do the additional work to take it forward to evaluate P&amp;L results that might be expected if this were implemented as an actual trading system.</p>

<p>What we can infer from this so far is that actually useful engulfing pattern signals are rather rare, typically only about one per year for each of tops &amp; bottoms for most securities. If you are trying to trade more than that, then I&#39;m not surprised that you aren&#39;t having very good results. The reason is that there just aren&#39;t all that many good signals, and if you are not trading GOOD signals, then its probably not a good idea, especially if you have only been looking at a small number of securities. What MIGHT work however is to apply the strategy to a large basket of securities, e.g. at the very least several hundred, and then you might just get enough good entry signals to make it viable. </p>

<p>Anyway, if you want to take it further, my code  (in AFL language) is below. If you (or anyone else) can translate it to python and then post back here, I would be delighted.<br>
Cheers, best wishes, TonyM.</p>

<p>AFL code follows:<br>
//------------------------------------------------------
//
//  EngulfingPattern_TopsBots
//  TonyM.  Created 26 Oct 2017, Updated 26 Oct 2017
//
//------------------------------------------------------
//
//  Basic setup
SetChartOptions(Mode= 0, Flags= chartShowDates);<br>
SetBarsRequired(-2, -2);                                // Require ALL past and future bars -- this turns OFF AmiBro&#39;s quickAFL for script/DLL to properly execute (AmiBro v5.20 +) and to ensure correct display.<br>
//
i = BarIndex();                                         // zero-based bar indexing.<br>
imax = BarCount-1;                                      // imax = LastValue(BarIndex());<br>
//
Oprev = Ref(O,-1);<br>
Hprev = Ref(H,-1);<br>
Lprev = Ref(L,-1);<br>
Cprev = Ref(C,-1);<br>
M = (H+L)/2;<br>
P4 = (O+H+L+C)/4;<br>
MA5 = MA(P4, 5);<br>
MA10 = MA(P4, 10);<br>
MA21 = MA(P4, 21);<br>
MA5prev = Ref(MA5, -1);<br>
MA10prev = Ref(MA10, -1);<br>
MA21prev = Ref(MA21, -1);<br>
//
//  Candlesticks
BodyTop = Max(O, C);<br>
BodyBot = Min(O, C);<br>
Body = BodyTop - BodyBot;<br>
UpperTail = H - BodyTop;<br>
LowerTail = BodyBot - L;</p>

<p>//  Pre-existing Trend direction
TrendDir = sign(sign(MA5-MA5prev) + sign(MA10-MA10prev) + sign(MA21-MA21prev));<br>
//
//  Min 5-bars prior to potential Top / Bot
Top5bars = IIf(H&gt;= Ref(HHV(H, 5), -1), 1, 0);<br>
Bot5bars = IIf(L&lt;= Ref(LLV(L, 5), -1), -1, 0);<br>
TopBot5bars = Top5bars + Bot5bars;<br>
//
//  Engulfing Pattern Exists
EngulfingTop = IIf(H&gt; Hprev AND L&lt; Lprev AND Cprev&gt; Oprev AND C&lt; O, 1, 0);<br>
EngulfingBot = IIf(H&gt; Hprev AND L&lt; Lprev AND Cprev&lt; Oprev AND C&gt; O, -1, 0);<br>
EngulfingPattern = EngulfingTop + EngulfingBot;<br>
//
//  Valid signals for Engulfing Top / Bot
iEngulfTop = IIf(TrendDir== 1 AND TopBot5bars== 1 AND EngulfingTop== 1, 1, 0);<br>
iEngulfBot = IIf(TrendDir== -1 AND TopBot5bars== -1 AND EngulfingBot== -1, -1, 0);<br>
iEngulf = iEngulfTop + iEngulfBot;<br>
//
//  Pattern Test score
iTestScore[0] = 0;<br>
iCountEngulfTops[0] = 0;<br>
iCountEngulfBots[0] = 0;<br>
TestScoreSumTops[0] = 0;<br>
TestScoreSumBots[0] = 0;<br>
AvTestScoreTops[0] = 0;<br>
AvTestScoreBots[0] = 0;<br>
Nyears[0] = 0;<br>
for (i=1; i 0)<br>
            AvTestScoreTops[i] = TestScoreSumTops[i] / iCountEngulfTops[i];<br>
    }<br>
    //<br>
    if (iEngulf[i]== -1) // Bullish Engulfing Bot<br>
    {<br>
        iCountEngulfBots[i] = iCountEngulfBots[i-1] + 1;<br>
        if (C[i]&gt; C[i-1])<br>
            iTestScore[i] = iTestScore[i]- 1;<br>
        if (C[i]&gt; H[i-1])<br>
            iTestScore[i] = iTestScore[i]- 1;<br>
        if (C[i]&gt; M[i])<br>
            iTestScore[i] = iTestScore[i]- 1;<br>
        if (UpperTail[i]&lt; LowerTail[i]) //  want small upper tail<br>
            iTestScore[i] = iTestScore[i]- 1;<br>
        if (UpperTail[i]&lt; Body[i])<br>
            iTestScore[i] = iTestScore[i]- 1;<br>
        TestScoreSumBots[i] = TestScoreSumBots[i] - iTestScore[i];<br>
        if (iCountEngulfBots[i]&gt; 0)<br>
            AvTestScoreBots[i] = -TestScoreSumBots[i] / iCountEngulfBots[i];<br>
    }<br>
    //  Cumulative average stats<br>
    AvEngulfingTopsPerYr[i] = iCountEngulfTops[i]/ Nyears[i];<br>
    AvEngulfingBotsPerYr[i] = -iCountEngulfBots[i]/ Nyears[i];<br>
}
//
//------------------------------------------------------
//
Plot (0, &quot;&quot;, colorBlack, styleThick);<br>
Plot (TrendDir, &quot;TrendDir&quot;, colorTeal);<br>
//Plot (TopBot5bars, &quot;TopBot5bars&quot;, colorRed);
//Plot (EngulfingPattern, &quot;EngulfingPattern&quot;, colorBlue);
Plot (iEngulf, &quot;iEngulf&quot;, colorBlack, styleThick);<br>
Plot (iTestScore, &quot;iTestScore&quot;, colorRed);<br>
//Plot (iCountEngulfTops, &quot;iCountEngulfTops&quot;, colorBrown);
//Plot (iCountEngulfBots, &quot;iCountEngulfBots (dashed)&quot;, colorBrown, styleDashed);
Plot (AvEngulfingTopsPerYr, &quot;AvEngulfingTopsPerYr&quot;, colorBlue);<br>
Plot (AvEngulfingBotsPerYr, &quot;AvEngulfingBotsPerYr (dashed)&quot;, colorBlue, styleDashed);<br>
Plot (AvTestScoreTops, &quot;AvTestScoreTops&quot;, colorBrown);<br>
Plot (AvTestScoreBots, &quot;AvTestScoreBots (dashed)&quot;, colorBrown, styleDashed);<br>
//
//------------------------------------------------------
//
Filter = (1== 1);<br>
AddColumn(AvEngulfingTopsPerYr, &quot;AvEngulfingTops/Yr&quot;, 1.2);<br>
AddColumn(AvEngulfingBotsPerYr, &quot;AvEngulfingBots/Yr&quot;, 1.2);<br>
AddColumn(AvTestScoreTops, &quot;AvTestScoreTops/5&quot;, 1.2);<br>
AddColumn(AvTestScoreBots, &quot;AvTestScoreBots/5&quot;, 1.2);  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59f563730e76c900092678ce' id='59f563730e76c900092678ce'>
<a href='#59f563730e76c900092678ce'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59381598c8d18c0010e9e58f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/551f0a43169039520885672f9418aa2f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59381598c8d18c0010e9e58f'>Tony Chang</a>
</div>
<a UTCms='1509254003000' class='quanto-date posted-at response-posted-at' href='#59f563730e76c900092678ce'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Tony Morland,<br>
Thank for your detailed response.<br>
My engulfing algorithm is already running in certain score system.  For example, for engulfing bullish pattern, i am based on the following score (i just show some examples below).  i use forex GBPUSD below.<br>
- if the 1-hour bearish pattern close is the loweset in the last 12-hour, add 1-score.<br>
- if the current bullish bar is touching the previous bearish open for conesecutive 20 minutes and if sma(five 1-minute bar) &gt; sma(ten 1-minute bar) &gt; sma(fifteen 1-minute bar) &gt; sma(twenty 1-minute bar), add 1-score (because it seems the bullish impulse is pretty good, i guess)<br>
- if the current bulish bar is touching the previous bearish open for conesecutive 20 minutes and during the process it does not touch the bottom of the previous bearish bar, add 1-score.  Also, set stop as previous bearish bar bottom and then gain as (currentprice - stop) * 1.5<br>
- calculate the &quot;candlebodylength&quot; as abs(open - close) / (high - low).  if the bearish bar candlebodylength is higher than candlebodylength.mean(last tweleve 1-hour bar), add 1-score.<br>
i have 4 attributes above, and so i set &quot;create position&quot; if the score &gt;= 3<br>
something similar ...<br>
My pain point is : the algorithm (if i run .. say 2016 with positive gain..the same did not work for 2015 .. or 2014..i am afarid that i am now falling into the so-called data overfitting).  That is, pure engulfing pattern is statisitially not possible for getting a positive expected gain.<br>
And I believe that is also why at Quantopian i seldom see people talking pure candlestick trading pattern.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59f57e8cd3d25400068101fe' id='59f57e8cd3d25400068101fe'>
<a href='#59f57e8cd3d25400068101fe'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1509260940000' class='quanto-date posted-at response-posted-at' href='#59f57e8cd3d25400068101fe'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Tony C,<br>
I didn&#39;t know what instruments you were watching or what timeframe you were trading on, so I used EOD bars on everything that I have in my own database. I think it is at least a reasonable assumption that the results I had should more-or-less be similar on a bar-by-bar basis, irrespective of the different timescales, so when I wrote &quot;1 year&quot; you can interpret that as 252 bars on your own timescale.   If we assume that FX trades 23.75 hrs/d and your bar-size = 1 min, then that&#39;s 1,425 bars/d,  which equates to 1425/252 =  5.65 years  in my experiment, and my observed average of 0.9 to 1.1 genuine Engulfing signals / yr for EOD equates to an estimated 5 or 6 raw signals per day on your timescale BEFORE applying any scoring threshold. </p>

<p>Your scoring system is different to the one I used, but let&#39;s just compare. You require 3 out of 4 points for a &quot;pass&quot; on your system, and I required anything higher than the average score (which came out to be 2.9 out of 5 for tops &amp; 2.6 out of 5 for bottoms) for a &quot;pass&quot; on my system. I didn&#39;t do any histogram of score frequency, but if we assume the scores are approx evenly distributed between minimum=1 &amp; maximum =5, then that would imply about 2.75av / (5-1)range =  about 0.64 times the 5-6 raw signals per day, or at most about 3 or 4 valid trade entries/day or a maximum of about 750 to 1,000 trades/year. Is that at least somewhere close to what you actually get? </p>

<p>When I looked at this with my EOD data, my first thought was that there probably would not be enough signals or trades to do anything that is statistically meaningful at all. However, even though I know I have made some rather rough assumptions in extrapolating from my experiment  (lots of different markets, long time-scale) to your situation (one instrument, short time-scale), I would nevertheless expect at least some similarity in the results on a per-bar basis. If you are getting more that 750 trade entry signals / year, then that is certainly enough to make meaningful conclusions and hopefully avoid over-fitting.  I&#39;m not sure, but maybe your conclusion that: &quot;... <em>pure engulfing pattern is statisitially not possible for getting a positive expected gain</em>&quot; is not necessarily correct, and the reason that you: &quot;<em>... seldom see people talking pure candlestick trading pattern</em>&quot; at Quantopian might just be because they don&#39;t believe in candlestick patterns, and haven&#39;t even looked at them. Don&#39;t give up on it yet!</p>

<p>May I suggest a little more investigation.<br>
I will describe it, but you will have to do it because I don&#39;t have the data in my own database, and I don&#39;t yet have the skill in python to write it in Quantopian. However, if you are willing to try it, here is what I suggest:</p>

<p>1) Take your entry scoring system rules and convert them all to equivalent 1-minute bar rules, so that you can think carefully about what you are doing on a bar-by-bar basis rather than a time basis. Forget about the stop for now and let&#39;s just compare how many potential trade ENTRIES each of our scoring system gives.<br>
2) Now take my entry scoring rules (which are all on a bar-by-bar basis) and convert them to python in your system using 1-minute bars.<br>
3) Check if your entry scoring system gives you something close to the same number of entries as mine does, and are they in the same places?<br>
4) If not, then let&#39;s figure out why.<br>
5) Maybe by combining your entry scoring system &amp; mine, we might even come up with a revised set of rules that are better than either.</p>

<p>I don&#39;t personally watch the GBPUSD and haven&#39;t traded FX for a few years, but here are some questions to think about:</p>

<ul>
<li>Do you think it is possible that there may be any political, macro-economic or other factors that may have significantly altered the behavior of GBPUSD in 2016 so that it really might be behaving now in a way that is different from 2014 &amp; 2015?  I don&#39;t know, but I just pulled up a ten-year chart and the very first thing I see is that from late 2008 all the way through to mid June 2016, GBPUSD was consistently constrained within the range 1.400 to 1.700 but the on 23 Jun 2006 something significant happened, GBPUSD took a big drop and since then has never again traded above its former support level of 1.400</li>
</ul>

<p>Without doing any analysis or testing at all, just from a visual inspection of the chart, the general &quot;character&quot; of GBPUSD looks subtly different to me before and after the low in mid-April 2014. </p>

<p>I would suggest not doing any sort of parameter optimization in your system. Leave it as it is. Maybe the &quot;problem&quot; is not your system per se, but rather that there could actually be a real change in the character of GBPUSD itself (for reasons that I don&#39;t know and haven&#39;t thought about). </p>

<p>Maybe you could try generating four different sets of results:<br>
1) for the period from start 2009 up to mid 2014,<br>
2) for the period from mid 2004 to 1st June 2016,<br>
3) 1st June 2016 to 1st July 2016,<br>
4) 1st July 2016 to now.<br>
Then compare and see what you find, and lets go from there.</p>

<p>Also, can you put a tag on this thread that says &quot;FX&quot; and see if we can attract some attention from other people who trade any pairs with GBP.</p>

<p>All the best, TonyM.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59fbe2278b1ea5597c06197a' id='59fbe2278b1ea5597c06197a'>
<a href='#59fbe2278b1ea5597c06197a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59065fbb5afa7d0010371ea1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/08e3b9ac969cdd40340b6094e6ce2bd7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59065fbb5afa7d0010371ea1'>Viridian Hawk</a>
<span class='badge medal'></span>
</div>
<a UTCms='1509679655000' class='quanto-date posted-at response-posted-at' href='#59fbe2278b1ea5597c06197a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey, I didn&#39;t read the whole thread, but in case it wasn&#39;t pointed out, you don&#39;t need to reinvestment the wheel. Talib already had all the classic candlestick pattern detection, same as is used in lots of charting software.<br>
I didn&#39;t find any consistency using them with equities- - underperformed benchmark. But that&#39;s the great thing about th e algo approach. Instead of relying on superstition, you can run analysis, figure out what is statically a did and what works. As pointed out, my hunch is that combined with other signals they can be useful.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59fdc4bb5e6fe80c26290099' id='59fdc4bb5e6fe80c26290099'>
<a href='#59fdc4bb5e6fe80c26290099'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1509803195000' class='quanto-date posted-at response-posted-at' href='#59fdc4bb5e6fe80c26290099'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Viridian, i didn&#39;t look at TAlib, and i&#39;m not surprised to read that you &quot;didn&#39;t find any consistency using them&quot;.  I spent many many hundreds of hours on this years ago, doing careful statistics but without the benefit of such a nice platform as Quantopian. My conclusion was very much in line with your ending comment that  &quot;Combined with other signals they can be useful&quot;. The candle patterns themselves are only a very small part of the whole picture, and what is critical is the specific context in which they occur. The difficulty lies in defining this &quot;context&quot; in a way that is both concise enough and also sufficiently broad to be useful.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a0323490247c70009b875e4' id='5a0323490247c70009b875e4'>
<a href='#5a0323490247c70009b875e4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59381598c8d18c0010e9e58f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/551f0a43169039520885672f9418aa2f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59381598c8d18c0010e9e58f'>Tony Chang</a>
</div>
<a UTCms='1510155081000' class='quanto-date posted-at response-posted-at' href='#5a0323490247c70009b875e4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Tony Morland, I am back now (i was busy in the last few weeks).  I do really feel your heart and sincerity from you.  Take a look at this <a href="https://drive.google.com/open?id=17conAgNqH3X_aYm7Cd5oZzCEPm0BCa93">link</a>.  I basically use GBPUSD (forex) and run backtest from 2011 to 2017.</p>

<p>Basically i try to capture engulfing pattern and the following four attributes need at least a &quot;score&quot; of 3 or above.  If i see four &quot;1&quot;, i double my bet.  The python code is also there (very dirty).  If you or anyone were interested further, let me know.  I will be glad to elaborate further.<br>
.<br>
{&#39;nottouch&#39;: 1, &#39;candlebody&#39;: 1, &#39;lookbackmaxmin&#39;: 0, &#39;part2sma&#39;: 1}</p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/trade-purely-using-traditional-candlestick-pattern'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/trade-purely-using-traditional-candlestick-pattern'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#a5c3c0c0c1c7c4c6cee5d4d0c4cbd1cad5ccc4cb8bc6cac8">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
