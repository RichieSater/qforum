<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
PsychSignal &amp; Basic Machine Learning Models V2 | UPDATE: Ordering Issue Solved | Added Notebook That Explains Reasoning
</title>
<meta content='UPDATE: The post regarding the update to this algorithm that allows it to be used with robinhood instant is down below. Labeled: Works With Robinhood Instant I will be following up with updated (usable) versions of the hedged set up as well.  It should be noted that it seems that the number of posts increased a lot in 2015, I am only testing from 2015 onward as the conditions before this time are not favorable - especially before 2014 when 2-3 results is a common maximum number of results for...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="vCy2orNl/3wNW2eq7zhZXXjodUSo1oX6m3TVTx1+kqvASsDvEZMtn7RGPpug1/EpQGZWLdIakOEZew4ltzvwEA==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=true;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/psychsignal-and-basic-machine-learning-models-v2-update-ordering-issue-solved-added-notebook-that-explains-reasoning' property='og:url'>
<meta content='PsychSignal &amp; Basic Machine Learning Models V2 | UPDATE: Ordering Issue Solved | Added Notebook That Explains Reasoning' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/psychsignal-and-basic-machine-learning-models-v2-update-ordering-issue-solved-added-notebook-that-explains-reasoning' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='PsychSignal &amp; Basic Machine Learning Models V2 | UPDATE: Ordering Issue Solved | Added Notebook That Explains Reasoning' property='og:title'>
<meta content='UPDATE: The post regarding the update to this algorithm that allows it to be used with robinhood instant is down below. Labeled: Works With Robinhood Instant I will be following up with updated (usable) versions of the hedged set up as well.  It should be noted that it seems that the number of posts increased a lot in 2015, I am only testing from 2015 onward as the conditions before this time are not favorable - especially before 2014 when 2-3 results is a common maximum number of results for...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/psychsignal-and-basic-machine-learning-models-v2-update-ordering-issue-solved-added-notebook-that-explains-reasoning">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='595ec5d6a3f05100106e481f'>
<div class='post-container' data-post-id='595ec5d6a3f05100106e481f' id='595ec5d6a3f05100106e481f'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>PsychSignal &amp; Basic Machine Learning Models V2 | UPDATE: Ordering Issue Solved | Added Notebook That Explains Reasoning</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1508199504000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=PsychSignal &amp; Basic Machine Learning Models V2 | UPDATE: Ordering Issue Solved | Added Notebook That Explains Reasoning&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fpsychsignal-and-basic-machine-learning-models-v2-update-ordering-issue-solved-added-notebook-that-explains-reasoning%3Futm_source%3Dwebsite_share%26utm_campaign%3Dpsychsignal-and-machine-learning-models-v2%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fpsychsignal-and-basic-machine-learning-models-v2-update-ordering-issue-solved-added-notebook-that-explains-reasoning%3Futm_source%3Dwebsite_share%26utm_campaign%3Dpsychsignal-and-machine-learning-models-v2%26utm_medium%3Dlinkedin&amp;title=PsychSignal+%26+Basic+Machine+Learning+Models+V2+%7C+UPDATE%3A+Ordering+Issue+Solved+%7C+Added+Notebook+That+Explains+Reasoning+%28jacob+shrum%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Machine Learning' data-tag-id='55c50e7d8d4710ec6e00000b' href='/posts/tag/Machine-Learning/newest'>Machine Learning</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/psychsignal-and-basic-machine-learning-models-v2-update-ordering-issue-solved-added-notebook-that-explains-reasoning?utm_source=website_share&amp;utm_campaign=psychsignal-and-machine-learning-models-v2&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="jacob shrum" />
<div class='body-text'>
<div class='body-text-container post-body'><p><strong>UPDATE:</strong><br>
<strong>The post regarding the update to this algorithm that allows it to be used with robinhood instant is down below. Labeled: Works With Robinhood Instant</strong><br>
I will be following up with updated (usable) versions of the hedged set up as well. </p>

<p>It should be noted that it seems that the number of posts increased a lot in 2015, I am only testing from 2015 onward as the conditions before this time are not favorable - especially before 2014 when 2-3 results is a common maximum number of results for weeks at a time.</p>

<p><strong>ORIGINAL POST:</strong><br>
Trades stocks on the Q500 using the PsychSignal bullish tweet count with a 0.35 weight on bullish posts VS bearish posts. (based on the idea that about 65% of all human thought is irrational (One of the few thing I remember from Psych class). It&#39;s quite fitting that throwing out 60-65% of the data suddenly makes this a much more accurate filtering system). <strong>this is leveraged @ 150%</strong>  </p>

<p>There is probably some useless stuff in this algorithm (code that does nothing). This is a WIP. Currently falls victim to the sudden &quot;Hype Train&quot; where a stock that is clearly failing suddenly receives a ludicrous amount of hype... all of which is pure BS. Easiest way to avoid this would be a second ML model that looks back further in history for specific stocks (stock that don&#39;t pass a SMA filter for example). Increasing the prediction value required also works but opens one to the dangers of over fitting: I am only increasing the prediction value required to pass by .5 at a time.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>102 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='59602a8c8df3670010bf9d4a' id='59602a8c8df3670010bf9d4a'>
<a href='#59602a8c8df3670010bf9d4a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1499474572000' class='quanto-date posted-at response-posted-at' href='#59602a8c8df3670010bf9d4a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>SMA filter added  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5960337d3d100a0010d131c5' id='5960337d3d100a0010d131c5'>
<a href='#5960337d3d100a0010d131c5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1499476861000' class='quanto-date posted-at response-posted-at' href='#5960337d3d100a0010d131c5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>Leverage = 1.0</strong>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5960471e63700e0010a6c486' id='5960471e63700e0010a6c486'>
<a href='#5960471e63700e0010a6c486'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1499481886000' class='quanto-date posted-at response-posted-at' href='#5960471e63700e0010a6c486'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Notebook for the algorithm above.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596047e83adab70010b8023b' id='596047e83adab70010b8023b'>
<a href='#596047e83adab70010b8023b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1499482088000' class='quanto-date posted-at response-posted-at' href='#596047e83adab70010b8023b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Short and Long.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59604875403f8c000d53da18' id='59604875403f8c000d53da18'>
<a href='#59604875403f8c000d53da18'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1499482229000' class='quanto-date posted-at response-posted-at' href='#59604875403f8c000d53da18'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>SHOULD</strong> always be hedged  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596085203d100a0010d1347f' id='596085203d100a0010d1347f'>
<a href='#596085203d100a0010d1347f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1499497760000' class='quanto-date posted-at response-posted-at' href='#596085203d100a0010d1347f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Took a look at the one marked Leverage = 1.0.  Good efforts. This is just to encourage attention to detail ...<br>
Max Margin:  -16919  _ Max Lvrg:  1.69  2016-03-09 _ An intraday spike.<br>
In the custom chart you can click legend items to toggle everything off except leverage and that date looks like a flat line at 1. Then you can move sliders to zoom in on that date, it eliminates smoothing, and there is no visible spike. The code is recording leverage each morning, so that margin at 169% of the initial capital was not carried overnight, no charge from the broker, I hear, for intraday borrowing.<br>
Ok, no shorting in this version of the algo, so the leverage spike means what happened is that there was an attempt to sell some longs that were partial fills while simultaneous buying of longs were succeeding. Negative cash. The orders were all completed by end-of-day, no warnings about unfilled orders at the end of the day and here there isn&#39;t a scheduled task that would quash such warnings.<br>
Thus none of this is a problem unless you encounter unexpected market conditions and that never happens--I mean, which are guaranteed. So you could wind up incurring surprise margin costs and not be real happy about it. Therefore you can protect yourself from it if you wish.<br>
There&#39;s at least one other instance of margin like that, 1.51 on 2015-01-09.</p>

<p>To protect against unwanted overnight margin and the associated costs, I haven&#39;t put a lot of thought into this so someone else might want to cover it very well or have a better bad idea (from the movie Argo not to be confused with the movie Algo about us, which hasn&#39;t been made yet). Just on the fly, consider:<br>
Schedule a check maybe an hour before market close for open orders.<br>
If there aren&#39;t any, all done.<br>
If there are open orders, calculate from the order objects using filled and amount values and current prices how badly unfilled orders could result in end-of-day margin, worst case scenario, given current cash.<br>
If there are any worries, cancel orders, sell any longs necessary to compensate. Keep in mind that this new attempt to sell longs might also be partial.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59608b3587d5790010a0cceb' id='59608b3587d5790010a0cceb'>
<a href='#59608b3587d5790010a0cceb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1499499317000' class='quanto-date posted-at response-posted-at' href='#59608b3587d5790010a0cceb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>If you&#39;d like to see those partial orders, use <a href="https://www.quantopian.com/posts/track-orders">track_orders</a>. It&#39;ll light up with negative cash whenever those happen.<br>
Having just done that, I can see now it is very few minutes involved at this level of initial capital and orders so schedule position closing first and wait a few, that always helps.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5963e737544c76000d42eb47' id='5963e737544c76000d42eb47'>
<a href='#5963e737544c76000d42eb47'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1499719479000' class='quanto-date posted-at response-posted-at' href='#5963e737544c76000d42eb47'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for bringing this up! Great catch. I have needed to track open orders in the past but its been a while. I&#39;ll add that in when I have time.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5965893c9274a8000de73fe9' id='5965893c9274a8000de73fe9'>
<a href='#5965893c9274a8000de73fe9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5518defda09c5d669c000218'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/bc7ba722c52364a40b6d5181ab283a8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5518defda09c5d669c000218'>James W</a>
</div>
<a UTCms='1499826492000' class='quanto-date posted-at response-posted-at' href='#5965893c9274a8000de73fe9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob, would you shed some light on what the random forest model is doing and what its inputs are?  I was assuming that it would be taking sentiment as an input, but it looks like it is just using 3 days of price and volume.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596d3e31e311b4000d857efb' id='596d3e31e311b4000d857efb'>
<a href='#596d3e31e311b4000d857efb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1500331569000' class='quanto-date posted-at response-posted-at' href='#596d3e31e311b4000d857efb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>Works With Robinhood Instant</strong></p>

<p>Added 2 more scheduled functions for opening and closing positions.<br>
Added minutely monitoring of leverage - Max and Min leverage is recorded now.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596d83ff5a81dc30e6882691' id='596d83ff5a81dc30e6882691'>
<a href='#596d83ff5a81dc30e6882691'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1500349439000' class='quanto-date posted-at response-posted-at' href='#596d83ff5a81dc30e6882691'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can grab price and volume in one history call if you want to, then access them like this:</p>

<pre><code>        z = data.history(sec, [&#39;price&#39;, &#39;volume&#39;], context.history_range, &#39;1d&#39;)  
        price_changes, volume_changes = np.diff(z[&#39;price&#39;]).tolist(), np.diff(z[&#39;volume&#39;]).tolist()  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596db5fcb80617000dfcf33b' id='596db5fcb80617000dfcf33b'>
<a href='#596db5fcb80617000dfcf33b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f1fe573df0166ec00001ed'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f7a981fa19c77ab0979fdbad32fbaf0f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f1fe573df0166ec00001ed'>Delman Woodrum</a>
</div>
<a UTCms='1500362236000' class='quanto-date posted-at response-posted-at' href='#596db5fcb80617000dfcf33b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Has the buy/sell logic been reworked to avoid going over the defined leverage?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596eae271d35340010cf2fbf' id='596eae271d35340010cf2fbf'>
<a href='#596eae271d35340010cf2fbf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1500425767000' class='quanto-date posted-at response-posted-at' href='#596eae271d35340010cf2fbf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@blue, correct, Im dyslexic and sometimes (particularly at night) everything needs to be on a new line as much as possible. I&#39;m just starting my junior year in college (stats and computational math) and, for the most part, everything I know is self taught. I&#39;m sure I will find much neater notation as time goes on. I will admit, as of right now, this algorithm is in &quot;hobby project&quot; notation (it&#39;s a mess).<br>
Thanks for the tip - J</p>

<p>@Delman: @ one point in the history (I believe) the algorithm over leverages by 1%. The algorithm does not check for open orders... it just assumes that 5 minutes is a long enough time to sell off all positions that are meant to be sold - which is generally true</p>

<p><strong>ALWAYS HEDGED</strong> I generally do not agree with the idea of ALWAYS hedging. It simply doesn&#39;t agree with my philosophy  and it certainly isn&#39;t logical to hedge at all times (in a very bullish market for example). That said, when you are dealing with millions of OPM that may drive one to think irrationally about their exposure to risk. At any rate, here it is, alot of people have viewed this thread and will see it in the future so for all the new people: *<em>don&#39;t take this and enter into the contest: it won&#39;t win, it&#39;s dishonest, and you will be wasting quantopians money as they use up server space to evaluate an algorithm that might be able to finish in the top 30% *</em>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596fa148576e4626ad14b860' id='596fa148576e4626ad14b860'>
<a href='#596fa148576e4626ad14b860'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5674b7bd1869e73f4a000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e411d64f7a123f5c2102614fafa48b58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5674b7bd1869e73f4a000334'>Luke Izlar</a>
</div>
<a UTCms='1500488008000' class='quanto-date posted-at response-posted-at' href='#596fa148576e4626ad14b860'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for this, I will say I look at algorithms all day on Quantopian and it is so rare that I see one worth cloning. This algorithm has potential, it&#39;s probably only one of a handful that I would consider worth putting time into. I will attempt to trade this live if it still has good risk/returns after I add intelligent ordering logic, position sizing, and stop loss and check for overfitting  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596fa8f6240792000d656958' id='596fa8f6240792000d656958'>
<a href='#596fa8f6240792000d656958'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58cc148825e3567ced79f632'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/27339e1906712a652a6ba80ae33d8cea?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58cc148825e3567ced79f632'>Bob Katz</a>
</div>
<a UTCms='1500489974000' class='quanto-date posted-at response-posted-at' href='#596fa8f6240792000d656958'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How does this work during crashes (flash and otherwise) or bear markets (2008/09)?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5970076d197e68001091695d' id='5970076d197e68001091695d'>
<a href='#5970076d197e68001091695d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1500514157000' class='quanto-date posted-at response-posted-at' href='#5970076d197e68001091695d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>LONG ONLY WITH SMA FILTER MADE TRADEABLE</strong><br>
Increased the min prediction value to 1.5<br>
Sacrificed returns for a lower max draw down and lower beta.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59700bea0f04cf00103c4105' id='59700bea0f04cf00103c4105'>
<a href='#59700bea0f04cf00103c4105'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58cc148825e3567ced79f632'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/27339e1906712a652a6ba80ae33d8cea?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58cc148825e3567ced79f632'>Bob Katz</a>
</div>
<a UTCms='1500515306000' class='quanto-date posted-at response-posted-at' href='#59700bea0f04cf00103c4105'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I agree with you that we will know in the next 2 years (and probably sooner, my guess) how much the current market is overextended, given the underlying fundamentals.</p>

<p>Since I&#39;m new to Quantopia, is there any way to add exogenous variables to the trading algorithms?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5970205d32485a0010d3fb34' id='5970205d32485a0010d3fb34'>
<a href='#5970205d32485a0010d3fb34'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58c591dd382a50000d145d85'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2779f5d29c0b93b9e7b36893895e49b2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58c591dd382a50000d145d85'>Jay Maloney</a>
</div>
<a UTCms='1500520541000' class='quanto-date posted-at response-posted-at' href='#5970205d32485a0010d3fb34'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jacob - does your algo utilize RB margin?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5970243432485a000dd3fb6f' id='5970243432485a000dd3fb6f'>
<a href='#5970243432485a000dd3fb6f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1500521524000' class='quanto-date posted-at response-posted-at' href='#5970243432485a000dd3fb6f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Bob Katz Exogenous variables are something that should be covered in an entirely separate  forum thread. My only advice is to come up with an idea and just do it. <strong>I doubt many people will know what causally independent variables are at all.</strong></p>

<p>I&#39;m working on setting up an algorithm that applies the &quot;laws&quot; of wave mechanics to stocks over a specified window and trades based on the &quot;behavior of the wave&quot;.<br>
Do i understand wave mechanics? More than most - then again that&#39;s not too hard to achieve.<br>
Only recently have i gotten a meaningful output. When I started this project I knew pretty much nothing and got more errors and useless out put than I&#39;d like to admit, but I kept at it.</p>

<p>Generally, when you have an inquiry about topics that are even remotely complex, those who have the knowledge you seek are too busy working and those who don&#39;t understand, can&#39;t help you even if they wanted to. </p>

<p>To give you a quick answer: Technically using a system random as an input for a variable results in an pseudo-exogenous variable - at least as per the definition: A variable that effects a model without being effected by the model and whose method of generation is unknown to the creator. </p>

<p>In the end, this is python - you could build a neural network with hidden layers if you really wanted to... you probably won&#39;t have the ram required, but you could do it.</p>

<p>@Jay Maloney: No, look at the leverage - it never (ok it does once) goes over 1.0 . Implementing robinhood gold is well documented on quantopians forums  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59706bdc32485a0010d40072' id='59706bdc32485a0010d40072'>
<a href='#59706bdc32485a0010d40072'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1500539868000' class='quanto-date posted-at response-posted-at' href='#59706bdc32485a0010d40072'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>NOTEBOOK</strong>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5970b4fe32485a000dd40393' id='5970b4fe32485a000dd40393'>
<a href='#5970b4fe32485a000dd40393'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5915fb49035f77001037f4e5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/884fa34f3f5fe7ece9b0b66e07d972ba?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5915fb49035f77001037f4e5'>Ken</a>
</div>
<a UTCms='1500558590000' class='quanto-date posted-at response-posted-at' href='#5970b4fe32485a000dd40393'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, Jacob. Nice post! To give you a little fun support of 65% penalty, Confucius (a Chines philosopher two thousand years ago) said &quot;Three People One is a Teacher&quot;. Here is quick link:<br>
<a href="http://www.chilture.com/images/large/Calligraphy/confucius_three_people_LRG.jpg">http://www.chilture.com/images/large/Calligraphy/confucius_three_people_LRG.jpg</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5970eec63caa441680db14c1' id='5970eec63caa441680db14c1'>
<a href='#5970eec63caa441680db14c1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59068fb91cb0bb0010eddc2f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/71688f6ad58fee264080933331eb3e4c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59068fb91cb0bb0010eddc2f'>Dan Codos</a>
</div>
<a UTCms='1500573382000' class='quanto-date posted-at response-posted-at' href='#5970eec63caa441680db14c1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This algorithm looks really cool. Is there an issue with the fact that it will never hold a given security for more than one day, or is that how you intended. For example, in the evaluate() function, you have the following code:  </p>

<pre><code>if prediction &gt; -0.5:  
    print(str(sec.symbol) +  &quot; | &quot; + str(prediction))  
    if sec not in context.portfolio.positions:  
        context.longs.append(sec)  
</code></pre>

<p>so that it is not possible for any position we currently hold to be added to context.longs, and then in the sell() function:</p>

<pre><code>for sec in context.portfolio.positions:  
    if sec not in context.longs:  
        order_target_percent(sec, 0.0)  
</code></pre>

<p>this part  doesn&#39;t allow any security that is currently owned to be held onto to unless it is in context.longs, but that condition is impossible because of the above part. Basically, I figure you may have intended this to be the case, but I think not when I realize the second line of the sell function is redundant here since it is impossible for anything to be in context.longs if it is currently in our portfolio.</p>

<p>I hope I was clear here, but let me know if there are any follow-up questions, as I am still relatively new to Quantopian.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5970fb07197e6824e6917034' id='5970fb07197e6824e6917034'>
<a href='#5970fb07197e6824e6917034'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1500576519000' class='quanto-date posted-at response-posted-at' href='#5970fb07197e6824e6917034'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is this data free to use - or do you need a subscription?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597104918ceae6205482f46f' id='597104918ceae6205482f46f'>
<a href='#597104918ceae6205482f46f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1500578961000' class='quanto-date posted-at response-posted-at' href='#597104918ceae6205482f46f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@tyler, its free.<br>
@Dan The algorithm only sells once a day... in the morning, 5 minutes later it buys stocks. It does nothing else until the next day.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59710f216747ff2138283eef' id='59710f216747ff2138283eef'>
<a href='#59710f216747ff2138283eef'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59068fb91cb0bb0010eddc2f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/71688f6ad58fee264080933331eb3e4c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59068fb91cb0bb0010eddc2f'>Dan Codos</a>
</div>
<a UTCms='1500581665000' class='quanto-date posted-at response-posted-at' href='#59710f216747ff2138283eef'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jacob<br>
I realize that it only sells once a day. My point is that it is impossible for the algorithm to hold on to a security for more than one day. If it determines it should by AAPL for example, then the next day if must sell AAPL, even if the algorithm thinks it should keep it longer. This could result in a stock that is continually being bought and sold on alternating days when it would produce more profits if it was bought once and held onto for the entire period and then sold once it is determined it will no longer be profitable.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5971212182943331dc305b99' id='5971212182943331dc305b99'>
<a href='#5971212182943331dc305b99'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1500586273000' class='quanto-date posted-at response-posted-at' href='#5971212182943331dc305b99'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Dan Codos </p>

<p>Ah i see what you are saying. Your concerns and reasoning are totally valid. </p>

<p>The algorithm does hold for more than one day: See the last cell of the notebook attached</p>

<p>Im working on a SMA for sentiment intensity of tech stocks right now and that is essentially how it will trade. If the hype is rising, buy the stock, if the hype starts to die - sell the stock.</p>

<p><strong>EDIT:</strong> Dan is right - the logic says it <strong>shouldn&#39;t</strong> hold a stock for more than one day... </p>

<p><strong>Gut Feeling:</strong> &quot;The get in and get out quickly&quot; behavior that is currently implemented will be better since people are greedy and tend to over hype a stocks movements.  you have no idea how many times I saw: &quot;AMD will go to $30 per share.&quot; (before ryzen) meanwhile all the fundamentals and historical data pointed to $12-13 per share upon the ryzen announcement and ~$18 to $24 by the end of the year. </p>

<p>I knew what I was talking about back then because I&#39;m a total tech nerd. They just wanted their long investments to do extremely well regardless of the facts available to them.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5971297ae62c235fc8c66296' id='5971297ae62c235fc8c66296'>
<a href='#5971297ae62c235fc8c66296'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1500588410000' class='quanto-date posted-at response-posted-at' href='#5971297ae62c235fc8c66296'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Dan Codos  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59712eec43b86d000d446f80' id='59712eec43b86d000d446f80'>
<a href='#59712eec43b86d000d446f80'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59068fb91cb0bb0010eddc2f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/71688f6ad58fee264080933331eb3e4c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59068fb91cb0bb0010eddc2f'>Dan Codos</a>
</div>
<a UTCms='1500589804000' class='quanto-date posted-at response-posted-at' href='#59712eec43b86d000d446f80'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That makes sense. I also ran a quick backtest and saw that the returns weren&#39;t as good when that issue was &quot;fixed&quot; and was wondering why it would be the case. I&#39;d be interested to see if what you first mentioned had any merit though, where you put a stricter set of qualifications that would allow a security to be held onto for more than one day, so it would be a &quot;get in and get out&quot; with exceptions for extremely hyped stocks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59713e16659a9400101fe85c' id='59713e16659a9400101fe85c'>
<a href='#59713e16659a9400101fe85c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/595fad376c17230010b0704f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4724977c2dfd4337ae3234e62824bac4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/595fad376c17230010b0704f'>louis Lombardo</a>
</div>
<a UTCms='1500593686000' class='quanto-date posted-at response-posted-at' href='#59713e16659a9400101fe85c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>As far as not evaluating the positions in the portfolio already. What about this approach?<br>
1. Don&#39;t remove stocks we already hold from evaluation.<br>
2. When looking at the prediction do something along the lines of:  </p>

<pre><code>if prediction &gt; 1.0:  
    if sec in context.holding_dates:  
        if prediction &lt; (context.holding_dates[sec.sid] * 0.75):  
            continue  
    print(str(sec.symbol) +  &quot; | &quot; + str(prediction))  
    context.longs.append(sec)  
</code></pre>

<ol>
<li>Then in sell add something like:<br>
<code>
context.holding_dates.pop(sec.sid, None)  
</code></li>
<li>Finally in buy:</li>
</ol>

<pre><code>    for sec in context.longs:  
        order_target_percent(sec, leverage/len(context.longs))  
        # record the number of days we have held this security  
        if sec in context.holding_dates:  
            context.holding_dates[sec.sid] += 1  
        else:  
            context.holding_dates[sec.sid] = 1  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597146d6cdc14a00101f3eef' id='597146d6cdc14a00101f3eef'>
<a href='#597146d6cdc14a00101f3eef'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f1fe573df0166ec00001ed'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f7a981fa19c77ab0979fdbad32fbaf0f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f1fe573df0166ec00001ed'>Delman Woodrum</a>
</div>
<a UTCms='1500595926000' class='quanto-date posted-at response-posted-at' href='#597146d6cdc14a00101f3eef'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I won&#39;t be able to work on anything until tomorrow, but currently does anyone have a backtest I can toy around with that implements the &#39;follow the hype train&#39; approach and proper order management? I&#39;d like to try implementing a trailing stop.</p>

<p>@ Luke Izlar; you had mentioned something similar that you were working on. Any progress?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59714d0f32b71d0010afad61' id='59714d0f32b71d0010afad61'>
<a href='#59714d0f32b71d0010afad61'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1500597519000' class='quanto-date posted-at response-posted-at' href='#59714d0f32b71d0010afad61'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Dan Codos: Thats what I&#39;m working on now, see the notebook attached.</p>

<p>@louis lombard: You are using up more ram storing information that is already stored.<br>
Using the state of portfolio itself does the trick. see my reply to delman</p>

<p>@Delman woodrum ...... All you have to do is remove line 94 from the post labeled <strong>Works With Robinhood Instant</strong> and then fix the indentation.</p>

<p><strong>Notebook:</strong> I know that during the JNUG event the volume was low (&lt;10). This only supports my assertion that a &quot;high volume&quot; be an initial requirement.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59723e119577dc001091d842' id='59723e119577dc001091d842'>
<a href='#59723e119577dc001091d842'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/597103560f04cf241b3c428e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3760db8147dcba3f150521d470c21c8e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/597103560f04cf241b3c428e'>Perry Cheves</a>
</div>
<a UTCms='1500659217000' class='quanto-date posted-at response-posted-at' href='#59723e119577dc001091d842'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Have you put thought into just implementing a trailing stop onto the higher returning code? That might be more profitable than the current strategy where the return is sacrificed for lower drawdown, while still maintaining a low drawdown. Food for thought :&gt;</p>

<p>EDIT:<br>
Just realized that @delman is working on that. Let me know how it goes!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59739ce0c5525a000ddbc517' id='59739ce0c5525a000ddbc517'>
<a href='#59739ce0c5525a000ddbc517'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f1fe573df0166ec00001ed'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f7a981fa19c77ab0979fdbad32fbaf0f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f1fe573df0166ec00001ed'>Delman Woodrum</a>
</div>
<a UTCms='1500749024000' class='quanto-date posted-at response-posted-at' href='#59739ce0c5525a000ddbc517'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Perry Cheves I do have an implementation of a trailing stop in progress, and should have something at least partially done by the end of the week if work isn&#39;t too crazy. In the meantime, try smashing this code from @David Edwards into your algo and seeing if you can get at least a baseline working with dirty code.</p>

<pre><code>def initialize(context):  
    context.stock = symbol(&quot;SPY&quot;)  
    set_benchmark(context.stock)  
    context.stop_price = 0  
    context.stop_pct = 0.95  
    schedule_function(buy, date_rule=date_rules.month_start())  

def handle_data(context, data):  
    set_trailing_stop(context, data)  
    if data[context.stock].price &lt; context.stop_price:  
        order_target(context.stock, 0)  
        context.stop_price = 0  
    record(price=data[context.stock].price, stop=context.stop_price)  

def buy(context, data):  
    order_target_percent(context.stock, 1.0)  
def set_trailing_stop(context, data):  
    if context.portfolio.positions[context.stock].amount:  
        price = data[context.stock].price  
        context.stop_price = max(context.stop_price, context.stop_pct * price)  
</code></pre>

<p><a href="https://www.quantopian.com/posts/trailing-stop-loss">Trailing Stop Loss</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5973a120e30b81001018c1b3' id='5973a120e30b81001018c1b3'>
<a href='#5973a120e30b81001018c1b3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/597103560f04cf241b3c428e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3760db8147dcba3f150521d470c21c8e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/597103560f04cf241b3c428e'>Perry Cheves</a>
</div>
<a UTCms='1500750112000' class='quanto-date posted-at response-posted-at' href='#5973a120e30b81001018c1b3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Delman Woodrum I&#39;ve been trying to implement these pieces for the past 30 hours and it seems there is some trouble with multiple stocks. The code you sent only works with one stock while this algo uses multiple stocks based on their sentiment. Right now I&#39;m trying to figure out a way to set a stop on each individual position using similar code but no dice so far. Right now I&#39;m thinking about making each open position something along the lines of:  </p>

<pre><code>context.stocks = context.portfolio.positions[get_open_orders()].symbol  
</code></pre>

<p>The get_open_orders query returns a dictionary that contains a list of orders for each ID, oldest first. So perhaps using this and looping the other code over the returned dictionary might work. Just a concept, this has been pretty difficult thus far. Let me know what you think and if you make progress.</p>

<p><strong>UPDATE:</strong></p>

<p>So I got something sorta working, except it sells all of the stocks that are currently in the portfolio:<br>
<code>
2015-01-07 06:31  PRINT AABA | [ 0.27]  
2015-01-07 06:31  PRINT JPM | [ 0.73]  
2015-01-07 06:31  PRINT FB | [ 0.66]  
2015-01-07 06:31  PRINT I sold a bad stock!:AABA  
2015-01-07 06:31  PRINT I sold a bad stock!:JPM  
2015-01-07 06:31  PRINT I sold a bad stock!:FB  
</code>
Here is the algorithm with it implemented. It&#39;s almost there! We just need to fix this one issue.</p>

<pre><code>&gt; from quantopian.pipeline import Pipeline, CustomFilter  
from quantopian.algorithm import attach_pipeline, pipeline_output  
from quantopian.pipeline.factors import Latest  
from quantopian.pipeline.data.builtin import USEquityPricing  
from quantopian.pipeline.data.psychsignal import aggregated_twitter_withretweets_stocktwits as st  
from sklearn.ensemble import RandomForestClassifier  
from quantopian.pipeline.factors import SimpleMovingAverage  
from quantopian.pipeline.filters import Q500US  
import numpy as np

def initialize(context):  
    #Long only  
    set_long_only()  
    #I use robinhood when long only  
    set_commission(commission.PerShare(cost=0.0, min_trade_cost=0.0))  
    #ADDED TO MONITOR LEVERAGE MINUTELY.  
    context.minLeverage = [0]  
    context.maxLeverage = [0]  
    context.securities_in_results = []  
    attach_pipeline(Custom_pipeline(context), &#39;Custom_pipeline&#39;)  
    #PREFFERED CLASSIFIER  
    context.model = RandomForestClassifier()  
    #YOU WANT A HIGH NUMBER OF ESTIMATORS AND SAMPLES TO ENSURE CONSISTENT BACKTEST PERFROMANCE.  
    context.model.n_estimators = 500  
    context.model.min_samples_leaf = 100  
    context.lookback = 3  
    context.history_range = 5  
    #find the stocks we want to buy/sell  
    schedule_function(evaluate, date_rules.every_day(), time_rules.market_open())  
    #close positions  
    schedule_function(sell, date_rules.every_day(), time_rules.market_open())  
    #open positions  
    schedule_function(buy, date_rules.every_day(), time_rules.market_open(minutes = 5))

    context.stop_price = 0  
    context.stop_pct = 0.95  



def Custom_pipeline(context):  
    pipe = Pipeline()  
    sma_10 = SimpleMovingAverage(inputs = [USEquityPricing.close], window_length=10)  
    sma_50 = SimpleMovingAverage(inputs = [USEquityPricing.close], window_length=50)  
    pipe.add(st.bull_scored_messages .latest, &#39;bull_scored_messages&#39;)  
    pipe.add(st.bear_scored_messages .latest, &#39;bear_scored_messages&#39;)  
    #changed to be easier to read.  
    pipe.set_screen(Q500US()&amp;\  
                    (sma_10 &gt; sma_50)&amp;\  
                    (0.35*st.bull_scored_messages.latest &gt; st.bear_scored_messages.latest)&amp;\  
                    # it&#39;s not just about there being more bullish posts than bearish... 2 is 100% greater than 1 - but 2 isn&#39;t exactly a record breaking number of posts.  
                    (st.bear_scored_messages.latest &gt; 10)\  
                   )  
    return pipe

def before_trading_start(context, data):  
    context.longs = []  
    #For hedgeing...  
    results = pipeline_output(&#39;Custom_pipeline&#39;)  
    context.securities_in_results = []  
    for s in results.index:  
        context.securities_in_results.append(s)  
    #DEBUG  


def set_trailing_stop(context, data):  
    for sec in context.portfolio.positions:  
        price = data.current(sec, &#39;price&#39;)  
        context.stop_price = max(context.stop_price, context.stop_pct * price)  


def evaluate (context, data):  
    if len(context.securities_in_results) &gt; 0.0:  
        for sec in context.securities_in_results:  
            recent_prices, recent_volumes = data.history(sec, &#39;price&#39;, context.history_range, &#39;1d&#39;).values, data.history(sec, &#39;volume&#39;, context.history_range, &#39;1d&#39;).values  
            price_changes, volume_changes = np.diff(recent_prices).tolist(), np.diff(recent_volumes).tolist()  
            X,Y = [],[]  
            for i in range(context.history_range-context.lookback-1):  
                X.append(price_changes[i:i+context.lookback] + volume_changes[i:i+context.lookback])  
                Y.append(price_changes[i+context.lookback])  
            context.model.fit(X, Y)  
            recent_prices, recent_volumes = data.history(sec, &#39;price&#39;, context.lookback+1, &#39;1d&#39;).values, data.history(sec, &#39;volume&#39;, context.lookback+1, &#39;1d&#39;).values  
            price_changes, volume_changes = np.diff(recent_prices).tolist(), np.diff(recent_volumes).tolist()  
            prediction = context.model.predict(price_changes + volume_changes)  
            if prediction &gt; -0.5:  
                print(str(sec.symbol) +  &quot; | &quot; + str(prediction))  
                context.longs.append(sec)  

    # #if you arent a fan of puting all of your eggs in one basket:  
    # if len(context.longs) &lt; 2:  
    #     context.longs = []  
    # for sec in context.portfolio.positions:  
    #     set_trailing_stop(context, data)  
    #     if data.current(sec, &#39;price&#39;) &lt; context.stop_price:  
    #         order_target(sec, 0)  
    #         context.stop_price = 0  
    #         print(&quot;I sold a bad stock!:&quot; + data.current(sec, &quot;symbol&quot;))  
    #     # record(price=data[sec].price, stop=context.stop_price)  

def sell (context,data):  
    for sec in context.securities_in_results:  
        set_trailing_stop(context, data)  
        if data.current(sec, &#39;price&#39;) &lt; context.stop_price:  
            order_target(sec, 0)  
            context.stop_price = 0  
            print(&quot;I sold a bad stock!:&quot; + str(sec.symbol))  
        if sec not in context.longs:  
            order_target_percent(sec, 0.0)  


def buy (context,data):  
    for sec in context.longs:  
        order_target_percent(sec, 1.0 / (len(context.longs) + len(context.portfolio.positions)) )  


def handle_data(context,data):  
    #if the current leverage is greater than the value in MaxLeverage, clear max leverage then append the current leverage. a similar method is used for minLeverage  
    #max leverage is set up as an array so that one can more quickly log all leverages  find the mean leverage if they want.  
    for L in context.maxLeverage: #ADDED BY JACOB SHRUM  
        if context.account.leverage &gt; L: #ADDED BY JACOB SHRUM  
            context.maxLeverage = [] #ADDED BY JACOB SHRUM  
            context.maxLeverage.append(context.account.leverage) #ADDED BY JACOB SHRUM  
    for L in context.minLeverage: #ADDED BY JACOB SHRUM  
        if context.account.leverage &lt; L: #ADDED BY JACOB SHRUM  
            context.minLeverage = [] #ADDED BY JACOB SHRUM  
            context.minLeverage.append(context.account.leverage) #ADDED BY JACOB  
    record(pos=len(context.portfolio.positions), resutls=len(context.securities_in_results), Min_Leverage = context.minLeverage[0], Max_Leverage = context.maxLeverage[0],Instantaneous_Leverage = context.account.leverage)  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5973b679db8deb0010c8d385' id='5973b679db8deb0010c8d385'>
<a href='#5973b679db8deb0010c8d385'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f1fe573df0166ec00001ed'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f7a981fa19c77ab0979fdbad32fbaf0f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f1fe573df0166ec00001ed'>Delman Woodrum</a>
</div>
<a UTCms='1500755577000' class='quanto-date posted-at response-posted-at' href='#5973b679db8deb0010c8d385'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This might be a little off target, but is there a way to store the price the stock was bought at in an array and then use that data as a baseline for your trailing stop/profit take?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5973badee3e6eb4ea5181eea' id='5973badee3e6eb4ea5181eea'>
<a href='#5973badee3e6eb4ea5181eea'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/597103560f04cf241b3c428e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3760db8147dcba3f150521d470c21c8e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/597103560f04cf241b3c428e'>Perry Cheves</a>
</div>
<a UTCms='1500756702000' class='quanto-date posted-at response-posted-at' href='#5973badee3e6eb4ea5181eea'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m getting previous day&#39;s average price, and if the current price falls below that price *.95 then it will sell.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5973bd2406680f26709b4816' id='5973bd2406680f26709b4816'>
<a href='#5973bd2406680f26709b4816'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f1fe573df0166ec00001ed'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f7a981fa19c77ab0979fdbad32fbaf0f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f1fe573df0166ec00001ed'>Delman Woodrum</a>
</div>
<a UTCms='1500757284000' class='quanto-date posted-at response-posted-at' href='#5973bd2406680f26709b4816'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Reading further up the thread, the selling everything in the portfolio issue might have more to do with the algorithm sentiment logic then the stop loss. Try running a backtest weekly instead of daily and see if the issue persists, or if the stop loss executes properly in the middle of the week.</p>

<p>EDIT:</p>

<p>Also, instead of getting the previous days price, wouldn&#39;t it be better to simply log the purchase price once and use that as a baseline for the stop loss logic?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597408b627ba1b000d8d1b64' id='597408b627ba1b000d8d1b64'>
<a href='#597408b627ba1b000d8d1b64'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1500776630000' class='quanto-date posted-at response-posted-at' href='#597408b627ba1b000d8d1b64'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong><em>trading weekly makes no sense</em></strong>: all data would be meaningless given social media is about whats happening right now. trading on wednesday one week may be a great idea and then the next could be horrible. </p>

<p>5% is a great stop loss if you don&#39;t know what you are doing. We have specifically targeted stocks that are meant to rise as determined by other people and &quot;verified&quot; by a simple machine learning method: why would you set your stop loss at such a large loss?  3.33-2.5 is a much better stop loss. </p>

<p><strong>NOTE:</strong> adding stop losses doesnt make sense in terms of evaluating an algorithm unless they are necessary for its survival. If I want to analyze the raw performance based <strong>ONLY</strong> on psychsignal data and ML models: a stop loss will ruin that data.  If one is trying to evaluate different filtering mechanisms to yield above average ML model yield, stop losses will  again ruin the data. given I&#39;m doing both of these things: I&#39;m not posting the algorithm - it&#39;s not relevant to what I&#39;m doing. That said: here are the returns of different stop methods. Obviously the returns increased - that&#39;s the point of stop losses:  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5974345db1742100109bd7ea' id='5974345db1742100109bd7ea'>
<a href='#5974345db1742100109bd7ea'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f1fe573df0166ec00001ed'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f7a981fa19c77ab0979fdbad32fbaf0f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f1fe573df0166ec00001ed'>Delman Woodrum</a>
</div>
<a UTCms='1500787805000' class='quanto-date posted-at response-posted-at' href='#5974345db1742100109bd7ea'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So it looks like, over the long term, having a stop loss implemented is indeed an advantage, if I&#39;m reading the chart correctly.</p>

<p>And as far as trading weekly goes, it only makes sense for testing to see if the stop loss is making stops rather than the algorithm exiting on other factors.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59755b763c9398000d298a1f' id='59755b763c9398000d298a1f'>
<a href='#59755b763c9398000d298a1f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1500863350000' class='quanto-date posted-at response-posted-at' href='#59755b763c9398000d298a1f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Of course stop losses work... if they didn&#39;t work, people wouldn&#39;t use them. and as I said above, trading weekly makes ZERO sense - ever. you can&#39;t properly evaluate any of that data - its all meaningless. Imagine an Ai designed to detect earthquakes by looking at seismic data as it comes in: It wouldn&#39;t make much sense if you only ran it every monday...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597560b975f0e8000d795cf6' id='597560b975f0e8000d795cf6'>
<a href='#597560b975f0e8000d795cf6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f1fe573df0166ec00001ed'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f7a981fa19c77ab0979fdbad32fbaf0f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f1fe573df0166ec00001ed'>Delman Woodrum</a>
</div>
<a UTCms='1500864697000' class='quanto-date posted-at response-posted-at' href='#597560b975f0e8000d795cf6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes. You can use weekly trading to TEST the stop loss and TEST it only to see if it is indeed being triggered. No for live trading, but TEST purposes only.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5975a8ca518f15001049fe03' id='5975a8ca518f15001049fe03'>
<a href='#5975a8ca518f15001049fe03'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/590159d926a03f00107ee416'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c5e9fa96bbd2dc1e9a027cc2d277a0da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/590159d926a03f00107ee416'>Ian Worthington</a>
</div>
<a UTCms='1500883146000' class='quanto-date posted-at response-posted-at' href='#5975a8ca518f15001049fe03'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Nice work Jacob, you should write conclusions in your notebook too so you don&#39;t have to rerun all the code when looking back :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5975cc322825740010da18ad' id='5975cc322825740010da18ad'>
<a href='#5975cc322825740010da18ad'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1500892210000' class='quanto-date posted-at response-posted-at' href='#5975cc322825740010da18ad'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>IDK why one would test a stop loss in an environment that they will never actually use. Theoretically I have already answered this question months ago: I wrote an algorithm that traded AFTER movements and it lost all of its money in 6 months. Of course the stop loss will be triggered... Why wouldn&#39;t it. I&#39;ve already showed that stop loss would be triggered in the trading daily algorithm alone. If its being triggered in an algorithm that holds stocks for 24 hours, it definitely going to be triggered when stocks are held for an entire week (since that week also contains those same first 24 hours).</p>

<p>Like I said: of course the stop loss works: that&#39;s why they exist. but trading weekly on this data that is pseudo-random is a total violation of so many parts of modern probability theory and thus any data about stop losses that one could obtain is worthless because the data used to test the stop losses is worthless. will the stop loss work, YES. will it matter, NO.</p>

<p>Ill check since I have something that I think is worth testing that revolves around trading weekly.</p>

<p>The notebook attached is for anyone wasting their time with weekly trading.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59764f05518f153dc349f904' id='59764f05518f153dc349f904'>
<a href='#59764f05518f153dc349f904'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59068fb91cb0bb0010eddc2f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/71688f6ad58fee264080933331eb3e4c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59068fb91cb0bb0010eddc2f'>Dan Codos</a>
</div>
<a UTCms='1500925701000' class='quanto-date posted-at response-posted-at' href='#59764f05518f153dc349f904'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I ran a backtest of this all the way back to 2013 and realized that the algorithm really didn&#39;t start to work well until the last year or two. Do you think this is a problem with the algorithm being overfit for recent data, or that the Twitter information has gotten much better in the last two years. I can&#39;t think of an easy way to test this, but if it is the latter then there is nothing to worry about, otherwise, the algorithm could just be riding a short-term high.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5976575f2825745184da120c' id='5976575f2825745184da120c'>
<a href='#5976575f2825745184da120c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/596c349960bd37000d49a0f7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b6b10ba1557921c733bdc9e5af554e52?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/596c349960bd37000d49a0f7'>Bradley Puckett</a>
</div>
<a UTCms='1500927839000' class='quanto-date posted-at response-posted-at' href='#5976575f2825745184da120c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I believe the author addressed this somewhat in the original post:</p>

<blockquote>
<p>&quot;It should be noted that it seems that the number of posts increased a lot in 2015, I am only testing from 2015 onward as the conditions before this time are not favorable - especially before 2014 when 2-3 results is a common maximum number of results for weeks at a time.&quot;</p>
</blockquote>

<p>So it seems that it may be due to a lack of information, rather than overfitting or a temporary trend.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59768e2828257410fdda125a' id='59768e2828257410fdda125a'>
<a href='#59768e2828257410fdda125a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/590159d926a03f00107ee416'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c5e9fa96bbd2dc1e9a027cc2d277a0da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/590159d926a03f00107ee416'>Ian Worthington</a>
</div>
<a UTCms='1500941864000' class='quanto-date posted-at response-posted-at' href='#59768e2828257410fdda125a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>since we are at an imminent market crash, how will this do through that?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59785432bcc1d7000d679dc0' id='59785432bcc1d7000d679dc0'>
<a href='#59785432bcc1d7000d679dc0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1501058098000' class='quanto-date posted-at response-posted-at' href='#59785432bcc1d7000d679dc0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is the only historical test we can do right now....  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597a26eccdacfd015c632546' id='597a26eccdacfd015c632546'>
<a href='#597a26eccdacfd015c632546'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/597103560f04cf241b3c428e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3760db8147dcba3f150521d470c21c8e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/597103560f04cf241b3c428e'>Perry Cheves</a>
</div>
<a UTCms='1501177580000' class='quanto-date posted-at response-posted-at' href='#597a26eccdacfd015c632546'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You can always just paper trade it through today, seeing as the market&#39;s tanking.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597c8d813785a34d4c56decc' id='597c8d813785a34d4c56decc'>
<a href='#597c8d813785a34d4c56decc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5927b6c43bb50e00102e0874'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e142e72937566acd06a949a62de2974a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5927b6c43bb50e00102e0874'>luis de la rosa</a>
</div>
<a UTCms='1501334913000' class='quanto-date posted-at response-posted-at' href='#597c8d813785a34d4c56decc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Has  anybody live testit this algo on a live account?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597c8e9b820165001045ae73' id='597c8e9b820165001045ae73'>
<a href='#597c8e9b820165001045ae73'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5927b6c43bb50e00102e0874'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e142e72937566acd06a949a62de2974a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5927b6c43bb50e00102e0874'>luis de la rosa</a>
</div>
<a UTCms='1501335195000' class='quanto-date posted-at response-posted-at' href='#597c8e9b820165001045ae73'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>also, has anybody thought about Trading options at the same time to hedge against potential market loss.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597ce277cc8353000df001a8' id='597ce277cc8353000df001a8'>
<a href='#597ce277cc8353000df001a8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/597103560f04cf241b3c428e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3760db8147dcba3f150521d470c21c8e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/597103560f04cf241b3c428e'>Perry Cheves</a>
</div>
<a UTCms='1501356663000' class='quanto-date posted-at response-posted-at' href='#597ce277cc8353000df001a8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><ol>
<li>I am paper trading it currently, and it is performing well.<br></li>
<li>You can&#39;t trade options on Robinhood (which is what is compatible with this algo).<br></li>
</ol>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597ce612493821000df6abf6' id='597ce612493821000df6abf6'>
<a href='#597ce612493821000df6abf6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5927b6c43bb50e00102e0874'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e142e72937566acd06a949a62de2974a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5927b6c43bb50e00102e0874'>luis de la rosa</a>
</div>
<a UTCms='1501357586000' class='quanto-date posted-at response-posted-at' href='#597ce612493821000df6abf6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Nice, Im  thinking to build a similar algo, using AI and deep Learnig for Day Trading.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597d9be91ca3a052b9d93efc' id='597d9be91ca3a052b9d93efc'>
<a href='#597d9be91ca3a052b9d93efc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1501404137000' class='quanto-date posted-at response-posted-at' href='#597d9be91ca3a052b9d93efc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Someone mentioned hedging so I figured I would post this: NOT always hedged. </p>

<p>Returns of over 400% in 2 years are possible if you remove line 99 - 100<br>
BUT you open yourself up to possibility of large losses.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597d9fe5cc83530010f00a6c' id='597d9fe5cc83530010f00a6c'>
<a href='#597d9fe5cc83530010f00a6c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1501405157000' class='quanto-date posted-at response-posted-at' href='#597d9fe5cc83530010f00a6c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@luis de la rosa : before you start day trading, take a look at this notebook.... day trading yields far less returns - a large majority of the returns come from after markets movements.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597dde7c78dd740010a13717' id='597dde7c78dd740010a13717'>
<a href='#597dde7c78dd740010a13717'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5927b6c43bb50e00102e0874'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e142e72937566acd06a949a62de2974a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5927b6c43bb50e00102e0874'>luis de la rosa</a>
</div>
<a UTCms='1501421180000' class='quanto-date posted-at response-posted-at' href='#597dde7c78dd740010a13717'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob,  I will paper trade with this algo and keep you updated.  Thanks for the advise.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597f339b4c6c805e22acba16' id='597f339b4c6c805e22acba16'>
<a href='#597f339b4c6c805e22acba16'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59068fb91cb0bb0010eddc2f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/71688f6ad58fee264080933331eb3e4c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59068fb91cb0bb0010eddc2f'>Dan Codos</a>
</div>
<a UTCms='1501508507000' class='quanto-date posted-at response-posted-at' href='#597f339b4c6c805e22acba16'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have been live trading this algorithm on Robinhood for a little bit and a couple times I have had issues with all of the sell orders being cancelled right after the market opens. The orders do not even show up in Robinhood, I just see in the Quantopian dashboard that it says the orders were cancelled. The buy orders have all worked normally, assuming I manually can sell all the previous positions in time. Has anyone else had this issue or know what could be causing it?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597f3715f950380010a94f0f' id='597f3715f950380010a94f0f'>
<a href='#597f3715f950380010a94f0f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1501509397000' class='quanto-date posted-at response-posted-at' href='#597f3715f950380010a94f0f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>Has anyone else had this issue</p>
</blockquote>

<p>A couple of days last week so I&#39;m using this now to retry in case it happens again (the cancels didn&#39;t occur today).<br>
<a href="https://www.quantopian.com/posts/robinhood-rejecting-slash-cancelling-too-many-orders-any-reason-why-this-is-happening-1#58b5a527ebd94569ab31dee4">https://www.quantopian.com/posts/robinhood-rejecting-slash-cancelling-too-many-orders-any-reason-why-this-is-happening-1#58b5a527ebd94569ab31dee4</a></p>

<p>Robinhood said &quot;Our records show that your orders were cancelled by you in the app&quot;. Until just now when I dug around in the phone app I wasn&#39;t aware that there is a way to cancel unfilled limit orders. My code isn&#39;t sending the cancels near market open, does cancel at end of day to avoid the logging of unfilled orders. </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597fe82303e68431e34571d6' id='597fe82303e68431e34571d6'>
<a href='#597fe82303e68431e34571d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5927b6c43bb50e00102e0874'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e142e72937566acd06a949a62de2974a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5927b6c43bb50e00102e0874'>luis de la rosa</a>
</div>
<a UTCms='1501554723000' class='quanto-date posted-at response-posted-at' href='#597fe82303e68431e34571d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Jacob, </p>

<p>I ran some test with the algo and you are doing a nice job. Now I think I found an issue .\  if you run a test during the market crash of 2008 you get a negative return of almost -50%  from 2005 to 2010. I personally think this algo works fine in a boom market, but in a market crash, it may not perform well.<br>
I notice the algo start reporting returns mid-2015 when the boom market started. have you noticed this?</p>

<p>let me know what you think<br>
I may be wrong :-)<br>
keep-up the good work.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59807753340ed54420834dc1' id='59807753340ed54420834dc1'>
<a href='#59807753340ed54420834dc1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59068fb91cb0bb0010eddc2f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/71688f6ad58fee264080933331eb3e4c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59068fb91cb0bb0010eddc2f'>Dan Codos</a>
</div>
<a UTCms='1501591379000' class='quanto-date posted-at response-posted-at' href='#59807753340ed54420834dc1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@luis<br>
I noticed the same thing and someone pointed out the following from the original post:</p>

<blockquote>
<p>It should be noted that it seems that the number of posts increased a lot in 2015, I am only testing from 2015 onward as the conditions before this time are not favorable - especially before 2014 when 2-3 results is a common maximum number of results for weeks at a time.</p>
</blockquote>

<p>That&#39;s not to say it won&#39;t do poorly in a bad market, but we can&#39;t go off the backtest. With something like social media that has changed so much in recent years, it is hard to know what exactly the cause of increased performance is.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598103dd993e990010c740d9' id='598103dd993e990010c740d9'>
<a href='#598103dd993e990010c740d9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1501627357000' class='quanto-date posted-at response-posted-at' href='#598103dd993e990010c740d9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m pretty confident that the increase in performance is due to the increase in volume. We shall see.</p>

<p>Anyone trading this right now should understand that the risk is extremely high and this is essentially gambling (we know it works, but we don&#39;t have enough data to confidently say that it should keep working) - just look at my notebook about the JNUG data anomaly. </p>

<p>@dan codos - what stocks were canceled - I could be stocks with low volume. Stock prices change a lot at open and the order may never be getting filled... other than that IDK. </p>

<p>I have a few friends who are interested in this stuff and will most likely be live trading this algorithm with ~ 5K (long only).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598119440a04170010db5346' id='598119440a04170010db5346'>
<a href='#598119440a04170010db5346'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56b282080f38611a4600013f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5a7e112a2146d6905f039a58c043b083?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56b282080f38611a4600013f'>Hayden McMaster</a>
</div>
<a UTCms='1501632836000' class='quanto-date posted-at response-posted-at' href='#598119440a04170010db5346'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This looks interesting, thanks for sharing.</p>

<p>Is someone able to clarify what the &quot;prediction&quot; variable represents? Based on the code it looks like we&#39;re feeding in historical price change and volume data X into the classifier and then requesting to predict future price change Y, is that correct? I would have thought that &quot;prediction&quot; would be the predicted price change for the next day but that doesn&#39;t seem to be the case. It it just some sort of score rather than a value directly related to price?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59812ed883b7a7204c3850c0' id='59812ed883b7a7204c3850c0'>
<a href='#59812ed883b7a7204c3850c0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5927b6c43bb50e00102e0874'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e142e72937566acd06a949a62de2974a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5927b6c43bb50e00102e0874'>luis de la rosa</a>
</div>
<a UTCms='1501638360000' class='quanto-date posted-at response-posted-at' href='#59812ed883b7a7204c3850c0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@jacob,<br>
Thanks for the clarification.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59813265a34bb2000d503df0' id='59813265a34bb2000d503df0'>
<a href='#59813265a34bb2000d503df0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1501639269000' class='quanto-date posted-at response-posted-at' href='#59813265a34bb2000d503df0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Hayden McMaster: The best way to explain this is to have the API documentation explain it<br>
<a href="http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html">RandomForestClassifier</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59813a5110be781ede7f7428' id='59813a5110be781ede7f7428'>
<a href='#59813a5110be781ede7f7428'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5927b6c43bb50e00102e0874'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e142e72937566acd06a949a62de2974a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5927b6c43bb50e00102e0874'>luis de la rosa</a>
</div>
<a UTCms='1501641297000' class='quanto-date posted-at response-posted-at' href='#59813a5110be781ede7f7428'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@jacob</p>

<p>Have you try deep learning?  to have the algo use previus prediction to learn from past unsuccessful  trades. ( something like: alfa go) </p>

<p>it may work. </p>

<p>I just started learning programming and this idea is what drive me.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5981498c0a04174368db51f4' id='5981498c0a04174368db51f4'>
<a href='#5981498c0a04174368db51f4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56b282080f38611a4600013f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5a7e112a2146d6905f039a58c043b083?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56b282080f38611a4600013f'>Hayden McMaster</a>
</div>
<a UTCms='1501645196000' class='quanto-date posted-at response-posted-at' href='#5981498c0a04174368db51f4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@jacob, thanks for that. I did have a look at the documentation which is what lead me to think that prediction would be the predicted price move. Based on the documentation, my understanding is that RandomForestClassifier is typically used to classify the data by class labels, but if the parameters to Y are real numbers then it does a regression. In our case Y is daily price moves so I would expect prediction to be an estimated price move based on regression, correct? I also tried RandomForestRegressor which seemed to give similar results.</p>

<p>I was trying to understand the rationale behind selecting the cutoffs for prediction. If prediction is an estimated price move it would make sense to me to have the cutoff based on a % move rather than a per share $ price move. When I tried that the whole algorithm falls apart so I suspect I&#39;m misunderstanding something somewhere.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5981d2d00a04174baddb536b' id='5981d2d00a04174baddb536b'>
<a href='#5981d2d00a04174baddb536b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5927b6c43bb50e00102e0874'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e142e72937566acd06a949a62de2974a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5927b6c43bb50e00102e0874'>luis de la rosa</a>
</div>
<a UTCms='1501680336000' class='quanto-date posted-at response-posted-at' href='#5981d2d00a04174baddb536b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yea, I&#39;m currently working with a developer to build a virtual deep learning machine using AWS. will see how it does.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5981d8b40a04174368db59c9' id='5981d8b40a04174368db59c9'>
<a href='#5981d8b40a04174368db59c9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57c9a68037d1ae0449000348'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5fb2560f4a4e46a39eeb9aabb7c4d51f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57c9a68037d1ae0449000348'>John Glossner</a>
</div>
<a UTCms='1501681844000' class='quanto-date posted-at response-posted-at' href='#5981d8b40a04174368db59c9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@luis de la rosa you may find <a href="https://cloud.google.com/solutions/machine-learning-with-financial-time-series-data">this link</a> interesting.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5982d418a3875c0010702326' id='5982d418a3875c0010702326'>
<a href='#5982d418a3875c0010702326'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1501746200000' class='quanto-date posted-at response-posted-at' href='#5982d418a3875c0010702326'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>deep learning is not possible on quantopian - you would need far too much ram</p>
</blockquote>

<p>Just want to add to this for newer members wondering what you can do, don&#39;t let the deep learning limitation talk dissuade you unless you&#39;re also into extreme number crunching. Especially since the recent doubling of ram on Quantopian, as I keep throwing more and more code into a minute, I haven&#39;t been hitting a ceiling and am impressed.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59832cc3420ebf5f46963153' id='59832cc3420ebf5f46963153'>
<a href='#59832cc3420ebf5f46963153'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5963cf7fcdc0ce000d577124'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fa024d4b0f18a2d76881618aee6d1fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5963cf7fcdc0ce000d577124'>Josh Christensen</a>
</div>
<a UTCms='1501768899000' class='quanto-date posted-at response-posted-at' href='#59832cc3420ebf5f46963153'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I started paper trading this algorithm two days ago and ever morbingnit keeps selling positions it doesn&#39;t own - I assume those are shorts which I can&#39;t do in robinhood? What is interesting though is that it seems to believe that it no longer holds positions in stocks that im never seeing a sell order for that I bought the day prior  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5983db3078a364000d7b4fd7' id='5983db3078a364000d7b4fd7'>
<a href='#5983db3078a364000d7b4fd7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1501813552000' class='quanto-date posted-at response-posted-at' href='#5983db3078a364000d7b4fd7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Blue : i deleted the comment, It can be done  - i did it on the most basic level i could think of. so technically i was wrong.<br>
it didnt do anything - but it ran lol. </p>

<p>@ Josh Christensen: I need to know which one you are paper trading... some versions had very little logic involved in making orders.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5984cb692dedca30887c508d' id='5984cb692dedca30887c508d'>
<a href='#5984cb692dedca30887c508d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5720be1314fd3442dd0005f9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/bedc8c182474574749e3128e6c725942?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5720be1314fd3442dd0005f9'>Shaan Shah</a>
</div>
<a UTCms='1501875049000' class='quanto-date posted-at response-posted-at' href='#5984cb692dedca30887c508d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@jacob shrum I found the same problem as @Josh Christensen with the Robinhood version of the algo.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5985f884c02015000debb107' id='5985f884c02015000debb107'>
<a href='#5985f884c02015000debb107'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5267ab66049a4d18e80000a8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c3d6ba02edacd019757ccee547c3603?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5267ab66049a4d18e80000a8'>Ben Ng</a>
</div>
<a UTCms='1501952132000' class='quanto-date posted-at response-posted-at' href='#5985f884c02015000debb107'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I was trying to use the optimizer API to place constraints on Beta. However, I get the following error: </p>

<pre><code>TypeError: ufunc &#39;isnan&#39; not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule &#39;&#39;safe&#39;&#39;  
</code></pre>

<p>when i do the following:</p>

<pre><code>     constrain_beta = opt.WeightedExposure(  
         loadings=pd.DataFrame({&#39;market_beta&#39;: context.market_beta.fillna(1.0)}),  
         min_exposures={&#39;market_beta&#39;: 0},  
         max_exposures={&#39;market_beta&#39;: 0.5},  
     )  
</code></pre>

<p>Is there anything that i&#39;m doing wrong?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59860b0398cb7501f6e898d0' id='59860b0398cb7501f6e898d0'>
<a href='#59860b0398cb7501f6e898d0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5736586a61368a4de50002de'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/cdb82225ba915d0c91a4d54ddb17b0bc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5736586a61368a4de50002de'>Kyle Szela</a>
</div>
<a UTCms='1501956867000' class='quanto-date posted-at response-posted-at' href='#59860b0398cb7501f6e898d0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Your random forest isn&#39;t doing anything.  You&#39;re feeding in a single row of data with a single value to predict, which it does flawlessly since you&#39;re giving it 500 trees.  It then just returns the value you had it learn, because that&#39;s the only row it has ever seen.  To validate this, I&#39;ve removed any mention of the random forest model and instead fed forward the value that you had wanted it to learn to predict, and it has performed the same.  Not saying the algo doesn&#39;t work, it&#39;s just not because of machine learning.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59868ee0b64d45000d3f6c4f' id='59868ee0b64d45000d3f6c4f'>
<a href='#59868ee0b64d45000d3f6c4f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1501990624000' class='quanto-date posted-at response-posted-at' href='#59868ee0b64d45000d3f6c4f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Actually, you can <strong>run it with default trees.. you get the same result</strong>... so its not due to the number of trees either. </p>

<p>I take a learn as I go approach to this stuff since I&#39;m teaching myself (im a junior in college and academia is hideously slow IMO). I&#39;ll take care to include that in my posts from now on since I&#39;d rather not have people think I&#39;m posting this with any &quot;authority&quot; for lack of a better term. </p>

<p>Also, that ML model is taken right from a post by someone at quantopian. I doubt its &quot;not doing anything&quot;  the model is vital to its performance as far as I understand it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59869c52b64d45000d3f6d9c' id='59869c52b64d45000d3f6d9c'>
<a href='#59869c52b64d45000d3f6d9c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5267ab66049a4d18e80000a8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c3d6ba02edacd019757ccee547c3603?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5267ab66049a4d18e80000a8'>Ben Ng</a>
</div>
<a UTCms='1501994066000' class='quanto-date posted-at response-posted-at' href='#59869c52b64d45000d3f6d9c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Jacob, it was an interesting post where I personally learnt from too!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598779ebb64d4500103f7ad3' id='598779ebb64d4500103f7ad3'>
<a href='#598779ebb64d4500103f7ad3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57893ee5cc53bfa2d2000043'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d9253eb2a2c5c0118a7c479af42dc42f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57893ee5cc53bfa2d2000043'>ryan clous</a>
</div>
<a UTCms='1502050795000' class='quanto-date posted-at response-posted-at' href='#598779ebb64d4500103f7ad3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Good stuff,<br>
So I rewrote this portion :  (0.35*st.bull_scored_messages.latest) &gt;( st.bear_scored_messages.latest) )<br>
to this: ( (st.bull_scored_messages.latest)/(( st.bear_scored_messages.latest)+(st.bull_scored_messages.latest)) &gt; 0.74 )<br>
Essentially the same result.</p>

<p>Anyhow, my suggestion is that you take that &gt;x where x equals a base value (0.74) +- a beta filter. For example, more bearish SPY or QQQ is, the higher the x value needs to be, the more bullish the market is, the lower that value is. This will help you harness beta surges and diminish beta downturns .</p>

<p>I will work experimenting w/ this, but I am unsure how to pull the sentiment on one particular stock.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598787a762abac73a29ee476' id='598787a762abac73a29ee476'>
<a href='#598787a762abac73a29ee476'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1502054311000' class='quanto-date posted-at response-posted-at' href='#598787a762abac73a29ee476'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Ryan Clous:<br>
 from odo import odo<br>
from pandas import pd<br>
build the data frame with all the attributes you want and then just reference them as you go. </p>

<p>Notebook attached has everything you&#39;d need i believe.</p>

<p>i assume youre doing more than something that just requires<br>
... pipe.add(memes , [&#39;Best Memes&#39;])
... context.results = pipeline_output(&#39;Custom_pipeline&#39;)
... context.results[&#39;Best Memes&#39;]</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5988b7de109bd8085d7e94cb' id='5988b7de109bd8085d7e94cb'>
<a href='#5988b7de109bd8085d7e94cb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5963cf7fcdc0ce000d577124'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fa024d4b0f18a2d76881618aee6d1fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5963cf7fcdc0ce000d577124'>Josh Christensen</a>
</div>
<a UTCms='1502132190000' class='quanto-date posted-at response-posted-at' href='#5988b7de109bd8085d7e94cb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am still having the issue where the algorithm is selling stock that the portfolio does not and never has owned, but these are not short positions.  Additionally, it is somehow not holding a position in some stocks that it never sold.  Its almost like the algorithm is selling stocks that it never owned instead of selling stocks that it did own, and for some reason it thinks that that process is liquidating its position. </p>

<p>This is for both the unhedged version and the robinhood version. </p>

<p>I know someone else is experiencing this paper trading it as well. Can&#39;t find any explanation for what I am seeing. </p>

<p>I started this one on 8/3 - so it filled its first orders on 8/4.  Here are the buy/sell orders for 8/4 and 8/7.</p>

<p><strong>8/4:</strong><br>
4 V<br>
4 JPM<br>
7 A<br>
ILMN 2<br>
EXEL 17<br>
RIG 48<br>
SYMC 14<br>
C 6<br>
BAC 17</p>

<p><strong>8/7:</strong><br>
CLVS -4<br>
WMT -4<br>
XEL -6<br>
S -38<br>
CTSH -4<br>
INTC -9<br>
CSCO -10<br>
X -14<br>
AET -2<br>
EXEL -12<br>
MSFT -4<br>
BAC -13<br>
NVDA 23</p>

<p>It thinks its only current position is 23 NVDA</p>

<p>This means it believes it never sold V or JPM or a number of others, but doesn&#39;t currently hold positions in those? Additionally it thinks it sold MSFT, a position it never held.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5988ec81471a47000d6207c8' id='5988ec81471a47000d6207c8'>
<a href='#5988ec81471a47000d6207c8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1502145665000' class='quanto-date posted-at response-posted-at' href='#5988ec81471a47000d6207c8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Solution  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5989c93270ad22484a211a33' id='5989c93270ad22484a211a33'>
<a href='#5989c93270ad22484a211a33'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5963cf7fcdc0ce000d577124'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fa024d4b0f18a2d76881618aee6d1fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5963cf7fcdc0ce000d577124'>Josh Christensen</a>
</div>
<a UTCms='1502202162000' class='quanto-date posted-at response-posted-at' href='#5989c93270ad22484a211a33'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, I will look into the solution later today.  I briefly looked it over and it seemed to make sense.  I am still very new to python so I appreciate the help.  </p>

<p>Question: why restrict this to the Q500 instead of the Q1500?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5989e6ce9216d2000d3aced9' id='5989e6ce9216d2000d3aced9'>
<a href='#5989e6ce9216d2000d3aced9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5736586a61368a4de50002de'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/cdb82225ba915d0c91a4d54ddb17b0bc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5736586a61368a4de50002de'>Kyle Szela</a>
</div>
<a UTCms='1502209742000' class='quanto-date posted-at response-posted-at' href='#5989e6ce9216d2000d3aced9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah, it&#39;s mainly because you are feeding in a single row of data.  You can&#39;t expect the random forest to learn anything other than what you gave it with a single row.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598a3e415d44f10010c06047' id='598a3e415d44f10010c06047'>
<a href='#598a3e415d44f10010c06047'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1502232129000' class='quanto-date posted-at response-posted-at' href='#598a3e415d44f10010c06047'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Josh Cristensen I may make a notebook on Q1500 vs Q500, but, in general, the Q1500 is far too volatile. Almost all algorithms do better when only looking at the Q500.... that said i havent actually checked....<br>
<strong>checking now</strong></p>

<p>Edit: Q500 is better in every way.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598a8ed59e35ba000db74605' id='598a8ed59e35ba000db74605'>
<a href='#598a8ed59e35ba000db74605'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57893ee5cc53bfa2d2000043'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d9253eb2a2c5c0118a7c479af42dc42f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57893ee5cc53bfa2d2000043'>ryan clous</a>
</div>
<a UTCms='1502252757000' class='quanto-date posted-at response-posted-at' href='#598a8ed59e35ba000db74605'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tried the q1500, could be of some use with more extensive modeling, but underperformed in my permutations.</p>

<p>Is there a way to pull the trending stocks from stocktwits? I think those might be nice to add to the universe for some alpha discovery.</p>

<p>As for the ordering problem, I just defined sell at open and buy 30 minutes later. Took a 50% hit on returns, but it is still a decent return.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598c35c8670fae000da6cab5' id='598c35c8670fae000da6cab5'>
<a href='#598c35c8670fae000da6cab5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1502361032000' class='quanto-date posted-at response-posted-at' href='#598c35c8670fae000da6cab5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is there a way? </p>

<p>of course. </p>

<p>you just have to be determined - stocktwits has an API. I&#39;ll be on vacation for the next 4 days (ill be working - I hate vacations, but the fam wants to go on vacation - laptop lifestyle FTW) . if I find time, I&#39;ll do that and make a post about how to do such a thing - <strong>shouldn&#39;t</strong> be too hard.</p>

<p>Edit... id be surprised if &quot;Trending&quot; was not just that with the highest &quot;total_scanned_messages&quot;....  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598c9d738d7662361484d29c' id='598c9d738d7662361484d29c'>
<a href='#598c9d738d7662361484d29c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f1fe573df0166ec00001ed'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f7a981fa19c77ab0979fdbad32fbaf0f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f1fe573df0166ec00001ed'>Delman Woodrum</a>
</div>
<a UTCms='1502387571000' class='quanto-date posted-at response-posted-at' href='#598c9d738d7662361484d29c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Kyle</p>

<p>If the machine learning is being fed with just a single row of data, can it still learn from that? Or is it ineffective?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598e4679d63f94001095bf2e' id='598e4679d63f94001095bf2e'>
<a href='#598e4679d63f94001095bf2e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57893ee5cc53bfa2d2000043'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d9253eb2a2c5c0118a7c479af42dc42f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57893ee5cc53bfa2d2000043'>ryan clous</a>
</div>
<a UTCms='1502496377000' class='quanto-date posted-at response-posted-at' href='#598e4679d63f94001095bf2e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey everyone,<br>
If you replace the random forest classifier with from sklearn.tree import DecisionTreeClassifier, you can run backtests on these faster. No difference in results.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598e575f260f5d000d8f51d3' id='598e575f260f5d000d8f51d3'>
<a href='#598e575f260f5d000d8f51d3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f1fe573df0166ec00001ed'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f7a981fa19c77ab0979fdbad32fbaf0f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f1fe573df0166ec00001ed'>Delman Woodrum</a>
</div>
<a UTCms='1502500703000' class='quanto-date posted-at response-posted-at' href='#598e575f260f5d000d8f51d3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is it still effective, using only one input to make predictions? It seems like it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5990cb8232aec6000d05b433' id='5990cb8232aec6000d05b433'>
<a href='#5990cb8232aec6000d05b433'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57893ee5cc53bfa2d2000043'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d9253eb2a2c5c0118a7c479af42dc42f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57893ee5cc53bfa2d2000043'>ryan clous</a>
</div>
<a UTCms='1502661506000' class='quanto-date posted-at response-posted-at' href='#5990cb8232aec6000d05b433'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@jacob<br>
I tried to add the top ten securities w/ total scanned messages to a new pipeline, but I cannot do 2 pipelines. I can figure this out, but it would take me a long while as I just learn as I go and am a huge novice when it comes to these things.</p>

<p>Furthermore,I actually saw some promise with working with the default_us_equity_universe_mask, but I got caught up on an error on the model fit, so I had to scratch it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5990cc1dfcfa73000d72ac60' id='5990cc1dfcfa73000d72ac60'>
<a href='#5990cc1dfcfa73000d72ac60'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57893ee5cc53bfa2d2000043'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d9253eb2a2c5c0118a7c479af42dc42f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57893ee5cc53bfa2d2000043'>ryan clous</a>
</div>
<a UTCms='1502661661000' class='quanto-date posted-at response-posted-at' href='#5990cc1dfcfa73000d72ac60'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@jacob<br>
Also trending has a minimum price of $5 on ST  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59957421a0bd50000d6cbf4a' id='59957421a0bd50000d6cbf4a'>
<a href='#59957421a0bd50000d6cbf4a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5995726d923ce9000de3489d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/19faf988285f03f7869b97860e3b36a8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5995726d923ce9000de3489d'>King Kantona</a>
</div>
<a UTCms='1502966817000' class='quanto-date posted-at response-posted-at' href='#59957421a0bd50000d6cbf4a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@jacob<br>
Can&#39;t seem to run the algo. It was working fine the last few days.</p>

<p>Got the following error message when trying to backtest:<br>
TypeError: Expected str, got unicode<br>
There was a runtime error on line 33.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59959327d9af0600103d42e8' id='59959327d9af0600103d42e8'>
<a href='#59959327d9af0600103d42e8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5962266b4dbc2f000d35ad39'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5e10e0d06ddea7bed40539e415ad8826?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5962266b4dbc2f000d35ad39'>Ron Li</a>
</div>
<a UTCms='1502974759000' class='quanto-date posted-at response-posted-at' href='#59959327d9af0600103d42e8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @King Kantona,</p>

<p>I am live trading it, and it got stopped with the same error this morning.</p>

<p>I&#39;ve received an email from Quantopian telling me than &quot;We wanted to notify you that due to a problem with our Pipeline API this morning, your live trading algorithm(s) raised an error and stopped. &quot;</p>

<p>I have deployed it again now and it is working Ok.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5998584feabe6b00104ef658' id='5998584feabe6b00104ef658'>
<a href='#5998584feabe6b00104ef658'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57255c0c05b249ff21000333'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9c1c60cf23753eece072d3a903ecf7b7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57255c0c05b249ff21000333'>Honver Lam</a>
</div>
<a UTCms='1503156303000' class='quanto-date posted-at response-posted-at' href='#5998584feabe6b00104ef658'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><pre><code>            if Y[0] &gt; -0.5:  
                print(str(sec.symbol) +  &quot; | &quot; + str(Y[0]))  
                if sec not in context.portfolio.positions:  
                    context.longs.append(sec)  
            #For hedging...

            if Y[0] &lt; -1.0:  
                if sec not in context.portfolio.positions:  
                    context.shorts.append(sec)  
</code></pre>

<p>According to this code, doesn&#39;t it bias the entries to large stocks because the -0.5 and -1.0 price changes aren&#39;t normalized?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='599aedf4c6df84000ddd67ee' id='599aedf4c6df84000ddd67ee'>
<a href='#599aedf4c6df84000ddd67ee'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5963cf7fcdc0ce000d577124'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fa024d4b0f18a2d76881618aee6d1fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5963cf7fcdc0ce000d577124'>Josh Christensen</a>
</div>
<a UTCms='1503325684000' class='quanto-date posted-at response-posted-at' href='#599aedf4c6df84000ddd67ee'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anyone else using this in robinhood live and have it not purchase any stocks this morning?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='599bb3d7c3cac40010b9cc5e' id='599bb3d7c3cac40010b9cc5e'>
<a href='#599bb3d7c3cac40010b9cc5e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57893ee5cc53bfa2d2000043'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d9253eb2a2c5c0118a7c479af42dc42f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57893ee5cc53bfa2d2000043'>ryan clous</a>
</div>
<a UTCms='1503376343000' class='quanto-date posted-at response-posted-at' href='#599bb3d7c3cac40010b9cc5e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Honver,<br>
Yes it is biased , you could potentially change it to a percentage increase to really normalize the data.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a441bc307fd70010889176' id='59a441bc307fd70010889176'>
<a href='#59a441bc307fd70010889176'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/596d3718a62d410b1fc56f66'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b707adea78160bde0c397c98a153830f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/596d3718a62d410b1fc56f66'>Jake Moilanen</a>
</div>
<a UTCms='1503936956000' class='quanto-date posted-at response-posted-at' href='#59a441bc307fd70010889176'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In lieu of brokerage shutdown, has anyone figure out how to get this data outside Quantopian?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59c02c593d5f81000d2c675d' id='59c02c593d5f81000d2c675d'>
<a href='#59c02c593d5f81000d2c675d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1505766489000' class='quanto-date posted-at response-posted-at' href='#59c02c593d5f81000d2c675d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You cant, its against the TOS.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59c3e6119f90c6500a81f0ff' id='59c3e6119f90c6500a81f0ff'>
<a href='#59c3e6119f90c6500a81f0ff'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/596d3718a62d410b1fc56f66'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b707adea78160bde0c397c98a153830f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/596d3718a62d410b1fc56f66'>Jake Moilanen</a>
</div>
<a UTCms='1506010641000' class='quanto-date posted-at response-posted-at' href='#59c3e6119f90c6500a81f0ff'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m not wanting to use Quantopian&#39;s license of the data, but rather get the data from some place outside of Quantopian so I can still trade on it.</p>

<p>I contacted Psychsignals about licensing the data directly.  It was $1k/month, which is high when the algo I&#39;m using doesn&#39;t scale to the point to make it worth it.</p>

<p>Not sure is psychsignals will allow it, but I would be interested in splitting a subscription w/ some people. </p>

<p>My backup plan is to build the data myself. I have a basic proof-of-concept running right now.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59c518ecea38d8000d022a75' id='59c518ecea38d8000d022a75'>
<a href='#59c518ecea38d8000d022a75'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1506089196000' class='quanto-date posted-at response-posted-at' href='#59c518ecea38d8000d022a75'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A few comments on this algorithm.  </p>

<p>First, thanks Jacob for sharing your work.  It is always interesting to review other&#39;s idea.  </p>

<p>1-  I agree with Kyle on the fact that the RandomTreeClassifer does nothing.  The algo feeds it a single sample and expects it to learn the next day price change.  This does not work.  Train a regressor on a single sample and regardless of the test sample, it will return the training target.  See my notebook on this.</p>

<p>2- Based on the above, the test that the algo does at around line 95:  if  prediction &gt; -0.5:  essentially means that you are testing that the price change of the previous day must be -0.5$ or more.  This is an absolute price change, regardless of the underlying equity.  This test makes no sense.  A stock of 100$ will have the same test as a stock trading at 10$.  </p>

<p>3- I don&#39;t understand validity of the sma filter, its rational.  A stock that has been trading higher in the last 10 days  than the previous 50 is worth considering but not otherwise?  Please explain.  I know it works better with it, but still I don&#39;t understand it.</p>

<p>/Luc</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59c5193dea38d86c82021bb9' id='59c5193dea38d86c82021bb9'>
<a href='#59c5193dea38d86c82021bb9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1506089277000' class='quanto-date posted-at response-posted-at' href='#59c5193dea38d86c82021bb9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Regardless of the above, there seems to be some alpha signal in tweets.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59e5469204d3ef0006710807' id='59e5469204d3ef0006710807'>
<a href='#59e5469204d3ef0006710807'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58794da090925a000abd5ca3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18f509f82da972d016ae90ca4489a17b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58794da090925a000abd5ca3'>jacob shrum</a>
</div>
<a UTCms='1508198034000' class='quanto-date posted-at response-posted-at' href='#59e5469204d3ef0006710807'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So that&#39;s how you get all those plots in an Y x Z formation... Thanks for that. I wanted to post information on alpha&#39;s between different data sets but the notebook was far too long and you couldn&#39;t see more than one graph at a time, making the comparison nearly impossible to make.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59e6096fc98810417636a474' id='59e6096fc98810417636a474'>
<a href='#59e6096fc98810417636a474'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1508247919000' class='quanto-date posted-at response-posted-at' href='#59e6096fc98810417636a474'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Jacob,</p>

<p>Oupps..  I misread your message and went on to a super long answer.  I&#39;ll leave it below anyways.</p>

<p>Yeah, for the graphs, its pretty cool.  I learned how to do it from another Quantopian (can&#39;t remember who).</p>

<p>I had to read through my Notebook again.  Not much text in there... It is a little bit cryptic.  But the gist of it is that the notebook tries to explore if the data(bear score message, bull score message, and the various moving averages) can be combined to create predictive signals.  Similarly to your algo, It calculates two signals (amongst others):</p>

<p>prices[&#39;feat_3&#39;] = prices[&#39;sma10&#39;] - prices[&#39;sma50&#39;]<br>
prices[&#39;feat_5&#39;] = prices[&#39;bull&#39;]*0.35 - prices[&#39;bear&#39;]</p>

<p>Then, it calculates y, where y is 1 if the stock went up and -1 if it went down.  We could use the actual gain, but it tougher to see.  Then I generate the plots.  The plots show clouds of dots, where the light green ones are when the stock went down, and dark green ones are for when the stock went the other way.  If the clouds are somewhat separable (even if a little bit) then it is a good indicator that the underlying signals have some predictive power.  Otherwise, no.</p>

<p>For example, feat_1 and feat_3, we see that most of the outliers are light green, and as such there is a chance that whenever the two indicators fall in that region, we could assume that the stock will tank.  In this case, when the number of bear counts is high.  We can also see that the number of bull counts is not very indicative.</p>

<p>Hope it helps.</p>

<p>/Luc</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59eb7a1a25ca1d00060fd3d3' id='59eb7a1a25ca1d00060fd3d3'>
<a href='#59eb7a1a25ca1d00060fd3d3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57c834cab40b1ba6a90004aa'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0ca1a2d440ee145b17f4581253aa738e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57c834cab40b1ba6a90004aa'>Kris Law</a>
</div>
<a UTCms='1508604442000' class='quanto-date posted-at response-posted-at' href='#59eb7a1a25ca1d00060fd3d3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>According to your Sharpe-Ratio,  Did you consider the Buy- Sell price range and commission fee?</p>

<p>Thank you so much.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/psychsignal-and-basic-machine-learning-models-v2-update-ordering-issue-solved-added-notebook-that-explains-reasoning'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/psychsignal-and-basic-machine-learning-models-v2-update-ordering-issue-solved-added-notebook-that-explains-reasoning'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#1d7b7878797f7c7e765d6c687c7369726d747c73337e7270">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
