<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
The Gold King And His Knights
</title>
<meta content='There are a multitude of tweaks to the &quot;Bottom Feeder Bandit&quot;. Now this is dubbed, &quot;The Gold King And His Knights&quot;. It seems to do extraordinarily well except when the stock market keeps hitting all-time record highs. I&#39;m guessing here. I didn&#39;t &quot;check my facts&quot;. This one shows great potential though.' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="G0zj9M3+22xLzqxwgkyhXEaFgDTVvlWNOygSsECuVohnKpW5bwgJj/LT9UHNowkofgujXa9yQJa5J8na6us0Mw==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/the-gold-king-and-his-knights' property='og:url'>
<meta content='The Gold King And His Knights' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/the-gold-king-and-his-knights' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='The Gold King And His Knights' property='og:title'>
<meta content='There are a multitude of tweaks to the &quot;Bottom Feeder Bandit&quot;. Now this is dubbed, &quot;The Gold King And His Knights&quot;. It seems to do extraordinarily well except when the stock market keeps hitting all-time record highs. I&#39;m guessing here. I didn&#39;t &quot;check my facts&quot;. This one shows great potential though.' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/the-gold-king-and-his-knights">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='57867bb6d3adfcdaf2000341'>
<div class='post-container' data-post-id='57867bb6d3adfcdaf2000341' id='57867bb6d3adfcdaf2000341'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>The Gold King And His Knights</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1468431286000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=The Gold King And His Knights&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fthe-gold-king-and-his-knights%3Futm_source%3Dwebsite_share%26utm_campaign%3Dthe-gold-king-and-his-knights%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fthe-gold-king-and-his-knights%3Futm_source%3Dwebsite_share%26utm_campaign%3Dthe-gold-king-and-his-knights%26utm_medium%3Dlinkedin&amp;title=The+Gold+King+And+His+Knights+%28Charles+Witt%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Getting Started' data-tag-id='55c50e7d8d4710ec6e000004' href='/posts/tag/Getting-Started/newest'>Getting Started</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Portfolio Optimization' data-tag-id='55d33f293f6ba10061000000' href='/posts/tag/Portfolio-Optimization/newest'>Portfolio Optimization</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Pipeline' data-tag-id='561525bcf252a59171000001' href='/posts/tag/Pipeline/newest'>Pipeline</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/the-gold-king-and-his-knights?utm_source=website_share&amp;utm_campaign=the-gold-king-and-his-knights&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Charles Witt" />
<div class='body-text'>
<div class='body-text-container post-body'><p>There are a multitude of tweaks to the &quot;Bottom Feeder Bandit&quot;. Now this is dubbed, &quot;The Gold King And His Knights&quot;.<br>
It seems to do extraordinarily well except when the stock market keeps hitting all-time record highs. I&#39;m guessing here. I didn&#39;t &quot;check my facts&quot;. This one shows great potential though.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>198 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='57881e88bf0d5b014a000261' id='57881e88bf0d5b014a000261'>
<a href='#57881e88bf0d5b014a000261'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1468538510000' class='quanto-date posted-at response-posted-at' href='#57881e88bf0d5b014a000261'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Found some major bugs in my logic. More thorough backtesting to follow. But the fixes are already in here.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5788281a715ba54e180002c1' id='5788281a715ba54e180002c1'>
<a href='#5788281a715ba54e180002c1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1468540960000' class='quanto-date posted-at response-posted-at' href='#5788281a715ba54e180002c1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles,</p>

<p>I have not looked at the logic of your algo or assessed its returns, but I am a big fan of the naming conventions. Every algo deserves a good title....  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5788d888715ba5922300033e' id='5788d888715ba5922300033e'>
<a href='#5788d888715ba5922300033e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1468586127000' class='quanto-date posted-at response-posted-at' href='#5788d888715ba5922300033e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok, so here is a backtest similar time span as the original. I gotta research what is fundamentally different starting Jan 2013. I suspect that gold does horrible after that point because of the stock market doing so well. It&#39;s also interesting that something about the mechanics of my original flawed logic was causing noticeably better results during the time before Jan 2013. Things that make you go hmmmm.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5788ff949c8760c0d90004b2' id='5788ff949c8760c0d90004b2'>
<a href='#5788ff949c8760c0d90004b2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1468596121000' class='quanto-date posted-at response-posted-at' href='#5788ff949c8760c0d90004b2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have made alot of tweaks here. Big improvement I think. Still considering what to do about April 2013 forward.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578a373f24aa5cf4f90007ef' id='578a373f24aa5cf4f90007ef'>
<a href='#578a373f24aa5cf4f90007ef'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1468675912000' class='quanto-date posted-at response-posted-at' href='#578a373f24aa5cf4f90007ef'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok, a huge improvement here. Room for more improvement obviously.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578a5cd29002f715fa0008fc' id='578a5cd29002f715fa0008fc'>
<a href='#578a5cd29002f715fa0008fc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1468685529000' class='quanto-date posted-at response-posted-at' href='#578a5cd29002f715fa0008fc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles ,</p>

<p>If you replace GLD by TLT  you will get <strong>The Bond King And His Knights</strong>.<br>
Inspired by <a href="https://anthonyfjgarner.net/2016/07/16/simple-system-us-markets-back-to-1870/">Anthony FJ Garner post</a>.<br>
Who is the King of Kings?</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578c5c06e6d33f39bc00041c' id='578c5c06e6d33f39bc00041c'>
<a href='#578c5c06e6d33f39bc00041c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1468816395000' class='quanto-date posted-at response-posted-at' href='#578c5c06e6d33f39bc00041c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Nice Vladimir! I haven&#39;t checked yet. Is that all you did was swap the GLD for TLT? Wow, either way.</p>

<p>Ok, here is my latest version. Another huge improvement. I swapped the GLD for IAU IShares Gold. This one works even for small portfolios because of the smaller price and the mechanics of my algorithm.<br>
Other improvements are:<br>
Virtual trailing stop loss<br>
Randomness in each rebalancing&#39;s stock picks (other than the gold one)<br>
Adjusted the take profit target to 12.5%. Others which might work are 3% or 25%. So far I think the 12.5% may be about right.<br>
Rebalancing happens only when triggered and never while at a loss<br>
While at a loss, holdings are sold at close to cost basis, and rebalancing does not happen... no new purchases</p>

<p>I have some ideas for more tweaking. But technically this is my first successful algorithm to beat the S&amp;P500 from 2010 forward. So I shared it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578dd3baeffdf2a431000079' id='578dd3baeffdf2a431000079'>
<a href='#578dd3baeffdf2a431000079'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1468912575000' class='quanto-date posted-at response-posted-at' href='#578dd3baeffdf2a431000079'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok folks, this is a huge improvement. Check this out!<br>
I made some more tweaks.<br>
I changed the factor of the rebalance trigger.<br>
I changed the conditions under which Wait is triggered.<br>
This is my best one yet! Hopefully, the results are not somehow skewed.<br>
I don&#39;t think that I am guilty yet of overfitting.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578dd75e37c2aa49a900076f' id='578dd75e37c2aa49a900076f'>
<a href='#578dd75e37c2aa49a900076f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1468913510000' class='quanto-date posted-at response-posted-at' href='#578dd75e37c2aa49a900076f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles<br>
Would you indulge me and set out briefly the thinking behind your algo?</p>

<p>I am running the algo  back to 2002 but I am not sure whether slippage, comm and the borrowing costs of shorting are accounting for. Also the handing back of dividends. I suspect not but perhaps certain defaults are automatically included in the Q code.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578e19e12c7a60cc71000152' id='578e19e12c7a60cc71000152'>
<a href='#578e19e12c7a60cc71000152'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1468930534000' class='quanto-date posted-at response-posted-at' href='#578e19e12c7a60cc71000152'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hopeless:</p>

<blockquote>
<p>Something went wrong. Sorry for the inconvenience. Try using the built-in debugger to analyze your code. If you would like help, send us an email.  </p>
</blockquote>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578f14592c7a60fa160004e9' id='578f14592c7a60fa160004e9'>
<a href='#578f14592c7a60fa160004e9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1468994661000' class='quanto-date posted-at response-posted-at' href='#578f14592c7a60fa160004e9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One things for sure. It doesn&#39;t scale, yet,  for larger portfolios. I&#39;ll work on that. I have an idea how to make it scale.</p>

<p>I just now added &quot;do not sell until at least the next day&quot; in order to not attempt pattern day trading transactions which otherwise causes excessive number of rejected sell attempts. The end result performance is very close to the same as before, but should have way fewer rejected orders.</p>

<p>I&#39;m not an expert investor. So my ideas are perhaps naive, if not uninformed.</p>

<p>Gold tends to do opposite of market during downturns. So I have a relatively small weight  of gold at all times to counter downturns. I noticed that gold also seems to do well at least some of the time that the market is going up.</p>

<p>I made the one best performing stock of my pipeline the &quot;king&quot; part of the gold king. The idea is the best performing stock may have momentum and may continue. I will, at some point, make this scale to portfolio size.</p>

<p>Under current configuration, there are at least 23 worst performing stocks that we attempt to invest in. The idea is that if we are invested in a large enough number of worst performing stocks, a profitable number of them will bounce back up at least temporarily, long enough to take profit. I will, at some point, make this scale to portfolio size.</p>

<p>When I sell a stock in my positions that is no longer in my favorite list, I sell only 20% of it per day. I noticed that often downturns are reversed within 2 to 3 days. So the 20% per day does not completely liquidate my positions for 5 days and allows for at least a partial recovery of the market for that stock.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5790a6d476bfd511120005a3' id='5790a6d476bfd511120005a3'>
<a href='#5790a6d476bfd511120005a3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469097689000' class='quanto-date posted-at response-posted-at' href='#5790a6d476bfd511120005a3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Funny story! 8)<br>
I was in the doctor&#39;s office with my wife discussing her chronic pain / trigeminal neuralgia. My subconscious must have been still working on the algorithm. Because, all of a sudden, I had an epiphany, &quot;else stop wait&quot; will make the algorithm behave like I was expecting it to. Sure enough, gigantic improvements. Then, just now, I decided to make an attempt at making the algorithm scale to whatever portfolio size you throw at it. Well, 100,000,000 keeps up with the benchmark, but not good enough obviously. However, the change in code to make it scale to portfolio size also bumped the speed and results even higher for the smaller portfolios. I suspect it does very well even for large portfolios, but I&#39;m not sure yet at what size the results start dragging down to benchmark level. I&#39;ll keep working on it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579135e6432bd23acf00010d' id='579135e6432bd23acf00010d'>
<a href='#579135e6432bd23acf00010d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5628c5b567e391cc810004b5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/782769ba8fd76fc1db327ed36223a655?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5628c5b567e391cc810004b5'>Andrew Martin</a>
</div>
<a UTCms='1469134316000' class='quanto-date posted-at response-posted-at' href='#579135e6432bd23acf00010d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles,</p>

<p>I&#39;m starting to dig into this code as I&#39;m really curious, as I&#39;m sure a lot of others are.  Just a quick comment/question:</p>

<p>And anyone  please correct me if I&#39;m wrong... but the &#39;make_pipeline&#39; only gets called once (in initialize).  It would appear that you have variables within &#39;make_pipeline&#39; that you intended to change before each trading every day.  This is not the case, and as a result, &#39;HighVar&#39;, &#39;LowVar&#39;, &#39;TopVar&#39;, and &#39;BottomVar&#39; are fixed at a static value, which I don&#39;t think you intended.  </p>

<p>I don&#39;t yet know how this influences your intended strategy.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579152ac432bd243c1000219' id='579152ac432bd243c1000219'>
<a href='#579152ac432bd243c1000219'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1469141685000' class='quanto-date posted-at response-posted-at' href='#579152ac432bd243c1000219'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It&#39;s initialized each trading day  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57917e540666081dad0002f0' id='57917e540666081dad0002f0'>
<a href='#57917e540666081dad0002f0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469152858000' class='quanto-date posted-at response-posted-at' href='#57917e540666081dad0002f0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Filthy Robinhood peasant here: How does this algo perform going long only? The results so far look really good! Nice work Charles!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579182f576bfd51112000e77' id='579182f576bfd51112000e77'>
<a href='#579182f576bfd51112000e77'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5628c5b567e391cc810004b5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/782769ba8fd76fc1db327ed36223a655?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5628c5b567e391cc810004b5'>Andrew Martin</a>
</div>
<a UTCms='1469154042000' class='quanto-date posted-at response-posted-at' href='#579182f576bfd51112000e77'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>James - are you sure?  This is where I lack an understanding with the pipeline functionality in general, but I believe I am right.  If I hard code values for the 4 previously mentioned variables, I get the same stock picks and overall results as Charles original algo</p>

<p>Delman,  this is a long only strategy as is.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579189c9432bd23acf00039a' id='579189c9432bd23acf00039a'>
<a href='#579189c9432bd23acf00039a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1469155789000' class='quanto-date posted-at response-posted-at' href='#579189c9432bd23acf00039a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m not sure. It would seem reasonable that it&#39;s only initialized once in a backtest.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791959cf30759de0b000071' id='5791959cf30759de0b000071'>
<a href='#5791959cf30759de0b000071'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5628c5b567e391cc810004b5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/782769ba8fd76fc1db327ed36223a655?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5628c5b567e391cc810004b5'>Andrew Martin</a>
</div>
<a UTCms='1469158821000' class='quanto-date posted-at response-posted-at' href='#5791959cf30759de0b000071'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles - I swapped IAU with SPY to just throw a wrench into the theory.  Things didn&#39;t change much from the &#39;too good to be true&#39; results of your last post.  I&#39;ll continue to investigate when I find time, but I&#39;m just your average hobbyist that can get by with python  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791a5e100782023da0005bf' id='5791a5e100782023da0005bf'>
<a href='#5791a5e100782023da0005bf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1469162981000' class='quanto-date posted-at response-posted-at' href='#5791a5e100782023da0005bf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s the long only version. I think the bug in his randomization is irrelevant other than it might explain why it is sensitive to the amount of money in his account.</p>

<p>Like seriously, this feels like the first episode of silicon valley when the guys at hoolie are looking at Richard&#39;s compression for the first time and saying &quot;I don&#39;t think he realizes what he has&quot;.</p>

<p>What&#39;s crazy is that this still has room to squeeze in some other algorithm in the areas where it uses low leverage to get even more money.</p>

<p>Can someone from Q hide this thread from the public? If this isn&#39;t &quot;give a contract to the man&quot; material I don&#39;t know what is. This long only version seriously went a year and the max drawdown was 2%. It didn&#39;t go above that util halfway through my backtest. Charles deserves credit for what he&#39;s created.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791b65059e5027e07000d40' id='5791b65059e5027e07000d40'>
<a href='#5791b65059e5027e07000d40'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469167192000' class='quanto-date posted-at response-posted-at' href='#5791b65059e5027e07000d40'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi guys,<br>
Thanks for the nice and interesting comments! Way back close to when I first started messing with quantopian algorithm stuff, I had one backtest that showed outlandishly awesome results similar to this. The difference was that, upon digging, I discovered that it was treating me as if I had an extremely leveraged margin account. That is not the case here. I&#39;ve been through each line of code here. It feels real. Enough, that I put another couple grand of my own money on the live trade. Before it only had about 380 dollars. Only been live trading it, in effect for 2 days so far. The first day, I noticed alot of rejected pattern day trader sells, so I modified the code to avoid attempting those. yada yada yada ... Anyways, I hope this is real. It has a nice &quot;I built it&quot; feel to it! I have lost so much freakin sleep building this thing, I feel like a zombie half the time. It does feel surreal.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791b7790666081dad0004ab' id='5791b7790666081dad0004ab'>
<a href='#5791b7790666081dad0004ab'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469167490000' class='quanto-date posted-at response-posted-at' href='#5791b7790666081dad0004ab'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Whether or not the randomization attempt on my part is actually working, I&#39;m not sure yet. My logic for trying it, is that I don&#39;t want my algorithm to get tunnel vision and look at the same group of stocks day after day after day. Seems like too much chance of disaster that way. This way, it hopefully recovers, after bad days or after some of my stocks go bankrupt or whatever.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791b8b8007820054300064e' id='5791b8b8007820054300064e'>
<a href='#5791b8b8007820054300064e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469167809000' class='quanto-date posted-at response-posted-at' href='#5791b8b8007820054300064e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So, a bit of a huge request here knowing how much work you&#39;ve already put into it, but if you get time and don&#39;t feel like tweaking the &#39;meat&#39; of the algorithm, is there any chance you might be able to comment line-by-line or logic by logic so that newer coders such as myself might be able to get a better grasp on what&#39;s going on with the algo and how it ties together?</p>

<p>With that in mind, if you feel like keeping the logic to yourself, that&#39;s totally reasonable as well. You&#39;ve built an outstanding  algo here.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791b8c60666089b9b0007e7' id='5791b8c60666089b9b0007e7'>
<a href='#5791b8c60666089b9b0007e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1469167822000' class='quanto-date posted-at response-posted-at' href='#5791b8c60666089b9b0007e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is so interesting. Was not expecting such a high Sortino and Sharpe ratio  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791bba30666081dad0004d6' id='5791bba30666081dad0004d6'>
<a href='#5791bba30666081dad0004d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469168554000' class='quanto-date posted-at response-posted-at' href='#5791bba30666081dad0004d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The algorithm does need cleaning up and probably more commenting as well. If I don&#39;t have more itches to fix with this, then I will get around to clean up and better documentation. I&#39;m losing my job in mid October. Hopefully, this will provide some real income.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791bfbe432bd243c1000579' id='5791bfbe432bd243c1000579'>
<a href='#5791bfbe432bd243c1000579'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469169606000' class='quanto-date posted-at response-posted-at' href='#5791bfbe432bd243c1000579'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Running a backtest starting in 2006, there is an insane jump starting around late 2008. Any idea why this might be? Also, I&#39;m sorry to hear about you losing your job, and wish you luck in your next job search.</p>

<p>[Will attach a backtest once its done generating]</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791bfef59e5024e9c000d16' id='5791bfef59e5024e9c000d16'>
<a href='#5791bfef59e5024e9c000d16'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469169655000' class='quanto-date posted-at response-posted-at' href='#5791bfef59e5024e9c000d16'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I don&#39;t mind, per se, sharing the algorithm. This feels like it could work for the little guy.  Also, if the ideas get out there enough, hopefully it will be available for learning, or getting started. I mainly am trying to build a better one that works for my particular circumstances. I like how this algorithm tends to have at least some cash all the time. So if I need it, I can withdraw it without causing havoc with my portfolio. My goal is to have a large enough portfolio, that occasional withdrawal of cash for my needs will not effect it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791c9f4432bd243c10005bc' id='5791c9f4432bd243c10005bc'>
<a href='#5791c9f4432bd243c10005bc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469172220000' class='quanto-date posted-at response-posted-at' href='#5791c9f4432bd243c10005bc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also, I am an audiobook producer / narrator. It would be lovely to be able to spend my &quot;work&quot; time doing that instead of what is otherwise necessary to pay the bills. I enjoy audiobook creation, like it is art. I am way behind on my current audiobook contract. The author is being extremely patient with me. I feel intense motivation to create another source of income. This feels a bit surreal, but maybe it will work. My money is already in the live trade. I find myself having to resist the occasional urge to manually sell at a profit and wait and see if the algo does it for me.</p>

<p>My background and specialty is automation. That may have helped me with this, maybe.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791caec265338dc0c000083' id='5791caec265338dc0c000083'>
<a href='#5791caec265338dc0c000083'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469172473000' class='quanto-date posted-at response-posted-at' href='#5791caec265338dc0c000083'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The automation more than likely has a lot to do with the success of the algo if you&#39;ve already got the experience of &#39;thinking&#39; like a machine, so to speak.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791cb3a265338dc0c000087' id='5791cb3a265338dc0c000087'>
<a href='#5791cb3a265338dc0c000087'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469172551000' class='quanto-date posted-at response-posted-at' href='#5791cb3a265338dc0c000087'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>An itch to scratch in Q&#39;s code would be to not include cash deposits as part of the &quot;Returns&quot; and &quot;Dollar P/L&quot;. If you have auto deposits going into your brokerage account, they are getting included as if they are profits.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791cc1c9f799b959c00000a' id='5791cc1c9f799b959c00000a'>
<a href='#5791cc1c9f799b959c00000a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1469172769000' class='quanto-date posted-at response-posted-at' href='#5791cc1c9f799b959c00000a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles,</p>

<p>Have you had a chance to compare the fill prices you received in live trading in the last two day against the fill prices reported by the backtester for the same trades? I would be really interested to know how that shook out.</p>

<p>Thanks </p>

<p>Frank  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791d163265338dc0c0000af' id='5791d163265338dc0c0000af'>
<a href='#5791d163265338dc0c0000af'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469174124000' class='quanto-date posted-at response-posted-at' href='#5791d163265338dc0c0000af'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That would be useful information. I don&#39;t think it would be a clean comparison yet though. There was at least one glitch during that time where the live trading algo was delayed. I think sometime this next 7 days, that comparison should be able to be made cleanly. Maybe I&#39;ll be a few hundred dollars richer by that time as well. 8) The first day made 8% with 30 dollars profit off of about 377 starting cash. ...<br>
Here&#39;s an interesting exercise in &quot;what might have been&quot;?<br>
377 invested starting on the below date till 07/21/2016<br>
07/01/2016      7.7%<br>
06/01/2016   14.6%<br>
05/01/2016      9.6%<br>
04/01/2016    34.0%<br>
03/01/2016    44.6%<br>
02/01/2016 110.9%<br>
01/01/2016 170.9%  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791d6a0265338b7510000e6' id='5791d6a0265338b7510000e6'>
<a href='#5791d6a0265338b7510000e6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469175466000' class='quanto-date posted-at response-posted-at' href='#5791d6a0265338b7510000e6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Attached is the backtest I mentioned earlier. Everything looks ho-hum until 2008. What happened that put this algo into Wolf of Wall Street mode?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791d87c9a40fa461c000107' id='5791d87c9a40fa461c000107'>
<a href='#5791d87c9a40fa461c000107'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469175939000' class='quanto-date posted-at response-posted-at' href='#5791d87c9a40fa461c000107'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also, after looking at some of the daily logs, and I think you mentioned this earlier, there is a TON of day trading going on. Lots of buy and then sell for a $0.001 gain.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791d9eb9f799b959c000080' id='5791d9eb9f799b959c000080'>
<a href='#5791d9eb9f799b959c000080'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469176303000' class='quanto-date posted-at response-posted-at' href='#5791d9eb9f799b959c000080'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Holy #?!# Batman ----- 93,705% return -----<br>
I hope this is for real! I tried to make this algo compound returns quickly, but those results are, I don&#39;t know what to say?!.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791dad9265338dc0c0000ef' id='5791dad9265338dc0c0000ef'>
<a href='#5791dad9265338dc0c0000ef'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469176548000' class='quanto-date posted-at response-posted-at' href='#5791dad9265338dc0c0000ef'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think that the algo &#39;might&#39; be selling stock which it doesn&#39;t currently hold. Also, lots and lots of 1 penny day trading. I might try and go through line by line tomorrow evening and see if I can pick out where that&#39;s coming from, because after a quick glanceover, it looks like it should only be rebalancing on the first day of the week. With that being said, as it stands you reach the day-trade law 5 trade limit almost immediately within the first few trades.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791db549a40fa860e000012' id='5791db549a40fa860e000012'>
<a href='#5791db549a40fa860e000012'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1469176666000' class='quanto-date posted-at response-posted-at' href='#5791db549a40fa860e000012'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Delman I think it has to do with some things that were uncommented out in the algo. Some orders are being placed at places it should not. I am going to be looking at this code more closely tomorrow too to see exactly whats going on. This is definitely interesting.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791dc3e9f799bc81800007f' id='5791dc3e9f799bc81800007f'>
<a href='#5791dc3e9f799bc81800007f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469176898000' class='quanto-date posted-at response-posted-at' href='#5791dc3e9f799bc81800007f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Seungmin, definitely let me know what you find. I&#39;ll be going through it as well. More eyes should help speed the tweaking process along significantly.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791e0b5f30759de0b00028d' id='5791e0b5f30759de0b00028d'>
<a href='#5791e0b5f30759de0b00028d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469178045000' class='quanto-date posted-at response-posted-at' href='#5791e0b5f30759de0b00028d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>After you mentioned the day trade stuff, I looked in my live trade logs for yesterday. Sure enough, there were what appear to be &quot;get out&quot; sell orders that were being rejected as pattern day trade.</p>

<p>The only place in the code that I see that could be happening is possibly the &quot;get out&quot; code itself.<br>
Here is the fix:<br>
if context.NextDay:<br>
order_target_percent(stock, 0, style=LimitOrder(Curr_P*GetOutFactor))</p>

<p>I added it to the code and am testing it now.</p>

<p>By the way, I like the effect this change will have. It gives at least a day for the stock to be in profit or at least not in loss. So &quot;get out&quot; now waits at least till the next day just like &quot;take profit&quot; does.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5791e3880666089b9b000927' id='5791e3880666089b9b000927'>
<a href='#5791e3880666089b9b000927'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469178766000' class='quanto-date posted-at response-posted-at' href='#5791e3880666089b9b000927'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Let us know how the backtest goes and if this changes things significantly.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57920bb49f799b959c00025b' id='57920bb49f799b959c00025b'>
<a href='#57920bb49f799b959c00025b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1469189049000' class='quanto-date posted-at response-posted-at' href='#57920bb49f799b959c00025b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Unfortunately it is difficult to trust the backtest result when the universe selected by the algorithm is low volume stocks. </p>

<p>Please note that the base universe is created using:  </p>

<pre><code>AverageDollarVolume(...).percentile_between(LowVar, HighVar)  
</code></pre>

<p>but LowVar is always 1 and HighVar is always 10. This means the universe is using the lowest volume stocks available and those are the stocks that are less reliable to be backtested with Quantopian. It is very difficult to model the order impact on such low volume stocks. Simon Thornington taught me something once:</p>

<blockquote>
<p>If you are seeing results that only work when trading very low volume<br>
stocks at high frequencies, you need to be very careful that you are<br>
not just trying to do mean-reversion on meaningless bid-ask bounce.<br>
Unfortunately, there&#39;s no way to really test this with Quantopian, but<br>
one of my main findings in the process of creating a quote-based<br>
tick-frequency backtester (in Scala) was that most of my basket<br>
mean-reversion profits were just untradeable bid-ask bounce. I<br>
mentioned this once in<br>
<a href="https://www.quantopian.com/posts/inaccurate-max-drawdowns-on-no-trade-days-slash-periods">https://www.quantopian.com/posts/inaccurate-max-drawdowns-on-no-trade-days-slash-periods</a><br>
with a handy diagram: <a href="http://imgur.com/1WPMwFD">http://imgur.com/1WPMwFD</a></p>
</blockquote>

<p>To double check if the algorithm is affected by this kind of problem I ran a backtest with    LowVar = 40    HighVar = 50, but you might try higher values.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57920cbf9f799b959c000264' id='57920cbf9f799b959c000264'>
<a href='#57920cbf9f799b959c000264'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469189315000' class='quanto-date posted-at response-posted-at' href='#57920cbf9f799b959c000264'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Latest change cuts the total return from 93,705% to 33,104.9%. Still very very awesome and I believe it is probably avoiding day trades altogether.</p>

<p>Interesting thing happens June 17, 2007. The MaxPV spikes to 2, much higher than expected at that point. Looks like a historical or market pricing glitch. It caused longer than typical wait for the next rebalancing because the &quot;get out&quot; factor was much higher than typical. March 2009 is where that  &quot;bat out of hell&quot; rocket climb begins that you mentioned earlier.<br>
I like the 50 minute wait between possible actions. You end up with first action of day at 50 minutes after opening and 40 minutes before closing... when markets are calmer. That&#39;s my theory anyways.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57920f400666089b9b000ad4' id='57920f400666089b9b000ad4'>
<a href='#57920f400666089b9b000ad4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469189957000' class='quanto-date posted-at response-posted-at' href='#57920f400666089b9b000ad4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Luca, thanks for the response and explanation! The results you posted look pretty bleak.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57922956265338b7510003e1' id='57922956265338b7510003e1'>
<a href='#57922956265338b7510003e1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1469196639000' class='quanto-date posted-at response-posted-at' href='#57922956265338b7510003e1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Luca, it&#39;s using limit orders so I&#39;m not sure we can just discount low volume stocks. That said, taking a better look at the code it seems it would have defaulted to a moving windows using values of 1 and 10 and then looked at the bottom 10% by dollar volume. LowVal and HighVal affect the universe AND the moving window lengths. You changed the moving window lengths it used in addition to the universe it looked at.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57922c6c265338b75100041c' id='57922c6c265338b75100041c'>
<a href='#57922c6c265338b75100041c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1469197431000' class='quanto-date posted-at response-posted-at' href='#57922c6c265338b75100041c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>James you are right, thanks for pointing it out. Here is a backtest where only the universe is changed and not the moving windows (the same backtest resulted in 288% returns with low volume universe).</p>

<p>Please note I am not saying the algorithm doesn&#39;t work in live trading (because I don&#39;t know), I am just saying you cannot trust the backtest results with low volume stocks, they are difficult to model.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57923051265338b75100044d' id='57923051265338b75100044d'>
<a href='#57923051265338b75100044d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1469198428000' class='quanto-date posted-at response-posted-at' href='#57923051265338b75100044d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s with the universe being the stocks in the 20 - 90% percentile  by dollar volume. Moving window is still 1/10 like it would have been.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579233fb265338dc0c000447' id='579233fb265338dc0c000447'>
<a href='#579233fb265338dc0c000447'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1469199366000' class='quanto-date posted-at response-posted-at' href='#579233fb265338dc0c000447'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I just spot checked some of the stocks on my original backtest and it looks like it&#39;s definately a penny stock trader, but the volumes are high enough it could work on a small account. These stocks have more than a couple transactions per day. It does seem like this would be totally unsuitable for the fund though.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579237eef30759de0b0005bc' id='579237eef30759de0b0005bc'>
<a href='#579237eef30759de0b0005bc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1469200373000' class='quanto-date posted-at response-posted-at' href='#579237eef30759de0b0005bc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This one is kind of funny. It&#39;s using 10 - 30 percentile and is long only.</p>

<p>Clearly it got lucky. Max drawdown 25%  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579249e5f70777a2a4000276' id='579249e5f70777a2a4000276'>
<a href='#579249e5f70777a2a4000276'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5628c5b567e391cc810004b5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/782769ba8fd76fc1db327ed36223a655?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5628c5b567e391cc810004b5'>Andrew Martin</a>
</div>
<a UTCms='1469204971000' class='quanto-date posted-at response-posted-at' href='#579249e5f70777a2a4000276'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Luca, great catch in reviving Simon&#39;s insight.  I remember reading that last year but it apparently didn&#39;t stick.  </p>

<p>Do you think paper trading can lead to sobering results (on the low volume stocks), or would one still see meaningless gains? Obviously these low volume stocks are not of much interest to Q  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5792c647f30759975e000bc0' id='5792c647f30759975e000bc0'>
<a href='#5792c647f30759975e000bc0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469236812000' class='quanto-date posted-at response-posted-at' href='#5792c647f30759975e000bc0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m going to rework the algo a little bit tonight using the info that Simon gave us. Personally, I tend to trade (manually) relatively low volume and low price stocks, so if I can replicate that using this algo, there shouldn&#39;t be an issue. I have yet to run into the issue via manual trading where an order could not be filled.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579307b71918ef3bf800098e' id='579307b71918ef3bf800098e'>
<a href='#579307b71918ef3bf800098e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1469253564000' class='quanto-date posted-at response-posted-at' href='#579307b71918ef3bf800098e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Another issue I see is that the algo basically gives $100 per stock and as your account size increases it just adds to the number of stocks it holds until it&#39;s basically a broad market fund.</p>

<p>An optimal value would probably be based on daily volume, with it favoring quality over quantity  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57933b7a6578454e0600064d' id='57933b7a6578454e0600064d'>
<a href='#57933b7a6578454e0600064d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469266815000' class='quanto-date posted-at response-posted-at' href='#57933b7a6578454e0600064d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok guys, I made some significant changes in the <strong>contested pipeline code</strong>. I also made some significant tweaks to the <strong>rebalance code</strong>.</p>

<p>I dub this one, <strong>&quot;The Gold King And His Knights Reboot Edition&quot;</strong> <em>Hint: If you don&#39;t like it. Reboot!</em></p>

<p>This one <strong>scales way way better</strong>. And <strong>the algo runs faster</strong> too! I am currently running a <strong>$100,000,000</strong> portfolio against it. It is currently <strong>trailing the benchmark</strong>. But I believe it will excel way beyond the benchmark given enough time.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579340acf70777a2a4000a64' id='579340acf70777a2a4000a64'>
<a href='#579340acf70777a2a4000a64'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469268144000' class='quanto-date posted-at response-posted-at' href='#579340acf70777a2a4000a64'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I ran a five year backtest and did some real quick analysis of the result. Still a lot of penny stocks mixed into the bunch. You might want to try setting a minimum stock price of something like $10 and seeing how that skews the results. I don&#39;t think any sane person is going to want to buy something trading for less than a dollar.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57934fc3937ad9e83400010b' id='57934fc3937ad9e83400010b'>
<a href='#57934fc3937ad9e83400010b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469272007000' class='quanto-date posted-at response-posted-at' href='#57934fc3937ad9e83400010b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok, I changed the short moving average and long moving average to be fixed. My favorite seems to be 3 and 45.<br>
And I jiggered with the &quot;Get Out&quot; code to trigger at a lower leverage.</p>

<p>I have a couple of full 10 year backtests in progress.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579355786578454e060006fc' id='579355786578454e060006fc'>
<a href='#579355786578454e060006fc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469273469000' class='quanto-date posted-at response-posted-at' href='#579355786578454e060006fc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Algorithm initialized variables:<br>
 BottomVar 10<br>
 TopVar 1<br>
 LowVar 15<br>
 HighVar 45  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57935d4a937ad9e834000162' id='57935d4a937ad9e834000162'>
<a href='#57935d4a937ad9e834000162'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469275470000' class='quanto-date posted-at response-posted-at' href='#57935d4a937ad9e834000162'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I just ran another 5 year 1k backtest. This time, there&#39;s a pretty noticible jump (also present in your backtest Charles) relating to a purchase of $HERO on 2015/08/21 at $0.06 per share which is then sold on 2015/11/11 at $9.44 per share. I tried poking around Barchart and Yahoo Finance, but I was not able to verify if this was legitimate stock data or not.</p>

<p>For those who are interested/more dedicated than I am, the stock can be found using HEROQ or Hercules Offshore, Inc.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579415c4051af4b0760006a1' id='579415c4051af4b0760006a1'>
<a href='#579415c4051af4b0760006a1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469322697000' class='quanto-date posted-at response-posted-at' href='#579415c4051af4b0760006a1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Algorithm initialized variables:<br>
 BottomVar 100<br>
 TopVar 10<br>
 LowVar 66<br>
 HighVar 96</p>

<p>I&#39;m posting this for the most part without comment. I have some ideas to test.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579439b50bbefb59d80008cc' id='579439b50bbefb59d80008cc'>
<a href='#579439b50bbefb59d80008cc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469331897000' class='quanto-date posted-at response-posted-at' href='#579439b50bbefb59d80008cc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Algorithm initialized variables:<br>
 BottomVar 100<br>
 TopVar 10<br>
 LowVar 15<br>
 HighVar 45</p>

<p>I added a $1.00 price filter and for testing purposes fixed the LowVar 15 and HighVar 45.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5794c48ceef6b2e8b100002e' id='5794c48ceef6b2e8b100002e'>
<a href='#5794c48ceef6b2e8b100002e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469367443000' class='quanto-date posted-at response-posted-at' href='#5794c48ceef6b2e8b100002e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Algorithm initialized variables:<br>
 BottomVar 100<br>
 TopVar 10<br>
 LowVar 15<br>
 HighVar 45  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5794e37964d876da6a000536' id='5794e37964d876da6a000536'>
<a href='#5794e37964d876da6a000536'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1469375358000' class='quanto-date posted-at response-posted-at' href='#5794e37964d876da6a000536'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is a nice algo, I think the only issue is the high beta. Whenever the market goes down (i.e. 2008/2009, 2015) so does this algo. I guess that is the problem with being stocks only - there is a lot of market risk.</p>

<p>If we could maybe switch to SH or do some sort of hedging when a bear market is sensed, I think it would help the draw down a lot.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5794f0b4eef6b253500001d5' id='5794f0b4eef6b253500001d5'>
<a href='#5794f0b4eef6b253500001d5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1469378750000' class='quanto-date posted-at response-posted-at' href='#5794f0b4eef6b253500001d5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Mohammad, if it were possible to achieve a CAGR of 56% who would care about a 24% drawdown?  The question is &quot;is it&quot;?<br>
<a href="https://www.quantopian.com/posts/applying-deep-learning-to-enhance-momentum-trading-strategies-in-stocks-45-dot-93-percent-annual-return">Same question as this other thread</a></p>

<p>I&#39;d love to believe it possible......but....</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5794f30e9773f4a643000296' id='5794f30e9773f4a643000296'>
<a href='#5794f30e9773f4a643000296'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1469379346000' class='quanto-date posted-at response-posted-at' href='#5794f30e9773f4a643000296'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The problem is not so much the amount of the drawdown, but the length of time between peaks. When the system is losing money for 2 years during a recession - no investor can be expected to keep having faith in the system. </p>

<p>There is no guarantee the system will turn around and become profitable, so they will cut their losses and stop the system way before 2 years.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5794f531e0d8a39a6d000b5a' id='5794f531e0d8a39a6d000b5a'>
<a href='#5794f531e0d8a39a6d000b5a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1469379894000' class='quanto-date posted-at response-posted-at' href='#5794f531e0d8a39a6d000b5a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The same is true of the S&amp;P 500. Which is itself a systematic way to invest. There is no law of pysics which sates that the US stockmarket&#39;s upward bias will continue for ever. In fact it is most unlikely. A two year period between peaks is nothing in systematic trading.</p>

<p>The deeper point is &quot;does Charles&#39; system really work or is it a figment of back testing&quot;. If he he has discovered some genuine market truth then......whoopee! If not, then shucks, there goes my daughter&#39;s new pony.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57953abd42642efd4800010a' id='57953abd42642efd4800010a'>
<a href='#57953abd42642efd4800010a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1469397698000' class='quanto-date posted-at response-posted-at' href='#57953abd42642efd4800010a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It makes sense that low volume stocks would be an open opportunity that had been missed. The first thing you do when making algo is throw them out since you can&#39;t use them for entering a large position.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57953de5eef6b25350000442' id='57953de5eef6b25350000442'>
<a href='#57953de5eef6b25350000442'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ddc36e55fce5d41100015f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/02930663ab9bcaf0183a4fb81d6378f9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ddc36e55fce5d41100015f'>Alex Coventry</a>
</div>
<a UTCms='1469398511000' class='quanto-date posted-at response-posted-at' href='#57953de5eef6b25350000442'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Regarding Charles Witt&#39;s <a href="https://www.quantopian.com/posts/the-gold-king-and-his-knights#5794c48ceef6b2e8b100002e">most recent post</a> and its attached algorithm:  What is the justification for these settings?</p>

<pre><code>    set_commission(commission.PerTrade(cost=0.00))  
    set_slippage(slippage.FixedSlippage(spread=0.00))  
</code></pre>

<p>If you remove these settings, the algorithm underperforms the benchmark.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5795417964d876fd270008f6' id='5795417964d876fd270008f6'>
<a href='#5795417964d876fd270008f6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1469399425000' class='quanto-date posted-at response-posted-at' href='#5795417964d876fd270008f6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>A two year period between peaks is nothing in systematic trading.</p>
</blockquote>

<p>It depends who you ask. In my books, an algo that has a two year period between peaks is worthless. </p>

<p>I dont classify all systematic trading as the same. To me, an ETF is very different to an algo because there are additional risks involved in deploying an algo.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579547cee11592d68400081f' id='579547cee11592d68400081f'>
<a href='#579547cee11592d68400081f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469401046000' class='quanto-date posted-at response-posted-at' href='#579547cee11592d68400081f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>For the commission, my reason is that I use Robin Hood brokerage which has zero commissions. Maybe there is a reason to not use zero in the backtest, I am not currently aware of it.</p>

<p>For the slippage, I am only using limit orders. Not being an expert, I understand that to mean that slippage is avoided because I am not using market orders.</p>

<p>I may be wrong, but the partially filled orders from large orders do not necessarily hurt my long term results. The unspent money from a partially filled (or completely unfilled for that matter) order is available for the next day&#39;s attempt to enter a position at a discount.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57954cce64d876da6a0008ba' id='57954cce64d876da6a0008ba'>
<a href='#57954cce64d876da6a0008ba'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ddc36e55fce5d41100015f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/02930663ab9bcaf0183a4fb81d6378f9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ddc36e55fce5d41100015f'>Alex Coventry</a>
</div>
<a UTCms='1469402324000' class='quanto-date posted-at response-posted-at' href='#57954cce64d876da6a0008ba'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>slippage is avoided because I am not using market orders.</p>
</blockquote>

<p>Have you done any  research into <a href="https://www.quora.com/How-does-Robinhood-Brokerage-make-money">how Robin Hood turns a profit?</a>  Limit orders can be exploited, if you can front-run them.</p>

<p>Have you tried the strategy with real trades?  A few dozen trades might be enough to include a rough model of the speed of execution you&#39;re getting in the algorithm.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579551ceeef6b2e8b1000506' id='579551ceeef6b2e8b1000506'>
<a href='#579551ceeef6b2e8b1000506'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1469403606000' class='quanto-date posted-at response-posted-at' href='#579551ceeef6b2e8b1000506'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I would like to try this out in real time trading soon. Been messing with it by changing around numbers and tweaking things here and there but the only thing that matters is if it works in the real world. I will also be using Robinhood for this. Trial run will start tomo. Wish me luck.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57955242e11592d68400085c' id='57955242e11592d68400085c'>
<a href='#57955242e11592d68400085c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469403721000' class='quanto-date posted-at response-posted-at' href='#57955242e11592d68400085c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am live trading an older version of my algo that does not filter under $1.00 priced stocks and I think it is using the 1 - 10 low volume universe (I think). I actually have used my experience with that to adjust my algorithm sometimes. For example, the rejected day pattern trades for my attempted sells. I adjusted the code to avoid selling the same day that they were bought. It is still possible to attempt to enter a position later in the same day that I had exited it earlier .</p>

<p>It does, so far, appear to be doing what I told it to do - namely getting in at or below limit price and getting out at or above limit price. At this point, I&#39;m not sure how Robin Hood&#39;s methods of reaping profit are effecting my results. I suspect, that at worst, my live trading returns will be worse than the backtest, but still profitable to me personally.</p>

<p>In effect, I&#39;ve only been live trading with a fairly recent version of this algo for a few days so far.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57955fb69773f45fdd00069f' id='57955fb69773f45fdd00069f'>
<a href='#57955fb69773f45fdd00069f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1469407163000' class='quanto-date posted-at response-posted-at' href='#57955fb69773f45fdd00069f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>it&#39;s odd that slippage would be factor if you&#39;re using limit orders. Does it result in fewer orders executing?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5795646c7e11f54dc5000a04' id='5795646c7e11f54dc5000a04'>
<a href='#5795646c7e11f54dc5000a04'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ddc36e55fce5d41100015f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/02930663ab9bcaf0183a4fb81d6378f9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ddc36e55fce5d41100015f'>Alex Coventry</a>
</div>
<a UTCms='1469408368000' class='quanto-date posted-at response-posted-at' href='#5795646c7e11f54dc5000a04'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>James: Yes, limit orders can be front-run in such a way that you&#39;re less likely to get filled if the price movement favors you.</p>

<p><a href="https://www.reddit.com/r/investing/comments/4uczkd/front_running_and_limit_orders/">https://www.reddit.com/r/investing/comments/4uczkd/front_running_and_limit_orders/</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57956acae11592fc2e0008f6' id='57956acae11592fc2e0008f6'>
<a href='#57956acae11592fc2e0008f6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469410003000' class='quanto-date posted-at response-posted-at' href='#57956acae11592fc2e0008f6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>UPDATE: I like the current version enough that I&#39;m gonna use it for live trading. For my personal live trading, I removed the price filter and did 1 and 45 volume universe.<br>
Algorithm initialized variables:<br>
 BottomVar 100<br>
 TopVar 10<br>
 LowVar 1<br>
 HighVar 45  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5795704342642e63f20002b1' id='5795704342642e63f20002b1'>
<a href='#5795704342642e63f20002b1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469411400000' class='quanto-date posted-at response-posted-at' href='#5795704342642e63f20002b1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have some ideas that I&#39;m testing to improve the performance for high volume stocks. Maybe if that works, I&#39;ll dub that version, &quot;The Gold King Gets High&quot;. 8)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579570a77e11f595a7000adc' id='579570a77e11f595a7000adc'>
<a href='#579570a77e11f595a7000adc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1469411503000' class='quanto-date posted-at response-posted-at' href='#579570a77e11f595a7000adc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Quantopian doesn&#39;t model front running. These are also relatively small orders on the side of the market that is often ignored (which is why they are low volume)</p>

<p>If slippage affects the results of small limit orders on low volume stocks it would seem the slippage isn&#39;t being modeled correctly.</p>

<p>I think the only way to be sure is to live trade with real money  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5795fb7e9773f45fdd000b93' id='5795fb7e9773f45fdd000b93'>
<a href='#5795fb7e9773f45fdd000b93'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1469447044000' class='quanto-date posted-at response-posted-at' href='#5795fb7e9773f45fdd000b93'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>In my books, an algo that has a two year period between peaks is worthless.</p>
</blockquote>

<p>I agree that it is not a pleasant prospect but you will find very few hedge or other funds which manage to avoid this.  In the long term, almost certainly none.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5797003cf75a2bfdd4000993' id='5797003cf75a2bfdd4000993'>
<a href='#5797003cf75a2bfdd4000993'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1469513798000' class='quanto-date posted-at response-posted-at' href='#5797003cf75a2bfdd4000993'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Delman - looks like that $HERO stock went into bankrupcy and then emerged in Nov 2015. Im not sure how the shares were restructured or if the algo correctly valued its shares, but it seems to have held on through the entire Chapter 11 procedure. </p>

<p>It bought the shares on 8 Jul 2015, the company then went through Chapter 11 and the stock was delisted. It then emerged with a new loan and started trading again in Nov 2015. Im not sure if 1 share pre-Chapter 11 was equivalent to 1 share post-Chapter 11 - I was not able to find the data online.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5797933b0a17fbe0910000c1' id='5797933b0a17fbe0910000c1'>
<a href='#5797933b0a17fbe0910000c1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57927e3d265338dc0c000737'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8fa9594c1964e61f39d542a926c83ebe?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57927e3d265338dc0c000737'>Adam</a>
</div>
<a UTCms='1469551426000' class='quanto-date posted-at response-posted-at' href='#5797933b0a17fbe0910000c1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Charles </p>

<p>re: &quot;UPDATE: I like the current version enough that I&#39;m gonna use it for live trading. For my personal live trading, I removed the price filter and did 1 and 45 volume universe.<br>
Algorithm initialized variables:<br>
BottomVar 100<br>
TopVar 10<br>
LowVar 1<br>
HighVar 45&quot;</p>

<p>Does this version work with RobinHood? I notice in the code it set_long_only() but it also seems to take quite a few positions from day to day. Have you seen RobinHood flag it for day-trading?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57983ef5dd35a2c4720000c7' id='57983ef5dd35a2c4720000c7'>
<a href='#57983ef5dd35a2c4720000c7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469595386000' class='quanto-date posted-at response-posted-at' href='#57983ef5dd35a2c4720000c7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In practice, I&#39;ve seen the RobinHood day pattern protection work very well. And I&#39;ve used my RobinHood live trading experience to adjust the code. For example, day trades are 99% avoided. It is still possible for it to attempt to buy the same stock it sold earlier in the trading day. If that happens frequently enough, I&#39;ll go ahead and add code to avoid it. But it does wait till at least the next day before it tries to sell the stock it just bought.</p>

<p>Keep in mind that a large percentage of the buy limit orders are cancelled at end of trading day. That&#39;s by design. The orders that do get filled are sometimes the low price of the day from what I&#39;ve seen.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57989b81b4b58ba0c50000d1' id='57989b81b4b58ba0c50000d1'>
<a href='#57989b81b4b58ba0c50000d1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469619080000' class='quanto-date posted-at response-posted-at' href='#57989b81b4b58ba0c50000d1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles, any update on the reboot live trading performance?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579a4f102876bdfa2700057a' id='579a4f102876bdfa2700057a'>
<a href='#579a4f102876bdfa2700057a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469730581000' class='quanto-date posted-at response-posted-at' href='#579a4f102876bdfa2700057a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok, I made some small changes that appear to have big improvements in efficiency and returns.</p>

<p><strong>Orders are now never cancelled, except at end of day.</strong> So no more cancelled &quot;Take Profit&quot; limit sells except at end of day.<br>
During live trading, I saw one stock at 144% profit got its limit sell order cancelled apparently by the rebalance code.</p>

<p><strong>StopWait now effectively starts fresh</strong>, to properly give the stocks a chance to come alive again.<br>
<strong>The only thing that keeps it in Wait mode is in a continually downward price trend</strong>, which is as it should be.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579a56622876bd336c000678' id='579a56622876bd336c000678'>
<a href='#579a56622876bd336c000678'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469732461000' class='quanto-date posted-at response-posted-at' href='#579a56622876bd336c000678'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I found a cash balance logic error. Fixed it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579a7637c98c494c4b000786' id='579a7637c98c494c4b000786'>
<a href='#579a7637c98c494c4b000786'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5628c5b567e391cc810004b5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/782769ba8fd76fc1db327ed36223a655?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5628c5b567e391cc810004b5'>Andrew Martin</a>
</div>
<a UTCms='1469740604000' class='quanto-date posted-at response-posted-at' href='#579a7637c98c494c4b000786'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles,</p>

<p>That spike at mid Nov-2015 (and actually half your returns all together) are from &#39;HERO&#39;.  No idea what this is and if the data is good/bad, but attached is a back test that filters it out in the pipeline.  Still a solid looking algo for low capital.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579a81ef2cc0b118aa00066c' id='579a81ef2cc0b118aa00066c'>
<a href='#579a81ef2cc0b118aa00066c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578ed9e771196ebcd8000624'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b768e657738031fedbc67bf7d3401932?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578ed9e771196ebcd8000624'>Delman Woodrum</a>
</div>
<a UTCms='1469743603000' class='quanto-date posted-at response-posted-at' href='#579a81ef2cc0b118aa00066c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Andrew, I think that with $HERO filtered out, that is the most accurate backtest to date.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579a89e0b0dc021adf0000bd' id='579a89e0b0dc021adf0000bd'>
<a href='#579a89e0b0dc021adf0000bd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1469745642000' class='quanto-date posted-at response-posted-at' href='#579a89e0b0dc021adf0000bd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I made a comment on $HERO previously. Although it was unusual, it is actually valid. </p>

<p>See my previous comment for more info.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579ab8084912bc1103000052' id='579ab8084912bc1103000052'>
<a href='#579ab8084912bc1103000052'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57927e3d265338dc0c000737'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8fa9594c1964e61f39d542a926c83ebe?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57927e3d265338dc0c000737'>Adam</a>
</div>
<a UTCms='1469757453000' class='quanto-date posted-at response-posted-at' href='#579ab8084912bc1103000052'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m fairly new to quant-driven trading. </p>

<p>@Charles, or anybody else who knows, do you have any more info on the theory behind this algo? Maybe a paper somewhere or just a brief overview of the theory behind it?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579acba4bbb7d6259100097c' id='579acba4bbb7d6259100097c'>
<a href='#579acba4bbb7d6259100097c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469762473000' class='quanto-date posted-at response-posted-at' href='#579acba4bbb7d6259100097c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Adam,</p>

<p>I&#39;m just a guy who wrote an algorithm for trading that seems to do extraordinarily well with low volume (less popular) stocks. If you read the whole thread, you will notice that I was not targeting low volume stocks on purpose. In fact, I initially thought that it was &quot;randomizing&quot; to some degree the selection. That has mostly been proven to not be true.  The original code was selecting from the 1 to 10 % volume universe - the lowest of the low, in other words, of volume traded stocks.</p>

<p>My uneducated guess at why this works so well:<br>
1. the very low price stocks allow, in the first place, for a larger basket of stocks, especially for smaller portfolios<br>
2. because the volume traded is so low, the price is much more volatile, which plays well with the mechanisms in my algorithm</p>

<p>Point 1 may be completely irrelevant, because I&#39;ve tested with $100,000,000 with the high volume basket of stocks, and it still did not get anything close to similar returns as low volume stocks do.</p>

<p>The algorithm has evolved, eventually arriving where we are now.</p>

<p>As far as, &quot;Are the results real?&quot;, that remains to be seen. In my live trading for about one week now, I have seen very similar patterns, compared to the back tests. No huge returns yet, but definitely similar patterns.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579acfd8a208c030c4000a68' id='579acfd8a208c030c4000a68'>
<a href='#579acfd8a208c030c4000a68'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5628c5b567e391cc810004b5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/782769ba8fd76fc1db327ed36223a655?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5628c5b567e391cc810004b5'>Andrew Martin</a>
</div>
<a UTCms='1469763549000' class='quanto-date posted-at response-posted-at' href='#579acfd8a208c030c4000a68'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Good catch Mohammad, I read your post but apparently it didn&#39;t stick with me.</p>

<p>Adam - I&#39;m also interested in the theory as I don&#39;t understand it as well.  I&#39;m also not sure if Luca&#39;s previous point about the bid-ask bounce is impacting this algo.  I think that&#39;s where live or paper (would paper trading address that?) trading would help solidify the logic.  I understand the logic but don&#39;t see the theory.  The gold component doesn&#39;t appear to be too significant...  I&#39;m waiting for someone with some more knowledge to provide some insight on what&#39;s going on.  But maybe this is a valid strategy for a low cap universe.   That would certainly be nice, I hope Charles makes some money on his work  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579ad4602cc0b1d6190001f9' id='579ad4602cc0b1d6190001f9'>
<a href='#579ad4602cc0b1d6190001f9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5780c5a83009571485000805'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5eb3c641185bfb0a1eaac5eb1da25600?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5780c5a83009571485000805'>Katrina Sock</a>
</div>
<a UTCms='1469764708000' class='quanto-date posted-at response-posted-at' href='#579ad4602cc0b1d6190001f9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Adam Chavez, I&#39;m sitting here with  Charles.  Here&#39;s a quick and dirty insight:</p>

<ol>
<li><p>This algo trades in stocks that are small in value.  Losses are not huge, so no major issues.</p></li>
<li><p>These &#39;bottom feeder&#39; stocks have, mostly, nowhere to go but up.  Charles is using the 100 worst performers.  The chances that all 100 of them will tank in the same time period is very small, so the algo will make money for the most part.  He&#39;s also using the 10 best performers over a rolling 45-day period which provides him with a solid base for security.</p></li>
</ol>

<p>Mostly, though, think of this from a statistics point of view.  Most data sets - stocks included - can be accurately displayed on a bell curve.  Now, the vast majority of the data is in the central 90% of the curve and those are the stocks this algo seeks to invest in.  The stocks that are are outliers on the edge of the curve are shaved off by the algo limits. </p>

<p>Also, since  a lot of the stocks are low-priced, the sheer volume of stocks that will be bought by the algo kind of hedges its bets: it simply buys enough different stocks that the chance of all of them tanking is minimized.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579b4f8fec8028d8610001c7' id='579b4f8fec8028d8610001c7'>
<a href='#579b4f8fec8028d8610001c7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1469796246000' class='quanto-date posted-at response-posted-at' href='#579b4f8fec8028d8610001c7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It&#39;s a heroic effort in any event. Congratulations.</p>

<p>It is FUN. Fun to trade and huge fun to make those sort of returns if it works. Who cares if it for the small account hobbyist? If it does work you can trade it up from tiny capital and that is really the object of all small traders - to make a fortune from nothing. And nothing wrong with that if it can be done.</p>

<p>Hope it works for you.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579b5bba7ff852d07000023f' id='579b5bba7ff852d07000023f'>
<a href='#579b5bba7ff852d07000023f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55ed0ebaf7eced2820000138'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/192fde5a5de866362a9e34c096cb8a9b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55ed0ebaf7eced2820000138'>Minh</a>
</div>
<a UTCms='1469799365000' class='quanto-date posted-at response-posted-at' href='#579b5bba7ff852d07000023f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Very curious results.  I hope someone gives us an update to their live trading in a couple of months.</p>

<p>Edit: Is this basically a mean reversion algorithm? Buy very low and sell high!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579b61acc593b565340002a4' id='579b61acc593b565340002a4'>
<a href='#579b61acc593b565340002a4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469800881000' class='quanto-date posted-at response-posted-at' href='#579b61acc593b565340002a4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Apologies to the live traders of my algorithm. I got this deployed minutes before market opening this morning. But just now posting to this thread.</p>

<p>The <strong>&quot;start fresh&quot; change I mentioned above</strong> plus what I changed overnight with the gold stuff seems to have improved results demonstrably.</p>

<p>I&#39;ve been studying the patterns of IAU Gold. It seems that 2% is the typical max change up or down in a day. So the 6% discount get in order was never getting filled. <strong>So I changed it for the &quot;Other&quot; gold only to be 2% discount get in and 1% take profit.</strong> Take profit is 12.5% for everything else.</p>

<p>By the way I prefer gold over bonds because:<br>
not only does gold tend to go up when the stock market goes down<br>
but <strong>gold, a surprising amount of time, also goes up when the stock market goes up</strong></p>

<p>Notice, with the last 2 changes mentioned, that the <strong>max drawdown is now below 10% and most of the time is below 5%.</strong><br>
Also, the <strong>drawdowns are smaller both</strong><br>
<strong>horizontally (length of time)</strong><br>
and<br>
<strong>vertically (size)</strong>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579b806cfc8f41c6580003b8' id='579b806cfc8f41c6580003b8'>
<a href='#579b806cfc8f41c6580003b8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55ed0ebaf7eced2820000138'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/192fde5a5de866362a9e34c096cb8a9b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55ed0ebaf7eced2820000138'>Minh</a>
</div>
<a UTCms='1469808757000' class='quanto-date posted-at response-posted-at' href='#579b806cfc8f41c6580003b8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>1 million percent return? Good lord, man. There needs to be a reality check!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579b8d5980d066e261000474' id='579b8d5980d066e261000474'>
<a href='#579b8d5980d066e261000474'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1469812069000' class='quanto-date posted-at response-posted-at' href='#579b8d5980d066e261000474'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I would say the final numbers are not a good way to look at it because they are too big and can be misleading. I find the best way to look at long backtests is it&#39;s CAGR - which is about 165% for the above algo.</p>

<p>I wish Q would just display the CAGR in their stats.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579baf37ca0276c533000696' id='579baf37ca0276c533000696'>
<a href='#579baf37ca0276c533000696'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1469820732000' class='quanto-date posted-at response-posted-at' href='#579baf37ca0276c533000696'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok, sorry it took so long to implement this behavior. It is logical.</p>

<p><strong>Take Profit sell will cancel any existing order for that stock. So now Take Profit sell takes priority.</strong>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579f255403d4dffe11000a16' id='579f255403d4dffe11000a16'>
<a href='#579f255403d4dffe11000a16'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470047577000' class='quanto-date posted-at response-posted-at' href='#579f255403d4dffe11000a16'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles<br>
I have put a lot of work in over the last few days and will post an algo eventually. My research so far in different market environments is that neither gold nor the best stocks are adding any value. I have thus stripped them out.  I am also cleaning up my version since there seems to be some unused features which for me at least cloud my understanding of the basic concept.</p>

<p>I should hasten to add I have no experience whatsoever of penny stocks or of trading in this timescale.  The big, big question is whether the use of limit orders is going to avoid the perils of spreads which can approach 100% - bid 1c offer 2c.</p>

<p>I have no idea at all whether paper trading would answer this question - I have to assume not because it is better to err on the side of caution. If I could open a Robinhood account and start trading this I would. Its the only way to get the answer. And with $1,000 to $10,000 who cares!</p>

<p>Sadly, until such time as RH opens in the UK I guess I am stuck.</p>

<p>In any event thank you for all your efforts and well done indeed on the concept.</p>

<p>Incidentally, I find Quantopian mind bogglingly impressive and have nothing but admiration for the incredible framework they have provided. My only real frustration is the inability to export spreadsheets of the information I really want to drill down into.</p>

<p>I know it can be achieved in code and logic but I would dearly like to see such statistics as % winners / losers, r sq of equity curve, length of trades, length of winners, length of losers, CAGR and so forth.</p>

<p>I guess I&#39;ll just have to get off my butt and write the code.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579f9c2cfd73f4dfd8000446' id='579f9c2cfd73f4dfd8000446'>
<a href='#579f9c2cfd73f4dfd8000446'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/575c76f22c40f02ae000040a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1b609bdecd20980483b12d1a52ca72aa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/575c76f22c40f02ae000040a'>Greg Rollins</a>
</div>
<a UTCms='1470078002000' class='quanto-date posted-at response-posted-at' href='#579f9c2cfd73f4dfd8000446'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I intend to try it in a few days with Robinhood.  It should be a good test for the efficiency of Robinhood.   However I kind of doubt this was what they had in mind when they started the company.  In my backtests the &quot;best&quot; stocks did seem to help a little.  I did not see it trade any gold.  Maybe it should be<br>
renamed the &quot;Soaring sparrow and the bouncing cat&quot;  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579fd08263dcb01f4f0006b5' id='579fd08263dcb01f4f0006b5'>
<a href='#579fd08263dcb01f4f0006b5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1470091399000' class='quanto-date posted-at response-posted-at' href='#579fd08263dcb01f4f0006b5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok, in the process of trying to make it somehow work in the contest, I ended up radically changing certain portions of it. <strong>A big change is the &quot;get out&quot; behavior.</strong> Also, you&#39;ll find that the <strong>10 year backtests are much slower now</strong>. <strong>I also changed the gold code to allow it to play a bigger role.</strong></p>

<p>This is the version I am live trading on RobinHood with. It still needs to be thoroughly tested. I noticed some sell orders getting rejected unexpectedly. Not sure how significant that is yet.</p>

<p>Thanks Anthony and others for your testing. I figured if I keep posting my changes and the backtests, it would gradually get better.</p>

<p>By the way, in the interests of full disclosure, I have experienced, apparently, one delisting (BINDQ), in my live trading. Not sure what the end result will be, but I had about $90 in that one. There is a buy or sell button for that one, not sure what would happen if I tried to sell or buy it. Quantopian tries to sell it as BIND and it gets rejected. In the RobinHood phone app, it says, &quot;This stock is not currently listed on an exchange.&quot;.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579fe8f5fd73f42968000162' id='579fe8f5fd73f42968000162'>
<a href='#579fe8f5fd73f42968000162'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57927e3d265338dc0c000737'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8fa9594c1964e61f39d542a926c83ebe?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57927e3d265338dc0c000737'>Adam</a>
</div>
<a UTCms='1470097657000' class='quanto-date posted-at response-posted-at' href='#579fe8f5fd73f42968000162'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><em>&quot;By the way, in the interests of full disclosure, I have experienced, apparently, one delisting (BINDQ), in my live trading.&quot;</em></p>

<p>@Charles, I think that&#39;s the fatal flaw of the algo. I&#39;m starting to see that Quantopian really doesn&#39;t handle liquidity risk well.</p>

<p>Does anybody know if Quantopian&#39;s backtesting engine even looks at delisting? Or does it only trade stocks that are still currently being traded?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579fec1ca4224030a7000456' id='579fec1ca4224030a7000456'>
<a href='#579fec1ca4224030a7000456'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1470098467000' class='quanto-date posted-at response-posted-at' href='#579fec1ca4224030a7000456'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Adam - I agree.<br>
It seems Q keeps the value of the delisted stock as last quoted - see HERO in my previous comments.<br>
Tracking a delisted stock is really complicated - often it goes to OTC with a &quot;Q&quot; on the end. So HERO becomes HEROQ.<br>
Delisted stocks usually lose a lot of liquidity. In the real world, it takes balls of steel to keep holding on to delisted stocks as this algo does.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579fecc0fd73f4ff0f0003aa' id='579fecc0fd73f4ff0f0003aa'>
<a href='#579fecc0fd73f4ff0f0003aa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/575c76f22c40f02ae000040a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1b609bdecd20980483b12d1a52ca72aa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/575c76f22c40f02ae000040a'>Greg Rollins</a>
</div>
<a UTCms='1470098629000' class='quanto-date posted-at response-posted-at' href='#579fecc0fd73f4ff0f0003aa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In backtesting I believe that desisted stocks cannot be sold so they accumulate in you protfolio and hold cash.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579ff1b4dc6b78c6ba0006c3' id='579ff1b4dc6b78c6ba0006c3'>
<a href='#579ff1b4dc6b78c6ba0006c3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/575c76f22c40f02ae000040a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1b609bdecd20980483b12d1a52ca72aa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/575c76f22c40f02ae000040a'>Greg Rollins</a>
</div>
<a UTCms='1470099898000' class='quanto-date posted-at response-posted-at' href='#579ff1b4dc6b78c6ba0006c3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is some code to remove them, although it does not subtract their value like is should (if you actually lost the money like you probably will) </p>

<p>#exit soon to be delisted stocks<br>
        if (stock.end_date - get_datetime()).days &lt;= 3:<br>
            order_target(stock, 0.0)<br>
            log.info(&quot;Closing deslisted %s&quot; % (stock.symbol))  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='579ffe17fd73f4ff0f00044a' id='579ffe17fd73f4ff0f00044a'>
<a href='#579ffe17fd73f4ff0f00044a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55ed0ebaf7eced2820000138'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/192fde5a5de866362a9e34c096cb8a9b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55ed0ebaf7eced2820000138'>Minh</a>
</div>
<a UTCms='1470103068000' class='quanto-date posted-at response-posted-at' href='#579ffe17fd73f4ff0f00044a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I wonder if there&#39;s a lot of delisted stocks in a long backtest. It would significantly affect your return since delisted stocks in Quantopian is automatically converted to cash.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a009b0a4224030a700057f' id='57a009b0a4224030a700057f'>
<a href='#57a009b0a4224030a700057f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1470106039000' class='quanto-date posted-at response-posted-at' href='#57a009b0a4224030a700057f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Greg,<br>
That code looks useful. How effective has it been so far in your backtests or live trading? It looks like it attempts to get out of a position if it is within 3 days of delisting.</p>

<p>I guess I&#39;m wacky. 8) I&#39;m waiting to see how many of these actually effect me and what the final outcomes are. I&#39;m certain I&#39;ll get more concerned, as more money gets tangled / lost in these.</p>

<p>Some &quot;news&quot; on BINDQ:<br>
&quot;
On July 2, 2016 BIND Therapeutics, Inc. (BIND), a biotechnology company developing targeted and programmable therapeutics called ACCURINS®, announced it has filed a motion for court approval of a stalking horse asset purchase agreement bid from Pfizer Inc. (PFE) for the purchase of the majority of BIND’s assets.</p>

<p>The agreement is the initial stalking horse bid under Section 363 of the U.S. Bankruptcy Code, to be followed by an orderly auction process as established by the U.S. Bankruptcy Court. Under terms of the agreement, Pfizer has agreed to acquire substantially all of BIND’s assets for approximately $20 million in cash subject to certain price adjustments. Pfizer has also agreed to assume certain contractual liabilities of BIND.<br>
&quot;</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a00e6bdc6b780f5f00053a' id='57a00e6bdc6b780f5f00053a'>
<a href='#57a00e6bdc6b780f5f00053a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1470107247000' class='quanto-date posted-at response-posted-at' href='#57a00e6bdc6b780f5f00053a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>20 million shares outstanding.</p>

<p>So about $1 / share less liabilities. That&#39;s probably where the otc price comes from. What did your algo pay?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a01a8ab7ad00562c000a11' id='57a01a8ab7ad00562c000a11'>
<a href='#57a01a8ab7ad00562c000a11'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ddc36e55fce5d41100015f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/02930663ab9bcaf0183a4fb81d6378f9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ddc36e55fce5d41100015f'>Alex Coventry</a>
</div>
<a UTCms='1470110353000' class='quanto-date posted-at response-posted-at' href='#57a01a8ab7ad00562c000a11'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>I wonder if there&#39;s a lot of delisted stocks in a long backtest. It would significantly affect your return since delisted stocks in Quantopian is automatically converted to cash.</p>
</blockquote>

<p>Do you have an algorithm handy which demonstrates this?  Seems like a potentially significant bug.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a025c863dcb0e93e00066d' id='57a025c863dcb0e93e00066d'>
<a href='#57a025c863dcb0e93e00066d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55ed0ebaf7eced2820000138'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/192fde5a5de866362a9e34c096cb8a9b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55ed0ebaf7eced2820000138'>Minh</a>
</div>
<a UTCms='1470113231000' class='quanto-date posted-at response-posted-at' href='#57a025c863dcb0e93e00066d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It&#39;s not a bug but a decision by the developers: <a href="https://www.quantopian.com/posts/delisted-securities-now-removed-from-portfolio">https://www.quantopian.com/posts/delisted-securities-now-removed-from-portfolio</a><br>
You have to be careful when backtesting penny stocks. I&#39;ve attached a backtest that buys Aeropostale stocks before they went to OTC. You can see the cashback.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a02a37068e3d313a0004a9' id='57a02a37068e3d313a0004a9'>
<a href='#57a02a37068e3d313a0004a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55ed0ebaf7eced2820000138'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/192fde5a5de866362a9e34c096cb8a9b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55ed0ebaf7eced2820000138'>Minh</a>
</div>
<a UTCms='1470114365000' class='quanto-date posted-at response-posted-at' href='#57a02a37068e3d313a0004a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I would recommend something like Greg Rollins example. Liquidate your stock before it is delisted. For live trading, I guess you just gotta watch your stocks like a hawk and manually liquidate when the delisting announcing comes up.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a02ec6dc6b7844580000e8' id='57a02ec6dc6b7844580000e8'>
<a href='#57a02ec6dc6b7844580000e8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56ddc36e55fce5d41100015f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/02930663ab9bcaf0183a4fb81d6378f9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56ddc36e55fce5d41100015f'>Alex Coventry</a>
</div>
<a UTCms='1470115531000' class='quanto-date posted-at response-posted-at' href='#57a02ec6dc6b7844580000e8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a038d7dc6b784458000129' id='57a038d7dc6b784458000129'>
<a href='#57a038d7dc6b784458000129'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1470118109000' class='quanto-date posted-at response-posted-at' href='#57a038d7dc6b784458000129'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>&quot;20 million shares outstanding. So about $1 / share less liabilities. That&#39;s probably where the otc price comes from. What did your algo pay?&quot;</p>

<p>98 shares average cost $0.9273  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a03d42a4224030a7000748' id='57a03d42a4224030a7000748'>
<a href='#57a03d42a4224030a7000748'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1470119246000' class='quanto-date posted-at response-posted-at' href='#57a03d42a4224030a7000748'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The 5 year backtest keeps timing out apparently. Here is <strong>2006</strong>.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a05dbe63dcb0d085000158' id='57a05dbe63dcb0d085000158'>
<a href='#57a05dbe63dcb0d085000158'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470127556000' class='quanto-date posted-at response-posted-at' href='#57a05dbe63dcb0d085000158'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>It&#39;s not a bug but a decision by the developers: <a href="https://www.quantopian.com/posts/delisted-securities-now-removed-from-portfolio">https://www.quantopian.com/posts/delisted-securities-now-removed-from-portfolio</a><br>
You have to be careful when backtesting penny stocks. I&#39;ve attached a backtest that buys Aeropostale stocks before they went to OTC. You can see the cashback.</p>
</blockquote>

<p>Ouch, yes. So in these back tests you are guaranteed never to lose all your money on a position.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a08f6ddc6b78d8f200030a' id='57a08f6ddc6b78d8f200030a'>
<a href='#57a08f6ddc6b78d8f200030a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470140276000' class='quanto-date posted-at response-posted-at' href='#57a08f6ddc6b78d8f200030a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You can either look for statistics like: what percentage of delisted stocks ended up at zero or make your own I suppose by combing through delisted stocks systematically. I have delisted stocks from CSI data going back to 1985 and it includes bulletin board and Pink Sheet prices (I think).</p>

<p>If you own the stocks in depot with Robinhood can you deal in them on the Pink Sheets or BB? If so, all may not be lost. </p>

<p><a href="https://listingcenter.nasdaq.com/IssuersPendingSuspensionDelisting.aspx">Nasdaq delistings</a></p>

<p><a href="https://uk.finance.yahoo.com/echarts?s=GNOW">GNOW</a></p>

<p>Take GNOW for instance. It was delisted on 19th May 2016 and continues to trade otc: on 1st August the price listed is c 19 and over $7,000 worth traded. And yet Q has the last traded date as 3rd Jan 2014. </p>

<pre><code>data = get_pricing(&#39;GNOW&#39;)  
data.tail()  
    open_price  high    low close_price volume  price  
2013-12-27 00:00:00+00:00   1.5200  1.5200  1.4322  1.4800  3410    1.4800  
2013-12-30 00:00:00+00:00   1.4700  1.5499  1.4700  1.5400  11048   1.5400  
2013-12-31 00:00:00+00:00   1.5801  1.6400  1.5801  1.6400  1084    1.6400  
2014-01-02 00:00:00+00:00   1.6300  1.6600  1.6200  1.6499  2627    1.6499  
2014-01-03 00:00:00+00:00   1.5500  1.6000  1.5400  1.6000  766 1.6000  
</code></pre>

<p>So you certainly can NOT say this idea is crap it doesn&#39;t work. You just have to take pot luck and test it out.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a09263068e3dfbf7000ade' id='57a09263068e3dfbf7000ade'>
<a href='#57a09263068e3dfbf7000ade'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470141033000' class='quanto-date posted-at response-posted-at' href='#57a09263068e3dfbf7000ade'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Incidentally some of these insane spikes in stock prices may well be caused by consolidations which have not correctly been adjusted for.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a0cff816767b0172000190' id='57a0cff816767b0172000190'>
<a href='#57a0cff816767b0172000190'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1470156802000' class='quanto-date posted-at response-posted-at' href='#57a0cff816767b0172000190'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I added the .985 (1.5% immediate drop get out) code back in just in case there is a strong downward trend when you&#39;re trying to get in.</p>

<p>There is no obvious change to this backtest in the graph. However, I think it is a potential lifesaver in a downward trending market.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a0ed48aa9661fc3700007f' id='57a0ed48aa9661fc3700007f'>
<a href='#57a0ed48aa9661fc3700007f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/575c76f22c40f02ae000040a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1b609bdecd20980483b12d1a52ca72aa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/575c76f22c40f02ae000040a'>Greg Rollins</a>
</div>
<a UTCms='1470164304000' class='quanto-date posted-at response-posted-at' href='#57a0ed48aa9661fc3700007f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a run where I have kept track of the delisting losses separately. I assume they are total losses so this gives a worst case result.  I tried subtracting them from the portfolio &quot;cash&quot; but that did not do anything. I think the portfolio is read-only.<br>
It is a severe problem and eats up almost all of the gains!!   Perhaps a fundamental criteria could be added to the screen to exclude stocks likely to fail?<br>
Note I reduced the number of &quot;worst&quot; stocks from 100 to 20 due to the lower starting cash.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a10b87cfe375bede000415' id='57a10b87cfe375bede000415'>
<a href='#57a10b87cfe375bede000415'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/575c76f22c40f02ae000040a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1b609bdecd20980483b12d1a52ca72aa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/575c76f22c40f02ae000040a'>Greg Rollins</a>
</div>
<a UTCms='1470172046000' class='quanto-date posted-at response-posted-at' href='#57a10b87cfe375bede000415'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Something else I noticed in the backtest above .   Close to the end,  (7/26/16) it is buying SAEX for  $0.15/share.<br>
 Yahoo and google show about $18.00/ share.<br>
Then on 7/27/16 it buys more at $18/share.    Then the last sale price drops to 0.15 again.  Clearly something is messed up in Q ordering code.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a10f37aa966193be0000cc' id='57a10f37aa966193be0000cc'>
<a href='#57a10f37aa966193be0000cc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55eefc2af269c592d80008a9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8985b490c95e135c2bbcd7d1a0dce16b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55eefc2af269c592d80008a9'>Jamie McCorriston</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1470172989000' class='quanto-date posted-at response-posted-at' href='#57a10f37aa966193be0000cc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Greg,</p>

<p><a href="https://www.splithistory.com/saex/">SAEX underwent a 1-for-135 reverse split on 7/27/2016</a>.</p>

<p>Yahoo prices are split adjusted as of today. Prices on Quantopian are adjusted as of the simulation date. In a backtest, you will see the price change on the day of the split event. You will actually see the price change on the date of the split event as you would have in real life. If the algo was holding SAEX when the split occurred, the number of held shares would have been adjusted accordingly.</p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57a117e3e13e7e40bd0001d5' id='57a117e3e13e7e40bd0001d5'>
<a href='#57a117e3e13e7e40bd0001d5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470175210000' class='quanto-date posted-at response-posted-at' href='#57a117e3e13e7e40bd0001d5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think it may be worth looking stock by stock to see if they traded after Q ceases to give prices. As per my example above. Either that or simply suck it and see.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a191f15e1516388500028d' id='57a191f15e1516388500028d'>
<a href='#57a191f15e1516388500028d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1470206456000' class='quanto-date posted-at response-posted-at' href='#57a191f15e1516388500028d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok, <strong>not sure if this helps much with the delisted stocks problem</strong>.<br>
<strong>I did however add some code to the rebalancing code to avoid buying and get out of soon to be delisted stocks.</strong><br>
<strong>I also moved the rebalance decision to a scheduled at market open function.</strong> That fixed some obvious problems from having it decide to possibly rebalance every minute when it was sitting in the handle data function.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a1a9ac3a90ced3120004ca' id='57a1a9ac3a90ced3120004ca'>
<a href='#57a1a9ac3a90ced3120004ca'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470212533000' class='quanto-date posted-at response-posted-at' href='#57a1a9ac3a90ced3120004ca'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles<br>
Here is what I think needs to be done. Take a few different sample periods. Use Greg&#39;s code to list de-listed stocks and their end price. One by one investgate such stocks to see what price if any one would have obtained in reality. In some cases this will be easy such as with GNOW. In other cases it will be more difficult such as if the stock does not continue to trade OTC.</p>

<p>I&#39;m not sure whether Q has OTC prices: in the case of GNOW apparently not. </p>

<p>I believe I do: I have CSI&#39;s database of de-listed stocks.  I will put some work into it over the next few days. </p>

<p>Until that sort of investigation is done I don&#39;t think any serious conclusions can be drawn. The alternative is simply to observe what happens in reality going forward.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a1aacb981e3c4de40004fd' id='57a1aacb981e3c4de40004fd'>
<a href='#57a1aacb981e3c4de40004fd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470212816000' class='quanto-date posted-at response-posted-at' href='#57a1aacb981e3c4de40004fd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In other words these back tests are useless as they stand. We have no idea which de-listed stocks will produce a complete loss and which will give us some or all of our money back.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a2553c3a90ced312000d81' id='57a2553c3a90ced312000d81'>
<a href='#57a2553c3a90ced312000d81'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470256453000' class='quanto-date posted-at response-posted-at' href='#57a2553c3a90ced312000d81'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is one small example of why it really does not make a lot of sense to take back testing this strategy on Q much further:<br>
WAVX<br>
Last price on Q 9th Feb 2016. It was de-listed but continued to trade OTC.  Closed on Q at 7 cents, closed the next day at 4 cents.  Its ticker is now WAVXQ.</p>

<p>1st to 18th Feb 2016 the system I am running traded 8 de-listed stocks.  Imagine checking up on each de-listed stock over a 10 year back test period. </p>

<p>Hmmmm.....  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a255fabd25807717000dbc' id='57a255fabd25807717000dbc'>
<a href='#57a255fabd25807717000dbc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470256640000' class='quanto-date posted-at response-posted-at' href='#57a255fabd25807717000dbc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>If Q could be persuaded to extend the history of de-listed stocks through to the OTC market that would be a whole different ballgame.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a2f7c6d62141bd83000567' id='57a2f7c6d62141bd83000567'>
<a href='#57a2f7c6d62141bd83000567'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1470298060000' class='quanto-date posted-at response-posted-at' href='#57a2f7c6d62141bd83000567'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok, this version should be more predictable in live trading with Robin Hood. Decisions are not made in the first 30 minutes or the last 30 minutes of the trading day. Also, I suspect that the warming up behavior might otherwise cause unexpected behavior, so this way no decisions are made during that first several minutes of the trading day. Yesterday morning, my algorithm told RH to sell most of my stocks, and I was not expecting that to happen.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a2fa51835560383c00056e' id='57a2fa51835560383c00056e'>
<a href='#57a2fa51835560383c00056e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470298716000' class='quanto-date posted-at response-posted-at' href='#57a2fa51835560383c00056e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles<br>
In practical terms how are you dealing with de-listed stocks? WAVX changed to WAVXQ when it was del-isted. Q carries no information for WAVXQ. This situation will be repeated again and again frequently over the coming months and you will have to manage the many exits manually on de-listed stocks even assuming they are actually &quot;re-listed&quot; OTC.</p>

<p>I have not looked at your latest code but I guess you are still acting on the assumption that delisted stocks can be exited on the last traded price.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a2fca9e445d18f1500029d' id='57a2fca9e445d18f1500029d'>
<a href='#57a2fca9e445d18f1500029d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470299310000' class='quanto-date posted-at response-posted-at' href='#57a2fca9e445d18f1500029d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><pre><code>if not ((stock.end_date - get_datetime()).days &lt;= 3):  
</code></pre>

<p>I fear this is look ahead bias which will simply not work going forward. As you will have seen from the Nasdaq link I posted there is sometimes notice of delisting and in those cases I guess you can manually exit any positions before that date.</p>

<p>In back testing however in a system like this which is so vastly dependent on soon to be de-listed stocks, I very much fear some assumptions need to be made as to what percentage of the last traded price will be achieved overall on delisted stocks.</p>

<p>I&#39;m not pouring cold water on the idea and would dearly love to give it a go myself.  Merely pondering how to make a more accurate assessment.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a38fc14e4ee524b50000b8' id='57a38fc14e4ee524b50000b8'>
<a href='#57a38fc14e4ee524b50000b8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57927e3d265338dc0c000737'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8fa9594c1964e61f39d542a926c83ebe?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57927e3d265338dc0c000737'>Adam</a>
</div>
<a UTCms='1470336969000' class='quanto-date posted-at response-posted-at' href='#57a38fc14e4ee524b50000b8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I agree with Anthony.</p>

<p>Adding in a filter that gets rid of any company at risk of failure would be a good move. Maybe only looking at companies with a current ratio above one and with positive earnings and price momentum over the last 12 months.</p>

<p>I tried filtering out anything with a bad financial grade and no stocks were traded at all.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a3960c0dd1caacb70000fa' id='57a3960c0dd1caacb70000fa'>
<a href='#57a3960c0dd1caacb70000fa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1470338580000' class='quanto-date posted-at response-posted-at' href='#57a3960c0dd1caacb70000fa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How much, if any, would filtering out below $1.00 stocks help with the delisting risk? Or excluding the bottom, say, 10% of the volume traded universe?</p>

<p>In unrelated news, I scheduled all open orders to be canceled right before market close. to avoid broker-canceled orders at end of day filling up the logs.</p>

<p>I also tweaked the Take Profit code to improve live trade behavior.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a4463e30cdd3b7e2000669' id='57a4463e30cdd3b7e2000669'>
<a href='#57a4463e30cdd3b7e2000669'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1470383689000' class='quanto-date posted-at response-posted-at' href='#57a4463e30cdd3b7e2000669'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Charles, I just ran your most recent algorithm and saw that there was a purchase of 170 shares of IAU at $11.63 total of 1977.10. Although this did make a profit 2 days later by selling for 2035.75, as one who have been tweaking around your algorithm and following this thread for awhile, I don&#39;t think I have seen such a big purchase compared to capital size. ($1977 was 50% of the initial capital). Should it be more logical to be putting a more aggressive stop for such buys?</p>

<p>Also, I am currently building a small program to extract all sales off a backtest and check if any of the stocks were delisted stocks or not. will post it when I finish that and hopefully it could help facilitate this buying delisted stocks problem of the algo. (I actually have been running your algo in robinhood live trading and it actually purchased a delisted stock $EPRSQ. Thank got it was a small purchase (112 shares totalling $15.68), but if i imagine this purchasing it in the amount of 50% of my capital, I would be pretty devastated.. even so I have high hopes for this algorithm! great work so far!).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a45b0030cdd35e92000477' id='57a45b0030cdd35e92000477'>
<a href='#57a45b0030cdd35e92000477'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470388997000' class='quanto-date posted-at response-posted-at' href='#57a45b0030cdd35e92000477'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><a href="http://www.otcmarkets.com/stock/EPRSQ/chart">http://www.otcmarkets.com/stock/EPRSQ/chart</a></p>

<p>Still trading on the OTC market  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a463e0a9cbd7bcbf0002c3' id='57a463e0a9cbd7bcbf0002c3'>
<a href='#57a463e0a9cbd7bcbf0002c3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470391269000' class='quanto-date posted-at response-posted-at' href='#57a463e0a9cbd7bcbf0002c3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><pre><code> price = USEquityPricing.close.latest  
    AtLeastOneDollar   = (price &gt;= 2.00)

</code></pre>

<pre><code> BottomVar = 100  
 LowVar = 1  
 HighVar=45  
</code></pre>

<p>Only 1 delisted stock bought and sold  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a4696530cdd35e9200050e' id='57a4696530cdd35e9200050e'>
<a href='#57a4696530cdd35e9200050e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1470392682000' class='quanto-date posted-at response-posted-at' href='#57a4696530cdd35e9200050e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>EPRSQ is not able to be traded on Robinhood currently; the message RH gives is: &quot;This stock is not currently listed on an exchange&quot;. Although it is currently on OTC market, I believe Charles set his algorithm&#39;s platform on Robinhood. Also what&#39;s your thoughts on my back test buying a single stock with 50% of the capital above?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a46bde7b6622eb2700004b' id='57a46bde7b6622eb2700004b'>
<a href='#57a46bde7b6622eb2700004b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470393316000' class='quanto-date posted-at response-posted-at' href='#57a46bde7b6622eb2700004b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Oh god re EPRSQ! Re gold I have cut it out entirely hence the problem won&#39;t arise.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a46d7c30cdd35e9200054c' id='57a46d7c30cdd35e9200054c'>
<a href='#57a46d7c30cdd35e9200054c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571a5628f81ec44059000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/91cfa4488c778ccd382b2e65c6cf0fbe?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571a5628f81ec44059000166'>Nick Lammertyn</a>
</div>
<a UTCms='1470393730000' class='quanto-date posted-at response-posted-at' href='#57a46d7c30cdd35e9200054c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A large part of the returns of this algo is because of stocks below 1$, so filtering might reduce the number of delisted stocks, but is more of a hack around the actual problem (and would generate smaller returns). Is there an auto-updated csv of all delisted stocks or similar? You could write a function that checks this list daily against your portfolio and adjust accordingly. If there is I might take a look when I got a chance to.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a4a0faa9cbd7817b0000c3' id='57a4a0faa9cbd7817b0000c3'>
<a href='#57a4a0faa9cbd7817b0000c3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470406914000' class='quanto-date posted-at response-posted-at' href='#57a4a0faa9cbd7817b0000c3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><a href="https://www.quantopian.com/posts/simulation-of-non-marketable-limit-orders">Non Marketable Limit Orders</a></p>

<p>A bug in zipline which further distorts and inflates these sort of back tests I fear.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a4edeb30cdd394050002ce' id='57a4edeb30cdd394050002ce'>
<a href='#57a4edeb30cdd394050002ce'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1470426611000' class='quanto-date posted-at response-posted-at' href='#57a4edeb30cdd394050002ce'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey guys, I am live trading this, so alot of the little changes I make are to improve my RobinHood live trading experience.</p>

<p>I added some decision window logic just in case the algo is started mid trading day (from a live trading point of view).<br>
I added logic to ensure that Take Profit code only cancels orders that are not Take Profit orders.<br>
I also fixed the initial pipeline weight to be the more expected .95 instead of .50.<br>
     Sorry about taking so long to fix that. It was a relic from a very early version of the algo.<br>
All orders are canceled at decision window start and end - works even if stop / start algo multiple times per trading day.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a54516b669913f050002da' id='57a54516b669913f050002da'>
<a href='#57a54516b669913f050002da'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576591f557c9cda4520005fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d5eb91b2c6bc98ecbd25c910b1ba0c00?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576591f557c9cda4520005fc'>James Hutchison</a>
</div>
<a UTCms='1470448924000' class='quanto-date posted-at response-posted-at' href='#57a54516b669913f050002da'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Algo cannot start mid trading day  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a5a9c9f3ead11c8100054d' id='57a5a9c9f3ead11c8100054d'>
<a href='#57a5a9c9f3ead11c8100054d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1470474702000' class='quanto-date posted-at response-posted-at' href='#57a5a9c9f3ead11c8100054d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I don&#39;t think the following code is at all reasonable or rational:  </p>

<pre><code>set_slippage(slippage.FixedSlippage(spread=0.00))  
</code></pre>

<p>At the very least it ought to be replaced with some variety of:</p>

<pre><code>set_slippage(slippage.VolumeShareSlippage(volume_limit=.01, price_impact=0.0))  
</code></pre>

<p>It is simply unrealistic to expect that you can trade more than x% of available volume. But you can still assume your limit order will protect you on price.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a5fbf3bb26a6248e0009a3' id='57a5fbf3bb26a6248e0009a3'>
<a href='#57a5fbf3bb26a6248e0009a3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1470495738000' class='quanto-date posted-at response-posted-at' href='#57a5fbf3bb26a6248e0009a3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I cant stand repeating things: instead of the schedule list:</p>

<pre><code>    for minutez in xrange(30, 330, 30):  
        schedule_function(DecisionsStart, date_rules.every_day(), time_rules.market_open(minutes=minutez))

</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a653b0a5f018dcca000218' id='57a653b0a5f018dcca000218'>
<a href='#57a653b0a5f018dcca000218'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/575c76f22c40f02ae000040a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1b609bdecd20980483b12d1a52ca72aa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/575c76f22c40f02ae000040a'>Greg Rollins</a>
</div>
<a UTCms='1470518200000' class='quanto-date posted-at response-posted-at' href='#57a653b0a5f018dcca000218'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I got this bizarre result the other day.  It bought 2 shares of RIVR on 7/19/2012 at about $1000 per share. The price should have been $20/share.<br>
Apparently it was $20 when it calculated the number of shares to buy, and again immediately after.  The results is<br>
a huge deficit in the account balance.  <strong>Things like this make it difficult for me to trust Q enough to put any money into it.</strong></p>

<p>You can greatly reduce the number of delisted stocks by requiring companies have positive earnings. All the delisted stocks I looked at went to the OTC<br>
market.  Even if they have value I imagine it is a pain to get your money.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a6779aa5f018d21300035c' id='57a6779aa5f018d21300035c'>
<a href='#57a6779aa5f018d21300035c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a4fd1ec371b5d64d0004da'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/15b859df86e91d814b713a3b0fa92718?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a4fd1ec371b5d64d0004da'>Nick Sulzer</a>
</div>
<a UTCms='1470527391000' class='quanto-date posted-at response-posted-at' href='#57a6779aa5f018d21300035c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is there a way to alter this algorithm so that it will not violate regulatory rules on day trading? I have less than $25,000 in my account.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a6a751dcf2e8a0990007c0' id='57a6a751dcf2e8a0990007c0'>
<a href='#57a6a751dcf2e8a0990007c0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1470539606000' class='quanto-date posted-at response-posted-at' href='#57a6a751dcf2e8a0990007c0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Nick,<br>
I live trade this on Robin Hood and it does reasonably well at avoiding day trades. Robin Hood does have day trade protection, which I use, but I have code which avoids most of the day trades.</p>

<p>Thanks everybody for comments.</p>

<p>Thanks Anthony, I implemented some of your suggestions / changes.</p>

<p>Thanks Peter, I implemented your loop for the scheduled function.</p>

<p>Posting this, because it has enough changes in it to be significant. Also, it curiously, appears to wait till the market is at least sideways before getting in.</p>

<p>By the way, it appears that my old method of trying to exit near cost (even if the sell orders are slow to fill) ends up more profitable. The drawdowns are much bigger though.</p>

<p>The method I am using now attempts to keep the drawdowns small. But, so far, the total returns seem to be less.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57a6cb0ab12d2d726a000454' id='57a6cb0ab12d2d726a000454'>
<a href='#57a6cb0ab12d2d726a000454'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1470548751000' class='quanto-date posted-at response-posted-at' href='#57a6cb0ab12d2d726a000454'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I changed the rebalance signal to make it more predictable.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ab9253c795e2803f000035' id='57ab9253c795e2803f000035'>
<a href='#57ab9253c795e2803f000035'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1470861920000' class='quanto-date posted-at response-posted-at' href='#57ab9253c795e2803f000035'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Posting a 2 month test of the previously posted 1 million percent in the 10 year backtest from earlier.<br>
Ultimate reality check in progress.<br>
I went ahead and turned this version of the algorithm on for my live trading today.</p>

<p>Status: Live Trading<br>
Type: Robinhood real money<br>
Started Trading: market open Wednesday, 8/10/2016<br>
Capital base: $1,650.61</p>

<p>As of market close Friday, 8/12/2016<br>
-0.41% Returns<br>
($6.69) Dollar P/L
-24.89 Sharpe<br>
$469.84 Long Exposure
$1,174.08 Available Cash</p>

<p>I&#39;ll keep you posted with my live trading results. I am planning on leaving this alone for awhile to see how it does.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b26c31c6273b764800079b' id='57b26c31c6273b764800079b'>
<a href='#57b26c31c6273b764800079b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57ae77603f33d66a540005c5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3e0c150150d8dd24239bdcdd166f3b93?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57ae77603f33d66a540005c5'>Delman Woodrum</a>
</div>
<a UTCms='1471310902000' class='quanto-date posted-at response-posted-at' href='#57b26c31c6273b764800079b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Do you have a weekend update on the week&#39;s performance?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b544c6d08fe4e2910003c6' id='57b544c6d08fe4e2910003c6'>
<a href='#57b544c6d08fe4e2910003c6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1471497418000' class='quanto-date posted-at response-posted-at' href='#57b544c6d08fe4e2910003c6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Status: Live Trading<br>
Type: Robinhood real money<br>
Started Trading: market open Wednesday, 8/10/2016<br>
Capital base: $1,650.61</p>

<p>As of market close Friday, 8/12/2016<br>
-0.41% Returns<br>
($6.69) Dollar P/L -24.89 Sharpe
$469.84 Long Exposure $1,174.08 Available Cash</p>

<p>As of market close Wednesday, 8/17/2016<br>
0.45% Returns<br>
$7.39 Dollar P/L 3.04 Sharpe
$709.56 Long Exposure $948.44 Available Cash</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b5459c21c27ebc8d00041b' id='57b5459c21c27ebc8d00041b'>
<a href='#57b5459c21c27ebc8d00041b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5520e4c7bc0c41bf0b000068'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a1b98d99c838a0dccdd3d3d3a6f51ad?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5520e4c7bc0c41bf0b000068'>Connor Tate</a>
</div>
<a UTCms='1471497635000' class='quanto-date posted-at response-posted-at' href='#57b5459c21c27ebc8d00041b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the update, even if it was uneventful, it didn&#39;t blow up. So good work.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b5ed16d08fe4d02600019b' id='57b5ed16d08fe4d02600019b'>
<a href='#57b5ed16d08fe4d02600019b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1471540514000' class='quanto-date posted-at response-posted-at' href='#57b5ed16d08fe4d02600019b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>how are you dealing with delisted stocks/splits?</p>

<p>My understanding is that in backtesting quantopian just liquidates the delisted securities, but they stay open in live trading.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b5ee7b21c27e7e45000c23' id='57b5ee7b21c27e7e45000c23'>
<a href='#57b5ee7b21c27e7e45000c23'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/565f28d1b5c146befb0000b2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5177297d3687222ae68e5ba5e7048ff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/565f28d1b5c146befb0000b2'>Lyell Griswold</a>
</div>
<a UTCms='1471540868000' class='quanto-date posted-at response-posted-at' href='#57b5ee7b21c27e7e45000c23'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Tyler, I just have a scrub for once a month to sell 30 day average price below $1.10 then another loop to sell stock that have entered the OTC markets.</p>

<p>something like this in a scheduled function for once a month (end of month)</p>

<p>def Cleanse(context, data):<br>
            Curr_Price = float(data.current([stock], &#39;price&#39;))<br>
            price_history = data.history([stock], \<br>
                fields = &#39;price&#39;, bar_count = 30, frequency = &#39;1d&#39;)<br>
            mean_history = price_history.mean()<br>
            if data.can_trade(stock):<br>
                if stock.symbol not in context.day_buy_list:<br>
                    if float(mean_history) &lt; context.average_price_threshold:<br>
                        order(stock, 0, \<br>
                            style = LimitOrder(Curr_Price * 1.00))<br>
                        context.day_buy_list.add(stock.symbol)<br>
                        log.info(&#39;\nSELLING All shares of &quot;%s&quot; due to delisting threat.&#39; \<br>
                            % (stock.symbol))<br>
                    elif morningstar.share_class_reference.exchange_id.latest.startswith(&#39;OTC&#39;):<br>
                        order(stock, 0, \<br>
                            style = LimitOrder(Curr_Price * 1.00))<br>
                        context.day_buy_list.add(stock.symbol)<br>
                        log.info(&#39;\nSELLING All shares of &quot;%s&quot; because it was delisted.&#39; \<br>
                            % (stock.symbol))</p>

<p>Hope this helps or brings ideas.</p>

<p>-lyell  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b5fb6f5e49084c7a0000f8' id='57b5fb6f5e49084c7a0000f8'>
<a href='#57b5fb6f5e49084c7a0000f8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1471544187000' class='quanto-date posted-at response-posted-at' href='#57b5fb6f5e49084c7a0000f8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I really like the cleanup code on this.  I think it helps paint a fair picture on those that do get delisted or are about to!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b6105321c27ebc8d000e33' id='57b6105321c27ebc8d000e33'>
<a href='#57b6105321c27ebc8d000e33'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a4fd1ec371b5d64d0004da'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/15b859df86e91d814b713a3b0fa92718?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a4fd1ec371b5d64d0004da'>Nick Sulzer</a>
</div>
<a UTCms='1471549528000' class='quanto-date posted-at response-posted-at' href='#57b6105321c27ebc8d000e33'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think this is fantastic. What would be the best way to eliminate the buy aaple trigger from this code?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b618585e49084c7a000296' id='57b618585e49084c7a000296'>
<a href='#57b618585e49084c7a000296'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1471551587000' class='quanto-date posted-at response-posted-at' href='#57b618585e49084c7a000296'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>What was the significance of buying aapl in the other algo?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b61ab121c27ebc8d000ed3' id='57b61ab121c27ebc8d000ed3'>
<a href='#57b61ab121c27ebc8d000ed3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/565f28d1b5c146befb0000b2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5177297d3687222ae68e5ba5e7048ff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/565f28d1b5c146befb0000b2'>Lyell Griswold</a>
</div>
<a UTCms='1471552185000' class='quanto-date posted-at response-posted-at' href='#57b61ab121c27ebc8d000ed3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Tyler,<br>
I had the Idea to influence the actions of the Algo without stopping and changing the code.<br>
The Signal Stock could be anything you choose before you launch the Algo.<br>
So I tested it out by using a signal position (Apple). So I always had to have at least one share of Apple in my positions. Now, to stay in cash say after a large profit or to wait for funds to settle or the market downturns and I want out . All I have to do is sell Apple from my RH app and bam there&#39;s a cascade of sells to sit in cash. But my Algo is still churning and ready for some buys if I pickup one share of my signal position again. </p>

<p>Just an experiment to influence my Algo after launch. Any amount of actions can be put into loops like this. Multiple signal positions to move about the market differently through different strategies.</p>

<p>Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b61c965eda0ff1de000f43' id='57b61c965eda0ff1de000f43'>
<a href='#57b61c965eda0ff1de000f43'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1471552670000' class='quanto-date posted-at response-posted-at' href='#57b61c965eda0ff1de000f43'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Gottcha.</p>

<p>So do you first have to buy 1 share of aapl or does the algo automatically do that the first time?</p>

<p>Then once you sell aapl do you hvae to manually buy it again?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b61e4ccb1ab39fca000499' id='57b61e4ccb1ab39fca000499'>
<a href='#57b61e4ccb1ab39fca000499'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/565f28d1b5c146befb0000b2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5177297d3687222ae68e5ba5e7048ff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/565f28d1b5c146befb0000b2'>Lyell Griswold</a>
</div>
<a UTCms='1471553106000' class='quanto-date posted-at response-posted-at' href='#57b61e4ccb1ab39fca000499'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yup,<br>
It&#39;s used like a button. so I could launch my Algo with no activity. Then next month buy one share of the Signal position to fire things up for real.<br>
The Buying and Selling of the Signal is all manually. But for Backtesting I needed to add a &quot;buy&quot; loop for my signal position to get it running. </p>

<p>So yes you would need to grab a position either before or after you launch the Algo. Be sure you have the rest of the loops always ignore that specific position too.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b658d33553a6b56e0000af' id='57b658d33553a6b56e0000af'>
<a href='#57b658d33553a6b56e0000af'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1471568090000' class='quanto-date posted-at response-posted-at' href='#57b658d33553a6b56e0000af'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>inherently there will still be discrepancies between backtesting and live testing due to Quantopian liquidating the day the stock gets delisted, right?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b7ae2f1b1f286449000117' id='57b7ae2f1b1f286449000117'>
<a href='#57b7ae2f1b1f286449000117'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1471655476000' class='quanto-date posted-at response-posted-at' href='#57b7ae2f1b1f286449000117'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Lyell, i&#39;m running the code you posted in live paper trading and there are really weird -2.5% dips - have you encountered this before?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b7b193a5b448d7de00015a' id='57b7b193a5b448d7de00015a'>
<a href='#57b7b193a5b448d7de00015a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/565f28d1b5c146befb0000b2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5177297d3687222ae68e5ba5e7048ff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/565f28d1b5c146befb0000b2'>Lyell Griswold</a>
</div>
<a UTCms='1471656345000' class='quanto-date posted-at response-posted-at' href='#57b7b193a5b448d7de00015a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>HeyTyler,<br>
I do not understand the question. In what aspect are the dips taking place. In your overall portfolio percentage?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b7b5fa1b1f28644900015e' id='57b7b5fa1b1f28644900015e'>
<a href='#57b7b5fa1b1f28644900015e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/565f28d1b5c146befb0000b2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5177297d3687222ae68e5ba5e7048ff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/565f28d1b5c146befb0000b2'>Lyell Griswold</a>
</div>
<a UTCms='1471657472000' class='quanto-date posted-at response-posted-at' href='#57b7b5fa1b1f28644900015e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I had one dip like that today. It&#39;s most likely a low average volume stock doing a dip in price where the price is constant for a bit then there is a sudden price change to let a market maker sell or buy some shares. This is the behavior of the waters we tread with this Algo.<br>
if you increase the &quot;average daily volume&quot; variable to 20K + and the &quot;universe lookback&quot; to 100 days you might have better luck avoiding these.<br>
Raise the minimum price to 2.50 + also  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b7b62835fe94e052000175' id='57b7b62835fe94e052000175'>
<a href='#57b7b62835fe94e052000175'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1471657517000' class='quanto-date posted-at response-posted-at' href='#57b7b62835fe94e052000175'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>yea, wish I could attach a screenshot, but the total portfolio randomly twice spiked down to -2.5% then jumped right back up.</p>

<p>But none of the positions had this spike</p>

<p>Also, what are you views about the backtesting still not being 100% acurate?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b7ba3335fe94e05200019c' id='57b7ba3335fe94e05200019c'>
<a href='#57b7ba3335fe94e05200019c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/565f28d1b5c146befb0000b2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5177297d3687222ae68e5ba5e7048ff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/565f28d1b5c146befb0000b2'>Lyell Griswold</a>
</div>
<a UTCms='1471658555000' class='quanto-date posted-at response-posted-at' href='#57b7ba3335fe94e05200019c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ya I understand the inaccuracies of this unattractive dataset for back testing. The theory though is that in this realm of volume ~1 in ~10 companies may have a large spike for you to catch. Then for the companies under preforming you are only in them for a hundred bucks or so and maybe they hold long enough to do the 3% exit instead of 25%.<br>
Also in the 2008 2009 comeback and exponential growth of the backtest, we might be picking up companies that have usually been strong, but due to panic sell and waiting they meet our threshold of inactivity and low volume only for the markets to rally and interest to come back to them.<br>
That&#39;s why this is a bottom feeder.<br>
Classic Hot hand fallacy when we profit for a 10K to 30mil ten year backtest.<br>
Test live in low capital until you see the pattern of the backtest coming through each week. Not much more then faith with this one.<br>
Good luck.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b8f524d357365814000061' id='57b8f524d357365814000061'>
<a href='#57b8f524d357365814000061'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1471739177000' class='quanto-date posted-at response-posted-at' href='#57b8f524d357365814000061'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Lyell, are you trading your code live?  If so, would you be willing to provide how it has performed?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b9143ee7e0f7d17e00019a' id='57b9143ee7e0f7d17e00019a'>
<a href='#57b9143ee7e0f7d17e00019a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/565f28d1b5c146befb0000b2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5177297d3687222ae68e5ba5e7048ff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/565f28d1b5c146befb0000b2'>Lyell Griswold</a>
</div>
<a UTCms='1471747138000' class='quanto-date posted-at response-posted-at' href='#57b9143ee7e0f7d17e00019a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am trading it live. There isn&#39;t much action in price so far but it&#39;s not negative after 2 days. Not enough data to see whether it&#39;s working correctly or not.<br>
There are a steady amount of buys and the second day it was able to sell for a small profit in the under preform loop.<br>
I&#39;ll update next week with a better analysis.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b91a73e7e0f7d17e0001c0' id='57b91a73e7e0f7d17e0001c0'>
<a href='#57b91a73e7e0f7d17e0001c0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1471748728000' class='quanto-date posted-at response-posted-at' href='#57b91a73e7e0f7d17e0001c0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It&#39;s alive!<br>
It&#39;s cool to see the interest in this algo.<br>
I think Lyell&#39;s &quot;bottom feeder&quot; theory about this algo a couple of posts back makes sense.</p>

<p>Lyell,<br>
It seems plausible to influence the algo behavior like you do by manually making / canceling a limit order for some stock that logically is not likely to ever execute. So that would mean actually having a position in it would not be necessary. You, instead, would check for the existence of manually created limit orders, that only serve to influence the behavior of the algo. Sorry, no time to code stated idea right now.</p>

<p>Ok, as a slight update. I just now compared a <strong>backtest using same dates and starting cash as my live trading</strong>, and a light analysis shows <strong>similar results and behavior</strong>, <strong>so far so good</strong>.</p>

<p>As an exercise in fun and &quot;I wish I did that&quot;, if I had immediately started live trading this version of the algo back on 07/29/2016, I might have been at 5.8% profit by now. Of course, the whole delisting problem might have erased some / much of that.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57baf2172179b1975f000645' id='57baf2172179b1975f000645'>
<a href='#57baf2172179b1975f000645'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1471869469000' class='quanto-date posted-at response-posted-at' href='#57baf2172179b1975f000645'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles are you still trading with the algo posted 1 week ago?  Any moved to OTC/delisted/splits?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57bcb2ed9cb2040dd40002c3' id='57bcb2ed9cb2040dd40002c3'>
<a href='#57bcb2ed9cb2040dd40002c3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a4fd1ec371b5d64d0004da'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/15b859df86e91d814b713a3b0fa92718?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a4fd1ec371b5d64d0004da'>Nick Sulzer</a>
</div>
<a UTCms='1471984372000' class='quanto-date posted-at response-posted-at' href='#57bcb2ed9cb2040dd40002c3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Will this algo sell stocks that  I already own if I had it go live?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57bcb4069cb204a6bd0002a4' id='57bcb4069cb204a6bd0002a4'>
<a href='#57bcb4069cb204a6bd0002a4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1471984652000' class='quanto-date posted-at response-posted-at' href='#57bcb4069cb204a6bd0002a4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes. You should not be mixing your manual trades with an algo in the same account. Create a separate account for each algo/system.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c3ac4eb2eec728bc0004e6' id='57c3ac4eb2eec728bc0004e6'>
<a href='#57c3ac4eb2eec728bc0004e6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/551136c8df5527b6e20002d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c319e4d3b04ab4d3731da47f9993a847?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/551136c8df5527b6e20002d2'>Hao Zhang</a>
</div>
<a UTCms='1472441430000' class='quanto-date posted-at response-posted-at' href='#57c3ac4eb2eec728bc0004e6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Any updates?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c437cc361e2c109f000196' id='57c437cc361e2c109f000196'>
<a href='#57c437cc361e2c109f000196'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1472477137000' class='quanto-date posted-at response-posted-at' href='#57c437cc361e2c109f000196'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have found there are large differences between backtest and live trading due to some stocks not available on Robinhood  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c43b09361e2c523d000d98' id='57c43b09361e2c523d000d98'>
<a href='#57c43b09361e2c523d000d98'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57b1be02ff34ff3fce0000b9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/221f4dfee58af6c71f801d18277957dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57b1be02ff34ff3fce0000b9'>Joe Corkerton</a>
</div>
<a UTCms='1472477966000' class='quanto-date posted-at response-posted-at' href='#57c43b09361e2c523d000d98'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This algorithm seems very promising, and I think the idea behind it is good. However, it seems to have two major issues:</p>

<p>i) transaction costs not being taken into account in the backtest. Whilst Robinhood has no commission I think placing limit orders will still affect prices.</p>

<p>ii) more importantly, there is the issue with delisted stocks and how they are handled very poorly by the API. I am certain you will not get the returns given on the backtest as is.</p>

<p>To address the first issue, I think slippage should take some non zero value. As for the second, there is a real risk in live trading that a stock will be delisted and become worthless. Would it be possible to come up with a metric that is able to predict when a stock will likely become delisted, and then avoid that? This would certainly improve performance in live trading.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c6905ebe449f9ccc00077a' id='57c6905ebe449f9ccc00077a'>
<a href='#57c6905ebe449f9ccc00077a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1472630885000' class='quanto-date posted-at response-posted-at' href='#57c6905ebe449f9ccc00077a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Live Trading Robinhood real money<br>
Started Trading: market open Wednesday, 8/10/2016<br>
Capital base: $1,650.61</p>

<p>As of market close Tuesday, 8/30/2016<br>
<strong>-2.22% Returns / +1.00% Backtest / -0.10% Benchmark</strong><br>
($36.56) Dollar P/L
-5.71 Sharpe<br>
$522.02 Long Exposure
$1,092.03 Available Cash</p>

<p>&quot;Any moved to OTC/delisted/splits?&quot;<br>
no delistings<br>
However, for some previous delistings from trading live a different version of the same algo.<br>
There are two:<br>
BINDQ Total Return +$5.16 [+5.68%] Average Cost $0.9273 Market Price $0.98 OTC I think / yes RH has a SELL button, have not tried it<br>
KEGX Total Return -$6.26 [-55.94%] Average Cost $0.16 Market Price $0.0705 OTC I think / yes RH has a SELL button, have not tried it  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c693302424f6e3f30003f1' id='57c693302424f6e3f30003f1'>
<a href='#57c693302424f6e3f30003f1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1472631608000' class='quanto-date posted-at response-posted-at' href='#57c693302424f6e3f30003f1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Feel free to make any tweaks you wish to the algo. <strong>I decided to trade the version that got the biggest returns in the backtest, pimples and all.</strong> <strong>Not expecting it to match the backtest, but hoping it turns out to be profitable.</strong> Not giving it any more money, until it gets some track record and shows persistent similar patterns like the backtests. At some point, I will make some tweaks to the code, to get rid of the pimples, but <strong>for now, just letting it do whatever it does</strong>.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c69893be449f9ccc0007bd' id='57c69893be449f9ccc0007bd'>
<a href='#57c69893be449f9ccc0007bd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57b1be02ff34ff3fce0000b9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/221f4dfee58af6c71f801d18277957dd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57b1be02ff34ff3fce0000b9'>Joe Corkerton</a>
</div>
<a UTCms='1472632986000' class='quanto-date posted-at response-posted-at' href='#57c69893be449f9ccc0007bd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Very interesting, please keep posting updates. Is there a reason why you haven&#39;t tried to sell your delisted stocks yet?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c6a17503178a92a40003ba' id='57c6a17503178a92a40003ba'>
<a href='#57c6a17503178a92a40003ba'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1472635261000' class='quanto-date posted-at response-posted-at' href='#57c6a17503178a92a40003ba'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>&quot;Is there a reason why you haven&#39;t tried to sell your delisted stocks yet?&quot;
Just curious if they will eventually list again.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c726166b566386c0000166' id='57c726166b566386c0000166'>
<a href='#57c726166b566386c0000166'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1472669220000' class='quanto-date posted-at response-posted-at' href='#57c726166b566386c0000166'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ive been running your algo and I have a problem where it does not purchase on certain days until I manually start selling some stocks. Is there a max limit of amount of stocks you can have on robinhood? Also I have 4k invested and am running into problem of algorithm not using all of 4k. It only uses around 2k ( half). And finally, no stocks are bought using more than 40 dollars, and the average stock bought are ~20$ which is 0.5% of my capital.</p>

<p>These are my observed behaviors. With this I have made 0.2% gains so far.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c74e992a158039e70000f8' id='57c74e992a158039e70000f8'>
<a href='#57c74e992a158039e70000f8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/575c76f22c40f02ae000040a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1b609bdecd20980483b12d1a52ca72aa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/575c76f22c40f02ae000040a'>Greg Rollins</a>
</div>
<a UTCms='1472679586000' class='quanto-date posted-at response-posted-at' href='#57c74e992a158039e70000f8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have had issues with Robinhood cancling orders that the algorithm places.  I don&#39;t see why, I have not hit their day trading limit.<br>
It may be because my order is the first one of the day. If I trade the same stock from my phone it goes through.</p>

<p>The other problem is that is is difficult to determine the price when there are only a few trades per day. </p>

<p>Has anyone done a side-by-side comparison of Robinhood and IB?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c7b7769266ab01eb0005ce' id='57c7b7769266ab01eb0005ce'>
<a href='#57c7b7769266ab01eb0005ce'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1472706432000' class='quanto-date posted-at response-posted-at' href='#57c7b7769266ab01eb0005ce'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>&quot;Is there a max limit of amount of stocks you can have on robinhood?&quot;
I have not heard of or noticed any.</p>

<p>Keep in mind, there are quite a few versions of my algo on this thread. I am referring to the &quot;million % in ten years&quot; version, warts and all.</p>

<p>&quot;algo only using about half of capital&quot;
Multiple factors cause this:<br>
The <strong>weight</strong> assigned to <strong>gold</strong> or <strong>Other</strong> almost never holds any positions, so it <strong>is almost always cash, less than 100% leverage</strong>.<br>
<strong>The limit buys only get in at a &quot;6% discount&quot;, otherwise no purchase is made.</strong> This will always cause less than 100% leverage.<br>
The cash variable in my_rebalance is adjusted for every <strong>placed</strong> order, <strong>not</strong> executed orders. <strong>This will always cause less than 100% leverage.</strong><br>
Sometimes RH will not trade a particular stock, so the weight assigned to it is &quot;wasted&quot;.<br>
If you have &quot;day trade protection&quot; set to on with RH like I do, then some trades will be rejected, thus wasted weight.<br>
Other factors exist as well, such as slippage, partially executed orders, etc.<br>
Some of these things are &quot;pimples&quot; and some may play a role in contributing to the profitability of the algo.<br>
Time will tell.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57d05588283e8303520002ea' id='57d05588283e8303520002ea'>
<a href='#57d05588283e8303520002ea'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1473271184000' class='quanto-date posted-at response-posted-at' href='#57d05588283e8303520002ea'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>anything new here?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57d06a276d77388cc200079a' id='57d06a276d77388cc200079a'>
<a href='#57d06a276d77388cc200079a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57cc8abd06c73e15090008ea'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0d14a8a0c9caf85240f30b7872c2e250?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57cc8abd06c73e15090008ea'>Jason Ge</a>
</div>
<a UTCms='1473276461000' class='quanto-date posted-at response-posted-at' href='#57d06a276d77388cc200079a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The quantopian community is really amazing and I like the collaborative culture here much more than the secretive practices of Wall Street. Just to help the community avoid lossing money in extreme cases, I&#39;m putting my two cents here.</p>

<ol>
<li><p>The source of profitability for the Gold King. It’s risky to take those trades on illiquid stocks because when market crashes, few people will be willing to buy and selling will be very hard in those cases. The abnormal profits are mostly rewards for taking the liquidity risk.</p></li>
<li><p>Caveat. Switch to manual mode and use market orders to clear positions in market crashes. Even with this in mind I’m still worried that in those cases institutional investors’ orders will get filled first and who knows what price can we get from Robinhood.  </p></li>
</ol>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57d3601727b8a751a80002a9' id='57d3601727b8a751a80002a9'>
<a href='#57d3601727b8a751a80002a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57ae77603f33d66a540005c5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3e0c150150d8dd24239bdcdd166f3b93?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57ae77603f33d66a540005c5'>Delman Woodrum</a>
</div>
<a UTCms='1473470495000' class='quanto-date posted-at response-posted-at' href='#57d3601727b8a751a80002a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I tried going through the latest updated code for this algo last night after shift, and got stumped trying to eliminate the gold hedge. What would it look like if this algo just went all in on the pipeline generated stocks? And is there a way to apply some of the morningstar fundamentals to its stock picks in order to increase the quality of some of its trade selections?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57d39e733cbf9218e100032a' id='57d39e733cbf9218e100032a'>
<a href='#57d39e733cbf9218e100032a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/575c76f22c40f02ae000040a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1b609bdecd20980483b12d1a52ca72aa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/575c76f22c40f02ae000040a'>Greg Rollins</a>
</div>
<a UTCms='1473486459000' class='quanto-date posted-at response-posted-at' href='#57d39e733cbf9218e100032a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Increasing the minimum buy price to $2.00 or requiring the companies have positive earnings reduces the number of defaults, but also reduces the profitability according to the back test.   I let it run live for about a week.  It had no trouble buying stocks,  (I only bought ones above $1.50) but not many were being sold.  The spreads are large and some of the stocks  it bought  don&#39;t trade at all on a given day.  The stocks I ended up with are now about 3% under water.  I put limit orders on then  and  them equal to what I paid and will see if I can get my money back.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57d60a6267730c53670003f6' id='57d60a6267730c53670003f6'>
<a href='#57d60a6267730c53670003f6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1473645160000' class='quanto-date posted-at response-posted-at' href='#57d60a6267730c53670003f6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Live Trading Robinhood real money<br>
Started Trading: market open Wednesday, 8/10/2016<br>
Capital base: $1,650.61</p>

<p>As of market close Friday, 9/9/2016<br>
<strong>-4.07% Returns / +0.60% Backtest / -2.20% Benchmark</strong><br>
($67.17) Dollar P/L -7.92 Sharpe
$814.02 Long Exposure $769.42 Available Cash</p>

<p>Not really commenting on this stuff. Just reporting for transparency and because I know some of you want to know what the results will be for live trading.<br>
I know some of you others have been reporting your live trading results too, which also helps the rest of us.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dbf6bd2bb3bf2397000476' id='57dbf6bd2bb3bf2397000476'>
<a href='#57dbf6bd2bb3bf2397000476'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57d1d3b179b26b8d02000343'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/60bdcefed5c4c69b27c4c494dc7eae81?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57d1d3b179b26b8d02000343'>Naor Porat</a>
</div>
<a UTCms='1474033349000' class='quanto-date posted-at response-posted-at' href='#57dbf6bd2bb3bf2397000476'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Charles,</p>

<p>First, I am seriously admire your consistency regarding your fantastic algo.</p>

<p>I s there any indication for results with INTERACTIVE BROKERS for any of the versions of your algo? Maybe you can pressume if it&#39;ll work efficiently on commission Account like IB?</p>

<p>Thanks<br>
-Naor  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dbfbb5e1707f3a7600008a' id='57dbfbb5e1707f3a7600008a'>
<a href='#57dbfbb5e1707f3a7600008a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1474034626000' class='quanto-date posted-at response-posted-at' href='#57dbfbb5e1707f3a7600008a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am a fan of IB. I just don&#39;t have enough money yet to have an account. But I consider IB to be possibly the best.<br>
So, I think you would get different results with IB.<br>
No day trading restrictions because you have enough money in your account.<br>
I think IB would likely get superior order execution.<br>
There are some commissions however, but quite small from what I understand.</p>

<p>If any of you all have IB and are live trading any version of this algo, please let us know your experiences.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dc09d554a7b58de00005be' id='57dc09d554a7b58de00005be'>
<a href='#57dc09d554a7b58de00005be'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57d1d3b179b26b8d02000343'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/60bdcefed5c4c69b27c4c494dc7eae81?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57d1d3b179b26b8d02000343'>Naor Porat</a>
</div>
<a UTCms='1474038236000' class='quanto-date posted-at response-posted-at' href='#57dc09d554a7b58de00005be'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;d be realy glad to experience your algo on my IB account, but pattern day trading isn&#39;t allowed for me.<br>
I can be leveraged X2.</p>

<p>But I don&#39;t really know which of the versions of your Algo I should take... It will be great to hear what you thinking.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dc0f8b2bb3bf2397000597' id='57dc0f8b2bb3bf2397000597'>
<a href='#57dc0f8b2bb3bf2397000597'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1474039698000' class='quanto-date posted-at response-posted-at' href='#57dc0f8b2bb3bf2397000597'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>For the most part, my algo avoids day trades. There are a very small number that still happen. RH has day trade protection, which to me seems a bit overly aggressive in its protection. But I use it just to make sure I don&#39;t get flagged as pattern day trader. Does IB have day trade protection?</p>

<p>If whatever algo you are trading with now works for you, then I would suggest continue with it. My risk tolerance is quite high and I have been known to have nerves of steel. So you all might be better off letting me take the risk.</p>

<p>We just had a bad 30 days start for my algo. Today it did a &quot;Stop Wait&quot; monthly function, which among other things, resets the MaxPV which allows for a &quot;fresh start&quot;. So, the algo will now behave as if it is starting over at zero percent profit / loss. It does this I think on the 16th of every month.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dc137a2bb3bf0bfe00019a' id='57dc137a2bb3bf0bfe00019a'>
<a href='#57dc137a2bb3bf0bfe00019a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57d1d3b179b26b8d02000343'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/60bdcefed5c4c69b27c4c494dc7eae81?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57d1d3b179b26b8d02000343'>Naor Porat</a>
</div>
<a UTCms='1474040709000' class='quanto-date posted-at response-posted-at' href='#57dc137a2bb3bf0bfe00019a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Charles, Guess I&#39;ll just change the cost in the original algo...</p>

<p>Definitely have protection of pattern day trading... I can&#39;t execute more than 3 trades in a day.<br>
I have risk tollerance that&#39;s as high as you I guess :)</p>

<p>I am very new in Quantopian so I haven&#39;t got the API that much til&#39; now...<br>
But your Algo seems so promising...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dc193b8e82d4ddcb00002e' id='57dc193b8e82d4ddcb00002e'>
<a href='#57dc193b8e82d4ddcb00002e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1474042184000' class='quanto-date posted-at response-posted-at' href='#57dc193b8e82d4ddcb00002e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Good to hear that IB also has day trade protection.</p>

<p>The version of the algo that I am trading is the &quot;million percent in 10 years&quot; version.</p>

<p>Feel free to modify the code to fit your situation better.</p>

<p>It needs some warts removed, but I am waiting for more live trade experience to prove overall profitability or NOT.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dc31158e82d4ddcb000162' id='57dc31158e82d4ddcb000162'>
<a href='#57dc31158e82d4ddcb000162'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57d1d3b179b26b8d02000343'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/60bdcefed5c4c69b27c4c494dc7eae81?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57d1d3b179b26b8d02000343'>Naor Porat</a>
</div>
<a UTCms='1474048284000' class='quanto-date posted-at response-posted-at' href='#57dc31158e82d4ddcb000162'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I guess you don&#39;t care about commissions since you&#39;re robin-hood trader.</p>

<p>But when I am selecting 3$ commission per trade, Backtesting shows it isn&#39;t profitable anymore. Any solution?<br>
And well, I thought you gone for the latest version, which settles few problems down. Why not actually? Just because of the higher returns?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dc3bf1992f3e25f900018e' id='57dc3bf1992f3e25f900018e'>
<a href='#57dc3bf1992f3e25f900018e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56aa51f03764b3cb990000ff'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/80fdb4de2c7bbb62d815fbd27582e5d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56aa51f03764b3cb990000ff'>Mohammad Forouzani</a>
</div>
<a UTCms='1474051066000' class='quanto-date posted-at response-posted-at' href='#57dc3bf1992f3e25f900018e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>IB&#39;s commission is $1 + 0.005 per share.</p>

<p>Here is the code to emulate: </p>

<pre><code>    set_commission(commission.PerShare(cost=0.005, min_trade_cost=1))  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dc3d479196f58ba8000052' id='57dc3d479196f58ba8000052'>
<a href='#57dc3d479196f58ba8000052'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57d1d3b179b26b8d02000343'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/60bdcefed5c4c69b27c4c494dc7eae81?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57d1d3b179b26b8d02000343'>Naor Porat</a>
</div>
<a UTCms='1474051411000' class='quanto-date posted-at response-posted-at' href='#57dc3d479196f58ba8000052'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks a lot Mohammad!<br>
Any other configurations you see as needed in Order to implement into REAL MONEY LIVE TRAdING AT IB?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57df8117f1be6f9b230004eb' id='57df8117f1be6f9b230004eb'>
<a href='#57df8117f1be6f9b230004eb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1474265377000' class='quanto-date posted-at response-posted-at' href='#57df8117f1be6f9b230004eb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Naor Porat: Go see the new thread &quot;The King Forgot His Shorts&quot;.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dfe7a59c97fd7b7b000957' id='57dfe7a59c97fd7b7b000957'>
<a href='#57dfe7a59c97fd7b7b000957'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1474291633000' class='quanto-date posted-at response-posted-at' href='#57dfe7a59c97fd7b7b000957'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This thread is getting a bit long in the tooth.<br>
<strong>The Gold King And His Knights</strong> continues in the thread <strong>Robin Hood Throws A Party</strong>.<br>
It is a slight modification of <strong>The King Forgot His Shorts</strong>.</p>

<p>I am now live trading with <strong>Robin Hood Throws A Party</strong> instead of the &quot;million percent in 10 years&quot; version.<br>
The final results for that version which I started live trading August 10th is:<br>
Live Trading Robinhood real money &quot;The Gold King And His Knights - million percent in 10 years version&quot;<br>
Started Trading: market open Wednesday, 8/10/2016<br>
Capital base: $1,650.61</p>

<p>As of market close Friday, 9/16/2016<br>
-4.40% Returns / -0.20% Backtest / -2.20% Benchmark<br>
($72.64) Dollar P/L -7.28 Sharpe $627.32 Long Exposure $950.65 Available Cash</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59813ad9993e990dd9c7438f' id='59813ad9993e990dd9c7438f'>
<a href='#59813ad9993e990dd9c7438f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1501641433000' class='quanto-date posted-at response-posted-at' href='#59813ad9993e990dd9c7438f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One year ago I put in live paper trading  Andrew Martin version of The Gold King And His Knights.<br>
Here is its out of sample paper trading performance:</p>

<p>Live Algorithm Settings<br>
Status:<br>
Live Trading<br>
Type:<br>
Quantopian paper trading<br>
Started Trading:<br>
7/29/2016, 9:03:53 AM<br>
Capital base:<br>
$10,000.00</p>

<p>101.43%<br>
Returns<br>
$10,142.57
Dollar P/L<br>
4.89<br>
Sharpe<br>
$8,724.99
Long Exposure<br>
$0.00
Short Exposure<br>
$11,417.58
Available Cash  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598141e524a0fd0af1784de0' id='598141e524a0fd0af1784de0'>
<a href='#598141e524a0fd0af1784de0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59065fbb5afa7d0010371ea1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/08e3b9ac969cdd40340b6094e6ce2bd7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59065fbb5afa7d0010371ea1'>Viridian Hawk</a>
<span class='badge medal'></span>
</div>
<a UTCms='1501643237000' class='quanto-date posted-at response-posted-at' href='#598141e524a0fd0af1784de0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Vladimir, thanks for posting those results!  I came across this thread the other day looking for gold trading strategies on Q and ran a forward-looking backtest and was impressed.  Were you running the SPY-instead-of-IAU version or the HERO-less version?  @Charles, you could have doubled your money in the past year!  Great job with this one.</p>

<p>A lot of people have been talking about how inaccurate/inflated Q&#39;s backtest results are when it comes to low liquidity stocks.  Running a backtest over the same time period:<br>
RETURNS 92.7%<br>
SHARPE 4.72<br>
It appears paper trading matches the backtest, and if anything the backtest is more conservative.  Can anybody speak to how paper-traded results compare to using an actual brokerage?  Anybody have data from the same algo running in both paper trading and through a brokerage?  How does how paper trading take handlesvolume, price direction, bid/ask spread compare to the backtester? or is it basically the same thing?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59814b3141b3160c00a70b6f' id='59814b3141b3160c00a70b6f'>
<a href='#59814b3141b3160c00a70b6f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5674b7bd1869e73f4a000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e411d64f7a123f5c2102614fafa48b58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5674b7bd1869e73f4a000334'>Luke Izlar</a>
</div>
<a UTCms='1501645617000' class='quanto-date posted-at response-posted-at' href='#59814b3141b3160c00a70b6f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>quantopian paper trading uses the same order fill assumptions that backtesting does. this means that the paper trade results won&#39;t work like live trading for low liquidity stocks. the resaon is that quantopian is not a brokerage and has no way to know what stocks will or won&#39;t get filled  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59816c60993e990dd9c74628' id='59816c60993e990dd9c74628'>
<a href='#59816c60993e990dd9c74628'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1501654112000' class='quanto-date posted-at response-posted-at' href='#59816c60993e990dd9c74628'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have ran a few of these algo&#39;s in live IB and the fills are totally different from the back test or paper trade. About 50% of the fill in paper/backtest I got in Live. When I found that, I stopped the algo and discarded penny stock/illiquid stock algo&#39;s. My opinion after burning few thou $$$: If it&#39;s not in the Q500/Q1500, it prob not worth it, unless using etfs which are not always in the Q1500 but do have sufficient liquidity/low bid/ask spreads.</p>

<p>Chew/Peter/Blue KangarooFish  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598217b410be7866c77f72ac' id='598217b410be7866c77f72ac'>
<a href='#598217b410be7866c77f72ac'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1501697972000' class='quanto-date posted-at response-posted-at' href='#598217b410be7866c77f72ac'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Do <strong>NOT</strong> get too excited. I am back live trading <a href="https://www.quantopian.com/posts/robin-hood-vix-mix-extreme-vetting">Robin Hood VIX Mix Extreme Vetting</a>. <strong>It is still a work in progress</strong>. However, it does have a more reasonable feel to it.</p>

<p><strong>The micro cap low volume stocks are gone, finito, fired, no longer a part of my family. The ExtremeVetting function uses Q500 worst performers.</strong></p>

<p>There is a significant drop, apparently, in Max DD. This is much improved over the previous version.</p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/the-gold-king-and-his-knights'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/the-gold-king-and-his-knights'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#9dfbf8f8f9fffcfef6ddece8fcf3e9f2edf4fcf3b3fef2f0">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
