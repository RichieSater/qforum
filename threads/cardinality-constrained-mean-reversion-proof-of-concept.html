<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
cardinality constrained mean reversion - proof of concept
</title>
<meta content='Here is an attempt to implement the ideas in this research paper titled &quot;Identifying small mean reverting portfolios&quot;:  http://www.di.ens.fr/~aspremon/PDF/MeanRevVec.pdf The gist of the paper is that given N stocks in a universe, the algorithm identifies k stocks that are mean reverting (stationary). As a proof of concept, the attached code does not implement a trading strategy but only logs if the smaller portfolio is stationary or not. Unfortunately, the optimization using cvxopt for this...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="eOGJrajktuEdcwCHIGCrUCo2dVA2kKOdRSCWeD/ZYC0Eh//gChJkAqRuWbZvjwMkErhWOUxctobHL00SlZwClg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/cardinality-constrained-mean-reversion-proof-of-concept' property='og:url'>
<meta content='cardinality constrained mean reversion - proof of concept' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/cardinality-constrained-mean-reversion-proof-of-concept' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='cardinality constrained mean reversion - proof of concept' property='og:title'>
<meta content='Here is an attempt to implement the ideas in this research paper titled &quot;Identifying small mean reverting portfolios&quot;:  http://www.di.ens.fr/~aspremon/PDF/MeanRevVec.pdf The gist of the paper is that given N stocks in a universe, the algorithm identifies k stocks that are mean reverting (stationary). As a proof of concept, the attached code does not implement a trading strategy but only logs if the smaller portfolio is stationary or not. Unfortunately, the optimization using cvxopt for this...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/cardinality-constrained-mean-reversion-proof-of-concept">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='553a87ec7842d2048300013d'>
<div class='post-container' data-post-id='553a87ec7842d2048300013d' id='553a87ec7842d2048300013d'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>cardinality constrained mean reversion - proof of concept</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1429899245000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=cardinality constrained mean reversion - proof of concept&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fcardinality-constrained-mean-reversion-proof-of-concept%3Futm_source%3Dwebsite_share%26utm_campaign%3Dcardinality-constrained-mean-reversion-proof-of-concept%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fcardinality-constrained-mean-reversion-proof-of-concept%3Futm_source%3Dwebsite_share%26utm_campaign%3Dcardinality-constrained-mean-reversion-proof-of-concept%26utm_medium%3Dlinkedin&amp;title=cardinality+constrained+mean+reversion+-+proof+of+concept+%28Deleted+User%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/cardinality-constrained-mean-reversion-proof-of-concept?utm_source=website_share&amp;utm_campaign=cardinality-constrained-mean-reversion-proof-of-concept&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Deleted User" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Here is an attempt to implement the ideas in this research paper titled &quot;Identifying small mean reverting portfolios&quot;: <a href="http://www.di.ens.fr/%7Easpremon/PDF/MeanRevVec.pdf">http://www.di.ens.fr/~aspremon/PDF/MeanRevVec.pdf</a></p>

<p>The gist of the paper is that given N stocks in a universe, the algorithm identifies k stocks that are mean reverting (stationary). As a proof of concept, the attached code does not implement a trading strategy but only logs if the smaller portfolio is stationary or not.</p>

<p>Unfortunately, the optimization using cvxopt for this algo is quite intensive and quantopian blows up with out of memory or timeouts if universe contains more than 15 or so stocks. I think this algo will work well if universe is large (&gt;50 stocks) and we select a basket of 8-10 stocks that are mean reverting.</p>

<p>Please play around with it and let me know if you identify any defects.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>49 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='553a99fe08a56edeee00089f' id='553a99fe08a56edeee00089f'>
<a href='#553a99fe08a56edeee00089f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1429903874000' class='quanto-date posted-at response-posted-at' href='#553a99fe08a56edeee00089f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A simple crude trading strategy around the stationary series.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553af427e9044f3b350008db' id='553af427e9044f3b350008db'>
<a href='#553af427e9044f3b350008db'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/546bb8c0f3659f707e0005cf'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73604052d4c7647d323c84e719614536?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/546bb8c0f3659f707e0005cf'>Deleted User</a>
</div>
<a UTCms='1429926953000' class='quanto-date posted-at response-posted-at' href='#553af427e9044f3b350008db'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Satyapravin,  This is a really interesting result.  Looks like all the &#39;jumps&#39; in the portfolio are to the upside.  Have you tried backtesting it over a longer time frame or over other stocks or ETF&#39;s?  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='553af5207842d20483000aaa' id='553af5207842d20483000aaa'>
<a href='#553af5207842d20483000aaa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1429927203000' class='quanto-date posted-at response-posted-at' href='#553af5207842d20483000aaa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The algo is too computationally intensive and demands lot of memory and CPU. I don&#39;t think it scales well in quantopian unfortunately. Have to run it outside quantopian with a larger universe of atleast 50-100 stocks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553b7e9574c15df443000d3b' id='553b7e9574c15df443000d3b'>
<a href='#553b7e9574c15df443000d3b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1429962391000' class='quanto-date posted-at response-posted-at' href='#553b7e9574c15df443000d3b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There&#39;s an outfit (also in Boston) that offers high-performance computing for financial applications:</p>

<p><a href="https://elsen.co/">https://elsen.co/</a></p>

<p>Perhaps they could lend a hand, if the Q research platform can&#39;t handle it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553bbbfd74c15ddfee000eb5' id='553bbbfd74c15ddfee000eb5'>
<a href='#553bbbfd74c15ddfee000eb5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1429978111000' class='quanto-date posted-at response-posted-at' href='#553bbbfd74c15ddfee000eb5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the reference Grant. I was thinking of splitting the universe into buckets of 10-15 stocks and trying to identify a mean reverting subset in each basket on Q. I will take a look at elsen.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='553f0f11d5c4473f0e0002a7' id='553f0f11d5c4473f0e0002a7'>
<a href='#553f0f11d5c4473f0e0002a7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1430195988000' class='quanto-date posted-at response-posted-at' href='#553f0f11d5c4473f0e0002a7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Finally managed to crack it. The lesson I learnt is that mean reversion is very noisy around mean and non gaussian. Standard deviation or zscores don&#39;t help. I need to find a better measure of dispersion. Anyway this backtest has a sharpe of 2 and can be improved because there is a long period of 6 months where algo does not trade at all. This can be changed by increasing the universe of stocks to scan for opportunities.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5540b9080e3feeecc7000663' id='5540b9080e3feeecc7000663'>
<a href='#5540b9080e3feeecc7000663'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1430305035000' class='quanto-date posted-at response-posted-at' href='#5540b9080e3feeecc7000663'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Satyapravin,</p>

<p>The paper <a href="http://www.di.ens.fr/%7Easpremon/PDF/MeanRevVec.pdf">http://www.di.ens.fr/~aspremon/PDF/MeanRevVec.pdf</a> is quite involved; I&#39;d really have to roll up my sleeves to understand it (although I have some of the basic linear alebra, statistics, and conceptual tools).  Generally, my interest is to see if the approach could be applied in the Q research platform to identify baskets of securities that could then be used in an algorithm like OLMAR (<a href="http://arxiv.org/ftp/arxiv/papers/1206/1206.4626.pdf">http://arxiv.org/ftp/arxiv/papers/1206/1206.4626.pdf</a>) or a variant.</p>

<p>I have the feeling that the Q research platform may &quot;break down&quot; at some point.  For example, say I wanted to pluck out mean-reverting baskets of 50-200 stocks out of a universe of 2000.  Would it work, if I&#39;m willing to wait hours/days?</p>

<p>Would you be willing to provide a break-down of what portion of the paper you applied, what it does, and why it works?</p>

<p>Also, it seems important to be able to explore the time scale of mean reversion?  Does this analysis provide a means to do that?  For example, if the time scale is too short, then Quantopian, running on minute bars, won&#39;t work, and if it is too long, then the deviation will have to be very large (which seems unlikely).</p>

<p>Thanks,</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5540c8650a6bbc76df000680' id='5540c8650a6bbc76df000680'>
<a href='#5540c8650a6bbc76df000680'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1430308967000' class='quanto-date posted-at response-posted-at' href='#5540c8650a6bbc76df000680'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Grant,</p>

<p>The paper is complex but after several reads became much clearer. Here is the gist of the paper. First we run lasso regression on stock prices to obtain an estimator which is the coefficient in VAR(1) model like this:</p>

<pre><code>for j in range(0, col):  
    Ahat[:,j] = Lasso(0.1).fit(pval[:-1,:], pval[1:,j]).coef_
</code></pre>

<p>Then we compute the covariance matrix using shrinkage model like this:</p>

<pre><code>oas = OAS()  
oas = oas.fit(pval)  
B = oas.covariance_  
</code></pre>

<p>The next step is to solve a semi definite optimization program described below. Most of the complexity is because Q does not support CVXPY and we have to make do with CVXOPT. </p>

<pre><code># minimize    Tr(MY)  
# subject to  
#           ||Y|| - kz &lt;= 0  
#           Tr(Y) - z   = 0  
#           Tr(BY)      = 1  
#           Y          &gt;= 0 - positive semidefinite  
#  
# where  
#           Y =    X             z =     1  
#               --------             ----------  
#                Tr(BX)                Tr(BX)  
#  
#           M = A&#39;B A  
#           A = lasso regression estimator  
#           B = covariance matrix  
#           X = xx&#39;    - x are the weights  
#           k = max no. of stocks in mean reverting portfolio  
#
</code></pre>

<p>Important points:</p>

<ol>
<li><p>Since X = xx&#39; we require N square variables for N stocks in universe. This quickly explodes. For example if universe has 30 stocks then optimization requires 900 variables and Q dies.</p></li>
<li><p>Most times mean reversion quickly collapses out of sample. </p></li>
<li><p>I used adfuller to check for stationarity which implies mean reversion</p></li>
<li><p>Sometimes the weights are heavily skewed. What I mean is that if there are 10 stocks are we are investing 100K, then if a single stock has an exposure of 50K it is uneven. But that is easy to solve by introducing a new constraint on each stock&#39;s exposure.</p></li>
<li><p>You can use half life to measure the time it takes to mean revert. Please see fit_OU method.</p></li>
<li><p>There is also another paper which introduces variance in portfolio. That can be clubbed with this strategy by introducing a new constraint.</p></li>
</ol>

<p>Let me know if you require more information.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5540c9720a6bbc76df00068a' id='5540c9720a6bbc76df00068a'>
<a href='#5540c9720a6bbc76df00068a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1430309236000' class='quanto-date posted-at response-posted-at' href='#5540c9720a6bbc76df00068a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>By the way, since mean reversion breaks out of sample, I am actually trying out a strategy that bets that mean reversion is going to break. That means if a stationary portfolio is 2 standard deviations about mean value then we assume that it will break out even more. This seems to work as well.  I will post results shortly.</p>

<p>I think the algorithm in paper works well to identify stationary portfolios but I am not experienced to trade it. This is where I am failing.</p>

<p>Also it does not make sense to look for mean reversion in a portfolio of random stocks. A friend of mine who works in this industry suggested that I use clustering techniques to group similar stocks and then look for mean reversion amongst similar stocks. For example look for stocks that move in same direction with oil prices and build a mean reverting portfolio of these stocks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5540f9595769c3398100005c' id='5540f9595769c3398100005c'>
<a href='#5540f9595769c3398100005c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1430321500000' class='quanto-date posted-at response-posted-at' href='#5540f9595769c3398100005c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes, brute force searching for mean reverting portfolios of random stocks is very time-consuming. On Quantopian, it&#39;s also really important to only use these techniques in really liquid assets with narrow spreads, otherwise you&#39;ll find phantom mean reversion due to bid-ask bounce in the trade data.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='554110845769c36a9c0000ec' id='554110845769c36a9c0000ec'>
<a href='#554110845769c36a9c0000ec'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1430327430000' class='quanto-date posted-at response-posted-at' href='#554110845769c36a9c0000ec'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>On that note, here is a clustering algorithm demo in python if it wasn&#39;t shared before. It uses affinity propogation (haven&#39;t understood it yet) on correlations to group stocks into clusters.</p>

<p><a href="http://scikit-learn.org/stable/auto_examples/applications/plot_stock_market.html#example-applications-plot-stock-market-py">http://scikit-learn.org/stable/auto_examples/applications/plot_stock_market.html#example-applications-plot-stock-market-py</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='554173850eed3419d400000b' id='554173850eed3419d400000b'>
<a href='#554173850eed3419d400000b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1430352775000' class='quanto-date posted-at response-posted-at' href='#554173850eed3419d400000b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Satyapravin,</p>

<p>At least now when I refer back to the paper, maybe I can focus on the right things.</p>

<p>Regarding the clustering, I&#39;ve attached an example that was posted on Quantopian some time ago.  Perhaps you&#39;ll find it useful.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5541783f2ad40bb685000018' id='5541783f2ad40bb685000018'>
<a href='#5541783f2ad40bb685000018'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1430353986000' class='quanto-date posted-at response-posted-at' href='#5541783f2ad40bb685000018'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Satyapravin B., You appear to be a pretty smart guy. And I wish you all the best if you decide to participate in the Q&#39;s Open. But your code is so obscure as to be impenetrable to my tiny brain. I&#39;ve reviewed a number of your submissions and frankly have to look away else my mind get sucked into some quantitative induced vortex from which I&#39;ll never escape. Sluuuuuurp -- there went my half a billion neurons. But I&#39;m drawn to your investigations like a moth to a flame. Singed every time however, I wonder if there&#39;s not some salve to ease my pain. For example:</p>

<pre><code>def getGs(n):  
    G = np.zeros((n**2,2*n**2+1))  
    row = 0  
    for i in range(0,n):  
        for j in range(0,n):  
            g = np.zeros((n,n))  
            if i == j:  
                g[i,j] = -1.0  
            else:  
                g[i,j] = -0.5  
                g[j,i] = -0.5  
            g = np.ravel(g).tolist()  
            g = g + ([0] *(n**2+1))  
            G[row,:] = g  
            row += 1  
    return [matrix(G)]

</code></pre>

<p>My head has started to throb just seeing this code from the periphery of my eyesight.  </p>

<p>Is it at all possible to implore you to elaborate your code in such a way as to render it intelligible to the quantitatively challenged -- such as myself?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55417f11a57a984c57000030' id='55417f11a57a984c57000030'>
<a href='#55417f11a57a984c57000030'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1430355732000' class='quanto-date posted-at response-posted-at' href='#55417f11a57a984c57000030'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Market Tech,</p>

<p>Apologies. I am trying hard to enter Q open but haven&#39;t managed to find a consistently profitable strategy. If things work in 2013-15 they fail miserably in 2006-2008 or something like that. I was in a rush to get something going and hence the lack of comments in my code.</p>

<p>Unfortunately CVXOPT is very complex. All of the complexity will reduce once Q supports CVXPY which I have requested. I will post a cleaner version as soon as its done.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55417fc0ec76e332e400003e' id='55417fc0ec76e332e400003e'>
<a href='#55417fc0ec76e332e400003e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1430355906000' class='quanto-date posted-at response-posted-at' href='#55417fc0ec76e332e400003e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also I am not a python programmer which you would have known by now looking at my code. I program in C++ mostly and am learning python just for Q.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='554184d765206122a800005a' id='554184d765206122a800005a'>
<a href='#554184d765206122a800005a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1430357209000' class='quanto-date posted-at response-posted-at' href='#554184d765206122a800005a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>always great to be able to learn from someone like you Satyapravin, but I must say that it takes me a long time to read the lovely condensed code, lack of brain power like MarketTech I guess  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5541f82bec76e332e4000269' id='5541f82bec76e332e4000269'>
<a href='#5541f82bec76e332e4000269'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1430386733000' class='quanto-date posted-at response-posted-at' href='#5541f82bec76e332e4000269'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Satyapravin</p>

<p>Regarding the contest, keep in mind that the only time periods that matter are the 2-year backtest, 1-month paper trading, and 6-month real-money trading.  Personally, I didn&#39;t even bother backtesting beyond the 2-year period, and I got very lucky during the paper trading period, and so far I&#39;ve been unlucky trying to profit off of Q&#39;s capital (which, by the way, I knew could happen--the contest is all about reward to the winners with all of the risk burdened by Q).</p>

<p>@ Market Tech,</p>

<p>As a professional programmer (right?), I think I hear you volunteering to assist Mr. Bezwada in writing elegant, computationally efficient code that could be read by a 5 year old.  Regarding the example you provided, getGs(n), it appears to be a matrix of constants needed by the secret sauce optimizer, CVXOPT&#39;s sdp.  If you really want to dispense with some neurons, have a look at <a href="http://cvxopt.org/userguide/coneprog.html?highlight=sdp#semidefinite-programming">http://cvxopt.org/userguide/coneprog.html?highlight=sdp#semidefinite-programming</a> (or you could buy a nice bottle of Scotch instead).  This is actually a great case for Q to consider in their quest for domination of the hedge fund space.  It is my belief (which I&#39;ve expressed to them) that they are missing a key element, which is that hard problems get solved by diverse multi-disciplinary teams, not by &quot;geniuses&quot; working in isolation.  The person who can understand and explain CVXOPT&#39;s sdp probably won&#39;t be the same person who can implement it best in code.  And you may need an experienced, creative, intuitive type to steer the whole effort in the right direction, but who would never be able to understand what&#39;s going on &quot;under the hood.&quot;  And someone who understands the nitty-gritty mechanics of trading, market microstructure, etc.  And so on.  I&#39;m guessing that the best hedge funds have such teams working elbow-to-elbow.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55424c0e6a19aeda8d000416' id='55424c0e6a19aeda8d000416'>
<a href='#55424c0e6a19aeda8d000416'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1430408209000' class='quanto-date posted-at response-posted-at' href='#55424c0e6a19aeda8d000416'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hmm, hard to choose, I do rather like scotch...  </p>

<p>Collaboration is always an option that the Q has curiously provided through its web interface. I&#39;ve only ever used it once.  </p>

<p>I would mention, as I am wont to do, that the trading headspace is an odd duck. On the media extolled side we have &quot;proprietary algos potentially worth millions of dollars&quot; -- so why would you ever think of sharing them (collaborating)? On the other side, the reality side, we have, as you&#39;ve explained Grant, single disciplined individuals who would benefit greatly by teaming up with others who could then, as a group, build much better systems and strategies.  I&#39;ve run into this dichotomy time and time again.  </p>

<p>&quot;I can&#39;t share my secret trading technique.&quot;<br>
&quot;Yeah, but you can&#39;t code it yourself so you&#39;ll have to share it to build it.&quot;<br>
&quot;But, but, someone will steal it!&quot;<br>
&quot;Right, so keep it to yourself then so that it will never actually make anyone money.&quot;<br>
&quot;But, but...&quot;</p>

<p>This philosophy may not be as prevalent here, it is after all a forum of algo writers. But I would point out how few of the leaderboard contestants actually participate here. So maybe it&#39;s more systemic than one might think. It&#39;s an intriguing situation.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55424e56ec76e332e400041f' id='55424e56ec76e332e400041f'>
<a href='#55424e56ec76e332e400041f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1430408793000' class='quanto-date posted-at response-posted-at' href='#55424e56ec76e332e400041f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>But I would point out how few of the leaderboard contestants actually participate here. So maybe it&#39;s more systemic than one might think. It&#39;s an intriguing situation.</p>
</blockquote>

<p>True. The contest did change things a bit.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55424e59ec76e303470003e7' id='55424e59ec76e303470003e7'>
<a href='#55424e59ec76e303470003e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1430408796000' class='quanto-date posted-at response-posted-at' href='#55424e59ec76e303470003e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>But I would point out how few of the leaderboard contestants actually participate here. So maybe it&#39;s more systemic than one might think. It&#39;s an intriguing situation.</p>
</blockquote>

<p>True. The contest did change things a bit.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5542a7fdec76e332e40005d2' id='5542a7fdec76e332e40005d2'>
<a href='#5542a7fdec76e332e40005d2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1430431744000' class='quanto-date posted-at response-posted-at' href='#5542a7fdec76e332e40005d2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is there a more-or-less canned, tried-and-true brute force method for scoring random baskets of securities (from a limited universe) for their suitability to collectively mean revert?  If so, it would be straightforward to write some code in Q research, just to see how it plays out.  There is no parallel processing, and there are unknown memory limits, but it is my understanding that a notebook could run indefinitely just churning over data. </p>

<p>I suppose one could do the clustering first, followed by testing each cluster.  Are there other divide-and-conquer techniques?</p>

<p>Any thoughts?  Pointers?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5542ad4bd93f05b36600000a' id='5542ad4bd93f05b36600000a'>
<a href='#5542ad4bd93f05b36600000a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1430433102000' class='quanto-date posted-at response-posted-at' href='#5542ad4bd93f05b36600000a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This wanders some distance off Satya&#39;s path, but that&#39;s pretty much what the Directed Acyclical Graph DAG was intended to do, identify a group of securities that were highly likely to mean revert. Alternatively one could perform a simple &quot;arrhg!, who&#39;s with me?&quot; kind of selection by picking an anchor security and then locating every other security that was either correlated or cointegrated with it. That way you&#39;d limit your search. Pick 10 or 20 consistent anchors and then run dickyfuller or leastsqrs on the universe against each one; picking the top N as your group. Could even be automated perhaps and included in a strat.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5542aff6d93f05171e000018' id='5542aff6d93f05171e000018'>
<a href='#5542aff6d93f05171e000018'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1430433784000' class='quanto-date posted-at response-posted-at' href='#5542aff6d93f05171e000018'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Last year, in MATLAB, I tested all baskets of 2, 3 and 4 ETFs out of a universe of ~200 ETFs I think on two years of daily trade data, using Johansen&#39;s method for cointegration, several different stationarity tests, and a quick backtest as a final filter.  It ran on my Macbook Pro for about four months.  So far, none of them have really held up to intraday backtesting with quote data, leading me to believe that most of the so-called mean-reversion was just bid-ask bounce noise.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5542b14a6a19aeb9930005be' id='5542b14a6a19aeb9930005be'>
<a href='#5542b14a6a19aeb9930005be'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1430434126000' class='quanto-date posted-at response-posted-at' href='#5542b14a6a19aeb9930005be'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Why does &quot;bid-ask bounce noise&quot; lead to false positives?  And is there a way to filter it out?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5542b289a57a984c57000647' id='5542b289a57a984c57000647'>
<a href='#5542b289a57a984c57000647'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1430434444000' class='quanto-date posted-at response-posted-at' href='#5542b289a57a984c57000647'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I deal with it by back-testing these things using quote data, and making sure that my backtest algo buys the basket at the asks and sells at the bids.  I am not sure how one could get rid of it when using trade data, you just have to restrict your universe to those stocks with very narrow spreads. </p>

<p>I drew a picture of how it is deceptive non-mean-reversion on this thread: <a href="https://www.quantopian.com/posts/inaccurate-max-drawdowns-on-no-trade-days-slash-periods">https://www.quantopian.com/posts/inaccurate-max-drawdowns-on-no-trade-days-slash-periods</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5542b5b76a19aeda8d000609' id='5542b5b76a19aeda8d000609'>
<a href='#5542b5b76a19aeda8d000609'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1430435260000' class='quanto-date posted-at response-posted-at' href='#5542b5b76a19aeda8d000609'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Well, I&#39;ll have to think about why the bid-ask spread would come into play.  I guess you are saying that price swings would need to be outside the bid-ask range to be useful, but if you don&#39;t know the bid-ask, then how would you ever know signal from noise.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5542b771d93f05171e000032' id='5542b771d93f05171e000032'>
<a href='#5542b771d93f05171e000032'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1430435699000' class='quanto-date posted-at response-posted-at' href='#5542b771d93f05171e000032'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah, well imagine you had a perfectly hedged basket of X and Y which was perfectly stationary when long +1 of one and short -1 of the other.  Suppose the value of this spread is now, and forever, $5.  Generally, it would awesome to buy the spread when it dipped below 5, and sell it when it poked above $5.  </p>

<p>Now, suppose that X has a bid-ask spread of $1 and so does Y.  That means that the spread of the basket is $2, and so the bid of the basket is $4 and the ask of the basket is $6.  Now, through the random noise trading of X and Y, some trades will be at the ask and some trades will be at the bid.  If you calculate your basket value from trade data alone, you&#39;ll see the value of your spread jumping from $4 to $6 and in between.  A correctly optimized algorithm for trading this mean-reverting spread would be to buy it when it dips to $4, and sell it when it trades at $6.  </p>

<p>However, this is totally not executable, unless you are market-making both legs, since it costs $6 to buy the spread and it costs $4 to sell the spread.  All the motion is really just random noise.  </p>

<p>I&#39;ll relink the image here:</p>

<p><a href="http://imgur.com/1WPMwFD">http://imgur.com/1WPMwFD</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5542b7e06a19aeda8d000612' id='5542b7e06a19aeda8d000612'>
<a href='#5542b7e06a19aeda8d000612'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1430435811000' class='quanto-date posted-at response-posted-at' href='#5542b7e06a19aeda8d000612'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Statistical security trading seems replete with exceptions to the rules of mean reversion trading. I&#39;ve built and tested so many variations of pairs, triangular arbs and basket strategies that I&#39;m not even sure why I bother anymore. For the record NONE of the clients we ever had traded securities in such a fashion. They either day-traded equities using highly proprietary strats, traded options using broader strats or, most often, didn&#39;t trade equities at all. 90% of our clients traded futures. And there they had much better success using mean reversion in pairs and small groups. Grain complex, metals, energies, all with multiple expirations have much more predictable behaviors.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5542b8e765206122a8000570' id='5542b8e765206122a8000570'>
<a href='#5542b8e765206122a8000570'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1430436074000' class='quanto-date posted-at response-posted-at' href='#5542b8e765206122a8000570'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>if you don&#39;t know the bid-ask, then how would you ever know signal from noise.</p>
</blockquote>

<p>Indeed!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5542bd91d93f05b36600003e' id='5542bd91d93f05b36600003e'>
<a href='#5542bd91d93f05b36600003e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1430437268000' class='quanto-date posted-at response-posted-at' href='#5542bd91d93f05b36600003e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I believe the issue lies in the fact that there is so little information in the price values securities. On the surface it seems tractable, analyzing historic OHLCV price to project the path of said price over the next few minutes or days. But the lack of true predictive information tells another tale. This along with the mechanics, as Simon points out, belie the truth of profitable executions.  </p>

<p>How much information is really in a WIO (weighted index oscillator) that has come out of its tight standard deviation channel and jumped up a deviation or two? Oh, it&#39;s bound to revert, stock A will fall back down or stock B will lift to match its brother; so sell A and buy B. But then the relationship changes. WIO is now at a new level. The information we had was incomplete. Stock A signed a big contract or stock B got hit by an EPA lawsuit. Price just doesn&#39;t contain enough information to reliably, profitably trade.  </p>

<p>That&#39;s where all these social data feeds and insider trading stats (the legal kind) and earnings and fundy and blah blah blah type information sources try to overlay price with something, anything that can give credence to the reason why stock A jumped while stock B fell. But all these extra information sources are so damn hard to leverage. I bet the Chicago Traders Convention will have a ton of clever characters talking about their strikingly new data sources.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='554349722a1cb6404b000272' id='554349722a1cb6404b000272'>
<a href='#554349722a1cb6404b000272'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1430473076000' class='quanto-date posted-at response-posted-at' href='#554349722a1cb6404b000272'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Market Tech,</p>

<p>For a small number of securities, the risk will always be there.  As an institution, it seems you are gonna want something like a portfolio of at least 100 securities, and a minimum of $100M in capital.  Then, you can have $1M in each security (on average) to keep trading costs down, and all of the special events should average out.  Of course, this assumes that one could find 100 securities for which there is enough inefficiency for there to be an overall arbitrage, right?  Sounds kinda hard.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5544389c9ca6d8a2de0002e1' id='5544389c9ca6d8a2de0002e1'>
<a href='#5544389c9ca6d8a2de0002e1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1430534302000' class='quanto-date posted-at response-posted-at' href='#5544389c9ca6d8a2de0002e1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Grant,</p>

<p>Once I get access to research platform, I will try to run it locally on my PC to see if CVXOPT can work with 100 stocks. That should provide some insights.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5544f4b4b52e68fc1f00056c' id='5544f4b4b52e68fc1f00056c'>
<a href='#5544f4b4b52e68fc1f00056c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1430582454000' class='quanto-date posted-at response-posted-at' href='#5544f4b4b52e68fc1f00056c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Found this interesting paper on how to model mean reverting spreads. Since above algorithm already finds a stationary portfolio the next step would be to trade the spread. This paper describes an algorithm to model these spreads so that they can be traded. Still above me for the moment but hopefully in time I will be able to understand and verify it.</p>

<p><a href="http://arxiv.org/pdf/0808.1710v3.pdf">http://arxiv.org/pdf/0808.1710v3.pdf</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55453b4ef177bc3427000120' id='55453b4ef177bc3427000120'>
<a href='#55453b4ef177bc3427000120'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1430600532000' class='quanto-date posted-at response-posted-at' href='#55453b4ef177bc3427000120'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Simon,</p>

<p>Regarding this business of the trade prices bouncing randomly between the bid and ask, shouldn&#39;t this be evident in a histogram of prices?  Wouldn&#39;t one see a bi-modal distribution, at least over short time scales?  And for OHLCV minute bars, wouldn&#39;t the H &amp; L values be be representative of the ask &amp; bid prices, respectively?  Or are you thinking more in the limit of thinly traded securities where perhaps bid-ask becomes  kinda murky?  I did some quick skimming, and I gather that if I, guy-off-the-street retail trader goes to buy, I&#39;ll pay the ask, and when I sell, I&#39;ll sell at the bid.  So, I&#39;m supposing that if I looked at something like SPY in the research platform, I&#39;d see trades distributed around two values (e.g. something like two superimposed Gaussian distributions).  Or no?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55454aef32a7f5e242000154' id='55454aef32a7f5e242000154'>
<a href='#55454aef32a7f5e242000154'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1430604529000' class='quanto-date posted-at response-posted-at' href='#55454aef32a7f5e242000154'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Not really, since the mid-point of the bid-ask spread moves throughout the day.  It contributes to the appearance of mean-reversion on short timescales, and I suppose it affects the kurtosis of returns, but it won&#39;t be bi-modal afaik.  The bid-ask is never really murky, it&#39;s always there, no matter how thinly traded the securities are.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55454b44f177bc3427000160' id='55454b44f177bc3427000160'>
<a href='#55454b44f177bc3427000160'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1430604615000' class='quanto-date posted-at response-posted-at' href='#55454b44f177bc3427000160'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Perhaps I&#39;ll make a research notebook that has a model...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55454e67f177bc342700016a' id='55454e67f177bc342700016a'>
<a href='#55454e67f177bc342700016a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1430605417000' class='quanto-date posted-at response-posted-at' href='#55454e67f177bc342700016a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah, if the midpoint is noisy or drifts quickly, then the bid-ask effect in the reported trades will be all smeared out, I suppose.  But if you factor out the drift then shouldn&#39;t you see a bi-modal trade price distribution for large enough spreads?  Or maybe the spreads are always buried in the noise?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='554558d832a7f5e242000189' id='554558d832a7f5e242000189'>
<a href='#554558d832a7f5e242000189'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1430608093000' class='quanto-date posted-at response-posted-at' href='#554558d832a7f5e242000189'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Plot a couple of WIOs and see if you think you can trade them. In the end what you end up trading is a single composite price-like-thing. You can fairly easily see these in TradingView... For instance, here&#39;s a few simple WIOs  </p>

<p><a href="https://www.tradingview.com/chart/?symbol=(IBM/(AMD*50))">https://www.tradingview.com/chart/?symbol=(IBM/(AMD*50))</a><br>
<a href="https://www.tradingview.com/chart/?symbol=(INTC/(AMD*10))">https://www.tradingview.com/chart/?symbol=(INTC/(AMD*10))</a><br>
<a href="https://www.tradingview.com/chart/?symbol=(GLD/(SLV*5))">https://www.tradingview.com/chart/?symbol=(GLD/(SLV*5))</a>  </p>

<p>You get the picture.  </p>

<p>Now, those are daily prices of course. And most likely one would try to pairs/basket trade on a much tighter periodicity. But then you get into Simon&#39;s case of what&#39;s a spread and what&#39;s a bid/ask wiggle? So you&#39;d have to back out your trading analysis time period to one where that wiggle gets swamped by the actual drift in the spread. And then what you&#39;ve got to worry about is your WIO going directional. And ultimately that&#39;s what kills every pairs strat. The basket strats, as Grant points out, are where I&#39;ve tended to concentrate my arb strats. But still, they have their directional tendencies too.  </p>

<p>If you look at futures calendar spreads they seem to be more easily traded in this way:<br>
<a href="https://www.tradingview.com/chart/?symbol=BON15/BOQ15">https://www.tradingview.com/chart/?symbol=BON15/BOQ15</a><br>
<a href="https://www.tradingview.com/chart/?symbol=CTZ15/CTZ16">https://www.tradingview.com/chart/?symbol=CTZ15/CTZ16</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55455a4fa51cae44450001cd' id='55455a4fa51cae44450001cd'>
<a href='#55455a4fa51cae44450001cd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1430608465000' class='quanto-date posted-at response-posted-at' href='#55455a4fa51cae44450001cd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>(In a basket arb strategy one ends up realizing that the instruments you trade are effectively (n * n-1) / 2 WIOs (pairs strategies). 10 legs gives you 45 pairs that you wind up trading. Now, with that thought in mind you get the added information of the composite WIO, either a blend of 10 individual technical variations, or a grander more complex bundle of 45 WIOs. Trading 45 WIOs, cherry picking the widest aberrations among them, may be the best bet.)</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55456137a51cae699d0001c4' id='55456137a51cae699d0001c4'>
<a href='#55456137a51cae699d0001c4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1430610234000' class='quanto-date posted-at response-posted-at' href='#55456137a51cae699d0001c4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Grant: I stand corrected, in my simulations, if the spread is much wider than the drift, there are detectable traces in the distribution of returns, but only if the spread size is constant.  If the spread size is stochastic too, then it&#39;s completely smeared away...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55456230a51cae44450001e7' id='55456230a51cae44450001e7'>
<a href='#55456230a51cae44450001e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1430610483000' class='quanto-date posted-at response-posted-at' href='#55456230a51cae44450001e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Simon,</p>

<p>That&#39;s the picture in my mind.  If the spread dominates, then it&#39;ll be detectable.  But if it &quot;breathes&quot; versus time, then the cumulative stats. will be smeared.  Instantaneously, though, the distribution will be bi-modal.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='554619c9f177bc3427000445' id='554619c9f177bc3427000445'>
<a href='#554619c9f177bc3427000445'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1430657483000' class='quanto-date posted-at response-posted-at' href='#554619c9f177bc3427000445'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Simon,</p>

<p>Well, there you go.  If you can detect a signature of the bid-ask spread in the trade data, then perhaps it&#39;s enough information to help in a trading strategy.  And if you can&#39;t detect it, then the strategy could just stay out of securities with unknown estimated bid-ask until the spread can be detected above a level of statistical significance.  Another thought is that over short enough time scales, perhaps the drift in the mid-point (average of bid-ask prices) could be modeled as a low-order polynomial (linear or possibly quadratic), over N minutes intra-day.</p>

<p>Regarding thinly traded securities, I don&#39;t understand why, at an instant of time, there would always be both bid and ask prices.  Say I want to sell 100 shares of PIG (Pork Industries Gigante), my massive Midwestern farming enterprise.  If nobody is interested in PIG, then when I put the lot out for sale, there will be only an ask price, right?  Or does a bid price always magically appear since there will always be some algorithm following PIG that will automatically pick a bid of $0.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55464adff177bc3427000502' id='55464adff177bc3427000502'>
<a href='#55464adff177bc3427000502'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1430670049000' class='quanto-date posted-at response-posted-at' href='#55464adff177bc3427000502'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Generally, because designated market makers are required to make two-sided markets. I don&#39;t know if there are any stocks without designated market makers or specialists, it&#39;s been a while since I was involved in that stuff, and I think some rules changed after the flash crash.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5567396a7113ac343800025f' id='5567396a7113ac343800025f'>
<a href='#5567396a7113ac343800025f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5222027ee34f24ff63000096'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03b6b2cda9c0b6701ac4bbbef251bc10?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5222027ee34f24ff63000096'>Heikki Arponen</a>
</div>
<a UTCms='1432828270000' class='quanto-date posted-at response-posted-at' href='#5567396a7113ac343800025f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just a FYI: I tried something similar some time ago, see here: <a href="https://github.com/harpone/PyArb">https://github.com/harpone/PyArb</a></p>

<p>The holding times I used were very short and profits were pretty much killed by transaction costs... I think it&#39;s quite a bit simpler to implement than the other model in regards to estimation etc. Also IMO the model is way too simple, and in fact it might be smarter to model the returns instead of (log) prices (there are additional subtleties in estimating the price time series process).</p>

<p>Never seemed to have enough time to try that out in Quantopian, but if anyone gets something out of it, let me know :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592ae1773d68d706bef6807f' id='592ae1773d68d706bef6807f'>
<a href='#592ae1773d68d706bef6807f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5794dffde0d8a39a6d000a98'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c828e5faa1058f6173a4ba98dc4bb36c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5794dffde0d8a39a6d000a98'>Mat</a>
</div>
<a UTCms='1495982455000' class='quanto-date posted-at response-posted-at' href='#592ae1773d68d706bef6807f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Pravin,<br>
I was wondering if you tried to implement this nice algo with CVXPY to scale with bigger stock universe ?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592b31f045c79d0010c9b52e' id='592b31f045c79d0010c9b52e'>
<a href='#592b31f045c79d0010c9b52e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1496003056000' class='quanto-date posted-at response-posted-at' href='#592b31f045c79d0010c9b52e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Mat,</p>

<p>I wasted several months on this algorithm only to realize that it relies on covariance matrix in level data (non-stationary). I have since then discarded this approach to look for alternative techniques. Will port it to CVXPY if time permits.</p>

<p>Best regards,<br>
Pravin  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592b340b332dec0010b3bc66' id='592b340b332dec0010b3bc66'>
<a href='#592b340b332dec0010b3bc66'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1496003595000' class='quanto-date posted-at response-posted-at' href='#592b340b332dec0010b3bc66'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Mat, if you read page 3 of this <a href="https://www.di.ens.fr/%7Easpremon/PDF/MeanRevVec.pdf">paper</a>, you will see that it assumes that asset prices follow a stationary VAR process which is not at all reflective of true nature of stock prices. It could work on something like implied volatility but Quantopian does not have option data.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592bc3a52108cd000b774c57' id='592bc3a52108cd000b774c57'>
<a href='#592bc3a52108cd000b774c57'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5794dffde0d8a39a6d000a98'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c828e5faa1058f6173a4ba98dc4bb36c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5794dffde0d8a39a6d000a98'>Mat</a>
</div>
<a UTCms='1496040357000' class='quanto-date posted-at response-posted-at' href='#592bc3a52108cd000b774c57'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for your answer Pravin, maybe we can add some regime switching model to this algorithm like HMM or other based on volatility to detect changes in series behavior ?<br>
What is your last research for finding stationary asset prices ?<br>
Regards,  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592c06d4d46d14000d52929b' id='592c06d4d46d14000d52929b'>
<a href='#592c06d4d46d14000d52929b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1496057556000' class='quanto-date posted-at response-posted-at' href='#592c06d4d46d14000d52929b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Matt, If could find a way to compute stationary covariance matrices from non-stationary prices, it will be revolutionary. My current research is much simpler based on return series which are at least weakly stationary.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/cardinality-constrained-mean-reversion-proof-of-concept'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/cardinality-constrained-mean-reversion-proof-of-concept'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#50363535343231333b102125313e243f2039313e7e333f3d">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
