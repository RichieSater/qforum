<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Acquirer&#39;s Multiple, Based on &quot;Deep Value&quot; #Fundamentals
</title>
<meta content='This algorithm seeks to replicate the strategy set forth in Tobias Carlisle&#39;s  &quot;Deep Value&quot;   See his  Google Talk  for a great summary of the strategy. In &quot;Deep Value&quot; and in his first book,  &quot;Quantitative Value&quot; , Tobias demonstrates that the Enterprise Multiple or &quot;Acquirer&#39;s Multiple&quot;, defined as Enterprise Value/EBIT outperforms all other value ratios.  The books and their back-tests show that when ranking stocks based on the Enterprise Multiple, Value stocks (those with the lowest ratio...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="B+bDko36jDFmu9V54WWwuS5/EAyvj69pweXXXNttBTV7gLXfLwxe0t+mjEiuihjNFvEzZdVDunJD6gw2cShnjg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/acquirers-multiple-based-on-deep-value-number-fundamentals' property='og:url'>
<meta content='Acquirer&#39;s Multiple, Based on &quot;Deep Value&quot; #Fundamentals' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/acquirers-multiple-based-on-deep-value-number-fundamentals' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Acquirer&#39;s Multiple, Based on &quot;Deep Value&quot; #Fundamentals' property='og:title'>
<meta content='This algorithm seeks to replicate the strategy set forth in Tobias Carlisle&#39;s  &quot;Deep Value&quot;   See his  Google Talk  for a great summary of the strategy. In &quot;Deep Value&quot; and in his first book,  &quot;Quantitative Value&quot; , Tobias demonstrates that the Enterprise Multiple or &quot;Acquirer&#39;s Multiple&quot;, defined as Enterprise Value/EBIT outperforms all other value ratios.  The books and their back-tests show that when ranking stocks based on the Enterprise Multiple, Value stocks (those with the lowest ratio...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/acquirers-multiple-based-on-deep-value-number-fundamentals">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='54bf283aa38fb6ca33000170'>
<div class='post-container' data-post-id='54bf283aa38fb6ca33000170' id='54bf283aa38fb6ca33000170'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Acquirer&#39;s Multiple, Based on &quot;Deep Value&quot; #Fundamentals</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5052b22ac460ef0002000053'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62e152f885746ecd6f9d2e470722bed1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5052b22ac460ef0002000053'>Dan CaJacob</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1421813818000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Acquirer&#39;s Multiple, Based on &quot;Deep Value&quot; #Fundamentals&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Facquirers-multiple-based-on-deep-value-number-fundamentals%3Futm_source%3Dwebsite_share%26utm_campaign%3Dacquirers-multiple-based-on-deep-value-number-fundamentals%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Facquirers-multiple-based-on-deep-value-number-fundamentals%3Futm_source%3Dwebsite_share%26utm_campaign%3Dacquirers-multiple-based-on-deep-value-number-fundamentals%26utm_medium%3Dlinkedin&amp;title=Acquirer%27s+Multiple%2C+Based+on+%22Deep+Value%22+%23Fundamentals+%28Dan+CaJacob%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/acquirers-multiple-based-on-deep-value-number-fundamentals?utm_source=website_share&amp;utm_campaign=acquirers-multiple-based-on-deep-value-number-fundamentals&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Dan CaJacob" />
<div class='body-text'>
<div class='body-text-container post-body'><p>This algorithm seeks to replicate the strategy set forth in Tobias Carlisle&#39;s <a href="http://www.amazon.com/dp/B00M2V6Y28" rel="nofollow">&quot;Deep Value&quot;</a>  See his <a href="http://youtu.be/1r1vJZ80Z7I" rel="nofollow">Google Talk</a> for a great summary of the strategy.</p>

<p>In &quot;Deep Value&quot; and in his first book, <a href="http://www.amazon.com/dp/B00B1FK0AS" rel="nofollow">&quot;Quantitative Value&quot;</a>, Tobias demonstrates that the Enterprise Multiple or &quot;Acquirer&#39;s Multiple&quot;, defined as Enterprise Value/EBIT outperforms all other value ratios.  The books and their back-tests show that when ranking stocks based on the Enterprise Multiple, Value stocks (those with the lowest ratio of EV to EBIT) outperform Glamour stocks on the same spectrum.</p>

<p>As with many value strategies, this one holds no more than 30 stocks at a time and there are some additional filters, including a minimum market cap in the 40th percentile.  Re-balancing is performed annually using data available as of the previous month, ideally.  Hopefully future fundamentals API changes will allow more exact querying of variables on different timescales.</p>

<p>I&#39;m not convinced that I am 100% faithfully replicating the strategy outlined in the book, but the results seem promising.  One compromise I made was to allow negative EV/EBIT ratios.  I think Tobias ruled these out, but they seem to contribute significantly to the performance.</p>

<p>Feedback is welcome!</p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>36 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='54bf9fc423625f917f000254' id='54bf9fc423625f917f000254'>
<a href='#54bf9fc423625f917f000254'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54b1682d03b94859460003ae'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a6e19d8529e2f2a68c89fb6451fbf333?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54b1682d03b94859460003ae'>Johan Budi</a>
</div>
<a UTCms='1421844422000' class='quanto-date posted-at response-posted-at' href='#54bf9fc423625f917f000254'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Your choice of <strong>Starting Time</strong> and <strong>Month of Rebalancing</strong> on backtesting is having so much influence on your <strong>end result</strong>.<br>
Don&#39;t believe me? Then, try start backtest while market in (very) bullish stage, and this algorithm will vanish (end up behind from performance&#39;s index or just become trend following strategy).</p>

<p>Maybe because this algorithm is using <strong>value/fundamental</strong> strategy, and AFAIK these model of analysis <strong>eventually</strong> work <strong>contraversion/opposite</strong> from general market condition, although (usually) would became success on long term when market had go through bull/bear cycle. So, In my opinion, when market is in <strong>bearish</strong> then we may try this algorithm, of course after figuring out the bottom end/rebound phase and May the <strong>FORCE</strong> be with us...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54bfa22e23625f40290002b0' id='54bfa22e23625f40290002b0'>
<a href='#54bfa22e23625f40290002b0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54b1682d03b94859460003ae'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a6e19d8529e2f2a68c89fb6451fbf333?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54b1682d03b94859460003ae'>Johan Budi</a>
</div>
<a UTCms='1421845040000' class='quanto-date posted-at response-posted-at' href='#54bfa22e23625f40290002b0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This show backtesting start from 2 years ago, 100% with same algorithm..  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54bfc926b6a522a64d000312' id='54bfc926b6a522a64d000312'>
<a href='#54bfc926b6a522a64d000312'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5052b22ac460ef0002000053'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62e152f885746ecd6f9d2e470722bed1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5052b22ac460ef0002000053'>Dan CaJacob</a>
</div>
<a UTCms='1421855018000' class='quanto-date posted-at response-posted-at' href='#54bfc926b6a522a64d000312'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Starting time can have a big influence on value algorithms.  They can outperform in bear markets and for long periods of time.  That&#39;s why many people don&#39;t adhere to them.  This algorithm also happens to be buying the <strong>most unloved</strong> companies.  The theory is that it will outperform in the long run.  The choice of starting month and day is based on the algorithm in the book, which identifies this as an academic standard.  You can easily adapt to monthly re-balancing or annual re-balancing on another date.</p>

<p>Your more recent backtest distorts the results a bit because you start so far ahead of the first re-balancing day.  So, the algorithm holds cash and then it becomes difficult to compare the results.  Here&#39;s the same algorithm with the start date moved up to 06/25/2013 so that the start dates of the benchmark and algorithm are much closer.  The benchmark still outperforms in the long-run, but the apparent disparity is less egregious.  I think this effect has been discussed deeply in another thread: <a href="https://www.quantopian.com/posts/returns">Returns</a>.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54bfd1bab6a522a64d00034c' id='54bfd1bab6a522a64d00034c'>
<a href='#54bfd1bab6a522a64d00034c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54b1682d03b94859460003ae'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a6e19d8529e2f2a68c89fb6451fbf333?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54b1682d03b94859460003ae'>Johan Budi</a>
</div>
<a UTCms='1421857213000' class='quanto-date posted-at response-posted-at' href='#54bfd1bab6a522a64d00034c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yes, I understand. However, the point is actually I completely <strong>agree</strong> with you, about <strong>#value</strong> based algorithm. This algo should run on long term to be outperform the market, when the real <strong>#value</strong> will show itself.</p>

<p>And maybe I&#39;m just still having the <em>influence</em> or some <em>sphere</em> when testing this algorithm with standard <strong>Quantopian Open Contest</strong> which is starting now. That&#39;s why I try to start simulating a backtest, exactly 2 years from now (Jan&#39;13 --> Jan&#39;15).</p>

<p>I&#39;m just saying, this algo maybe looks not an attractive choice for short term running period(e.g: several months), moreover with the contest <strong>daily on judgement result</strong>, which is surely not an advantage point for any <strong>#value</strong> algo.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54bfecea8bda2ca04b00028c' id='54bfecea8bda2ca04b00028c'>
<a href='#54bfecea8bda2ca04b00028c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54bfe035a38fb622a2000366'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/27157ccac8eed114333f1e06acbd17f8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54bfe035a38fb622a2000366'>Tobias Carlisle</a>
</div>
<a UTCms='1421864174000' class='quanto-date posted-at response-posted-at' href='#54bfecea8bda2ca04b00028c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is cool. Thanks for coding it up, Dan. AM is absurdly simple--rank on one factor EV/EBIT and buy the cheapest 30--but performs remarkably well. In a Russell 1000 universe (~ largest 1000 stocks) it has outperformed over the last two years starting 1/1/2013 and rebalancing after one year cumulatively returning 85.9% (CAGR 35.3%) vs 44.4% (CAGR 19.9%) for the R1000 TR. These are unusually good results. The last 10 years are more meaningful. Over the last 10 years (starting 1/1/2005) and measured on a rolling one-year basis in a Russell 1000 universe it has outperformed by an average of 9.6 percent and in 78 of 118 start date opportunities but underperformed in the following 40 one-year periods by an average of 6.3 percent:<br>
4/16/12<br>
3/19/12<br>
2/21/12<br>
1/23/12<br>
12/27/11<br>
11/28/11<br>
10/31/11<br>
9/6/11<br>
8/8/11<br>
7/11/11<br>
6/13/11<br>
5/16/11<br>
4/18/11<br>
3/21/11<br>
2/22/11<br>
11/29/10<br>
10/4/10<br>
9/7/10<br>
8/9/10<br>
2/22/10<br>
1/25/10<br>
9/8/08<br>
8/11/08<br>
7/14/08<br>
6/16/08<br>
4/21/08<br>
1/28/08<br>
12/31/07<br>
12/3/07<br>
11/5/07<br>
10/8/07<br>
9/10/07<br>
8/13/07<br>
7/16/07<br>
6/18/07<br>
5/21/07<br>
12/4/06<br>
11/6/06<br>
4/24/06<br>
3/27/06<br>
2/27/06<br>
1/30/06<br>
1/3/06  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c0121a23625f917f000430' id='54c0121a23625f917f000430'>
<a href='#54c0121a23625f917f000430'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d752130a3c8c2324000015'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e268c548d3f572b1b0b9ae6d320b9b8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d752130a3c8c2324000015'>Saravanan Shanmugham</a>
</div>
<a UTCms='1421873694000' class='quanto-date posted-at response-posted-at' href='#54c0121a23625f917f000430'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tobias,<br>
So depending on the start date the algorithm will underperform the index, 1 in 3 chances?</p>

<p>Did I get that right ?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c0133123625f40290004c0' id='54c0133123625f40290004c0'>
<a href='#54c0133123625f40290004c0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54bfe035a38fb622a2000366'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/27157ccac8eed114333f1e06acbd17f8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54bfe035a38fb622a2000366'>Tobias Carlisle</a>
</div>
<a UTCms='1421873972000' class='quanto-date posted-at response-posted-at' href='#54c0133123625f40290004c0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Over the last 10 years, yes.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c013388bda2c0d83000497' id='54c013388bda2c0d83000497'>
<a href='#54c013388bda2c0d83000497'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1421873987000' class='quanto-date posted-at response-posted-at' href='#54c013388bda2c0d83000497'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Calendar based rebalancing will always affect results based on start time. That&#39;s why performance based rebalancing is a more reliable mode of security mashup.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c04b78dabadb5884000074' id='54c04b78dabadb5884000074'>
<a href='#54c04b78dabadb5884000074'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5052b22ac460ef0002000053'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62e152f885746ecd6f9d2e470722bed1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5052b22ac460ef0002000053'>Dan CaJacob</a>
</div>
<a UTCms='1421888379000' class='quanto-date posted-at response-posted-at' href='#54c04b78dabadb5884000074'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here&#39;s a backtest that goes back as far as the Quantopian data goes.  Ideally, we&#39;d be able to run backtests over multiple rolling time-frames automatically.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c1232510ee581094000255' id='54c1232510ee581094000255'>
<a href='#54c1232510ee581094000255'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54bfe035a38fb622a2000366'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/27157ccac8eed114333f1e06acbd17f8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54bfe035a38fb622a2000366'>Tobias Carlisle</a>
</div>
<a UTCms='1421943592000' class='quanto-date posted-at response-posted-at' href='#54c1232510ee581094000255'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Nice one, Dan. Almost double the return of the market over the full 13-year period.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c142aa10ee58046b0002dc' id='54c142aa10ee58046b0002dc'>
<a href='#54c142aa10ee58046b0002dc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/546966eee9baabc82e000175'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e12cac50e9c376114ec214a761471778?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/546966eee9baabc82e000175'>sa Al</a>
</div>
<a UTCms='1421951661000' class='quanto-date posted-at response-posted-at' href='#54c142aa10ee58046b0002dc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tobias, thank you for the presentation @ Google and sharing your research. I became aware of you first at that. I&#39;d really like to mix in some x-factor along with the algorithm. By x-factor, I actually mean parameters derived from classics (Thornton O&#39;Glove&#39;s Quality of Earnings, Schilit&#39;s Financial Shenanigans etc). My brain tells me that weeding out frauds and semi-frauds (companies that don&#39;t outright fudge earnings but conveniently transpose expenses and income from operating cash flows and investing cash flows), one should be able to minimize obvious risk.<br>
I know this approach does go somewhat against your point of just following the model however my stubborn nature just tells me this would help. (I know it&#39;s not easy to tease out earnings quality from financial ratios but I&#39;ve started down that path (mixed with an earnest reading through of 10Ks)<br>
If I can mould that into an Algo here, I will.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c1452f78f89eca94000320' id='54c1452f78f89eca94000320'>
<a href='#54c1452f78f89eca94000320'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5052b22ac460ef0002000053'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62e152f885746ecd6f9d2e470722bed1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5052b22ac460ef0002000053'>Dan CaJacob</a>
</div>
<a UTCms='1421952313000' class='quanto-date posted-at response-posted-at' href='#54c1452f78f89eca94000320'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Sunil,</p>

<p>I just finished Tobias&#39; first book <a href="http://www.amazon.com/dp/B00B1FK0AS">Quantitative Value</a> which gets into just those topics (ruling out frauds, etc.).  The main algorithm described in the book is much more complex than the AM, but it would be interesting to see some of these additional filters tested against it.  Some of this was done in the book, but I don;t recall if eliminating helped AM alone or not.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c925353d8e75718e000014' id='54c925353d8e75718e000014'>
<a href='#54c925353d8e75718e000014'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53bd8d1f4aa84187130000a4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/34fe4724a2fd110c392eec0581b8770a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53bd8d1f4aa84187130000a4'>Ron Shannon</a>
</div>
<a UTCms='1422468410000' class='quanto-date posted-at response-posted-at' href='#54c925353d8e75718e000014'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>Quantitative Value</strong> is one of the best finance books I&#39;ve read in the last couple of years. (Thanks Tobias and Wes!) Coding the QV algo is beyond my capabilities at the moment, but it&#39;s pretty clearly laid out in the book, so I hope someone will be able to do it here. If so, I <em>am</em> capable of breaking it. :-)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c92a06c2088dca9700004e' id='54c92a06c2088dca9700004e'>
<a href='#54c92a06c2088dca9700004e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5052b22ac460ef0002000053'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62e152f885746ecd6f9d2e470722bed1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5052b22ac460ef0002000053'>Dan CaJacob</a>
</div>
<a UTCms='1422469647000' class='quanto-date posted-at response-posted-at' href='#54c92a06c2088dca9700004e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Ron,</p>

<p>I haven&#39;t tried tackling it yet either, but I suspect the current fundamentals API is too limited at the moment to faithful reproduce many of the figures of merit.  There&#39;s a lot of averaging of multiple past years&#39; data and such that just isn&#39;t possible yet.  It sounds like the Quantopian folks are eyeing this for the future though.  I also recall another poster talking about trying to recreate the QV strategy here.  Once the data is available, I&#39;m all over it.  I think the AM is easier, but QV lays out tons of useful tests that could be applied in other strategies.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54d023656f74dd404b00014d' id='54d023656f74dd404b00014d'>
<a href='#54d023656f74dd404b00014d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5052b22ac460ef0002000053'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62e152f885746ecd6f9d2e470722bed1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5052b22ac460ef0002000053'>Dan CaJacob</a>
</div>
<a UTCms='1422926696000' class='quanto-date posted-at response-posted-at' href='#54d023656f74dd404b00014d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I need to get back to working on this some more.  In the meantime, here&#39;s the best results I&#39;ve achieved in my past hacking.</p>

<p><strong>Some of the changes I made:</strong></p>

<ul>
<li>Confirmed that negative EV is good (not really a change)<br></li>
<li>I exclude tickers that end in &quot;_WI&quot; - so-called &quot;When Issued&quot; shares that may indicate that a company is or was recently in the process of a bankruptcy or take-over.  It would be good to understand this process better.<br></li>
<li>I try to only purchase a company once in a re-balance round - occasionally, two share classes of the same company show up in the universe, so I limit it to primary shares, as defined by the Morningstar API.<br></li>
<li>Only purchase common stock.<br></li>
<li>Exclude stocks trading under $5<br></li>
<li>I think I&#39;ve improved re-balancing so that I am maximally utilizing cash available without using leverage.  Need to dig on this more to be sure.</li>
</ul>

<p><strong>Things yet to come (not exhaustive):</strong></p>

<ul>
<li>Eliminate companies with negative EBIT or EBITDA.  This may have to wait for a history-equivalent function for the fundamental data API.<br></li>
<li>Add an option to simulate commissions and slippage.  This is a very inactive algorithm, so I suspect this will have little affect.<br></li>
</ul>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56c7bd739dc3ede8cf000a1f' id='56c7bd739dc3ede8cf000a1f'>
<a href='#56c7bd739dc3ede8cf000a1f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53f737cc804bb1d275000294'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6d7c8814559a6b0c172c3d63416946c5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53f737cc804bb1d275000294'>Value Investor</a>
</div>
<a UTCms='1455930745000' class='quanto-date posted-at response-posted-at' href='#56c7bd739dc3ede8cf000a1f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Dan &amp; Tobias!</p>

<p>I&#39;ve amended your model Dan to not make purchases when the market is highly priced (shiller CAPE). This reduces quite a lot of losses (except 2008). This and reducing the portfolio size down to only 3, not a typo, 3. Seem to have created an unbelievable result. Around 1,388% over the last 14 years (21% annualised return). The sharpe is now 3.26 and sortino is 4.5.</p>

<p>I tried this with 4,5,6,7,8 etc - after around 8 the returns drop quite a lot and the model becomes much more sticky to the SPY price trend.</p>

<p>Question for Dan/Tobias - would this actually work in real life? Have I made a mistake/missing something? (This seems to good to be true)</p>

<p>Please let me know your thoughts when you can!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56d9fede5202f33b5a0000f3' id='56d9fede5202f33b5a0000f3'>
<a href='#56d9fede5202f33b5a0000f3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5657a09af95a18caf600085a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/cb7ba84227ef79495f4a09f8bf9aea38?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5657a09af95a18caf600085a'>Adam Smith</a>
</div>
<a UTCms='1457127139000' class='quanto-date posted-at response-posted-at' href='#56d9fede5202f33b5a0000f3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for sharing.  The result looks pretty amazing.  I think we need to figure out how to get Shiller CAPE on-the-fly instead of hard-coded in the algo.</p>

<p>Any thought?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56dc32c17bc39011010004ff' id='56dc32c17bc39011010004ff'>
<a href='#56dc32c17bc39011010004ff'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53f737cc804bb1d275000294'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6d7c8814559a6b0c172c3d63416946c5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53f737cc804bb1d275000294'>Value Investor</a>
</div>
<a UTCms='1457271494000' class='quanto-date posted-at response-posted-at' href='#56dc32c17bc39011010004ff'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I agree - the best source I&#39;ve found is <a href="http://www.econ.yale.edu/%7Eshiller/data/ie_data.xls">the XLS on Yales website. It&#39;s constantly updated</a>.</p>

<p>Can we read XLS files direct in Python?</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56dc38537bc3901101000528' id='56dc38537bc3901101000528'>
<a href='#56dc38537bc3901101000528'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5657a09af95a18caf600085a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/cb7ba84227ef79495f4a09f8bf9aea38?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5657a09af95a18caf600085a'>Adam Smith</a>
</div>
<a UTCms='1457272921000' class='quanto-date posted-at response-posted-at' href='#56dc38537bc3901101000528'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am using Yale&#39;s website as well.  One way to work around might be to use build-in function of fetch_csv to read data from Dropbox as following.</p>

<pre><code>fetch_csv(&#39;https://dl.dropboxusercontent.com/u/169032081/fetcher_sample_file.csv&#39;,  
               date_column = &#39;Settlement Date&#39;,  
               date_format = &#39;%m/%d/%y&#39;)  
</code></pre>

<p>The only question I have is whether fetcher is supported for real-money trading yet?  Another question is how to use fetcher to read-in excel file?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56fd7514c0a6fa14b10001d6' id='56fd7514c0a6fa14b10001d6'>
<a href='#56fd7514c0a6fa14b10001d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56d20d77b6aca34f230000b5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6d261d753e586e3ed70d2a31be55a7d6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56d20d77b6aca34f230000b5'>Alex Lewis</a>
</div>
<a UTCms='1459451163000' class='quanto-date posted-at response-posted-at' href='#56fd7514c0a6fa14b10001d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi all,</p>

<p>This looked interesting so I added a few things in as my first attempt at an algorithm.  I haven’t seen any performance as good as the above results but I wanted to try adding some features.  Specifically:<br>
 - I switched over to pipeline for the fundamentals data<br>
 - I added a filter based on this: <a href="https://www.quantopian.com/posts/how-to-filter-equity-types-or-classes-in-pipeline">https://www.quantopian.com/posts/how-to-filter-equity-types-or-classes-in-pipeline</a><br>
 - I found the CAPE data as a csv on quandl so I added a fetch_csv for it<br>
 - I added the Operating Earnings from <a href="http://acquirersmultiple.com/faq/">http://acquirersmultiple.com/faq/</a><br>
 - I added a positivity filter<br>
 - It seems that Morningstar&#39;s ev_to_ebitda ratio uses the sum of the last 4 reported quarters for ebitda while their ebitda is just the last quarter value so I made an approximation of the annual ebitda by averaging the last year&#39;s daily values and multiplying by 4 (see, e.g. <a href="https://www.quantopian.com/posts/ev-slash-ebitda-value-then-momentum">https://www.quantopian.com/posts/ev-slash-ebitda-value-then-momentum</a>)<br>
 - I added a small check so the universe only updates at the end of the month</p>

<p>So far the results aren&#39;t nearly as good, and nothing comes close to using the built-in ev_to_ebitda ratio.  I suspect it is because the filter using pipeline is not as capable (e.g. I can&#39;t filter out non-US stocks).  Also, I still think there are some differences in how ev_to_ebitda is reported vs. estimating the ttm ebitda that cause very different results for some stocks.</p>

<p>And the backtest is pretty slow; I suspect there are some ways to access pipeline data more efficiently.</p>

<p>This is my first attempt at an algorithm and I&#39;m fairly new to Python.  Most of my ideas are based on reading posts from the forum.  Hopefully some of this is useful.  Let me know any feedback and ideas to improve the results.  Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5813766b832161f769000028' id='5813766b832161f769000028'>
<a href='#5813766b832161f769000028'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/580f6e923d01aef69e000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fa2b01b86dd188644cdc0f9e8a2da96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/580f6e923d01aef69e000049'>Mariano Wahlmann</a>
</div>
<a UTCms='1477670517000' class='quanto-date posted-at response-posted-at' href='#5813766b832161f769000028'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve ran the algorithm (1) between Jun 2008 and October 2016. Up and until Jun 2014 the algorithm seems to perform as expected beating the market, but from that point on it goes down, from Jun 2015 and onwards it tanks and the end result underperform the market by 44%.</p>

<p><em>(1) I&#39;ve modified the algorithm to calculate ebitda_ttm (using last 4 quarters). I believe the ev_to_ebitda that comes out of the box uses last quarter&#39;s ebitda times four.</em>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58c434e059c5e5000a51a0b1' id='58c434e059c5e5000a51a0b1'>
<a href='#58c434e059c5e5000a51a0b1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5443d5b921d58319f2000268'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/33fcc31007090533ebec17d9f572582d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5443d5b921d58319f2000268'>Adam Luciano</a>
</div>
<a UTCms='1489253600000' class='quanto-date posted-at response-posted-at' href='#58c434e059c5e5000a51a0b1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The data is also available via Quandl: <a href="https://www.quandl.com/data/MULTPL/SHILLER_PE_RATIO_MONTH-Shiller-PE-Ratio-by-Month">https://www.quandl.com/data/MULTPL/SHILLER_PE_RATIO_MONTH-Shiller-PE-Ratio-by-Month</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59f507f0cd4c440009642fde' id='59f507f0cd4c440009642fde'>
<a href='#59f507f0cd4c440009642fde'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1509230576000' class='quanto-date posted-at response-posted-at' href='#59f507f0cd4c440009642fde'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Adam.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b0470882624a40049fcff2f' id='5b0470882624a40049fcff2f'>
<a href='#5b0470882624a40049fcff2f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a1f249687162a2ce0d7ea84'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/be3d2fcaa18afe49ff316150d6855eeb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a1f249687162a2ce0d7ea84'>Carlo G.</a>
</div>
<a UTCms='1527017608000' class='quanto-date posted-at response-posted-at' href='#5b0470882624a40049fcff2f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Maybe a little bit late, but for future users who want to use the algos listed above - be aware!!!:</p>

<p>The Algos listed above do not select deep value stocks, but instead the lowest EV-Ebitda ratio. The Algo therefore selects (nearly always) negative EV-Ebitda ratio, which is a result of negative Ebitda (not deep value and neither negative EV). The higher ranked stocks have a small negative EBITDA (i.e. EV=100 and EBITDA= -1 results in ratio -100, which is high ranked - ascending). It will never select good ratios in the range of 6-10.<br>
With small effort you can filter out this error ...</p>

<p>Maybe just luck, that these algos turned out with these result. However, it shows if not a analysis is made on the selected stocks one tends just to look at performance of the algo (price) and not the intended goal. So you go astray....  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b04893e2624a40040fd01c4' id='5b04893e2624a40040fd01c4'>
<a href='#5b04893e2624a40040fd01c4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1527023934000' class='quanto-date posted-at response-posted-at' href='#5b04893e2624a40040fd01c4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Another thing, it would be nice if fundamentals were like a law of physics. I was surprised when I looked to determine the level of company inconsistency in reporting. There are 310 stocks whose ebitda changed only once over the last year according to <a href="https://www.quantopian.com/posts/fundamentals-updating-daily-vs-monthly-or-quarterly#5ab161b87c04fa00147c5fe6">this</a>. Using FCount() from there, I&#39;d be curious to know what you find adding a screen for ebitda value-change-frequency (first column here) above 4.0 for example. My stab at it in Mariano&#39;s code doubled the returns.</p>

<p>5.0    1123<br>
4.0     714<br>
3.0       7<br>
2.0       4<br>
1.0     310</p>

<p>In filters, instead of &#39;or&#39; and &#39;and&#39;, use &#39;|&#39; and &#39;&amp;&#39;. When I corrected those, returns went up further.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b04915630f2973b4a97a247' id='5b04915630f2973b4a97a247'>
<a href='#5b04915630f2973b4a97a247'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/580f6e923d01aef69e000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fa2b01b86dd188644cdc0f9e8a2da96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/580f6e923d01aef69e000049'>Mariano Wahlmann</a>
</div>
<a UTCms='1527026006000' class='quanto-date posted-at response-posted-at' href='#5b04915630f2973b4a97a247'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@CarloG mine filters ebitda &gt; 0 and yet the results are the same.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b049f8a2624a40040fd03b8' id='5b049f8a2624a40040fd03b8'>
<a href='#5b049f8a2624a40040fd03b8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1527029642000' class='quanto-date posted-at response-posted-at' href='#5b049f8a2624a40040fd03b8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>ebitda &gt; 0 and yet the results are the same</p>
</blockquote>

<p>It is always positive. <a href="https://www.quantopian.com/posts/overview-of-pipeline-content-easy-to-add-to-your-backtest">Pipeline preview</a> is easy to add and shows column values.  Here, I added an ebitda column. </p>

<pre><code>    pipe.add(ev_to_ebitda, &#39;ev_to_ebitda&#39;)  
    pipe.add(ebitda,       &#39;ebitda&#39;)  
</code></pre>

<p>Log:</p>

<pre><code>                           min              mean               max  
      ebitda        55177000.0     571200633.333      2976000000.0  
ev_to_ebitda     1.66134270942     4.46710351926     5.65439201921  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b04e0e92624a41b95fd048a' id='5b04e0e92624a41b95fd048a'>
<a href='#5b04e0e92624a41b95fd048a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/580f6e923d01aef69e000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fa2b01b86dd188644cdc0f9e8a2da96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/580f6e923d01aef69e000049'>Mariano Wahlmann</a>
</div>
<a UTCms='1527046377000' class='quanto-date posted-at response-posted-at' href='#5b04e0e92624a41b95fd048a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@BlueSeahawk, made the changes you suggested but it doesn&#39;t seem to make much of a difference  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b05067b30f2975d7b97a6c3' id='5b05067b30f2975d7b97a6c3'>
<a href='#5b05067b30f2975d7b97a6c3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1527055995000' class='quanto-date posted-at response-posted-at' href='#5b05067b30f2975d7b97a6c3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Try replacing roic from the original you copied, to ebitda. There were other changes you made, and in this I&#39;ve merged some of them although not all. In particular you might want to re-add your new ebitda and ev factors. Also try FCount &gt; 3, which would allow another 714 stocks in. Note that the fcount mask is QTradableStocksUS, so that is surely a major change too.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b05373333220b00480f0302' id='5b05373333220b00480f0302'>
<a href='#5b05373333220b00480f0302'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a1f249687162a2ce0d7ea84'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/be3d2fcaa18afe49ff316150d6855eeb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a1f249687162a2ce0d7ea84'>Carlo G.</a>
</div>
<a UTCms='1527068467000' class='quanto-date posted-at response-posted-at' href='#5b05373333220b00480f0302'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Mariano: Sorry Mariano.<br>
I might not been exact in my post. All algos, except yours, do not filter for positive ebitda (filter first introduced by you in Oct. 2016). All older algos in this thread did not select deep value stock, but just random stocks (not what the original intend was) with negative ev - ebitda ratio.<br>
Of course your algo can still select negative ratio, but this stems from negative EV.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5bfbfcc275daac004558bb77' id='5bfbfcc275daac004558bb77'>
<a href='#5bfbfcc275daac004558bb77'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b12f899bc70478e00000b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/01120847e610345e35a404a44ecca7fb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b12f899bc70478e00000b'>BlackCat</a>
</div>
<a UTCms='1543240898000' class='quanto-date posted-at response-posted-at' href='#5bfbfcc275daac004558bb77'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is my attempt, based on the comments in this thread.  I&#39;m using pipeline, the QTradeableStocksUS universe, and Q&#39;s Optimize API.</p>

<p>It picks the 30 stocks with the lowest EV/EBIT.   Negative EBIT stocks are filtered out.  Rebalances annually.</p>

<p>Backtest CAGR since 2003 is around 13.5%, pretty good for a strategy just picking one number and doing nothing the whole year.  I could almost trade this.</p>

<p>Tobias&#39; results in <a href="https://www.amazon.com/Quantitative-Value-Web-Site-Practitioners/dp/1118328078/ref=asc_df_1118328078/?tag=hyprod-20&linkCode=df0&hvadid=312175933381&hvpos=1o1&hvnetw=g&hvrand=9926945381903246385&hvpone=&hvptwo=&hvqmt=&hvdev=c&hvdvcmdl=&hvlocint=&hvlocphy=2840&hvtargid=pla-433796507003&psc=1&tag=&ref=&adgrpid=60258871817&hvpone=&hvptwo=&hvadid=312175933381&hvpos=1o1&hvnetw=g&hvrand=9926945381903246385&hvqmt=&hvdev=c&hvdvcmdl=&hvlocint=&hvlocphy=2840&hvtargid=pla-433796507003" rel="nofollow">Quantative Value</a> are 15.95% pa (1974 to 2011).</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5c0d13f9be8f3e003556cdfd' id='5c0d13f9be8f3e003556cdfd'>
<a href='#5c0d13f9be8f3e003556cdfd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a1d53d5837b9400151ce0b0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/488fe03bf3fcaf17b0ad782242a81a2c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a1d53d5837b9400151ce0b0'>Shahrukh Shahzad</a>
</div>
<a UTCms='1544360953000' class='quanto-date posted-at response-posted-at' href='#5c0d13f9be8f3e003556cdfd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I was wondering if anyone has tested the strategy with quarterly re-balancing? on one of the forums Toby said that for someone without tax constraints, quarterly re-balancing may enhance returns.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5c0f6299d58e286fa8bb73ee' id='5c0f6299d58e286fa8bb73ee'>
<a href='#5c0f6299d58e286fa8bb73ee'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1544512153000' class='quanto-date posted-at response-posted-at' href='#5c0f6299d58e286fa8bb73ee'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Couple of suggestions:<br>
1. Run each fundamental in <a href="http://quantopian.com/posts/fundamentals-updating-daily-vs-monthly-or-quarterly" rel="nofollow">http://quantopian.com/posts/fundamentals-updating-daily-vs-monthly-or-quarterly</a> to see how consistent they are.<br>
2. For viewing the pipeline values easily and catching nans: <a href="http://quantopian.com/posts/pipeline-preview-overview-of-pipeline-content-easy-to-add-to-your-backtest" rel="nofollow">http://quantopian.com/posts/pipeline-preview-overview-of-pipeline-content-easy-to-add-to-your-backtest</a><br>
3. In custom factors, try forward filling nans and see whether that appears to be helpful or not. This is one way: <a href="http://quantopian.com/posts/forward-filling-nans-in-pipeline-custom-factors" rel="nofollow">http://quantopian.com/posts/forward-filling-nans-in-pipeline-custom-factors</a><br>
<em>I&#39;ve always found these things eye-opening</em></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5c10bd5b964a7700466b7f29' id='5c10bd5b964a7700466b7f29'>
<a href='#5c10bd5b964a7700466b7f29'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573b12f899bc70478e00000b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/01120847e610345e35a404a44ecca7fb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573b12f899bc70478e00000b'>BlackCat</a>
</div>
<a UTCms='1544600923000' class='quanto-date posted-at response-posted-at' href='#5c10bd5b964a7700466b7f29'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks @Blue for your pointers. After looking at 1,  I see some cases.  eg:  Pfizer: from 11th to 14th Feb 2011, Revenue is updated but EBIT is not.  I also could not reconcile the EBIT value with the SEC filing.</p>

<p>I&#39;ve enjoyed my time looking at Q.  But when I find missing data for an S&amp;P 500 company which is a household name, I&#39;m not sure if its worth continuing.  One piece of missing quarterly data - the above for example, means I cannot test Pfizer for a whole year starting from 14th Feb 2011.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5cc16472be3882797e74b479' id='5cc16472be3882797e74b479'>
<a href='#5cc16472be3882797e74b479'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5ac5233946338d1244c10338'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fcb785e0af23a3816f256b113de8f9d3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5ac5233946338d1244c10338'>Alex Good</a>
</div>
<a UTCms='1556178034000' class='quanto-date posted-at response-posted-at' href='#5cc16472be3882797e74b479'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve been adjusting @BlackCat &#39;s algo rebalance rate, and noticed that the log often reports that positions are sometimes unable to be fully bought into, or fully sold out of. It seems, if the whole order cannot be executed that day, the remaining unfilled shares are not ordered again the next day. Ex log output:  </p>

<pre><code>2014-02-03 13:00 WARN Your order for 40529 shares of EGY has been partially filled. 36540 shares were successfully purchased. 3989 shares were not filled by the end of day and were canceled.  
</code></pre>

<p>Then one month/rebalance later,</p>

<pre><code>2014-03-03 13:00 WARN Your order for -36540 shares of EGY has been partially filled. 20150 shares were successfully sold. 16390 shares were not filled by the end of day and were canceled.  
</code></pre>

<p>As it stands now, the algo accrues not insignificant positions of unwanted companies.</p>

<p>I&#39;m relatively new to Quantopian and Python, can someone point me in the right direction of rectifying this?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5cc16ff244c5da6a605ea399' id='5cc16ff244c5da6a605ea399'>
<a href='#5cc16ff244c5da6a605ea399'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5ac5233946338d1244c10338'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fcb785e0af23a3816f256b113de8f9d3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5ac5233946338d1244c10338'>Alex Good</a>
</div>
<a UTCms='1556180978000' class='quanto-date posted-at response-posted-at' href='#5cc16ff244c5da6a605ea399'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That seems to help somewhat (I set it to 60, see below), cuts it down to a couple times a year where the algo gets stuck holding a position. It&#39;s fine for backtesting purposes but it seems more a workaround than anything, especially given over many years you&#39;ll still accrue these erroneous positions.</p>

<p>Would I would like to do, is instead of buying the cheapest X stocks is buy the bottom half of the cheapest decile (this tends to equal 50-70 names), as well as cut from the universe all names that are not in the top 40% of market cap (basically from Carlisle&#39;s followup book, Deep Value). I&#39;m not yet sure if this is within the scope of Quantopian.</p>

<p>Thanks for the reply.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/acquirers-multiple-based-on-deep-value-number-fundamentals'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/acquirers-multiple-based-on-deep-value-number-fundamentals'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#80e6e5e5e4e2e1e3ebc0f1f5e1eef4eff0e9e1eeaee3efed">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
