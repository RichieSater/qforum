<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Post-Earnings Drift Trading Strategy with Estimize (PEAD)
</title>
<meta content='7/15/2016 Update: Access to the Estimize dataset will temporarily be shut down starting July 18th, 2016.We&#39;ve identified an issue with the manner in which we were processing  the Estimize dataset that prevented updates to the data starting June, 2016. All subscribers have been notified and we are taking steps to implement a solution. For an alternative version using Wall Street Consensus Estimates, please view this thread:...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="5y2G8RxbuSd7iQ5qry2RDoVsa+iPQOJ0EMfc/6dCvyubS/C8vq1rxMKUV1vgwjl6veJIgfWM92+SyAeVDQfdkA==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/post-earnings-drift-trading-strategy-with-estimize-pead' property='og:url'>
<meta content='Post-Earnings Drift Trading Strategy with Estimize (PEAD)' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/post-earnings-drift-trading-strategy-with-estimize-pead' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Post-Earnings Drift Trading Strategy with Estimize (PEAD)' property='og:title'>
<meta content='7/15/2016 Update: Access to the Estimize dataset will temporarily be shut down starting July 18th, 2016.We&#39;ve identified an issue with the manner in which we were processing  the Estimize dataset that prevented updates to the data starting June, 2016. All subscribers have been notified and we are taking steps to implement a solution. For an alternative version using Wall Street Consensus Estimates, please view this thread:...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/post-earnings-drift-trading-strategy-with-estimize-pead">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='56ca4458ae20660285000642'>
<div class='post-container' data-post-id='56ca4458ae20660285000642' id='56ca4458ae20660285000642'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Post-Earnings Drift Trading Strategy with Estimize (PEAD)</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1476299644000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Post-Earnings Drift Trading Strategy with Estimize (PEAD)&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fpost-earnings-drift-trading-strategy-with-estimize-pead%3Futm_source%3Dwebsite_share%26utm_campaign%3Dearnings-drift-trading-strategy-with-estimize-pead%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fpost-earnings-drift-trading-strategy-with-estimize-pead%3Futm_source%3Dwebsite_share%26utm_campaign%3Dearnings-drift-trading-strategy-with-estimize-pead%26utm_medium%3Dlinkedin&amp;title=Post-Earnings+Drift+Trading+Strategy+with+Estimize+%28PEAD%29+%28Seong+Lee%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Using Data' data-tag-id='55c50e7d8d4710ec6e000008' href='/posts/tag/Using-Data/newest'>Using Data</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Pipeline' data-tag-id='561525bcf252a59171000001' href='/posts/tag/Pipeline/newest'>Pipeline</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/post-earnings-drift-trading-strategy-with-estimize-pead?utm_source=website_share&amp;utm_campaign=earnings-drift-trading-strategy-with-estimize-pead&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Seong Lee" />
<div class='body-text'>
<div class='body-text-container post-body'><p><strong>7/15/2016 Update:</strong></p>

<pre><code>Access to the Estimize dataset will temporarily be shut down starting July 18th, 2016.

We&#39;ve identified an issue with the manner in which we were processing  the Estimize dataset that prevented updates to the data starting June, 2016. All subscribers have been notified and we are taking steps to implement a solution. 

For an alternative version using Wall Street Consensus Estimates, please view this thread: https://www.quantopian.com/posts/updated-long-slash-short-earnings-sentiment-trading-strategy-with-the-streets-consesus

The backtest here has been replaced with a version using the Wall Street consensus until an appropriate solution has been implemented.  
</code></pre>

<p>This is a simple <a href="http://quantpedia.com/screener/details/33">post-earnings announcement drift</a> (PEAD) trading strategy that attempts to profit off the difference between reported earnings and earnings estimates. Earnings estimates (earnings per share or EPS) are heavily used in both quant and fundamental stock analysis as forward-looking indicators of stock performance, and when a discrepancy occurs between estimates and actually reported earnings, also known as an earnings surprise, stocks tend to drift in either a positive or negative direction (post-earnings announcement drift).</p>

<p>In this strategy, I simply follow the direction of that surprise and hold long/short positions for the following three business days. However, unlike in traditional PEAD strategies I use Crowdsourced earnings estimates rather than the Wall Street analyst average. This is because Crowdsourced earnings estimates can be more accurate than the <a href="http://com.estimize.public.s3.amazonaws.com/papers/Estimize%20Whitepaper%20Executive%20Summary.pdf">Street’s average 65% of the time as discussed in this whitepaper</a>. </p>

<p>While we aren’t yet able to test the Street’s version, check out the strategy below using <a href="https://www.quantopian.com/data/estimize/revisions">Estimize’s Crowdsourced Earnings Estimates</a> and let me know what you think!</p>

<p><strong>Strategy Notes</strong></p>

<ul>
<li>Data set: The full dataset used is Estimize&#39;s Consensus Estimates and <a href="https://www.quantopian.com/data/eventvestor/earnings_calendar">EventVestor&#39;s Earnings Calendar</a> dataset.<br></li>
<li>Weights: The weight for each security is determined by the total number of longs and shorts we have in that current day. So if we have 2 longs and 2 shorts, the weight for each long will be 50% (1.0/number of securities) and the weight for each short will be -50%. This is a rolling rebalance at the beginning of each day according to the number of securities currently held and to order.<br></li>
<li>Hedging: [OPTIONAL] You have the ability to turn on net dollar exposure hedging with the SPY<br></li>
<li>Days held: Positions are currently held for 3 days but are easily changeable by modifying &#39;context.days_to_hold&#39;<br></li>
<li>Percent threshold: Only surprises between 0% and 4% in absolute magnitude will be considered as a trading signal. These are adjustable using the minimum and maximum threshold variables in context.<br></li>
<li>Earnings dates: All trades are made 1 business day AFTER an earnings announcement regardless of whether it was a Before Market Open or After Market announcement</li>
</ul>

<p><a href="https://www.youtube.com/watch?v=lvM5xs4uKIg&amp;feature=youtu.be">Webinar: Learn the advantages of Crowdsourced estimates and how it can help your trading strategies with Vinesh Jha, CEO of Extract Alpha and former executive director at PDT Partners, through this recording.</a></p>
</div>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>34 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='56cadef3fff8bfcea2000127' id='56cadef3fff8bfcea2000127'>
<a href='#56cadef3fff8bfcea2000127'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1456135928000' class='quanto-date posted-at response-posted-at' href='#56cadef3fff8bfcea2000127'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>long only version  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56ccd3ebeaa6e340a100001f' id='56ccd3ebeaa6e340a100001f'>
<a href='#56ccd3ebeaa6e340a100001f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4fe8beb792a029000200000d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fe3ffe502559d05f16eb9fe41ab7e9a1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4fe8beb792a029000200000d'>Dan Dunn</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1456264176000' class='quanto-date posted-at response-posted-at' href='#56ccd3ebeaa6e340a100001f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is the tear sheet of Seong&#39;s backtest.  The rolling beta is pretty good.  I&#39;m not thrilled with the monthly returns though - they are very uneven.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56d066712170e2ee1d000077' id='56d066712170e2ee1d000077'>
<a href='#56d066712170e2ee1d000077'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1456498295000' class='quanto-date posted-at response-posted-at' href='#56d066712170e2ee1d000077'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>For those interested in learning more about crowdsourced estimates and Estimize, join us for our webinar on March 1st, 2016 @ 6PM EST.</p>

<p>We&#39;ll be joined by Vinesh Jha, CEO of ExtractAlpha, and Leigh Drogen, CEO of Estimize.</p>

<p><a href="https://attendee.gotowebinar.com/register/4270306722363417603">Register through this link</a></p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56d8b706dc124453d800031d' id='56d8b706dc124453d800031d'>
<a href='#56d8b706dc124453d800031d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1457043214000' class='quanto-date posted-at response-posted-at' href='#56d8b706dc124453d800031d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks to all who joined the webinar! We had some great questions asked.</p>

<p>You can watch a recording of the webinar here. (<a href="https://www.youtube.com/watch?v=lvM5xs4uKIg&amp;feature=youtu.be">https://www.youtube.com/watch?v=lvM5xs4uKIg&amp;feature=youtu.be</a>)  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56d8d582a2ef32811c000122' id='56d8d582a2ef32811c000122'>
<a href='#56d8d582a2ef32811c000122'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56c610f33bde6349860001e1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2c44818eccd551526c478fbb92be23da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56c610f33bde6349860001e1'>Scott Wertime</a>
</div>
<a UTCms='1457051018000' class='quanto-date posted-at response-posted-at' href='#56d8d582a2ef32811c000122'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Seong,</p>

<p>Good presentation the other night on the webinar. I&#39;m new to Quantopian and algo trading in general but have been working my way through the site and learning what I can. I&#39;ve been playing around with the Estimize data and your sample algo for a couple of weeks and had a couple of questions.</p>

<p>After doing some backtesting and looking at the logs, it doesn&#39;t appear the &#39;num_estimates&#39; factor in the screen of your sample is working. It looks like any stock with even a single Estimize estimate is being accepted (assuming it meets the other screen criteria). Am I overlooking something or is that not functioning properly?</p>

<p>I&#39;m also wanting to work with the <a href="https://www.quantopian.com/data/eventvestor/earnings_calendar">EventVestor Earning Calendar data</a> to pull in the &#39;calendar_time&#39; info so I can tell whether an earnings report was before market open or after close, but I&#39;m confused as to how to access that info. It appears that typically with Pipeline you call the dataset such as (for Estimize):</p>

<pre><code>from quantopian.pipeline.data.estimize import consensus_estimize_eps_free as estimize  
</code></pre>

<p>and from there you can set your set your factors according to the table headers found in the Notebook info, like: </p>

<pre><code>estimize_eps = estimize.estimize_eps_final  
</code></pre>

<p>But with the EventVestor data, it appears you have to call the factors at import:</p>

<pre><code>from quantopian.pipeline.data.eventvestor import EarningsCalendar  
from quantopian.pipeline.data.eventvestor.factors import (  
    BusinessDaysUntilNextEarnings,  
    BusinessDaysSincePreviousEarnings  
)

</code></pre>

<p>If so, how do you know what the factors are called in the dataset (such as &quot;BusinessDaysUntilNextEarnings&quot;)? If I wanted to call in &#39;calendar_time&#39; what would I use and how would I find other information, such as the &#39;asof_date&#39;?</p>

<p>Apologies if any of this is staring me in the face and I&#39;m missing it.</p>

<p>Scott</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56d9f9438e1651b364000703' id='56d9f9438e1651b364000703'>
<a href='#56d9f9438e1651b364000703'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1457125704000' class='quanto-date posted-at response-posted-at' href='#56d9f9438e1651b364000703'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Scott,</p>

<p>These are really great questions!</p>

<p>For the first one about number of estimates, you&#39;re right, it looks like it&#39;s not being taken into account. I&#39;ve filed an internal issue on why that filtering isn&#39;t working and a backtest attached with that filter removed.</p>

<p>As for the <a href="https://www.quantopian.com/data/eventvestor/earnings_calendar">Earnings Calendar</a>, you can currently access the day that the earnings announcement happens with something like:</p>

<pre><code>    # EarningsCalendar.X is the actual date of the announcement  
    # E.g. 9/12/2015  
    pipe.add(EarningsCalendar.next_announcement.latest, &#39;next&#39;)  
    pipe.add(EarningsCalendar.previous_announcement.latest, &#39;prev&#39;)  
</code></pre>

<p>While the algorithm trades 1 full business day after the announcement (whether or not it&#39;s before/after market), we&#39;re working on adding a way to indicate <code>Before/After</code> market but I do not have a specific timeline for you.</p>

<p>Let me know if any of that is confusing or if you have other  questions,</p>

<p>Seong  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56da14ed7c6b684700000870' id='56da14ed7c6b684700000870'>
<a href='#56da14ed7c6b684700000870'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56c610f33bde6349860001e1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2c44818eccd551526c478fbb92be23da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56c610f33bde6349860001e1'>Scott Wertime</a>
</div>
<a UTCms='1457132785000' class='quanto-date posted-at response-posted-at' href='#56da14ed7c6b684700000870'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, Seong. I didn&#39;t realize the 
<code>
Before/After  
</code> data hadn&#39;t been implemented yet. I&#39;ll keep an eye out for that and an update on the number of estimates filter.</p>

<p>One other question; how much backtesting data is taken into account for the contest? If we find something interesting using a dataset that doesn&#39;t have a lot of history (such as Estimize or Sentdex Sentiment Analysis), how would that affect the backtesting score?</p>

<p>Scott  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56da4dc6e35e177023000054' id='56da4dc6e35e177023000054'>
<a href='#56da4dc6e35e177023000054'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1457147339000' class='quanto-date posted-at response-posted-at' href='#56da4dc6e35e177023000054'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Scott, as long as the data set can run a 2 year backtest that ends on the date of submission, you should be ok for the contest. Each of those datasets have enough data for that.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56ddf1224e376848700002bc' id='56ddf1224e376848700002bc'>
<a href='#56ddf1224e376848700002bc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1457385772000' class='quanto-date posted-at response-posted-at' href='#56ddf1224e376848700002bc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>To all those following this thread, we&#39;ve made a change to the way you access the <code>BusinessDays</code> Factor for earnings announcements:</p>

<p>Before it was:</p>

<p><code>from quantopian.pipeline.data.eventvestor.factors import (BusinessDaysUntilNextEarnings, BusinessDaysSincePreviousEarnings)</code></p>

<p>This has changed to:</p>

<p><code>from quantopian.pipeline.factors.eventvestor import (BusinessDaysUntilNextEarnings, BusinessDaysSincePreviousEarnings)</code></p>

<p><a href="https://www.quantopian.com/posts/changes-to-how-you-use-earnings-calendar-data">Please see the original post for the full explanation.</a></p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56e07b6c2fd56c238b000028' id='56e07b6c2fd56c238b000028'>
<a href='#56e07b6c2fd56c238b000028'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/559fd6a780d3076e93000475'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c6f67cc88a13c1d5a1649c71891c67c9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/559fd6a780d3076e93000475'>K.C. Budd</a>
</div>
<a UTCms='1457552243000' class='quanto-date posted-at response-posted-at' href='#56e07b6c2fd56c238b000028'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Leverage capped at one and run on a shorter timeframe.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56e20a9138c1bfd5e80004df' id='56e20a9138c1bfd5e80004df'>
<a href='#56e20a9138c1bfd5e80004df'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1457654423000' class='quanto-date posted-at response-posted-at' href='#56e20a9138c1bfd5e80004df'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>On the webinar, Leigh mentioned the idea of using the direction of earnings as a momentum signal for medium - long-term trades. </p>

<p>Just throwing out ideas - As a pipeline factor, you could compute the average percent change in the revisions leading up to an earnings announcement and use that as an alpha factor.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56f01473edde6737410009bc' id='56f01473edde6737410009bc'>
<a href='#56f01473edde6737410009bc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56048f4e021804442f0000cb'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0a6e93cee4ab1133ac79f03bc87359f9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56048f4e021804442f0000cb'>Bruno Galvao</a>
</div>
<a UTCms='1458574456000' class='quanto-date posted-at response-posted-at' href='#56f01473edde6737410009bc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>IB has a commission of $1 per trade right? I added <code>set_commission(commission.PerTrade(cost=1.00))</code> and ran a few backtests.<br>
The algo works great with 50k+ but below 50k the algo starts to lose returns to the point where it&#39;s negative with 10k.<br>
Any suggestions on how to leverage this algo with 10k?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56f1a077e3d93d80cc0009da' id='56f1a077e3d93d80cc0009da'>
<a href='#56f1a077e3d93d80cc0009da'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1458675837000' class='quanto-date posted-at response-posted-at' href='#56f1a077e3d93d80cc0009da'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bruno,</p>

<p>One idea is to keep it long-only and use Robinhood. Peter Bakker posted a long-only version of the algorithm towards the beginning of this thread. That may work with Robinhood&#39;s zero commission model. </p>

<p>The hard part about that would be waiting T+3 days for cash settlement unless you had Robinhood Instant.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='571a91dffb008d53b30005af' id='571a91dffb008d53b30005af'>
<a href='#571a91dffb008d53b30005af'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1461359075000' class='quanto-date posted-at response-posted-at' href='#571a91dffb008d53b30005af'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Recently, we realized that the default pipeline dataset did not consistently provide the current quarter&#39;s reported earnings. This meant that for certain securities, you weren&#39;t absolutely guaranteed the proper quarter&#39;s data when making the pipeline call. While we mainly saw this problem with the <code>wall_street</code> based namespaces, the issue has occurred for the <code>estimize</code> namespaces as well. To fix this problem, we&#39;ve created four new pipeline factors that will ensure you get next or last quarter&#39;s data.</p>

<p>You can find these namespaces through the following import statement: <code>from quantopian.pipeline.data.estimize import (ConsensusEstimizeEPS, ConsensusWallstreetEPS, ConsensusEstimizeRevenue, ConsensusWallstreetRevenue)</code></p>

<p>The original algorithm has been updated to use these new factors. The algorithm has also been updated to better handle slippage &amp; commissions as well as featuring Quantopian 2 improvements.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='571aac3efeca7339020007e4' id='571aac3efeca7339020007e4'>
<a href='#571aac3efeca7339020007e4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/529226078b3fba3b2f00042c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/32567044e0f9eb6ba15ba5c477439a6a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/529226078b3fba3b2f00042c'>Adam Preston</a>
</div>
<a UTCms='1461365827000' class='quanto-date posted-at response-posted-at' href='#571aac3efeca7339020007e4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>When I try to run Peter&#39;s long-only version, I get the following error:</p>

<p>runtime exception; import error, no module name factors </p>

<p>for the following line of code:<br>
from quantopian.pipeline.data.eventvestor.factors import (<br>
    BusinessDaysUntilNextEarnings,<br>
    BusinessDaysSincePreviousEarnings<br>
)</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571ad358fb008d53b3000946' id='571ad358fb008d53b3000946'>
<a href='#571ad358fb008d53b3000946'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54487203dc843663f2000123'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/439ba1adf33b808f2d50e3a31c3c7e28?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54487203dc843663f2000123'>Josh Payne</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1461375837000' class='quanto-date posted-at response-posted-at' href='#571ad358fb008d53b3000946'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Adam,<br>
Subsequent to Peter&#39;s post, we did some <a href="https://www.quantopian.com/posts/changes-to-how-you-use-earnings-calendar-data">refactoring of the namespace</a> for the factors. Instead, it should be:  </p>

<pre><code>from quantopian.pipeline.factors.eventvestor import (  
    BusinessDaysUntilNextEarnings,  
    BusinessDaysSincePreviousEarnings  
)
</code></pre>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='571ae67bf81ec4fee0000455' id='571ae67bf81ec4fee0000455'>
<a href='#571ae67bf81ec4fee0000455'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1461380741000' class='quanto-date posted-at response-posted-at' href='#571ae67bf81ec4fee0000455'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>What&#39;s different with your algorithm and the main one here? Would you mind posting here so others could benefit from the troubleshooting  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='571aee95f81ec4fee00004aa' id='571aee95f81ec4fee00004aa'>
<a href='#571aee95f81ec4fee00004aa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1461382814000' class='quanto-date posted-at response-posted-at' href='#571aee95f81ec4fee00004aa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Mine uses Accern data also. What I&#39;m wanting to do is specify in handle_data that if I have not held the stock overnight/1 day then don&#39;t try to sell it. So I tried added can_trade = context.stocks_held.get(security) &gt;= 1 and then have del context.stocks_held[security] but that seems to cause problems. </p>

<p>Anyway I can make sure not to sell if a security hits a limit or stop unless I&#39;ve had the stock for atleast a day and not confuse the schedule that will sell the stock after 5 days?</p>

<p>I seem to get better results using the Accern WeightedSentimentByVolatility at the last 2 days. I&#39;ll have to do some tests on impact score also since the Event Calendar data has been corrected.</p>

<p><strong>Update<br>
So my logic was wrong on this before. This was set to can_trade = context.stocks_held.get(security) &lt;= 1, copy/paste issue.<br>
I&#39;m running more tests now but is there anyway to speed up the back-testing. It&#39;s so slow once I add in Accern. Am I doing something wrong that is causing this?</strong></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571af3ed750f808845000ac2' id='571af3ed750f808845000ac2'>
<a href='#571af3ed750f808845000ac2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1461384186000' class='quanto-date posted-at response-posted-at' href='#571af3ed750f808845000ac2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So I set can_trade to how it shows in the update above and got the issue again. I also have del context.stocks_held[security] uncommented in the handle_data section. So seems it&#39;s related to that. </p>

<p>There was a runtime error.<br>
KeyError: Equity(7254, symbol=u&#39;SWY&#39;, asset_name=u&#39;SAFEWAY INC&#39;, exchange=u&#39;NEW YORK STOCK EXCHANGE&#39;, start_date=Timestamp(&#39;1993-01-04 00:00:00+0000&#39;, tz=&#39;UTC&#39;), end_date=Timestamp(&#39;2015-01-29 00:00:00+0000&#39;, tz=&#39;UTC&#39;), first_traded=None, auto_close_date=Timestamp(&#39;2015-02-03 00:00:00+0000&#39;, tz=&#39;UTC&#39;))<br>
...
USER ALGORITHM:173, in order_positionsGo to IDE<br>
context.stocks_held[security] += 1  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571b1fe3fb008d4f90000c23' id='571b1fe3fb008d4f90000c23'>
<a href='#571b1fe3fb008d4f90000c23'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1461395435000' class='quanto-date posted-at response-posted-at' href='#571b1fe3fb008d4f90000c23'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is my latest version, better returns and added PvR to it. However PvR code is showing shorts happening and negative cash as well as leverage above 1. I&#39;m not sure why this is happening. Any help would be greatly appreciated.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571ba265d57c2db2d70000fb' id='571ba265d57c2db2d70000fb'>
<a href='#571ba265d57c2db2d70000fb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1461428845000' class='quanto-date posted-at response-posted-at' href='#571ba265d57c2db2d70000fb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Steven,</p>

<p>Thanks for sharing. It&#39;s really interesting how you combined Accern&#39;s new sentiment data along with Estimize&#39;s earnings estimates. I want to help you troubleshoot - but from cloning your algorithm, it looks like you aren&#39;t experiencing KeyErrors. Is this still a problem for you? Or is the main concern now the short positions that PVR is holding?</p>

<p>As for performance, I think there are a few ways to improve this but would like to focus on the first problem at hand.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='571ba6e5616a5951000000f1' id='571ba6e5616a5951000000f1'>
<a href='#571ba6e5616a5951000000f1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1461429996000' class='quanto-date posted-at response-posted-at' href='#571ba6e5616a5951000000f1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;d like to make sure it doesn&#39;t short, go negative cash  and not above 0.95 leverage first but I would love to see how to make this better as well and look forward to see what PvR  you and others are able to get.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571ba71f666928f43c000114' id='571ba71f666928f43c000114'>
<a href='#571ba71f666928f43c000114'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1461430053000' class='quanto-date posted-at response-posted-at' href='#571ba71f666928f43c000114'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also I think I&#39;m not getting the error anymore because I commented out the del function after I sell based on limit or stop in the handle data area.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571d0a702616ef2fd90001ff' id='571d0a702616ef2fd90001ff'>
<a href='#571d0a702616ef2fd90001ff'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1461521014000' class='quanto-date posted-at response-posted-at' href='#571d0a702616ef2fd90001ff'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Steven,</p>

<p>Here are a few improvements that I&#39;ve found. It seems that in initialize, you could combine all the screens in the mask for <code>top_sentiment</code> like so:</p>

<pre><code>def make_pipeline(context):  
    # Create our pipeline  
    pipe = Pipeline()  
    # Instantiating our factors  
    factor = PercentSurprise()  
    weighted_sentiment = WeightedSentimentByVolatility()  
    # Screen out penny stocks and low liquidity securities.  
    dollar_volume = AverageDollarVolume(window_length=20)  
    is_liquid = dollar_volume &gt; 10**7

    # Filter down to stocks in the top/bottom  
    longs = (factor &gt;= context.min_surprise) &amp; (factor &lt;= context.max_surprise)

    # Add long/shorts to the pipeline  
    pipe.add(longs, &quot;longs&quot;)  
    pipe.add(BusinessDaysSincePreviousEarnings(), &#39;pe&#39;)  
    # Set our pipeline screens  
    # Filter down stocks using sentiment  
    base_universe = is_liquid &amp; longs &amp; (weighted_sentiment != 0)  
    top_sentiment = weighted_sentiment.percentile_between(85, 100, mask=(base_universe))  
    pipe.set_screen(top_sentiment)  
    return pipe  
</code></pre>

<p>Also in <code>order_positions</code>, it looks like the exit logic I had used before wasn&#39;t performing as necessary. This seems closer to what you&#39;d want to use:</p>

<pre><code>    # Check if we&#39;ve exited our positions and if we haven&#39;t, exit the remaining securities  
    # that we have left  
    for security in port:  
        if data.can_trade(security):  
            if context.stocks_held.get(security) is not None:  
                context.stocks_held[security] += 1  
                if context.stocks_held[security] &gt;= context.days_to_hold:  
                    order_target_percent(security, 0)  
                    del context.stocks_held[security]  
            # If we&#39;ve deleted it but it still hasn&#39;t been exited. Try exiting again  
            else:  
                log.info(&quot;Haven&#39;t yet exited %s, ordering again&quot; % security.symbol)  
                order_target_percent(security, 0)  
</code></pre>

<p>It also seems like running <code>handle_data</code> every minute is going to slow down your algorithm a lot and will lead to the <code>short</code> positions that you&#39;re seeing because right now, there isn&#39;t a check for open orders so you could be placing 2 subsequent orders for the same security because it meant your <code>stop</code> conditions. You can fix that by adding a quick <code>if not get_open_orders(security)</code>. For speed improvements, I&#39;d suggest moving this to a schedule_function method. </p>

<p>Here&#39;s the full example:</p>

<pre><code>&quot;&quot;&quot;
This is a PEAD strategy based off Estimize&#39;s earnings estimates. Estimize  
is a service that aggregate financial estimates from independent, buy-side,  
sell-side analysts as well as students and professors. You can run this  
algorithm yourself by geting the free sample version of Estimize&#39;s consensus  
dataset and EventVestor&#39;s Earnings Calendar Dataset at:

- https://www.quantopian.com/data/eventvestor/earnings_calendar  
- https://www.quantopian.com/data/estimize/revisions

Much of the variables are meant for you to be able to play around with them:  
1. context.days_to_hold: defines the number of days you want to hold before exiting a position  
2. context.min/max_surprise: defines the min/max % surprise you want before trading on a signal  
&quot;&quot;&quot;

import numpy as np

from quantopian.algorithm import attach_pipeline, pipeline_output  
from quantopian.pipeline import Pipeline  
from quantopian.pipeline.data.builtin import USEquityPricing  
from quantopian.pipeline.factors import CustomFactor, AverageDollarVolume  
from quantopian.pipeline.classifiers.morningstar import Sector  
from quantopian.pipeline.data.accern import alphaone as alphaone

from quantopian.pipeline.data.estimize import (  
    ConsensusEstimizeEPS,  
    ConsensusWallstreetEPS,  
    ConsensusEstimizeRevenue,  
    ConsensusWallstreetRevenue  
)

# The sample and full version is found through the same namespace  
# https://www.quantopian.com/data/eventvestor/earnings_calendar  
# Sample date ranges: 01 Jan 2007 - 10 Feb 2014  
from quantopian.pipeline.data.eventvestor import EarningsCalendar  
from quantopian.pipeline.factors.eventvestor import (  
    BusinessDaysUntilNextEarnings,  
    BusinessDaysSincePreviousEarnings  
)

# Create custom factor subclass to calculate a market cap based on yesterday&#39;s  
# close  
class PercentSurprise(CustomFactor):  
    window_length = 1  
    inputs = [ConsensusEstimizeEPS.previous_actual_value,  
              ConsensusEstimizeEPS.previous_mean]

    # Compute market cap value  
    def compute(self, today, assets, out, actual_eps, estimize_eps):  
        out[:] = (actual_eps[-1] - estimize_eps[-1])/(estimize_eps[-1] + 0)  
&quot;&quot;&quot;       
class DailySentimentByImpactScore(CustomFactor):  
    # Economic Hypothesis: Accern reports both an `impact score`  
    # and `article sentiment`. The `impact score` is used to measure  
    # the likelihood that a security&#39;s price changes by more than 1%  
    # in the following day. The `article sentiment` is a quantified daily  
    # measure of news &amp; blog sentiment about a given security. This combined  
    # measure of `impact score` and `article sentiment` may hold information  
    # about price changes in the following day.  
    inputs = [alphaone.article_sentiment, alphaone.impact_score]  
    window_length = 1

    def compute(self, today, assets, out, sentiment, impact_score):  
        out[:] = sentiment * impact_score  
&quot;&quot;&quot;       
class WeightedSentimentByVolatility(CustomFactor):  
    # Economic Hypothesis: Sentiment volatility can be an indicator that  
    # public news is changing rapidly about a given security. So securities  
    # with a high level of sentiment volatility may indicate a change in  
    # momentum for that stock&#39;s price.  
    inputs = [alphaone.article_sentiment]  
    window_length = 2

    def compute(self, today, assets, out, sentiment):  
        out[:] = np.nanstd(sentiment, axis=0) * np.nanmean(sentiment, axis=0)  

def make_pipeline(context):  
    # Create our pipeline  
    pipe = Pipeline()  
    # Instantiating our factors  
    factor = PercentSurprise()  
    weighted_sentiment = WeightedSentimentByVolatility()  
    # Screen out penny stocks and low liquidity securities.  
    dollar_volume = AverageDollarVolume(window_length=20)  
    is_liquid = dollar_volume &gt; 10**7

    # Filter down to stocks in the top/bottom  
    longs = (factor &gt;= context.min_surprise) &amp; (factor &lt;= context.max_surprise)

    # Add long/shorts to the pipeline  
    pipe.add(longs, &quot;longs&quot;)  
    pipe.add(BusinessDaysSincePreviousEarnings(), &#39;pe&#39;)  
    # Set our pipeline screens  
    # Filter down stocks using sentiment  
    base_universe = is_liquid &amp; longs &amp; (weighted_sentiment != 0)  
    top_sentiment = weighted_sentiment.percentile_between(85, 100, mask=(base_universe))  
    pipe.set_screen(top_sentiment)  
    return pipe  
def initialize(context):  
    #: Set commissions and slippage to 0 to determine pure alpha  
    set_commission(commission.PerShare(cost=0, min_trade_cost=0))  
    set_slippage(slippage.FixedSlippage(spread=0))  
    set_long_only()

    #: Declaring the days to hold, change this to what you want)))  
    context.days_to_hold = 5  
    #: Declares which stocks we currently held and how many days we&#39;ve held them dict[stock:days_held]  
    context.stocks_held = {}  
    context.stocks_exited = {}

    #: Declares the minimum magnitude of percent surprise  
    context.min_surprise = .00  
    context.max_surprise = .04  
    # Make our pipeline  
    attach_pipeline(make_pipeline(context), &#39;estimize&#39;)

    # Log our positions at 10:00AM  
    schedule_function(func=log_positions,  
                      date_rule=date_rules.every_day(),  
                      time_rule=time_rules.market_close(minutes=30))  
    # Order our positions  
    schedule_function(func=order_positions,  
                      date_rule=date_rules.every_day(),  
                      time_rule=time_rules.market_open())  
    # Order our positions  
    schedule_function(func=extra_orders,  
                      date_rule=date_rules.every_day(),  
                      time_rule=time_rules.market_open(minutes=60))

def before_trading_start(context, data):  
    # Screen for securities that only have an earnings release  
    # 1 business day previous and separate out the earnings surprises into  
    # positive and negative  
    results = pipeline_output(&#39;estimize&#39;)  
    results = results[results[&#39;pe&#39;] == 1]  
    assets_in_universe = results.index  
    context.positive_surprise = assets_in_universe

def log_positions(context, data):  
    #: Get all positions  
    if len(context.portfolio.positions) &gt; 0:  
        all_positions = &quot;Current positions for %s : &quot; % (str(get_datetime()))  
        for pos in context.portfolio.positions:  
            if context.portfolio.positions[pos].amount != 0:  
                all_positions += &quot;%s at %s shares, &quot; % (pos.symbol, context.portfolio.positions[pos].amount)  
        log.info(all_positions)  
def order_positions(context, data):  
    &quot;&quot;&quot;  
    Main ordering conditions to always order an equal percentage in each position  
    so it does a rolling rebalance by looking at the stocks to order today and the stocks  
    we currently hold in our portfolio.  
    &quot;&quot;&quot;  
    port = context.portfolio.positions

    # Check if we&#39;ve exited our positions and if we haven&#39;t, exit the remaining securities  
    # that we have left  
    for security in port:  
        if data.can_trade(security):  
            if context.stocks_held.get(security) is not None:  
                context.stocks_held[security] += 1  
                if context.stocks_held[security] &gt;= context.days_to_hold:  
                    order_target_percent(security, 0)  
                    del context.stocks_held[security]  
            # If we&#39;ve deleted it but it still hasn&#39;t been exited. Try exiting again  
            else:  
                log.info(&quot;Haven&#39;t yet exited %s, ordering again&quot; % security.symbol)  
                order_target_percent(security, 0)  
    # Check our current positions  
    current_positive_pos = [pos for pos in port if (port[pos].amount &gt; 0 and pos in context.stocks_held)]  
    positive_stocks = context.positive_surprise.tolist() + current_positive_pos  
    # Rebalance our positive surprise securities (existing + new)  
    for security in positive_stocks:  
        can_trade = context.stocks_held.get(security) &lt;= context.days_to_hold or \  
                    context.stocks_held.get(security) is None  
        if data.can_trade(security) and can_trade:  
            order_target_percent(security, 0.95 / len(positive_stocks))  
            if context.stocks_held.get(security) is None:  
                context.stocks_held[security] = 0  
def extra_orders(context, data):  
    for security in context.portfolio.positions:  
        can_trade = context.stocks_held.get(security) &gt;= 1  
        if data.can_trade(security) and can_trade and not get_open_orders(security):  
            current_position = context.portfolio.positions[security].amount  
            cost_basis = context.portfolio.positions[security].cost_basis  
            price = data.current(security, &#39;price&#39;)  
            limit = cost_basis*1.06  
            stop = cost_basis*0.92  
            if price &gt;= limit and current_position &gt; 0:  
                order_target_percent(security, 0)  
                log.info( str(security) + &#39; Sold for Profit&#39;)  
                del context.stocks_held[security]  
            if price &lt;= stop and current_position &gt; 0:  
                order_target_percent(security, 0)  
                log.info( str(security) + &#39; Sold for Loss&#39;)  
                del context.stocks_held[security]  
</code></pre>

<p>I&#39;m not sure how it will affect results, but I think it&#39;ll provide a good starting point for you to improve on.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='571e4be252670ba82e000208' id='571e4be252670ba82e000208'>
<a href='#571e4be252670ba82e000208'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1461603305000' class='quanto-date posted-at response-posted-at' href='#571e4be252670ba82e000208'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Steven, </p>

<p>Inspired by your idea, I&#39;ve taken a stab at creating my own version using Accern&#39;s new sentiment to trade on earnings announcements. This simply uses the previous day&#39;s article sentiment to hold positions. Check it out here: <a href="https://www.quantopian.com/posts/long-slash-short-earnings-sentiment-trading-strategy">https://www.quantopian.com/posts/long-slash-short-earnings-sentiment-trading-strategy</a>  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='571ea851358865a2d3000459' id='571ea851358865a2d3000459'>
<a href='#571ea851358865a2d3000459'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/570310bcd7137f70a000035c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fac9334eb979089dd464854c6bac8d58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/570310bcd7137f70a000035c'>Steven Hayes</a>
</div>
<a UTCms='1461626968000' class='quanto-date posted-at response-posted-at' href='#571ea851358865a2d3000459'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Very nice!! I&#39;m still playing around with the code you provided. I&#39;m going to clone your other strategy and play with that as well. Thanks for all the help on this and great work on the new strategy. I&#39;ll let you know when I get the one above working perfect or if I come across additional issues.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='571ffdc9f893aeb7330002a9' id='571ffdc9f893aeb7330002a9'>
<a href='#571ffdc9f893aeb7330002a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571c09e7fce55b7561000152'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/428c63a26069247642f6db063a1e6db3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571c09e7fce55b7561000152'>patrick s</a>
</div>
<a UTCms='1461714385000' class='quanto-date posted-at response-posted-at' href='#571ffdc9f893aeb7330002a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There seems to be issues (in about half the cases) where the data is not correctly synced to the appropriate date window.  This happens when the Estimize data is missing an entry, then the algorithm uses the prior quarter.  Is it possible to check that the &quot;release_date&quot; field is within ~2 days or so of the current day to avoid this issue?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='572027daf893ae0b93000be0' id='572027daf893ae0b93000be0'>
<a href='#572027daf893ae0b93000be0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1461725154000' class='quanto-date posted-at response-posted-at' href='#572027daf893ae0b93000be0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Patrick,</p>

<p>This is a different version of this algorithm that uses news sentiment but it also includes the <code>release_date</code> field within 7 days of the earnings announcement. The factor I&#39;m using is this <code>DaysSinceRelease</code> Custom Factor.</p>

<pre><code>class DaysSinceRelease(CustomFactor):  
    # Only getting the previous quarter&#39;s estimize surprise  
    window_length = 1  
    inputs = [EarningsCalendar.previous_announcement,  
              ConsensusEstimizeEPS.previous_release_date]  
    def compute(self, today, assets, out,  
                earnings_announcement, estimize_release):  
        days = estimize_release - earnings_announcement  
        out[:] = abs(days.astype(&#39;timedelta64[D]&#39;).astype(int))  
</code></pre>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5766128a893b6276d7000995' id='5766128a893b6276d7000995'>
<a href='#5766128a893b6276d7000995'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5673a1f63172ccf965000254'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b22db0823311f866c00db2efc4b9f814?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5673a1f63172ccf965000254'>Arash V</a>
</div>
<a UTCms='1466307215000' class='quanto-date posted-at response-posted-at' href='#5766128a893b6276d7000995'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi guys,</p>

<p>Any update on the &quot;Before/After market&quot; indicator? Currently there is no way to get Before/After market for earning reports in pipelines.</p>

<p>Regards,<br>
-- Arash  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='578d3b4c4b2807aa37000193' id='578d3b4c4b2807aa37000193'>
<a href='#578d3b4c4b2807aa37000193'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1468873555000' class='quanto-date posted-at response-posted-at' href='#578d3b4c4b2807aa37000193'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Access to the Estimize dataset will temporarily be shut down starting today.</p>

<p>We&#39;ve identified an issue with the Estimize dataset that prevented updates to the data starting June, 2016. All subscribers have been notified and we are taking steps to implement a solution. </p>

<p>For an alternative version using Wall Street Consensus Estimates, please view this thread:  <a href="https://www.quantopian.com/posts/updated-long-slash-short-earnings-sentiment-trading-strategy-with-the-streets-consesus">https://www.quantopian.com/posts/updated-long-slash-short-earnings-sentiment-trading-strategy-with-the-streets-consesus</a>  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5895527b32bfe64b95614d65' id='5895527b32bfe64b95614d65'>
<a href='#5895527b32bfe64b95614d65'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52fe2ddb35768ac8b90003cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/cdd7b1fd66317f79b4e83f8e690a6cca?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52fe2ddb35768ac8b90003cd'>Shiva M</a>
</div>
<a UTCms='1486180987000' class='quanto-date posted-at response-posted-at' href='#5895527b32bfe64b95614d65'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Any updates on this dataset ? My only profitable strategy relies on this dataset.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589c5b746471b915e2f9949b' id='589c5b746471b915e2f9949b'>
<a href='#589c5b746471b915e2f9949b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5776620a785bcbbda100014a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/bb874896e4a88a41ba7b2d59d5eb1158?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5776620a785bcbbda100014a'>William Ross</a>
</div>
<a UTCms='1486642036000' class='quanto-date posted-at response-posted-at' href='#589c5b746471b915e2f9949b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey, I am trying to run the samples here and get an error for the Estimize imports. Are the libararies still supported, or were they discontinued in 2016? Thanks for the help.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589c7c674a94f872f8d9562a' id='589c7c674a94f872f8d9562a'>
<a href='#589c7c674a94f872f8d9562a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55eefc2af269c592d80008a9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8985b490c95e135c2bbcd7d1a0dce16b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55eefc2af269c592d80008a9'>Jamie McCorriston</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1486650471000' class='quanto-date posted-at response-posted-at' href='#589c7c674a94f872f8d9562a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Shiva and William,</p>

<p>We are actively working on fixing this dataset. It&#39;s up on our staging environment and we are doing some testing now before pushing it to our production environment. I&#39;ll post here when we ship the fix.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5922cad83534be000ddcb59a' id='5922cad83534be000ddcb59a'>
<a href='#5922cad83534be000ddcb59a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58a2d90e44c59d39f200cbb7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2adb4840d22849662f71d1827360cc92?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58a2d90e44c59d39f200cbb7'>Charles Holtzkampf</a>
</div>
<a UTCms='1495452376000' class='quanto-date posted-at response-posted-at' href='#5922cad83534be000ddcb59a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi,</p>

<p>Wondering whether this has now been resolved?  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/post-earnings-drift-trading-strategy-with-estimize-pead'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/post-earnings-drift-trading-strategy-with-estimize-pead'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#325457575650535159724347535c465d425b535c1c515d5f">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
