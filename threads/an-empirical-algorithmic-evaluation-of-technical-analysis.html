<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
An Empirical Algorithmic Evaluation of Technical Analysis
</title>
<meta content='At a recent meeting of the Quantopian staff journal club, I presented a paper by Andrew Lo, Harry Mamaysky, and Jiang Wang called  Foundations of Technical Analysis: Computational Algorithms, Statistical Inference, and Empirical Implementation (2000) . In this paper, the authors utilize non-parametric kernel regression to smooth a stock&#39;s daily price time series to a point where the local minima and maxima that a human technical analyst would find relevant can be separated from noisier...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="wqxYL0tBunVqxrHJZ/4XvcpGQB1O3grab5FceUC/7hS+yi5i6bdoltPb6PgoEb/J8shjdDQSH8HtnocT6vqMrw==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=true;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/an-empirical-algorithmic-evaluation-of-technical-analysis' property='og:url'>
<meta content='An Empirical Algorithmic Evaluation of Technical Analysis' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/an-empirical-algorithmic-evaluation-of-technical-analysis' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='An Empirical Algorithmic Evaluation of Technical Analysis' property='og:title'>
<meta content='At a recent meeting of the Quantopian staff journal club, I presented a paper by Andrew Lo, Harry Mamaysky, and Jiang Wang called  Foundations of Technical Analysis: Computational Algorithms, Statistical Inference, and Empirical Implementation (2000) . In this paper, the authors utilize non-parametric kernel regression to smooth a stock&#39;s daily price time series to a point where the local minima and maxima that a human technical analyst would find relevant can be separated from noisier...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/an-empirical-algorithmic-evaluation-of-technical-analysis">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='573b6adfed498de75f0001e3'>
<div class='post-container' data-post-id='573b6adfed498de75f0001e3' id='573b6adfed498de75f0001e3'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>An Empirical Algorithmic Evaluation of Technical Analysis</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54aae037a9e4c8d716000059'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1712cac26cb16f860c6348187299b659?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54aae037a9e4c8d716000059'>Deleted User</a>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1463513100000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=An Empirical Algorithmic Evaluation of Technical Analysis&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fan-empirical-algorithmic-evaluation-of-technical-analysis%3Futm_source%3Dwebsite_share%26utm_campaign%3Dan-empirical-algorithmic-evaluation-of-technical-analysis%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fan-empirical-algorithmic-evaluation-of-technical-analysis%3Futm_source%3Dwebsite_share%26utm_campaign%3Dan-empirical-algorithmic-evaluation-of-technical-analysis%26utm_medium%3Dlinkedin&amp;title=An+Empirical+Algorithmic+Evaluation+of+Technical+Analysis+%28Deleted+User%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Papers' data-tag-id='55c50e7d8d4710ec6e000007' href='/posts/tag/Papers/newest'>Papers</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Research' data-tag-id='55c50e7d8d4710ec6e000018' href='/posts/tag/Research/newest'>Research</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/an-empirical-algorithmic-evaluation-of-technical-analysis?utm_source=website_share&amp;utm_campaign=an-empirical-algorithmic-evaluation-of-technical-analysis&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Deleted User" />
<div class='body-text'>
<div class='body-text-container post-body'><p>At a recent meeting of the Quantopian staff journal club, I presented a paper by Andrew Lo, Harry Mamaysky, and Jiang Wang called <em>Foundations of Technical Analysis: Computational Algorithms, Statistical Inference, and Empirical Implementation (2000)</em>. In this paper, the authors utilize non-parametric kernel regression to smooth a stock&#39;s daily price time series to a point where the local minima and maxima that a human technical analyst would find relevant can be separated from noisier short-term price fluctuations. The authors then search these denoised local minima and maxima for the patterns commonly pursued by technical analysts. Once they&#39;ve identified occurrences of particular patterns, the authors test their predictive power by observing the subsequent forward return on the stock.</p>

<p>For a fuller explanation of what is going on in this notebook, I encourage you to take a look at the original paper: <a href="https://www.cis.upenn.edu/%7Emkearns/teaching/cis700/lo.pdf" rel="nofollow">https://www.cis.upenn.edu/~mkearns/teaching/cis700/lo.pdf</a></p>

<p>It is interesting to note that since this paper was written in 2000 and all the data used in my implementation is from 2003-2016, my results can be considered to be &quot;out of sample&quot; with respect to the authors&#39; findings.</p>

<p>As I discuss in the notebook, one of my concerns with the author&#39;s methodology is the introduction of lookahead bias via the kernel regression.  I&#39;m eager to see how these technical patterns perform as predictors when implemented in an actual trading algorithm. <strong>(I&#39;d love some help getting this analysis running as an algorithm on Quantopian.)</strong> I imagine we could use Pipeline to scan for patterns on a 40 day lookback window for a large universe of stocks. I&#39;d also be interested to see how this pattern detection works when we smooth price timeseries using an exponential moving average instead of kernel regression.</p>

<p>If you&#39;re not familiar with research notebooks, what you need to do is click &quot;Clone Noteook&quot; (you need to be logged in first) and then you can page through the step-by-step of my analysis.  You can also &quot;run cell&quot; from the beginning and reproduce all of the results that I did.  </p>
</div>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>37 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='573d7a8257188b340300004f' id='573d7a8257188b340300004f'>
<a href='#573d7a8257188b340300004f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1463646855000' class='quanto-date posted-at response-posted-at' href='#573d7a8257188b340300004f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><a href="http://www.evidencebasedta.com/purifiedsentimentindicatorsforthestockmarket5.04.09.pdf">This</a> may help.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='573d9162a359306f57000a25' id='573d9162a359306f57000a25'>
<a href='#573d9162a359306f57000a25'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1463652712000' class='quanto-date posted-at response-posted-at' href='#573d9162a359306f57000a25'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Wonderful effort Q. I applaud the vast array of interesting papers you guys have published.</p>

<p>Despite my deep scepticism I will certainly contribute to this once I have the time.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5741ce3efef4d1395c000021' id='5741ce3efef4d1395c000021'>
<a href='#5741ce3efef4d1395c000021'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1463930436000' class='quanto-date posted-at response-posted-at' href='#5741ce3efef4d1395c000021'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I believe an <a href="https://www.quantopian.com/posts/cloning-available-how-to-conduct-your-own-event-study-using-research">Event Study</a> could give us much more information regarding those technical patterns. So I added an event study at the bottom of your NB. With this information it should be easier to build an algorithm as we can better decide when to enter/exit our positions once we detect a pattern.</p>

<p>P.s. Andrew, your posts are always interesting, thanks for your work. </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5742b515398dfe7ec10007bf' id='5742b515398dfe7ec10007bf'>
<a href='#5742b515398dfe7ec10007bf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1463989530000' class='quanto-date posted-at response-posted-at' href='#5742b515398dfe7ec10007bf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I was puzzling yesterday about currency conversion and back testing on patterns.</p>

<p>On trend following I have decided the &quot;correct&quot; way to deal with a multi currency Portfolio is to convert all time series to the base currency prior to running my daily orders (and of course for any backtesting). In my view there is little point in declaring an entry into the yen version if the Nikkei if you are a dollar investor - you need to take the currency into account to check the trade still makes sense I&#39;m dollars.</p>

<p>Many backtesting programs work with native currencies and only convert the P&amp;L back to the base currency. </p>

<p>While my method is fine for long term trends, I suspect it would create havoc with other types of pattern such as those being considered here.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5742d224e0c023478c000880' id='5742d224e0c023478c000880'>
<a href='#5742d224e0c023478c000880'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530dc58192f94a48e80002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6a81c3996de61b5880d979f288a9a743?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530dc58192f94a48e80002b6'>Mikko M</a>
</div>
<a UTCms='1463996969000' class='quanto-date posted-at response-posted-at' href='#5742d224e0c023478c000880'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>you need to take the currency into account to check the trade still makes sense I&#39;m dollars.</p>
</blockquote>

<p>This is offtopic but you could also hedge the position on FX market so then index returns would then basically be in USD. If you trade yen based nikkei equity without hedging you are actually trading both the equity and yen at the same time (this might not be a problem at all but it&#39;s worth noting).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='574306f49da84b608b00006c' id='574306f49da84b608b00006c'>
<a href='#574306f49da84b608b00006c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1464010491000' class='quanto-date posted-at response-posted-at' href='#574306f49da84b608b00006c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Mikko M<br>
Agreed but in trend following that is exactly what I think one should do - trade the trend in the Nikkei <strong>as that trend is modified by the currency</strong>. There are two other alternatives - take signals just on the Nikkei trend and ignore the currency except in calculating the daily P&amp;L, or hedge as you suggest.</p>

<p>There are very few hedged ETFs around - most trade in one currency (eg the USD) with an un-hedged investment in yen assets. The market ensures the USD price remains in line both with the movement of the Nikkei and the USD/JPY.</p>

<p>I don&#39;t have much difficulty with any of these approaches but in other forms of pattern recognition, I suspect logically a dollar investor would be best to base his signals on the unconverted JPY time series.  There again I have done no testing whatsoever and am just raising a &quot;note to myself&quot; for when I come to look at this later.</p>

<p>If there is any validity to a &quot;head and shoulders&quot;  (if it has any predictive power) I imagine that may disappear if you convert the time series to USD.</p>

<p>In trend following I don&#39;t mind doing that. I&#39;m an investors rather than a trader and if an up-trend in the Nikkei is outweighed by a down trend in the yen, I don&#39;t want to take the trade.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='574307163c37540885000005' id='574307163c37540885000005'>
<a href='#574307163c37540885000005'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1464010524000' class='quanto-date posted-at response-posted-at' href='#574307163c37540885000005'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Incidentally I don&#39;t hedge. I want the diversification.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='574329a980dfd769a2000186' id='574329a980dfd769a2000186'>
<a href='#574329a980dfd769a2000186'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54aae037a9e4c8d716000059'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1712cac26cb16f860c6348187299b659?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54aae037a9e4c8d716000059'>Deleted User</a>
</div>
<a UTCms='1464019383000' class='quanto-date posted-at response-posted-at' href='#574329a980dfd769a2000186'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Luca That event study is a great addition to this analysis. Thank you for sharing! </p>

<p>Some takeaways:</p>

<p>1) I&#39;d want the algo to trade on each of these technical signals. A larger &quot;N&quot; is going to lead to smaller error bars on our overall forward return. </p>

<p>2) Most of these signals are significantly decayed after 6 days. (I&#39;m still concerned that the kernel regression has introduced lookahead bias). I&#39;d be interested to see how many of these signals would have been missed if we provided only {1,2,3,4,5,6,7} days of trailing price data after the last local maximums identified with the full range of available data. </p>

<p>3) Inverse Head-and-Shoulders appears to be a particularly useful signal. It occurs often and has a large, slow decaying forward return.</p>

<p>Do you notice anything in particular?  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='574439f1f2d3201570000ba2' id='574439f1f2d3201570000ba2'>
<a href='#574439f1f2d3201570000ba2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1464089078000' class='quanto-date posted-at response-posted-at' href='#574439f1f2d3201570000ba2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andrew, here is an algorithm that uses those patterns.</p>

<p>There is a pipeline factor (PatternFactor) that detect those patterns and return a code (an integer) any time a pattern is found.</p>

<p>You can see the factor has a class member &quot;indentification_lag&quot; that is a limit on how many days ago a pattern can be recognized: ideally we would like to recognize a pattern the day after his last local minimum/maximum is found, but in practice we need more days to detect the last minimum/maximum. The &quot;indentification_lag&quot; parameter is there to let us test different configuration.</p>

<p>After changing &quot;indentification_lag&quot; we are suppose to update the number of days a position is held accordingly: the latter we detect a pattern the less days we can hold a position. The number of holding days per event can be configured in before_trading_start function.</p>

<p>This backtest used an indentification_lag of 4 days and a holding period 2 days (as Andrew correctly reported &quot;Most of these signals are significantly decayed after 6 days&quot; )  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='574e3ff57aec938a84000b65' id='574e3ff57aec938a84000b65'>
<a href='#574e3ff57aec938a84000b65'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54aae037a9e4c8d716000059'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1712cac26cb16f860c6348187299b659?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54aae037a9e4c8d716000059'>Deleted User</a>
</div>
<a UTCms='1464745979000' class='quanto-date posted-at response-posted-at' href='#574e3ff57aec938a84000b65'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m glad we looked at this in an algo. Identifying the last maxima/minima in a pattern is clearly a key limitation. It&#39;d be interesting to run these tests on various kernel regressor bandwidth parameter values to see if there is an identification lag/smoothness combination that produces superior returns. </p>

<p>I wonder if Kalman filter smoothing would look any different? I&#39;ll try swapping one into the notebook.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='575676286a6e77bbfb00008e' id='575676286a6e77bbfb00008e'>
<a href='#575676286a6e77bbfb00008e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1465284140000' class='quanto-date posted-at response-posted-at' href='#575676286a6e77bbfb00008e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a f<a href="https://www.quantopian.com/posts/factor-tear-sheet">actor tear sheet</a> of PatterFactor (the pipeline factor used in the previous algorithms to identify the technical patterns). There is a tear sheet for identification lags of 1, 2 and 3 days. I expect the results to be similar to what we found in the event study (even though in this NB we analyse a shorter time period 2013 - 2016, for technical limitation of research environment)</p>

<p>Edit: updated NB</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='575b3e679553c1b89e000103' id='575b3e679553c1b89e000103'>
<a href='#575b3e679553c1b89e000103'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1465597555000' class='quanto-date posted-at response-posted-at' href='#575b3e679553c1b89e000103'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Summarizing what we have done up to know....</p>

<ul>
<li><p>The event study shows the technical patterns have some signal that we can exploit</p></li>
<li><p>The signal decays after ~6 days, though Andrew is concern that the kernel regression introduces a lookahead bias: indeed we cannot predict a local minimum or maximum without having collected some data(daily close price) AFTER the local minimum/maximum. This means we cannot use the full 6 days signal but possibly less days of it and would be interested to know how many.</p></li>
<li><p>Created a pipeline factor, PatternFactor, that detects the same patterns analysed in the event study. PatternFactor is configurable in the number of identification lag days to detect a local minimum/maximum. Obviously the less days we configure the less local minimum/maximum it finds and also, less days could mean detect false positive.</p></li>
<li><p>Created an algorithm with PatternFactor and experimented with identification lag of 1,2,3,4 and 5 days (more is pointless as the signal decays after 6 days)</p></li>
<li><p>The algorithm is not profitable, this can be due to bugs in the code :) or Andrew&#39;s concern is well founded. To understand the problem we created a factor tear sheet for PatternFactor</p></li>
<li><p>Studied PatternFactor with the Factor Tear Sheet and discovered that if we don&#39;t give enough identification lag days to the factor it is not able to detect<br>
the same patterns we studied in the event study. Meaning it detect local maximum/minimum that are false positive (they wouldn&#39;t have been detected as local  maximum/minimum if we had provided more data)</p></li>
</ul>

<p>The last conclusion was not clear simply looking at the last two factor tear sheets posted above. So here is a new NB that shows PatternFactor with 1,2,3 and 10 days identification lag (I never tried 10 days lag before ). In this last NB I also filter out stocks whose price is less than 5 dollars because the signal returns are very low and the transaction cost would make those stocks untradable.</p>

<p>My opinion is that with identification lag of 10 days the factor is able to detect patterns very similar to the ones seen in the event study. There are little discrepancy but we have to keep in mind that we are not using the same universe in the tear sheet and in the event study (as the pipeline recalculate its stock universe every day while the event study has a fixed universe for the whole time period examined).</p>

<p>If we look at the results of PatternFactor with 1,2 or 3 days identification lag we can see the recognized patterns are not similar to the ones seen in the<br>
event study. In particular, the more lag days we have the more similar the patterns are to the ones in the event study. In my opinion that should corroborate Andrew&#39;s thesis/fear of lookahead bias.</p>

<p>It would be nice to have my conclusion reviewed by someone else, as it is very likely that I missed something (and we can never exclude bugs presence in the code).</p>

<p>Another thing I noticed is that PatternFactor with identification lag of 1 day, while detecting different patterns than the event study, generates a signal that last 1 day. Is not very strong but we could try exploiting it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57614e34f8d3277489000c54' id='57614e34f8d3277489000c54'>
<a href='#57614e34f8d3277489000c54'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1465994811000' class='quanto-date posted-at response-posted-at' href='#57614e34f8d3277489000c54'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The algorithm has few shortcomings.... but just to show the signal generated from identification lag of 1 day.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58550b21e272e10012000856' id='58550b21e272e10012000856'>
<a href='#58550b21e272e10012000856'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57e93085b94e560e62000051'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3755b6e7fa449ed0fff8e2d1451930bf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57e93085b94e560e62000051'>Richard Mwa</a>
</div>
<a UTCms='1481968422000' class='quanto-date posted-at response-posted-at' href='#58550b21e272e10012000856'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks all for contributing to this post but I have one question:<br>
What look ahead bias is being referred to? That is, Isn&#39;t the period used for the kernel regression plus lag to observe the signal roughly equal to the time that a trader would take to identify the various patterns?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58551b04d31319345400010a' id='58551b04d31319345400010a'>
<a href='#58551b04d31319345400010a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1481972490000' class='quanto-date posted-at response-posted-at' href='#58551b04d31319345400010a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The look ahead bias is in the  Andres&#39;NB and in the event study NB (not in the algorithm and the factor tear sheet) and it is due to  the kernel regression being run for the full time period in one shot. In reality you would have to run the regression every day instead, like a rolling kernel regression on the past 30 days of data or so. Why this matter? Because the kernel regression doesn&#39;t give you good smoothed values at the end of a time series, there isn&#39;t just enough data to do it. This means that in reality you cannot trust kernel regression in the proximity of the current date, as you run a regression every day, and the last local minimum/maximum needed to identify a pattern might become evident only some days later. By the time a pattern is identified there might still be some alpha left or not, but to understand that we should rewrite the NB code so that it performs the pattern identification using a <strong>rolling</strong> kernel regression to simulate live trading behaviour, differently we cannot trust the results as they are biased.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='585555711a383e71640005c1' id='585555711a383e71640005c1'>
<a href='#585555711a383e71640005c1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57e93085b94e560e62000051'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3755b6e7fa449ed0fff8e2d1451930bf?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57e93085b94e560e62000051'>Richard Mwa</a>
</div>
<a UTCms='1481987447000' class='quanto-date posted-at response-posted-at' href='#585555711a383e71640005c1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Luca....I guess I assumed that the NB was replicating the paper exactly.  So since the authors were using rolling regressions, they had no look ahead bias as Andrew implied at the beginning of this post:</p>

<blockquote>
<p>As I discuss in the notebook, one of my concerns with the author&#39;s methodology is the introduction of lookahead bias via the kernel regression...  </p>
</blockquote>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58556a7ab880fd0015000b8f' id='58556a7ab880fd0015000b8f'>
<a href='#58556a7ab880fd0015000b8f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1481992835000' class='quanto-date posted-at response-posted-at' href='#58556a7ab880fd0015000b8f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Well, In his NB Andrew takes into account the detection lag  when he calculates the returns. He assumes a 4 days identification lag that decrease the hypothetical returns. But still the NB might be considering patterns that wouldn&#39;t have been recognized in real trading, with a rolling kernel regression<br>
It&#39;s not that hard to modify the code so that it uses a rolling kernel regression though.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='587eae086358a6000dc612a3' id='587eae086358a6000dc612a3'>
<a href='#587eae086358a6000dc612a3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5798e8c6b4b58bda44000685'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c928bfd758dc99ff8ffbd6bfd58e82f4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5798e8c6b4b58bda44000685'>john jiang</a>
</div>
<a UTCms='1484697096000' class='quanto-date posted-at response-posted-at' href='#587eae086358a6000dc612a3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>For all the experts on this forum, is the paper by Lo on this subject dated? (do not mean disrespect for the paper here). Are there there any best practices/standard libraries in identifying these basic technical patterns since it appears that most of the financial investment platforms offer screening for these patterns such as finviz.com and interactive broker(?). Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5acd07709f26e500162ef0b4' id='5acd07709f26e500162ef0b4'>
<a href='#5acd07709f26e500162ef0b4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59ffbdee6ea28b0009515be2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b10bd1e0f25a5b811f9cdd827dd32bfd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59ffbdee6ea28b0009515be2'>Amir Vahid</a>
</div>
<a UTCms='1523386224000' class='quanto-date posted-at response-posted-at' href='#5acd07709f26e500162ef0b4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Andrew, I am not able to run the notebook and it has problems at cell # 9. The error is:</p>

<p>raise ValueError(&#39;Cannot index with multidimensional key&#39;)</p>

<p>KeyErrorTraceback (most recent call last)<br>
 in ()<br>
     25<br>
     26 plot_window(msft_prices, smooth_prices, local_max_dt, local_min_dt, price_local_max_dt,<br>
---&gt; 27             price_local_min_dt, pd.datetime(2005,2,19), pd.datetime(2006,2,26))<br>
     28 plot_window(msft_prices, smooth_prices, local_max_dt, local_min_dt, price_local_max_dt,<br>
     29             price_local_min_dt,pd.datetime(2007,9,1), pd.datetime(2008,9,1))</p>

<p>in plot_window(prices, smooth_prices, smooth_maxima_dt, smooth_minima_dt, price_maxima_dt, price_minima_dt, start, end, ax)<br>
     13     smooth_prices_.plot(ax=ax)<br>
     14<br>
---&gt; 15     smooth_max = smooth_prices_.loc[smooth_maxima_dt]<br>
     16     smooth_min = smooth_prices_.loc[smooth_minima_dt]<br>
     17     price_max = prices_.loc[price_maxima_dt]</p>

<p>/usr/local/lib/python2.7/dist-packages/pandas/core/indexing.pyc in <strong>getitem</strong>(self, key)
   1294             return self._getitem_tuple(key)<br>
   1295         else:<br>
-&gt; 1296             return self._getitem_axis(key, axis=0)<br>
   1297<br>
   1298     def _getitem_axis(self, key, axis=0):</p>

<p>/usr/local/lib/python2.7/dist-packages/pandas/core/indexing.pyc in _getitem_axis(self, key, axis)
   1454                     raise ValueError(&#39;Cannot index with multidimensional key&#39;)<br>
   1455<br>
-&gt; 1456                 return self._getitem_iterable(key, axis=axis)<br>
   1457<br>
   1458             # nested tuple slicing</p>

<p>/usr/local/lib/python2.7/dist-packages/pandas/core/indexing.pyc in _getitem_iterable(self, key, axis)
   1020     def _getitem_iterable(self, key, axis=0):<br>
   1021         if self._should_validate_iterable(axis):<br>
-&gt; 1022             self._has_valid_type(key, axis)<br>
   1023<br>
   1024         labels = self.obj._get_axis(axis)</p>

<p>/usr/local/lib/python2.7/dist-packages/pandas/core/indexing.pyc in _has_valid_type(self, key, axis)
   1377<br>
   1378                 raise KeyError(&quot;None of [%s] are in the [%s]&quot; %<br>
-&gt; 1379                                (key, self.obj._get_axis_name(axis)))<br>
   1380<br>
   1381             return True</p>

<p>KeyError: &quot;None of [[&#39;2003-01-13T00:00:00.000000000&#39; &#39;2003-02-20T00:00:00.000000000&#39;\n &#39;2003-03-20T00:00:00.000000000&#39; &#39;2003-04-04T00:00:00.000000000&#39;\n &#39;2003-05-08T00:00:00.000000000&#39; &#39;2003-06-02T00:00:00.000000000&#39;\n &#39;2003-06-19T00:00:00.000000000&#39; &#39;2003-07-09T00:00:00.000000000&#39;\n &#39;2003-07-28T00:00:00.000000000&#39; &#39;2003-09-08T00:00:00.000000000&#39;\n &#39;2003-09-19T00:00:00.000000000&#39; &#39;2003-10-07T00:00:00.000000000&#39;\n &#39;2003-10-17T00:00:00.000000000&#39; &#39;2003-12-19T0  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ad9160f1ba522465c9b743d' id='5ad9160f1ba522465c9b743d'>
<a href='#5ad9160f1ba522465c9b743d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5712ae6234319462310005ed'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/557e34e7d84c0b6f71506c71f8ccfcc5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5712ae6234319462310005ed'>Cristi Marisescu</a>
</div>
<a UTCms='1524176399000' class='quanto-date posted-at response-posted-at' href='#5ad9160f1ba522465c9b743d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Amir Vahid,<br>
Change the code  </p>

<pre><code>local_max_dt = smooth_prices.iloc[local_max].index.values  
local_min_dt = smooth_prices.iloc[local_min].index.values  
</code></pre>

<p>to </p>

<pre><code>local_max_dt = smooth_prices.iloc[local_max].index  
local_min_dt = smooth_prices.iloc[local_min].index  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5af554606d1558004463e4f0' id='5af554606d1558004463e4f0'>
<a href='#5af554606d1558004463e4f0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1526027360000' class='quanto-date posted-at response-posted-at' href='#5af554606d1558004463e4f0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is the Alphalens  event study NB </p>

<p>EDIT: cleaned up the NB  a bit  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5af5aea074262f4dfada3b33' id='5af5aea074262f4dfada3b33'>
<a href='#5af5aea074262f4dfada3b33'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1526050464000' class='quanto-date posted-at response-posted-at' href='#5af5aea074262f4dfada3b33'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Luca: This is excellent! A couple of observations:</p>

<ul>
<li>Really cool to also see what the stock is doing before the event which gives one a visual on what the technical analysis is latching onto<br></li>
<li>Holy cow, some of these seem to actually do something meaningful<br></li>
<li>Interesting to see how some that are bearish (RTOP and TTOP) seem to have the right negative short-term alpha but then long-term positive alpha (thanks for including 11D as one can see that it&#39;s where a lot of long-term decays again). </li>
</ul>

<p>Have you attempted any type of signal combination?  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5af5c0396d1558732d63e1f5' id='5af5c0396d1558732d63e1f5'>
<a href='#5af5c0396d1558732d63e1f5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1526054969000' class='quanto-date posted-at response-posted-at' href='#5af5c0396d1558732d63e1f5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Thomas, there is my old algorithm few posts above but please note that it&#39;s not straightforward to decide how to best trade all those signals together. Depending on the detected pattern we want to hold the securities for different number of days. Also, since some of the patterns perform best after more than one day,  when we detect some signals we don&#39;t know if it is better to trade all available cash on those or to keep some cash for following days. Either we risk to have an underleveraged portfolio or we don&#39;t trade all the signals because we used all the cash. The trading logic is quite complex.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5af5fa89946703003fa7fb24' id='5af5fa89946703003fa7fb24'>
<a href='#5af5fa89946703003fa7fb24'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59ffbdee6ea28b0009515be2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b10bd1e0f25a5b811f9cdd827dd32bfd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59ffbdee6ea28b0009515be2'>Amir Vahid</a>
</div>
<a UTCms='1526069897000' class='quanto-date posted-at response-posted-at' href='#5af5fa89946703003fa7fb24'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Please install the fastdtw on the research notebook.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5af7e9b5c8a95519cb04b8d2' id='5af7e9b5c8a95519cb04b8d2'>
<a href='#5af7e9b5c8a95519cb04b8d2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1526196661000' class='quanto-date posted-at response-posted-at' href='#5af7e9b5c8a95519cb04b8d2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Out of curiosity, I tried the TBOT signal alone  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5af9e79c6d88c809954f5b4f' id='5af9e79c6d88c809954f5b4f'>
<a href='#5af9e79c6d88c809954f5b4f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5af09f5c8cb0350e9246204c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/123b2c529d8b93f60ccac887d50052ee?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5af09f5c8cb0350e9246204c'>Andrew Tier</a>
</div>
<a UTCms='1526327196000' class='quanto-date posted-at response-posted-at' href='#5af9e79c6d88c809954f5b4f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Guys, thank you so much for your effort.</p>

<p>Did you test ta-lib candlestick patterns as well?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8a9f5c0ceea031c8db2223' id='5b8a9f5c0ceea031c8db2223'>
<a href='#5b8a9f5c0ceea031c8db2223'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57e4081f0cb6220df100010b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c6cfbf4a96a70d60c0db4eddd4944d30?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57e4081f0cb6220df100010b'>Moussa BAMBA</a>
</div>
<a UTCms='1535811420000' class='quanto-date posted-at response-posted-at' href='#5b8a9f5c0ceea031c8db2223'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you all for so much effort.  Such an interresting work.</p>

<p>@Luca<br>
 I am trying to play arround with your NB(cleaned up version) , Just tryng to analyze the alphalens with 4 quantiles and change the universe to &#39;QTradableStocksUS&#39;. But the algo seems to be unending!! </p>

<p>I ran it for more than 4 hours and tried to do so 5 times but i can t see an end of it.<br>
Was it taking that long when you ran it ?? </p>

<p>NB: kept the other variable Identical:<br>
factor_name = &#39;factor&#39;</p>

<p>start_date  = &#39;2014-08-01&#39;<br>
end_date    = &#39;2016-08-01&#39;<br>
top_liquid  = &#39;QTradableStocksUS&#39;<br>
filter_universe = True   # very slow, filter out untradable stocks<br>
show_sector_plots = False # very slow to load the sector column in pipeline</p>
<h1 id='5b8a9f5c0ceea031c8db2223-alphalens-specific'><a class='clickable-header-link' href='#5b8a9f5c0ceea031c8db2223-alphalens-specific'>alphalens specific</a></h1>

<p>periods = (1, 2, 3, 4, 5, 6, 10)<br>
quantiles = 4<br>
bins      = None<br>
avgretplot  = (10, 25)   # use None to avoid plotting or (days_before, days_after)<br>
filter_zscore = None<br>
long_short  = False</p>

<p>prices_cache = None # this saves lots of time when running tear sheet multiple times  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8ab2913b4f6900454a3ed9' id='5b8ab2913b4f6900454a3ed9'>
<a href='#5b8ab2913b4f6900454a3ed9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971e2308bc634000d022f24'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3fff8e67995978b6170deb9d9001a7b6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971e2308bc634000d022f24'>Joakim Arvidsson (Cream Mongoose)</a>
<span class='badge medal'></span>
</div>
<a UTCms='1535816337000' class='quanto-date posted-at response-posted-at' href='#5b8ab2913b4f6900454a3ed9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Moussa,</p>

<p>You may be running into too much ‘memory utilisation’?</p>

<p>Try clearing memory by killing all active NBs. Then maybe try a shorter time period, and/or fewer periods (eg only 1, 5, 10 perhaps before honing in?).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b8c016ed8326300455a2a62' id='5b8c016ed8326300455a2a62'>
<a href='#5b8c016ed8326300455a2a62'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57e4081f0cb6220df100010b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c6cfbf4a96a70d60c0db4eddd4944d30?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57e4081f0cb6220df100010b'>Moussa BAMBA</a>
</div>
<a UTCms='1535902062000' class='quanto-date posted-at response-posted-at' href='#5b8c016ed8326300455a2a62'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Joakim</p>

<p>Thank you a lot for taking the time to help.</p>

<p>I did kill all active NB, it was the only one running . However i will try for fewer periods but @ luca did succeed for 10 periods so i do not understand.<br>
Even when i try to run the NB with no changes, the same thing happens.</p>

<p>Did you succeed with running it yourself?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b91e2d78e350c0047f9b9c6' id='5b91e2d78e350c0047f9b9c6'>
<a href='#5b91e2d78e350c0047f9b9c6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/592b4305d46d1400105288b1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8308d4ca377ba17fcb2a1fb8f5af559a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/592b4305d46d1400105288b1'>Robert Blayzor</a>
</div>
<a UTCms='1536287447000' class='quanto-date posted-at response-posted-at' href='#5b91e2d78e350c0047f9b9c6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Having the same problems. It will run for about 1% of total backtest, and then it just loads forever and never gets anywhere. Based on the time that is took for it to get to 1% completion, I can only imagine that it must&#39;ve taken several days for @Luca to compile the algorithm.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ba52b9ffae3eb004a778d50' id='5ba52b9ffae3eb004a778d50'>
<a href='#5ba52b9ffae3eb004a778d50'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/592daa96cc2622000d5c839c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8b2c58f39b90de3d2c245edf936a90f5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/592daa96cc2622000d5c839c'>Daniel Cascio (Blue Robin)</a>
</div>
<a UTCms='1537551263000' class='quanto-date posted-at response-posted-at' href='#5ba52b9ffae3eb004a778d50'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Wondering if anyone has been able to put the patterns into Custom Factors?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ba5b831d919ae004a79d824' id='5ba5b831d919ae004a79d824'>
<a href='#5ba5b831d919ae004a79d824'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5924fb11043b59000ff634dd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d0f6e75f7548a9d3eff034fa09c4b0f9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5924fb11043b59000ff634dd'>Thanh Duong</a>
</div>
<a UTCms='1537587249000' class='quanto-date posted-at response-posted-at' href='#5ba5b831d919ae004a79d824'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you very much for your all contribution. It seems like the long-strategies are generally more profitable than the shorting one. I wonder if this is because, in the long-term, the stock market would generally go up?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5dc022c497e9e77361950976' id='5dc022c497e9e77361950976'>
<a href='#5dc022c497e9e77361950976'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5dc020d869a69f07d4c18716'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0834d7d31ed3cf6e303545d1e66d86cc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5dc020d869a69f07d4c18716'>Gabriel Dodan</a>
</div>
<a UTCms='1572872900000' class='quanto-date posted-at response-posted-at' href='#5dc022c497e9e77361950976'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Guys, there is an error on HS and IHS rules: </p>

<p><code>(abs(e2 - e4) &lt;= 0.03*np.mean([e1,e5]))</code></p>

<p>should be </p>

<p><code>(abs(e2 - e4) &lt;= 0.03*np.mean([e2,e4]))</code></p>

<p>!!!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5dd97edba38f6e46565ec34e' id='5dd97edba38f6e46565ec34e'>
<a href='#5dd97edba38f6e46565ec34e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5dc911eb45822c00445f5482'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/be537d8a41f0b12d5ca299d3b9fb2717?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5dc911eb45822c00445f5482'>Nicholas Taylor</a>
</div>
<a UTCms='1574534875000' class='quanto-date posted-at response-posted-at' href='#5dd97edba38f6e46565ec34e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How do you parameterize the relative magnitude of the patterns?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5eef051e9945784a5dc844af' id='5eef051e9945784a5dc844af'>
<a href='#5eef051e9945784a5dc844af'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5cbd23ec82b60a0041ef493d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/269807fdbc7a5137ec2ed4e524e914c3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5cbd23ec82b60a0041ef493d'>Rushi Chaudhari</a>
</div>
<a UTCms='1592722718000' class='quanto-date posted-at response-posted-at' href='#5eef051e9945784a5dc844af'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Mannn, Im going through this place in 2020 and lot of things have changed</p>

<p>Change this  </p>

<pre><code>kr = KernelReg([prices_.values], [prices_.index.values], var_type=&#39;c&#39;, bw=[1.8,1])  
</code></pre>

<p>to<br>
<code>
kr = KernelReg([prices_.values], [prices_.index.values], var_type=&#39;c&#39;, bw=np.full((1, 1), 1.8))  
</code></p>

<p>because new pandas don&#39;t support the old one. It was hard time for finding this fix, will update if i find something more  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5eefb0f46f1ce8634191109e' id='5eefb0f46f1ce8634191109e'>
<a href='#5eefb0f46f1ce8634191109e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5cbd23ec82b60a0041ef493d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/269807fdbc7a5137ec2ed4e524e914c3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5cbd23ec82b60a0041ef493d'>Rushi Chaudhari</a>
</div>
<a UTCms='1592766708000' class='quanto-date posted-at response-posted-at' href='#5eefb0f46f1ce8634191109e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You can refer the updated version of this here<br>
<a href="https://github.com/rushic24/quantopian-offline-2020/blob/master/An%20Empirical%20Algorithmic%20Evaluation%20of%20Technical%20Analysis.ipynb" rel="nofollow">https://github.com/rushic24/quantopian-offline-2020/blob/master/An%20Empirical%20Algorithmic%20Evaluation%20of%20Technical%20Analysis.ipynb</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f02720bcdd9723df68890b9' id='5f02720bcdd9723df68890b9'>
<a href='#5f02720bcdd9723df68890b9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a78cdac458837469ba34ca4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3f6c83446a0ed5b596ae5120e6d54364?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a78cdac458837469ba34ca4'>Rene Ordosgoitia</a>
</div>
<a UTCms='1593995787000' class='quanto-date posted-at response-posted-at' href='#5f02720bcdd9723df68890b9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello guys, I have updated the notebook to python 3, here is the attachment.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/an-empirical-algorithmic-evaluation-of-technical-analysis'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/an-empirical-algorithmic-evaluation-of-technical-analysis'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#76101313121417151d36070317180219061f17185815191b">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
