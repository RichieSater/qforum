<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
QuantCon 2016: Using the Kalman Filter in Algorithmic Trading
</title>
<meta content='Here is the notebook I used to generate my slides for my presentation at QuantCon Singapore. In the talk, I demonstrated how to implement the Kalman filter in a simple pair trade strategy. The underlying idea is to use the Kalman filter to create an adaptive or online linear regression for the construction of a spread between a pair of cointegrated equities. Cheers, Aidan' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="fRec2rda6XhSubxX0q9sKLCMl7gd2SPi7dUHYUXThSABceqXFaw7m+uk5WadQMRciAK00WcVNvlv2twL75bnmw==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/quantcon-2016-using-the-kalman-filter-in-algorithmic-trading' property='og:url'>
<meta content='QuantCon 2016: Using the Kalman Filter in Algorithmic Trading' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/quantcon-2016-using-the-kalman-filter-in-algorithmic-trading' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='QuantCon 2016: Using the Kalman Filter in Algorithmic Trading' property='og:title'>
<meta content='Here is the notebook I used to generate my slides for my presentation at QuantCon Singapore. In the talk, I demonstrated how to implement the Kalman filter in a simple pair trade strategy. The underlying idea is to use the Kalman filter to create an adaptive or online linear regression for the construction of a spread between a pair of cointegrated equities. Cheers, Aidan' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/quantcon-2016-using-the-kalman-filter-in-algorithmic-trading">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='582de686358fe9440b0007f2'>
<div class='post-container' data-post-id='582de686358fe9440b0007f2' id='582de686358fe9440b0007f2'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>QuantCon 2016: Using the Kalman Filter in Algorithmic Trading</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9283fb2eb000200015b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fd495584fba0d660ede58a26a676f2d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9283fb2eb000200015b'>Aidan O&#39;Mahony</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1479403142000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=QuantCon 2016: Using the Kalman Filter in Algorithmic Trading&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fquantcon-2016-using-the-kalman-filter-in-algorithmic-trading%3Futm_source%3Dwebsite_share%26utm_campaign%3Dquantcon-2016-using-the-kalman-filter-in-algorithmic-trading%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fquantcon-2016-using-the-kalman-filter-in-algorithmic-trading%3Futm_source%3Dwebsite_share%26utm_campaign%3Dquantcon-2016-using-the-kalman-filter-in-algorithmic-trading%26utm_medium%3Dlinkedin&amp;title=QuantCon+2016%3A+Using+the+Kalman+Filter+in+Algorithmic+Trading+%28Aidan+O%27Mahony%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/quantcon-2016-using-the-kalman-filter-in-algorithmic-trading?utm_source=website_share&amp;utm_campaign=quantcon-2016-using-the-kalman-filter-in-algorithmic-trading&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Aidan O&#39;Mahony" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Here is the notebook I used to generate my slides for my presentation at QuantCon Singapore.</p>

<p>In the talk, I demonstrated how to implement the Kalman filter in a simple pair trade strategy. The underlying idea is to use the Kalman filter to create an adaptive or online linear regression for the construction of a spread between a pair of cointegrated equities.</p>

<p>Cheers,<br>
Aidan  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>26 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='583083b2d1b04f0012000945' id='583083b2d1b04f0012000945'>
<a href='#583083b2d1b04f0012000945'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53078de492b7e36d1600024d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c6f1e1fc48f95e36a0be61af8aa11617?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53078de492b7e36d1600024d'>Frederik Strikert</a>
</div>
<a UTCms='1479574460000' class='quanto-date posted-at response-posted-at' href='#583083b2d1b04f0012000945'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Very useful, thanks for sharing!</p>

<p>Personally, I use the moving/trailing window for my dynamic updating of the OLS beta coefficient, as you mention yourself as an alternative solution. Have you been able to determine whether the Kalman Filter approach in general performs better?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5832e1d8355c86001500085d' id='5832e1d8355c86001500085d'>
<a href='#5832e1d8355c86001500085d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9283fb2eb000200015b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fd495584fba0d660ede58a26a676f2d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9283fb2eb000200015b'>Aidan O&#39;Mahony</a>
</div>
<a UTCms='1479729631000' class='quanto-date posted-at response-posted-at' href='#5832e1d8355c86001500085d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve found that moving or rolling linear regression windows can give large oscillating values of the regression coefficients which is not very desirable. You can see this clearly in the attached notebook even with a 100 day window length. I&#39;ve also found that it is more likely to break down out of sample than the Kalman filter method.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5835da531f100a36b7000854' id='5835da531f100a36b7000854'>
<a href='#5835da531f100a36b7000854'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58054ba9dc2c0c5c28000308'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b55300746fc985b4a0f9a293a4d7aa6a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58054ba9dc2c0c5c28000308'>Colin Gan</a>
</div>
<a UTCms='1479924313000' class='quanto-date posted-at response-posted-at' href='#5835da531f100a36b7000854'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you, Aidan.  </p>

<p>On a different note, does anyone know when the slides of all presentations at QuantCon Singapore will be emailed to the participants ? Thank you.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5837fa2d68ce2a0012000639' id='5837fa2d68ce2a0012000639'>
<a href='#5837fa2d68ce2a0012000639'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9283fb2eb000200015b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fd495584fba0d660ede58a26a676f2d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9283fb2eb000200015b'>Aidan O&#39;Mahony</a>
</div>
<a UTCms='1480063545000' class='quanto-date posted-at response-posted-at' href='#5837fa2d68ce2a0012000639'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Colin,</p>

<p>Not sure about this one, I already got an email with the slides. I suggest contacting Kelly at Quantopian as she organised the conference.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5838489b3b97cf0015000a28' id='5838489b3b97cf0015000a28'>
<a href='#5838489b3b97cf0015000a28'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1480083620000' class='quanto-date posted-at response-posted-at' href='#5838489b3b97cf0015000a28'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Aidan: This is a great notebook with a very clear example that demonstrates the value of this approach. Have you thought about using returns instead of prices? That would reduce a lot of the non-stationarity the Kalman filter is trying to capture.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='583880d9454adf2505000bfd' id='583880d9454adf2505000bfd'>
<a href='#583880d9454adf2505000bfd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1480098015000' class='quanto-date posted-at response-posted-at' href='#583880d9454adf2505000bfd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>On the flip side, I think prices are usually used for pair trading as the economic hypothesis is that the value of the two companies will converge to some stationary ratio. I&#39;m not as clear as how this would be reflected in the returns, as they would be one level removed from that hypothesis. Basically care would have to be taken to ensure that you were still testing the same hypothesis and not a subtly different one.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='58397bdca16dd90012000744' id='58397bdca16dd90012000744'>
<a href='#58397bdca16dd90012000744'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/582b7f1272c7d40013000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c82f0c55f3c13263f9a01900d67300a3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/582b7f1272c7d40013000027'>aby okhovat</a>
</div>
<a UTCms='1480162281000' class='quanto-date posted-at response-posted-at' href='#58397bdca16dd90012000744'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the article.  Great code as well.  Quick question/comment.  How does Kalman updating of alpha and beta differ from updating via the plain old  recursive OLS equations ?  Does not Kalman approach need a guesstimates of observation noise properties, etc.?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5841bde3670f350015000149' id='5841bde3670f350015000149'>
<a href='#5841bde3670f350015000149'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9283fb2eb000200015b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fd495584fba0d660ede58a26a676f2d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9283fb2eb000200015b'>Aidan O&#39;Mahony</a>
</div>
<a UTCms='1480703467000' class='quanto-date posted-at response-posted-at' href='#5841bde3670f350015000149'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Thomas: As Delaney pointed out the economic hypothesis is that a linear relationship between the prices or log prices is stationary and this is used to exploit the relative mispricing of the assets. However, I think it might be possible to do this with returns using arbitrage pricing theory.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5841bfeb670f350012000175' id='5841bfeb670f350012000175'>
<a href='#5841bfeb670f350012000175'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9283fb2eb000200015b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fd495584fba0d660ede58a26a676f2d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9283fb2eb000200015b'>Aidan O&#39;Mahony</a>
</div>
<a UTCms='1480703987000' class='quanto-date posted-at response-posted-at' href='#5841bfeb670f350012000175'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@aby: I&#39;ve never implemented a recursive OLS but if I remember right it&#39;s a very similar implementation to the Kalman filter. The Kalman filter requires the user to input the transition and observation variance / covariance matrices.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='586af7058bef0c001500034c' id='586af7058bef0c001500034c'>
<a href='#586af7058bef0c001500034c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/552bc2f4e1fc73d2220003cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ec94c6ecd68dcc3233cf80922917b88a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/552bc2f4e1fc73d2220003cd'>Irving  Lo</a>
</div>
<a UTCms='1483405067000' class='quanto-date posted-at response-posted-at' href='#586af7058bef0c001500034c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>to calculate spread beta, i got the error:</p>

<p>what&#39;s wrong and how to solve it?</p>

<p>KeyError                                  Traceback (most recent call last)<br>
 in ()<br>
----&gt; 1 spread_kf = data_all[secs[1]] - data_all[secs[0]] * beta_kf[&#39;beta&#39;] - beta_kf[&#39;alpha&#39;]</p>

<p>/usr/local/lib/python2.7/dist-packages/pandas/core/frame.pyc in <strong>getitem</strong>(self, key)
   1995             return self.<em>getitem_multilevel(key)<br>
   1996         else:<br>
-&gt; 1997             return self.</em>getitem_column(key)<br>
   1998<br>
   1999     def _getitem_column(self, key):</p>

<p>/usr/local/lib/python2.7/dist-packages/pandas/core/frame.pyc in <em>getitem_column(self, key)
   2002         # get column<br>
   2003         if self.columns.is_unique:<br>
-&gt; 2004             return self.</em>get_item_cache(key)<br>
   2005<br>
   2006         # duplicate columns &amp; possible reduce dimensionality</p>

<p>/usr/local/lib/python2.7/dist-packages/pandas/core/generic.pyc in <em>get_item_cache(self, item)
   1348         res = cache.get(item)<br>
   1349         if res is None:<br>
-&gt; 1350             values = self.</em>data.get(item)<br>
   1351             res = self._box_item_values(item, values)<br>
   1352             cache[item] = res</p>

<p>/usr/local/lib/python2.7/dist-packages/pandas/core/internals.pyc in get(self, item, fastpath)
   3288<br>
   3289             if not isnull(item):<br>
-&gt; 3290                 loc = self.items.get_loc(item)<br>
   3291             else:<br>
   3292                 indexer = np.arange(len(self.items))[isnull(self.items)]</p>

<p>/usr/local/lib/python2.7/dist-packages/pandas/indexes/base.pyc in get_loc(self, key, method, tolerance)
   1945                 return self.<em>engine.get_loc(key)<br>
   1946             except KeyError:<br>
-&gt; 1947                 return self.<em>engine.get_loc(self.</em>maybe</em>cast_indexer(key))<br>
   1948<br>
   1949         indexer = self.get_indexer([key], method=method, tolerance=tolerance)</p>

<p>pandas/index.pyx in pandas.index.IndexEngine.get_loc (pandas/index.c:4154)()</p>

<p>pandas/index.pyx in pandas.index.IndexEngine.get_loc (pandas/index.c:4018)()</p>

<p>pandas/hashtable.pyx in pandas.hashtable.PyObjectHashTable.get_item (pandas/hashtable.c:12368)()</p>

<p>pandas/hashtable.pyx in pandas.hashtable.PyObjectHashTable.get_item (pandas/hashtable.c:12322)()</p>

<p>KeyError: &#39;beta&#39;  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='586eda193124e5000dc3e34f' id='586eda193124e5000dc3e34f'>
<a href='#586eda193124e5000dc3e34f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9283fb2eb000200015b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fd495584fba0d660ede58a26a676f2d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9283fb2eb000200015b'>Aidan O&#39;Mahony</a>
</div>
<a UTCms='1483659801000' class='quanto-date posted-at response-posted-at' href='#586eda193124e5000dc3e34f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It seems the 
<code>beta</code> key is missing, try <em>Run</em> -&gt; <em>Run All</em> in the menu.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='586ee541f007ae000d750355' id='586ee541f007ae000d750355'>
<a href='#586ee541f007ae000d750355'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/552bc2f4e1fc73d2220003cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ec94c6ecd68dcc3233cf80922917b88a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/552bc2f4e1fc73d2220003cd'>Irving  Lo</a>
</div>
<a UTCms='1483662657000' class='quanto-date posted-at response-posted-at' href='#586ee541f007ae000d750355'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>hi Aidan thx for replying but I tried to Run All, still doesn&#39;t work  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='586ee9f33124e5000ac3e4ac' id='586ee9f33124e5000ac3e4ac'>
<a href='#586ee9f33124e5000ac3e4ac'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9283fb2eb000200015b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fd495584fba0d660ede58a26a676f2d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9283fb2eb000200015b'>Aidan O&#39;Mahony</a>
</div>
<a UTCms='1483663859000' class='quanto-date posted-at response-posted-at' href='#586ee9f33124e5000ac3e4ac'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I see the problem now, you are right the keys are incorrect. To fix it change 
<code>beta</code> to <code>Slope</code> and <code>alpha</code> to <code>Intercept</code>.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='586f455327dba91a7861960b' id='586f455327dba91a7861960b'>
<a href='#586f455327dba91a7861960b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/552bc2f4e1fc73d2220003cd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ec94c6ecd68dcc3233cf80922917b88a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/552bc2f4e1fc73d2220003cd'>Irving  Lo</a>
</div>
<a UTCms='1483687251000' class='quanto-date posted-at response-posted-at' href='#586f455327dba91a7861960b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Aidan, thanks for correction, got it!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='587e9dae9ea10879ef9ecb16' id='587e9dae9ea10879ef9ecb16'>
<a href='#587e9dae9ea10879ef9ecb16'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/583340ea732ecc70cc0003cc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/32705daeb665b5cb5718e37bb2649ace?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/583340ea732ecc70cc0003cc'>Ernesto Perez</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1484692910000' class='quanto-date posted-at response-posted-at' href='#587e9dae9ea10879ef9ecb16'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Applied Aidan&#39;s fix to the &quot;PEP - KO Spread with dynamic beta&quot; section.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='58acf01b77d73d2d33651a94' id='58acf01b77d73d2d33651a94'>
<a href='#58acf01b77d73d2d33651a94'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56c0d8659be4721d560006e5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18fc19523910bdb5a74f560110e08801?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56c0d8659be4721d560006e5'>Sunny L</a>
</div>
<a UTCms='1487728667000' class='quanto-date posted-at response-posted-at' href='#58acf01b77d73d2d33651a94'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is absolutely fabulous, thank you for sharing.<br>
I am wondering regarding cointegration test, is there any thing convenient that I can use to test cointegration for 2+ securities? I know in theory I can use the Johansen test but it doesn&#39;t look like that there is anything well developed for that.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ad12038e6937197779936e' id='58ad12038e6937197779936e'>
<a href='#58ad12038e6937197779936e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9283fb2eb000200015b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fd495584fba0d660ede58a26a676f2d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9283fb2eb000200015b'>Aidan O&#39;Mahony</a>
</div>
<a UTCms='1487737347000' class='quanto-date posted-at response-posted-at' href='#58ad12038e6937197779936e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The ADF test uses the spread time series as input so you can still use it for 2+ securities. An example would be to construct the spread for n securities using the residual of a linear regression and pass that spread to the ADF test.</p>

<p>The Johansen test is not currently available in a Python library as far as I know. However, there is an open issue to include it in statsmodels package here:<br>
<a href="https://github.com/statsmodels/statsmodels/pull/453">https://github.com/statsmodels/statsmodels/pull/453</a><br>
<a href="https://github.com/statsmodels/statsmodels/issues/448">https://github.com/statsmodels/statsmodels/issues/448</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ade8052943536916aba4cf' id='58ade8052943536916aba4cf'>
<a href='#58ade8052943536916aba4cf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1487792133000' class='quanto-date posted-at response-posted-at' href='#58ade8052943536916aba4cf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah in general finding a cointegrated set of securities just means finding a set for which a linear combination of the time series is stationary. I think of it as the time series mutually explain all non-stationarity in each other. We go into this in <a href="https://www.quantopian.com/lectures#Integration,-Cointegration,-and-Stationarity">this lecture</a>.</p>

<p>Finding the right linear combination may be more difficult, but testing a specific linear combination isn&#39;t too tricky.</p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='58ae45501ce42343006ea7a1' id='58ae45501ce42343006ea7a1'>
<a href='#58ae45501ce42343006ea7a1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/567ef960501cd8fb8900068a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/31ee64a36c1e2a230f7f7859934262ea?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/567ef960501cd8fb8900068a'>Randy Diaz</a>
</div>
<a UTCms='1487816016000' class='quanto-date posted-at response-posted-at' href='#58ae45501ce42343006ea7a1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Very cool, I never thought one could show correlation over time in such an elegant manner.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58d47996122ae62e9a960041' id='58d47996122ae62e9a960041'>
<a href='#58d47996122ae62e9a960041'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1490319766000' class='quanto-date posted-at response-posted-at' href='#58d47996122ae62e9a960041'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Aidan,</p>

<p>Thanks for your great posts on Kalman filter on Quantopian and your blog. I am trying to replace my multivariate regression with Kalman filter. Is there an equivalent multivariate Kalman filtering library available in Python? Could you please explain the difference between running several Kalman filters on each stock vs. a multivariate Kalman filter? Hope you find time to reply.</p>

<p>Best regards,<br>
Pravin  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58e080bbb02e935eca6c033a' id='58e080bbb02e935eca6c033a'>
<a href='#58e080bbb02e935eca6c033a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1491108027000' class='quanto-date posted-at response-posted-at' href='#58e080bbb02e935eca6c033a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I don&#39;t know if anyone noticed but the Kalman filter approach to regression sets the intercept and beta to same value in the first iteration after fitting. This seems to be an anomaly. Why are the two coefficients same?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ecc350ce871d768ffc2318' id='58ecc350ce871d768ffc2318'>
<a href='#58ecc350ce871d768ffc2318'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9283fb2eb000200015b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7fd495584fba0d660ede58a26a676f2d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9283fb2eb000200015b'>Aidan O&#39;Mahony</a>
</div>
<a UTCms='1491911504000' class='quanto-date posted-at response-posted-at' href='#58ecc350ce871d768ffc2318'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>Why are the two coefficients same?</p>
</blockquote>

<p>This is the initial state of the Kalman filter, which is set by 
<code>initial_state_mean</code> argument. You can set it to a different value but it shouldn&#39;t change the end result very much.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58f0c68f56dc3a6e58bed32b' id='58f0c68f56dc3a6e58bed32b'>
<a href='#58f0c68f56dc3a6e58bed32b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56971831c97feb89a1000615'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ea7dd67b1bea0b8ca77ddbb8c6a554b9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56971831c97feb89a1000615'>John Smith</a>
</div>
<a UTCms='1492174479000' class='quanto-date posted-at response-posted-at' href='#58f0c68f56dc3a6e58bed32b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Aidan, Thanks for the great article. I am looking at the trading aspect of this strategy i.e. when the strategy signals the buy or sell, how many shares of the two underlying stocks are bought or sold, how to calculate the P&amp;L for each trade?<br>
Since  the spread = Y - BX - Intercept, when a buy is signaled, does that mean that we are buying 1 share of Y and sell B shares of X? When a sell is signaled, does that mean Buy B shares of X and sell 1 share of Y?<br>
Also, is the P&amp;L of each trade = [BX(t+n) -  Y(t+n)] - [Y(t) - BX(t)], i.e Sell P&amp;L - Buy P&amp;L ?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='592f43642e48b900105cf1d7' id='592f43642e48b900105cf1d7'>
<a href='#592f43642e48b900105cf1d7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56971831c97feb89a1000615'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ea7dd67b1bea0b8ca77ddbb8c6a554b9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56971831c97feb89a1000615'>John Smith</a>
</div>
<a UTCms='1496269668000' class='quanto-date posted-at response-posted-at' href='#592f43642e48b900105cf1d7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>What&#39;s the best way to trade when the spread (Y-BX) is inversely proportional to (Y-X)? How do you recognize that they are both moving in opposite directions ? Here B is the dynamic beta we calculated using Kalman filter. I&#39;m opening the trade looking at Y-BX spread, but since Y-X is moving in opposite direction, all these trades are losing trades.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5c09bae7e4fdc72a3fea6cc8' id='5c09bae7e4fdc72a3fea6cc8'>
<a href='#5c09bae7e4fdc72a3fea6cc8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a83de7ed1d7da23465624fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/352a4175d93e84f37394b23c1ca3bf47?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a83de7ed1d7da23465624fc'>Gak Quant</a>
</div>
<a UTCms='1544141543000' class='quanto-date posted-at response-posted-at' href='#5c09bae7e4fdc72a3fea6cc8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Aidan,</p>

<p>I ran this pair through Kalman filter and it is giving some not very good slope estimates.<br>
have I done something wrong?</p>

<p>is it because we are using only 1 Y observation, maybe we should use 5 consecutive Y&#39;s as observation</p>

<p>thanks<br>
Gizat  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5c09eab447e8cc2e28fe083e' id='5c09eab447e8cc2e28fe083e'>
<a href='#5c09eab447e8cc2e28fe083e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a83de7ed1d7da23465624fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/352a4175d93e84f37394b23c1ca3bf47?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a83de7ed1d7da23465624fc'>Gak Quant</a>
</div>
<a UTCms='1544153780000' class='quanto-date posted-at response-posted-at' href='#5c09eab447e8cc2e28fe083e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>meanwhile will experiment with exponentially weighted least squares regression to estimate slope &amp; intercept  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/quantcon-2016-using-the-kalman-filter-in-algorithmic-trading'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/quantcon-2016-using-the-kalman-filter-in-algorithmic-trading'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#791f1c1c1d1b181a1239080c18170d1609101817571a1614">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
