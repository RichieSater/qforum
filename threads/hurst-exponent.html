<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Hurst Exponent
</title>
<meta content='Originally taken from  this thread , the Hurst Exponent tells you whether a series is  Geometric random walk (H=0.5) Mean-reverting series (H&lt;0.5) Trending Series (H&gt;0.5) If H decreases towards zero, the price series may be more mean reverting and if it increases more towards one, the price series may be more trending. As for testing whether H really = 0.5, there&#39;s something called the variance-ratio test ( more to update later ).  Much of the credit goes to Tom Starke as the mathematics...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="4DzukmGC5goj9SdG8d7wlICdDPbiO99yI0Bnc0mc5kCcWpjfw3Q06Zrofne+MVjguBMvn5j3ymmhT7wZ49mE+w==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/hurst-exponent' property='og:url'>
<meta content='Hurst Exponent' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/hurst-exponent' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Hurst Exponent' property='og:title'>
<meta content='Originally taken from  this thread , the Hurst Exponent tells you whether a series is  Geometric random walk (H=0.5) Mean-reverting series (H&lt;0.5) Trending Series (H&gt;0.5) If H decreases towards zero, the price series may be more mean reverting and if it increases more towards one, the price series may be more trending. As for testing whether H really = 0.5, there&#39;s something called the variance-ratio test ( more to update later ).  Much of the credit goes to Tom Starke as the mathematics...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/hurst-exponent">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5237683bc59eae20040001b3'>
<div class='post-container' data-post-id='5237683bc59eae20040001b3' id='5237683bc59eae20040001b3'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Hurst Exponent</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1379362875000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Hurst Exponent&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fhurst-exponent%3Futm_source%3Dwebsite_share%26utm_campaign%3Dhurst-exponent%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fhurst-exponent%3Futm_source%3Dwebsite_share%26utm_campaign%3Dhurst-exponent%26utm_medium%3Dlinkedin&amp;title=Hurst+Exponent+%28Seong+Lee%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Stat Arb' data-tag-id='55d33f863f6ba10065000003' href='/posts/tag/Stat-Arb/newest'>Stat Arb</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/hurst-exponent?utm_source=website_share&amp;utm_campaign=hurst-exponent&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Seong Lee" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Originally taken from <a href="https://quantopian.com/posts/some-code-from-ernie-chans-new-book-implemented-in-python">this thread</a>, the Hurst Exponent tells you whether a series is </p>

<ol>
<li>Geometric random walk (H=0.5)<br></li>
<li>Mean-reverting series (H&lt;0.5)<br></li>
<li>Trending Series (H&gt;0.5)</li>
</ol>

<p>If H decreases towards zero, the price series may be more mean reverting and if it increases more towards one, the price series may be more trending. As for testing whether H really = 0.5, there&#39;s something called the variance-ratio test ( more to update later ). </p>

<p>Much of the credit goes to Tom Starke as the mathematics behind the code is beyond my reach</p>

<p>Enjoy!</p>

<p>-Seong</p>
</div>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>52 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='5238d81f630afddb9d00000f' id='5238d81f630afddb9d00000f'>
<a href='#5238d81f630afddb9d00000f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/519046b59b512cba8d00006d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/39b7cc2f0af63a95534ddeffc417b427?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/519046b59b512cba8d00006d'>Tom Starke</a>
</div>
<a UTCms='1379457056000' class='quanto-date posted-at response-posted-at' href='#5238d81f630afddb9d00000f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Seong,</p>

<p>I am not a specialist in statistical models but I found that, while the Hurst has some relevance in determining the nature of self-correlation in a time series (i.e. trend: future return are positively correlated with past returns) it is by itself not very reliable. I build this little neural network tool which uses the Hurst and Sharpe ratio to identify the different domains more effectively (<a href="https://www.leinenbock.com/training-a-simple-neural-network-to-recognise-different-regimes-in-financial-time-series/">https://www.leinenbock.com/training-a-simple-neural-network-to-recognise-different-regimes-in-financial-time-series/</a>). I had much better results with it than with the Hurst alone. The tricky bit is the training of the network. In my example I produce randomly generated time series for which I know whether they are mean reverting, trending or random. Initially, I train with very &#39;obvious&#39; data sets and then move to more subtle ones. It does a good job in picking them up and I found it a good one to use especially for micro-trends.<br>
My choice of Hurst and Sharpe for this job is because Hurst seems better with mean reversion than trends while Sharpe obviously does trends well. Since putting this on my site I&#39;ve much improved this by using a third indicator but this is not ready yet.<br>
Play around with it some time. It&#39;s good fun actually.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='524343f4a9102890df0001d7' id='524343f4a9102890df0001d7'>
<a href='#524343f4a9102890df0001d7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1380140021000' class='quanto-date posted-at response-posted-at' href='#524343f4a9102890df0001d7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Tom, </p>

<p>Thanks for you reply, I&#39;ve been playing around with the neural network and am wondering why after a certain point, the output begins to remain at [-1]</p>

<pre><code>8379 0 [-1.] TRUE 1.6839304718 90 %  
8380 1 [-1.] FALSE 1.68333333333 90 %  
8381 1 [-1.] FALSE 1.68273661822 90 %  
8382 1 [-1.] FALSE 1.68214032601 90 %  
8383 1 [-1.] FALSE 1.68154445625 90 %  
8384 0 [-1.] TRUE 1.68189868934 90 %  
</code></pre>

<p>It seems to happen with both the Quantopian version as well as one that I&#39;ve compiled for Python on my desktop</p>

<pre><code>2002-12-24handle_data:179DEBUG[-1.]  
2002-12-24handle_data:179DEBUG[-1.]  
2002-12-24handle_data:179DEBUG[-1.]  
2002-12-24handle_data:179DEBUG[-1.]  
2002-12-24handle_data:179DEBUG[-1.]  
</code></pre>

<p>Very interesting topic though am having a lot of fun with it  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='52434ee9695744b7e00001e3' id='52434ee9695744b7e00001e3'>
<a href='#52434ee9695744b7e00001e3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/519046b59b512cba8d00006d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/39b7cc2f0af63a95534ddeffc417b427?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/519046b59b512cba8d00006d'>Tom Starke</a>
</div>
<a UTCms='1380142826000' class='quanto-date posted-at response-posted-at' href='#52434ee9695744b7e00001e3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I did see that too and I&#39;m not quite sure why that is. Will have to look into that. It is probably something quite trivial related to how those simple NN&#39;s are implemented. Proper understanding of NN&#39;s is an art in itself. That&#39;s the reason why I&#39;m cautious in using them and only apply them to relatively simple things (so far). What I did in some of my programs was to introduce a termination condition, for example, if 90% of the last N events are recognised correctly: stop learning and refine the training conditions.<br>
Even though those NN&#39;s are relatively simple in their essential functionality, the routines that you have to build around them to make them work for particular problems can be quite complex. My philosophy is to keep the basic algos as simple as possible and so I&#39;m not sure it&#39;s always worth the effort. It&#39;s so easy to introduce unmanageable complexity when you write new algorithms for optimisation. Even though there are a number of very fancy toolboxes in Python I like to use basic code, which I can see, change and understand rather than relying on black-box magic. As you can see, even that simple code above shows some properties, which aren&#39;t immediately obvious if you are not in the field.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5249b9766eb0c2a92a00010c' id='5249b9766eb0c2a92a00010c'>
<a href='#5249b9766eb0c2a92a00010c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1380563319000' class='quanto-date posted-at response-posted-at' href='#5249b9766eb0c2a92a00010c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the reply Tom,</p>

<p>I went ahead and tried using the neural network in an actual algorithm albeit very simply done. You can find it here : <a href="https://quantopian.com/posts/neural-network-that-tests-for-mean-reversion-or-momentum-trending">https://quantopian.com/posts/neural-network-that-tests-for-mean-reversion-or-momentum-trending</a>  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='52af4958719a058d980001a9' id='52af4958719a058d980001a9'>
<a href='#52af4958719a058d980001a9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/528e614069615edbfd00001b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6c5689a28b8d09a90e90e81168ad0f68?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/528e614069615edbfd00001b'>Josh Edwards</a>
</div>
<a UTCms='1387219294000' class='quanto-date posted-at response-posted-at' href='#52af4958719a058d980001a9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am new to the Hurst exponent and algorithmic trading in general.  While the mathematics are above me, I am intrigued by the idea behind the Hurst exponent.  Would there be a way to use the Hurst exponent identifying a trending market, and then combine it with a simple EMA or SMA crossover trading system? As noted here, it seems that the Hurst exponent in and of itself is not enough for a trading system.  Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='52afce820c3743e2c300005a' id='52afce820c3743e2c300005a'>
<a href='#52afce820c3743e2c300005a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51cbb24ab03fe0bc5500000e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/12b8399e99c8eab21b6bf2ac1d1da84a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51cbb24ab03fe0bc5500000e'>Seong Lee</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1387253380000' class='quanto-date posted-at response-posted-at' href='#52afce820c3743e2c300005a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Josh, </p>

<p>I think that&#39;s a very plausible idea, and as Tom mentioned, it&#39;d be wise to pair it with something else (in the neural network&#39;s case he used the Sharpe ratio). </p>

<p>Are you thinking something like </p>

<pre><code>if hurst(context, data, context.stock) &gt; 0.5 and price &gt; moving_average:  
    order(context.stock, order_amount)  
</code></pre>

<p>Where if the hurst exponent is greater than 0.5 (which would indicate a momentum trending time series) and the price is greater than the X day moving average (e.g. 30 day moving average) go long on the stock  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='54e2cd264644e4c14d0001cb' id='54e2cd264644e4c14d0001cb'>
<a href='#54e2cd264644e4c14d0001cb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e2cc2bfd2f430fa60001a1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/999f654c995b68a5ce554108cff5a0de?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e2cc2bfd2f430fa60001a1'>Jamal Munshi</a>
</div>
<a UTCms='1424149800000' class='quanto-date posted-at response-posted-at' href='#54e2cd264644e4c14d0001cb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>My feeling is that most of the findings of values of H in stock returns that differ from H=0.5 can be tracked down to methodology problems. Here is my article on this subject. I would be very grateful for your comments. <a href="http://papers.ssrn.com/sol3/papers.cfm?abstract_id=2564916">http://papers.ssrn.com/sol3/papers.cfm?abstract_id=2564916</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54e2dbf454d4bd3e3b000223' id='54e2dbf454d4bd3e3b000223'>
<a href='#54e2dbf454d4bd3e3b000223'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1424153590000' class='quanto-date posted-at response-posted-at' href='#54e2dbf454d4bd3e3b000223'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, I&#39;ll take a look tomorrow!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55ffa5eba2de1a97050003c5' id='55ffa5eba2de1a97050003c5'>
<a href='#55ffa5eba2de1a97050003c5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1442817518000' class='quanto-date posted-at response-posted-at' href='#55ffa5eba2de1a97050003c5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>What ever happened to Dr. Tom Starke&#39;s blog?  Leinenbock is gone, and drtomstarke.com has a password...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='560f037f7f6a0e0b97000040' id='560f037f7f6a0e0b97000040'>
<a href='#560f037f7f6a0e0b97000040'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5517183ed62587ea620001ec'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/cbc058ff27228e6c9a18a1127f6f15f9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5517183ed62587ea620001ec'>Mike Carlisle</a>
</div>
<a UTCms='1443824514000' class='quanto-date posted-at response-posted-at' href='#560f037f7f6a0e0b97000040'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is an interesting concept...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='569e5a70a5c6bc5490000057' id='569e5a70a5c6bc5490000057'>
<a href='#569e5a70a5c6bc5490000057'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56960872c5acf77cba00000d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ac28e7702c42d121bd185c2d2b86c310?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56960872c5acf77cba00000d'>Zoe Miao</a>
</div>
<a UTCms='1453218422000' class='quanto-date posted-at response-posted-at' href='#569e5a70a5c6bc5490000057'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, Peters mentioned in the book that using log return instead of the plain price change is more appropriate. Could you modify the codes?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58766c3cdaac1c1b476bc8e8' id='58766c3cdaac1c1b476bc8e8'>
<a href='#58766c3cdaac1c1b476bc8e8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52670e6a2763c5cfb70002c7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/da33ec858011a8fad211c7e0ae68160c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52670e6a2763c5cfb70002c7'>Alan Coppola</a>
</div>
<a UTCms='1484155964000' class='quanto-date posted-at response-posted-at' href='#58766c3cdaac1c1b476bc8e8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Derek,<br>
Nice! Thanks for sticking with this!<br>
Given that you can now compute this for large numbers of assets over periods of time,<br>
do you have any guidance on what the hurst exponent characteristics for an asset looks like over a period of time?<br>
Also, with this increased computing power, any new ways to use this  exponent with co-integrated pairs/baskets of stocks?<br>
alan  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5876c67af43a9d058979de1f' id='5876c67af43a9d058979de1f'>
<a href='#5876c67af43a9d058979de1f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52670e6a2763c5cfb70002c7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/da33ec858011a8fad211c7e0ae68160c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52670e6a2763c5cfb70002c7'>Alan Coppola</a>
</div>
<a UTCms='1484179066000' class='quanto-date posted-at response-posted-at' href='#5876c67af43a9d058979de1f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Derek,<br>
Thanks so much for the notebook and algo!<br>
Lots to chew over here, so let me get back to you with some questions and comments.<br>
alan  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598afb8536a6270010b7d1da' id='598afb8536a6270010b7d1da'>
<a href='#598afb8536a6270010b7d1da'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58942c2f8b2f09282a4f51b3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b0898ec264cd2750907f1f5ed20bd2d3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58942c2f8b2f09282a4f51b3'>Wei Chian Ong</a>
</div>
<a UTCms='1502280581000' class='quanto-date posted-at response-posted-at' href='#598afb8536a6270010b7d1da'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Apologies if this is the wrong forum to ask a question such as this.<br>
I was wondering if someone could help me understand where the sqrt and std come from in the following line of code?<br>
tau = [np.sqrt(np.std(np.subtract(ts[lag:], ts[:-lag]))) for lag in lags]</p>

<p>I believe it comes from the following principles, but I just can&#39;t reconcile how the formulae (copied below) lead to being able to use the code given, with the std and sqrt. I am also struggling to reconcile what the &lt;|  ..... |&gt; symbols mean as well, am I right in thinking that the | | means absolute value or norm of a vector and as stated &lt; ... &gt; means as average of all the data points?</p>

<p>I have seen this question pop up in 2 different forums, so I&#39;m not the only person that is lost, but I&#39;ve never seen it answered.</p>

<p>Thanks in advance and apologies if this question is not clear, I&#39;m happy to provide further clarification, just let me know.</p>

<p><strong>Formulae</strong><br>
Var(τ) = 〈|z(t + τ) − z(t)|^2〉</p>

<p>where</p>

<pre><code>z = log(price)  
τ is an arbitrary time lag  
〈…〉 is an average over all t’s
</code></pre>

<p>For a geometric random walk:</p>

<p>〈|z(t + τ) − z(t)|^2〉 ∼ τ</p>

<p>But if the series is either mean reverting or trending, this relationship will  not hold, and instead we get</p>

<p>〈|z(t + τ) − z(t)|^2〉 ∼ τ^2H</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598b09b92b2019000eb0a66c' id='598b09b92b2019000eb0a66c'>
<a href='#598b09b92b2019000eb0a66c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1502284217000' class='quanto-date posted-at response-posted-at' href='#598b09b92b2019000eb0a66c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I remember wondering how hurst was calculated once, and I remember figuring it out.  The trick was that it was a slope of a linear regression of a variety of point estimates in log space, or something like that.  The confusion comes from there being two sources of time: there&#39;s the lag between time points, and there&#39;s the number of points of each lag that you use to estimate the value of that lag.  IIRC.  Sorry I can&#39;t be of more help.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598b1ae8c820b0000da615e7' id='598b1ae8c820b0000da615e7'>
<a href='#598b1ae8c820b0000da615e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58942c2f8b2f09282a4f51b3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b0898ec264cd2750907f1f5ed20bd2d3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58942c2f8b2f09282a4f51b3'>Wei Chian Ong</a>
</div>
<a UTCms='1502288616000' class='quanto-date posted-at response-posted-at' href='#598b1ae8c820b0000da615e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the reply. I&#39;ve actually managed to go back to the source which I believe is Dr Ernie Chan&#39;s blog and using the principles he outlines there, put together my own code. It appears that if I use variance instead of standard deviation, get rid of the sqrt (which I couldn&#39;t understand the purpose of in the first place), and use a 2.0 divisor instead of a 2.0 multiplier (because of the 2H), it actually gives the same answer, which is one that I can understand from first principles. </p>

<p>Dr Chan doesn&#39;t give any code on this page (I believe he works in MATLAB not Python anyway). Hence I needed to put together my own code from the notes he gives in his blog and answers he gives to questions posed on his blog.</p>

<ol>
<li><p>Dr Chan states that if z is the log price, then volatility, sampled at intervals of τ, is volatility(τ)=√(Var(z(t)-z(t-τ))). To me another way of describing volatility is standard deviation, so std(τ)=√(Var(z(t)-z(t-τ)))</p></li>
<li><p>std is just the root of variance so var(τ)=(Var(z(t)-z(t-τ)))</p></li>
<li><p>Dr Chan then states:  In general, we can write Var(τ)  ∝ τ^(2H) where H is the Hurst exponent</p></li>
<li><p>Hence (Var(z(t)-z(t-τ)))  ∝ τ^(2H)</p></li>
<li><p>Taking the log of each side we get log (Var(z(t)-z(t-τ)))  ∝  2H log τ</p></li>
<li><p>[ log (Var(z(t)-z(t-τ))) / log τ ] / 2 ∝  H (gives the Hurst exponent) where we know the term in square brackets on far left is the slope of a log-log plot of tau and a corresponding set of variances.</p></li>
</ol>

<pre><code># Let&#39;s try it the Ernie Chan way  
# http://epchan.blogspot.fr/2016/04/mean-reversion-momentum-and-volatility.html

def hurst_ernie_chan(p):

    variancetau = []; tau = []

    for lag in lags:  
        #  Write the different lags into a vector to compute a set of tau or lags  
        tau.append(lag)

        # Compute the log returns on all days, then compute the variance on the difference in log returns  
        # call this pp or the price difference  
        pp = subtract(p[lag:], p[:-lag])  
        variancetau.append(var(pp))

    # we now have a set of tau or lags and a corresponding set of variances.  
    #print tau  
    #print variancetau

    # plot the log of those variance against the log of tau and get the slope  
    m = polyfit(log10(tau),log10(variancetau),1)

    hurst = m[0] / 2

    return hurst  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598b97a3735f2a2e97519e8f' id='598b97a3735f2a2e97519e8f'>
<a href='#598b97a3735f2a2e97519e8f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57cad30d71b74efdf200045e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/664acf28d988c8616443ddf210c58685?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57cad30d71b74efdf200045e'>Andrew Bannerman</a>
</div>
<a UTCms='1502320547000' class='quanto-date posted-at response-posted-at' href='#598b97a3735f2a2e97519e8f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Good stuff. I was actually trying to re-create this using R. I posted a few comments on ernie chans blog.<br>
For the different lags. What is your procedure here. Can you break it down for me in a short example, perhaps if you do not  want to pollute the community here maybe you can drop me an email? (sent you a msg!)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598bbda7053e290010d3508b' id='598bbda7053e290010d3508b'>
<a href='#598bbda7053e290010d3508b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/519046b59b512cba8d00006d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/39b7cc2f0af63a95534ddeffc417b427?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/519046b59b512cba8d00006d'>Tom Starke</a>
</div>
<a UTCms='1502330279000' class='quanto-date posted-at response-posted-at' href='#598bbda7053e290010d3508b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, I just saw the post on the Hurst. Sorry, my blog has disappeared because my employer wasn&#39;t happy with it. Just a quick note: when you use it, please pay careful attentions to the lag values. I ran a wide range of lags over the SPY for example and found (unsurprisingly) that for shorter lags the data are strongly mean reverting while for longer lags they are trending. So, all of this is really a matter of perspective. Please keep that in mind when you use this tool.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598c2357735f2a2e9751a8cf' id='598c2357735f2a2e9751a8cf'>
<a href='#598c2357735f2a2e9751a8cf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58942c2f8b2f09282a4f51b3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b0898ec264cd2750907f1f5ed20bd2d3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58942c2f8b2f09282a4f51b3'>Wei Chian Ong</a>
</div>
<a UTCms='1502356311000' class='quanto-date posted-at response-posted-at' href='#598c2357735f2a2e9751a8cf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andrew Bannerman, I saw your posts on Ernie Chan&#39;s blog and it was actually his answers to your questions that helped me put my code together. I&#39;m not sure I&#39;m the right person to help you as I have no idea about R, and I&#39;m far from an expert on the Hurst exponent as until 3 days ago I didn&#39;t even know what it was. I&#39;ve pieced together what I know from various blogs I&#39;ve found online. But the last 3 days of fighting with this Hurst exponent have shown me that misguided and uneducated help (what I can probably offer) is probably better than no help at all, so I&#39;m willing to give it a crack. I&#39;m going to email you an iPython notebook, where I&#39;ve broken down my reasoning step by step, which will probably be a lot clearer than what I&#39;ve written here. All the reasoning comes from what Dr Chan has written on his blog, plus the clarifications he wrote to your posts. Hence, I&#39;m not going to be able to explain anything that Dr Chan hasn&#39;t already explained to you, but perhaps I can explain it in a different way. And maybe that is all you need.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598c25a08402f50010e19dcb' id='598c25a08402f50010e19dcb'>
<a href='#598c25a08402f50010e19dcb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58942c2f8b2f09282a4f51b3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b0898ec264cd2750907f1f5ed20bd2d3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58942c2f8b2f09282a4f51b3'>Wei Chian Ong</a>
</div>
<a UTCms='1502356896000' class='quanto-date posted-at response-posted-at' href='#598c25a08402f50010e19dcb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tom Starke, thanks for the time to reply and the warning. I&#39;m aware of the implications with the different lag periods and it&#39;s one of the things that interests me about the Hurst, as your description would tend to indicate why short term MR systems can be profitable and long term TF systems can also be profitable on the SPY. Thanks for the warning, and all the work you did originally on the Hurst exponent.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598c49e7670fae0010a6cb16' id='598c49e7670fae0010a6cb16'>
<a href='#598c49e7670fae0010a6cb16'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1502366183000' class='quanto-date posted-at response-posted-at' href='#598c49e7670fae0010a6cb16'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Too bad about the blog Tom, it was a good one!  Practical and realistic.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598ca40cfecb6011641ac8b4' id='598ca40cfecb6011641ac8b4'>
<a href='#598ca40cfecb6011641ac8b4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57cad30d71b74efdf200045e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/664acf28d988c8616443ddf210c58685?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57cad30d71b74efdf200045e'>Andrew Bannerman</a>
</div>
<a UTCms='1502389260000' class='quanto-date posted-at response-posted-at' href='#598ca40cfecb6011641ac8b4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In an effort to understand how the hurst exponent is calculated. Can anyone help me explain in the code, when setting the lag range, lets say : for lag in range(2,20). When we input the SPY price into this, how does the lags 2,20 form... does it do a subtraction of today&#39;s SPY close - 2 days SPY close... and again today&#39;s SPY close - 20 day previous SPY close. It steps back -1 day through the entire data set? It means for every day... there is a new 2-20 leg subtraction? Is this thinking correct?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598cd0a829536d0010d929a5' id='598cd0a829536d0010d929a5'>
<a href='#598cd0a829536d0010d929a5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/519046b59b512cba8d00006d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/39b7cc2f0af63a95534ddeffc417b427?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/519046b59b512cba8d00006d'>Tom Starke</a>
</div>
<a UTCms='1502400680000' class='quanto-date posted-at response-posted-at' href='#598cd0a829536d0010d929a5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Simon, I just changed my working arrangements, so there is a good chance that the blog will start again but it&#39;s probably more focussed on machine learning for financial applications.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='598d3ae690344f0010f47eca' id='598d3ae690344f0010f47eca'>
<a href='#598d3ae690344f0010f47eca'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58942c2f8b2f09282a4f51b3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b0898ec264cd2750907f1f5ed20bd2d3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58942c2f8b2f09282a4f51b3'>Wei Chian Ong</a>
</div>
<a UTCms='1502427878000' class='quanto-date posted-at response-posted-at' href='#598d3ae690344f0010f47eca'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The SPY data is input as an array (vector).  We then iterate through each lag, so yes starting with 2. It creates another array that is the SPY minus the SPY 2 days ago. It takes the standard deviation of that array, then calculates the square root to give you a scalar number. Then it does that for 3 days ago. Then 4 days ago. All the way to 20 days behind. Now you have 19 different scalar numbers in an array called tau. You also have an array from earlier called lags which is just [2,3,4, ....., 19, 20]. You plot the log-log plot of both, find the slope of the line from the polyfit function and then multiply it by 2.0 to get the Hurst exponent. Note that is using the code higher above from Derek Tishler, the code I provided uses var instead of std, doesn&#39;t use sqrt and divides by 2.0 instea dof multiplying by 2.0, but the theory and answer is the same.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59a99f39b4da6773915cdbd8' id='59a99f39b4da6773915cdbd8'>
<a href='#59a99f39b4da6773915cdbd8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59264b435543b400108351f4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/cb94c5c402ca1a44ccbd74f48c43d8aa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59264b435543b400108351f4'>Kostis Chlouverakis</a>
</div>
<a UTCms='1504288569000' class='quanto-date posted-at response-posted-at' href='#59a99f39b4da6773915cdbd8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How would this look like for the SP500 Universe?</p>

<p>if hurst(context, data, context.stock) &gt; 0.5 and price &gt; moving_average:<br>
    order(context.stock, order_amount)  </p>

<p>Thank you!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59da8d3d384c92000d4f2f38' id='59da8d3d384c92000d4f2f38'>
<a href='#59da8d3d384c92000d4f2f38'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1507495229000' class='quanto-date posted-at response-posted-at' href='#59da8d3d384c92000d4f2f38'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hurst Exponent &amp; Practical Trading Considerations: Estimation of the classical Hurst exponent (H) requires a long look-back period, in fact considerably longer than that of most of the &quot;technical analysis indicators&quot; commonly used by traders. The reason for the long look-back requirement for H is that Hurst&#39;s calculation methodology involves finding the best fit line on a set of data points from windows of length 256, 128, 64, 32, 16, 8. This then gives six data points for fitting to obtain the resultant value of H. However, in the case of financial markets, the 256-bar data-point (which is from a year ago using EOD data), and even the 128-bar (6 month ago EOD) data points may or may not be at all representative of current market conditions, so probably only 4 out of the 6 data points are likely to be genuinely representative of what the market is actually doing recently. Trying to include the next data point down  (based on 4 bars) in calculating H generally just increases the noise in the calculated output value. So estimation of H in a trading environment suffers from two main problems: 1) It is noisy, as it involves calculating the slope of a line based on only a small number of points, some of which are of questionable reliability anyway, and 2) It requires a long data window to obtain those points. As anyone with practical trading experience knows, good &quot;indicators&quot; have short windows and small lags. The Hurst exponent, at least if calculated based on Hurst&#39;s original methodology,  just doesn&#39;t fit that bill very well at all. So H, although conceptually an interesting tool for investigating long-memory processes and evaluating market regime (random  / mean reverting / trending) was never designed for financial markets and doesn&#39;t really work very well in practice. HOWEVER, if we can find some proxy for H which does not require the long window and incur the inherent lag that Hurst&#39;s calculation does, then we have something really useful! Based on my work in the past, I would suggest to anyone looking to use the Hurst exponent that instead they try to find something that approximates H in the specific context of financial market data behavior, but requires  a shorter data window and has a smaller lag, and then use that as a proxy in preference to H itself.  Best wishes.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59db7c9b3772997a7297b3aa' id='59db7c9b3772997a7297b3aa'>
<a href='#59db7c9b3772997a7297b3aa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5942d833636fc6000dbcc341'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a9745abb34e2e240f9f96c59494e3cc1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5942d833636fc6000dbcc341'>onur ka</a>
</div>
<a UTCms='1507556507000' class='quanto-date posted-at response-posted-at' href='#59db7c9b3772997a7297b3aa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>it is possible to estimate Local Hurst Exponents H(t)  But it is an indicator about past returns, whether they are in trend or not (in persistent or anti-persistent behavior )<br>
check<br>
Ihlen, E.A.E. (2012). Introduction to Multifractal Detrended Fluctutation Analysis in Matlab. Frontiers In Phsysiology, 3(141). doi:10.3389/fphys.2012.00141  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59db984f116ec6281004dbfa' id='59db984f116ec6281004dbfa'>
<a href='#59db984f116ec6281004dbfa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1507563599000' class='quanto-date posted-at response-posted-at' href='#59db984f116ec6281004dbfa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you for your comment. In fact there are quite a few papers dealing with multi-fractal analysis, not only for  financial markets, for example see:<br>
<a href="https://www.aut.ac.nz/__data/assets/pdf_file/0003/322950/Economics-WP-2012-08.pdf">https://www.aut.ac.nz/__data/assets/pdf_file/0003/322950/Economics-WP-2012-08.pdf</a>, or<br>
<a href="http://people.physics.anu.edu.au/%7Etas110/Teaching/Lectures/L14/Material/PhysA_Scaling03.pdf">http://people.physics.anu.edu.au/~tas110/Teaching/Lectures/L14/Material/PhysA_Scaling03.pdf</a></p>

<p>but also for other areas of knowledge where time series are involved, for example:<br>
<a href="https://arxiv.org/abs/1208.6174">https://arxiv.org/abs/1208.6174</a> and <a href="https://arxiv.org/pdf/1208.6174.pdf">https://arxiv.org/pdf/1208.6174.pdf</a> for language processing,<br>
in addition to the example you cite from the field of physiology.</p>

<p>Your implied suggestion to look for ideas outside the field of finance is a good one, and in fact inter-disciplinary searches (particularly in the areas of quantitative medical research &amp; biophysics) often turn up some great ideas with potential applicability to trading!</p>

<p>Your comment that H is an indicator of PAST returns is of course true, but  in fact most conventional technical indicators are inherently lagging in nature. The trick is usually to find ones that minimize the lag. Various people such as John F. Ehlers (see Amazon for his books) have endeavored to do this by applying DSP methods borrowed from Electrical Engineering theory and applying them to financial market data. Understanding the inherent differences between typical engineering type &quot;signals&quot; and financial market data explains why this is only partially successful, but nevertheless the idea of lag minimization is definitely a useful one.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a4d3d10963d9c0012988c91' id='5a4d3d10963d9c0012988c91'>
<a href='#5a4d3d10963d9c0012988c91'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a454e2e02ae4e0012896c30'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f358fb6d9a97cfeee78225c4f59c9d2f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a454e2e02ae4e0012896c30'>Tommy Stocks</a>
</div>
<a UTCms='1515011344000' class='quanto-date posted-at response-posted-at' href='#5a4d3d10963d9c0012988c91'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>When cloning this algorithm it pulls up an error:<br>
Line 15 Error   Runtime exception: NameError: name &#39;batch_transform&#39; is not defined batch_transform is no longer supported. Please use history instead.<br>
What would be the correct to fix this issue?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a4e83e2f644cd2160c028a3' id='5a4e83e2f644cd2160c028a3'>
<a href='#5a4e83e2f644cd2160c028a3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52670e6a2763c5cfb70002c7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/da33ec858011a8fad211c7e0ae68160c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52670e6a2763c5cfb70002c7'>Alan Coppola</a>
</div>
<a UTCms='1515095010000' class='quanto-date posted-at response-posted-at' href='#5a4e83e2f644cd2160c028a3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tommy,<br>
Needed to use new data.history methods and get rid of a funtion not needed anymore.<br>
 (See <a href="https://www.quantopian.com/tutorials/getting-started#lesson5">https://www.quantopian.com/tutorials/getting-started#lesson5</a> )<br>
I&#39;ve included a running backtest, with the Hurst coeff also recorded on the Overview plot screen.<br>
alan  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a4fba3d48d33c5b7316abb6' id='5a4fba3d48d33c5b7316abb6'>
<a href='#5a4fba3d48d33c5b7316abb6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59c023063d5f81000f2c6689'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ffaec44a1995e8e86e968502d749c864?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59c023063d5f81000f2c6689'>Frank Sch</a>
</div>
<a UTCms='1515174461000' class='quanto-date posted-at response-posted-at' href='#5a4fba3d48d33c5b7316abb6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>As the Hurst Exponent is somehow an appealing concept, I made some tests on the number of lags and the number of lock back periods based on the code of Tom Starke:</p>

<ul>
<li>Geometric Brown Motion seems to be a good indicator as it should be always around 0.5<br></li>
<li>With lags above 22, better above 25, the H value seems to stabilize towards a certain value<br></li>
<li>If the look back period is too small, the H value tends to decrease much below 0.5, leading to wrong conclusions<br></li>
<li>This is also in line with visual comparison of synthetic reverting and trending datasets with real stocks</li>
</ul>

<p>So the values I am now working with are the following. I hope it is not too far away from the theory.  </p>

<pre><code>gather_prices(context, data, sid, 128) # in line with the comments of Tony Morland  
for lag in range(2,30):  
</code></pre>

<p>On daily data, this is a time window of 6 months, so probably more helpful as an input for a market regime indicator. Good for Mr. Hurst that he could use some <a href="http://blog.revolutionanalytics.com/2014/09/intro-to-long-memory-herodotus-hurst-and-h.html">847 year record</a> of Nile overflow data as he came up with the idea...</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a52410e83cb58001b54b085' id='5a52410e83cb58001b54b085'>
<a href='#5a52410e83cb58001b54b085'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1515340046000' class='quanto-date posted-at response-posted-at' href='#5a52410e83cb58001b54b085'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @Alan, thanks for your algo code. </p>

<p>I had wondered if you might be working with the Hurst exponent, and i would be most interested to know if you are having practical success with it.</p>

<p>For me personally, the question: &quot;What is the current market regime?&quot; is actually THE BIGGEST single question in trading because, if you get it right, then you have solved the problem of all those trades that would be in the wrong direction at the worst possible time.  I keep coming back to the Hurst exponent because it SEEMS like it should be  capable of providing a good answer, but in practice it keeps disappointing me. The large number of bars that are required if one uses the classical calculation of Hurst&#39;s original work is not practical for most trading purposes. Methods that use a small number of bars tend to produce results that are either unstable, or highly dependent on the  actual number of bars used, or simply don&#39;t seem to be in accordance with reality in the markets.  Sure almost everyone says that they know that stocks &amp; stock indices are mean-reverting, and the calculated values of H which are usually in the range 0 to 0.5 strongly support that notion. However the reality of the last 6+ years is that most of the time the S&amp;P500 has been in a strong uptrend, and even the most skeptical person could hardly make a case that the S&amp;P500 has been in anything but &quot;trend mode&quot; for the past year or so since Nov 2016.  Yet despite the clearly evident trending behavior, 0 &lt; H &lt; 0.5 says &quot;no, its MR, not trending&quot;! </p>

<p>I continue to have a lot of hope for a robust, short calculation period (i.e. short lag) proxy for H as a market regime indicator, but H itself seems to be a disappointing choice when it keeps signaling a condition (MR) that is not supported by the visually evident reality of an amazingly long trend. Any comments most welcome.</p>

<p>Hi @Frank, although it might seem that Mr. H was lucky to have so much more data than we do, actually each year was only 1 data point for him so, in terms of data availability, he was really no better off than a trader with about 3 years of EOD data.  To my mind, the biggest difference between him &amp; us is that, unlike the markets, the River Nile is (presumably) not a semi-sentient complex-adaptive entity evolving in clever ways to continually outsmart the people trying to study it!  ;-))  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a53a39d2ad373001bbfd1e4' id='5a53a39d2ad373001bbfd1e4'>
<a href='#5a53a39d2ad373001bbfd1e4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50842732cb5e1a02000000d1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f86535a7fafab6b7d903fc1461362f0a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50842732cb5e1a02000000d1'>James Villa</a>
<span class='badge medal'></span>
</div>
<a UTCms='1515430813000' class='quanto-date posted-at response-posted-at' href='#5a53a39d2ad373001bbfd1e4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Alan, Frank, Tony,</p>

<p>I believe this line in the above code is incorrect:</p>

<pre><code>    **# Calculate the variance of the difference  
    tau.append(numpy.sqrt(numpy.std(pp)))**
</code></pre>

<p>I don&#39;t think you have to get the square root of the standard deviation (which is the square root of the variances) .  Prof. Hurst did a rescaled range analysis of different lags divided by its corresponding standard deviations.  Here&#39;s my corrected version of Hurst Exponent using a period of 256 days and lags of 8,16,32,64,128:  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a53dc299b454d47c9dea791' id='5a53dc299b454d47c9dea791'>
<a href='#5a53dc299b454d47c9dea791'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52670e6a2763c5cfb70002c7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/da33ec858011a8fad211c7e0ae68160c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52670e6a2763c5cfb70002c7'>Alan Coppola</a>
</div>
<a UTCms='1515445289000' class='quanto-date posted-at response-posted-at' href='#5a53dc299b454d47c9dea791'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@James<br>
Thanks for the interest!  I updated the code to reflect your changes (powers of 2)a nd info I found, and also ran the two methods side by side( hurst versus hurst_new(Villa).<br>
They differ by a factor of two, which I believe is captured in the argument at the end of the post:</p>

<p><a href="https://stackoverflow.com/questions/39488806/hurst-exponent-in-python">https://stackoverflow.com/questions/39488806/hurst-exponent-in-python</a></p>

<p>So I got rid of factor of 2 on the return for your method (hurst_new) to reflect the fact that you noticed that the actual definition of the hurst coeff  was different than the code.<br>
If this doesn&#39;t resolve what is the actual Hurst Estimated value, we&#39;ll have to go to Matlab or R implementations...would rather not...</p>

<p>@Frank, @Tony,<br>
I changed the code so that it doesn&#39;t eval every minute, but only at the end of the day.<br>
I also put in a simple threshold test for MeanRev and Trending that plots on the Q ide, so you can see the regions where these signals fire off...in this case for AAPL.</p>

<p>I have ben using a faster version of Hurst from Derek Tishler as a factor in my code, but with no compelling, or for that matter any results.<br>
As a factor, you compute Hurst coeff for every stock in your Universe, over a window...obviously, this can get computationally expensive.<br>
If you wish, I could publish that factor here.</p>

<p>In researching the problem @James pointed out, I found the link:</p>

<p><a href="http://www.bearcave.com/misl/misl_tech/wavelets/hurst/">http://www.bearcave.com/misl/misl_tech/wavelets/hurst/</a></p>

<p>which I&#39;m in the middle of reading...it&#39;s fascinating, and points out, perhaps, some problems in using the Hurst coeff...<br>
e.g,<br>
How many and which lags?<br>
Prices or Returns or ?? ?<br>
Does it work at all for financial data?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a53efa1c968670011da12e7' id='5a53efa1c968670011da12e7'>
<a href='#5a53efa1c968670011da12e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50842732cb5e1a02000000d1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f86535a7fafab6b7d903fc1461362f0a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50842732cb5e1a02000000d1'>James Villa</a>
<span class='badge medal'></span>
</div>
<a UTCms='1515450273000' class='quanto-date posted-at response-posted-at' href='#5a53efa1c968670011da12e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Alan, I think your computation is now correct (almost!), you just need to use log prices so that when you subtract lag differences you get log returns.<br>
Man, that link to bearcave brings back memories of my early years of research into Chaos Theory. That was a good read back then and still is.</p>

<p>There is also another version of Hurst coefficient by John Ehlers, it&#39;s sort of an abbreviated one. He uses the coefficient as a parameter to an adaptive moving average known as Fractal Moving Average.  I have the code in a different language, I&#39;ll try to code it in python and post it later.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a54a85cc9686732b8da1b97' id='5a54a85cc9686732b8da1b97'>
<a href='#5a54a85cc9686732b8da1b97'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1515497564000' class='quanto-date posted-at response-posted-at' href='#5a54a85cc9686732b8da1b97'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @Alan, thanks for your comments and, yes, i would be pleased if you would publish your fast H factor here. I will certainly enjoy taking a look at it. </p>

<p>I assume that your main interest in H is probably as a tool to assist in discriminating between Ranging &amp; Trending market regimes for switching between MR &amp; Trend Following trading styles. I think this is a great topic to work on, but my own experience in using H for it has also been lacking in useful results and i&#39;m not surprised to read that you haven&#39;t found anything compelling using H. My conclusion was that the tool (H) is just not very well-suited for the job. I keep looking for short-period, minimal-lag alternatives that might be better suited to the specifics of financial markets. I have had at least some limited partial success with the idea in my own personal trading research using a different language &amp; platform, but have not tried it in Q algos.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a559165e7768c0015103091' id='5a559165e7768c0015103091'>
<a href='#5a559165e7768c0015103091'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58bf3c67d4de1e2f6ba9c1ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9db0356e97ee3c7ae767fc39c9d67605?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58bf3c67d4de1e2f6ba9c1ab'>Mustafa Tambawalla</a>
</div>
<a UTCms='1515557221000' class='quanto-date posted-at response-posted-at' href='#5a559165e7768c0015103091'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Was literally just about to search for this; thank you for sharing!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a57b3b731f73441ead1389f' id='5a57b3b731f73441ead1389f'>
<a href='#5a57b3b731f73441ead1389f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52670e6a2763c5cfb70002c7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/da33ec858011a8fad211c7e0ae68160c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52670e6a2763c5cfb70002c7'>Alan Coppola</a>
</div>
<a UTCms='1515697079000' class='quanto-date posted-at response-posted-at' href='#5a57b3b731f73441ead1389f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tony,<br>
Enclosed is a Hurst Notebook, modified from a D.Tischler  one that computes a fast Hurst Exponent factor. using the log(prices), as @Villa recommends above...I haven&#39;t changed the code above, which is in the Q-IDE, to reflect that...log(prices)... change.<br>
The notebook then applies that factor over a year&#39;s time frame, across a simple culled universe of ~10 stocks.<br>
Finally, we plot the Hurst Exponent traces all together to get an idea of what they look like across multiple stocks.</p>

<p>To me, the short take-away by glancing at the chart is that there is not much action above the  0.5 level.<br>
I&#39;ve tried to use this factor to compute the HurstExponent on a massive level and use it as a factor, yet, without compelling results.<br>
I am now convinced that to do so requires some thesis wrt to usage(Sector specific) and meta-parameter optimization(e.g. lags, window-size, etc.),<br>
 along with a far amount of research to get to a useful place.   Also, one runs out of computation time if trying to use the Q-IDE for live trading.<br>
alan  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a5899f12372cb00158a59a2' id='5a5899f12372cb00158a59a2'>
<a href='#5a5899f12372cb00158a59a2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1515756017000' class='quanto-date posted-at response-posted-at' href='#5a5899f12372cb00158a59a2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @Alan, many thanks for the Hurst notebook. </p>

<p>As you say, there isn&#39;t much H &gt; 0.5 and, at least from a casual visual inspection, what there is doesn&#39;t seem to have a unique relationship with the price trends (or lack of them) that can be seen on the corresponding stock charts. Although there seem to be some general areas of agreement, e.g. AAPL with highest H is mostly trending during the period shown, and MSFT with lowest H in early 2017 is flat during that period, overall it is a less than convincing relationship. I continue to assume that your main interest in H is as a trend vs MR indicator and, regarding your comments about getting from this to something useful, here are my thoughts.</p>

<ul>
<li><p>Any indicator of &quot;trending vs non-trending&quot; will invariably give results that may be ambiguous for several reasons. Not only are the responses of many indicators (and especially H) highly dependent on window length (which then gives rise to associated lag effects as you say) but also, in the case of &quot;trend or not trend&quot; which i assume is what you are using H for, it is not only the INDICATOR but also the underlying PRICE SERIES itself that might be trending, or not trending, or  even trending in the opposite direction, depending on the period over which the price is being considered, even in the  absence of indicator artifacts! </p></li>
<li><p>If, as i suspect, H is generally &quot;too slow&quot; (in terms of impulse response) to be really useful as a trend vs. MR indicator, then one might perhaps argue that during genuine trends H follows too slowly and therefore often does not manage to complete its  buildup to values &gt; 0.5, in which case it is not only the value of H that needs to be considered, but also the slope of H, i.e. if H is &lt; 0.5 but is rising steadily towards 0.5, then this might also be sufficient to indicate a trending market.... perhaps? </p></li>
</ul>

<p>My thoughts are that, if one&#39;s intention is to discriminate between trending &amp; MR market regimes, then one can devise other indicators that appear to be more accurate, more responsive, and more intuitive than H. Although I did &quot;want H to work&quot; as an indicator, it doesn&#39;t seem to, and your final comment about &quot;running out of computation time&quot; reinforces my conclusion that efforts can be more productively focused elsewhere.</p>

<p>Cheers, thanks &amp; best regards,<br>
Tony  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a58aed23ebe59001cd75127' id='5a58aed23ebe59001cd75127'>
<a href='#5a58aed23ebe59001cd75127'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1515761362000' class='quanto-date posted-at response-posted-at' href='#5a58aed23ebe59001cd75127'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Alan -</p>

<p>just pointing out that if you like to perform a more thorough analysis you can always use Alphalens. You can filter the assets which have hurst &lt; 0.5 and check if they are mean reverting (and the same with  assets with  hurst &gt; 0.5 and check if they are trending)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a58ddf52372cb3df98a541c' id='5a58ddf52372cb3df98a541c'>
<a href='#5a58ddf52372cb3df98a541c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1515773429000' class='quanto-date posted-at response-posted-at' href='#5a58ddf52372cb3df98a541c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @Luca, i&#39;m not skilled with using Alphalens and so, although you say that &quot;one can perform a more thorough analysis with it&quot;, for my part i&#39;m not sure what to conclude from the graphs you have presented. Perhaps you would care to make some comment on your interpretation, for the sake of dummies like me ;-)</p>

<p>Hi @Alan &amp; @James, i remembered the EasyLanguage code you mentioned from Ehler&#39;s book &quot;Cycle Analytics for Traders&quot; (Wiley, 2013). I don&#39;t know what you think of Ehlers but, as my own background in Physics, Electrical Engineering &amp; Signal Processing is somewhat similar to his, i think i&#39;m reasonably competent to comment on his work.  Basically as Engineering / Digital Signal Processing it is conceptually sound, although sometimes i think he tries to force good DSP methods on to market situations that are outside their domain of applicability, and he usually tends to be a little more enthusiastic about his indicators than is justified. However it is interesting to note his comments on the Hurst exponent (which he calls Hurst coefficient).  In particular, from Chapter 6 of his book he states the following: &quot; <em>I would like to make it perfectly clear that the Hurst coefficient or the fractal dimension has no direct practical application to trading .... it has no predictive value</em>&quot;.   Then in Key Points to Remember at the end of the chapter, Ehlers concludes: &quot;<em>It [H] is related to the power spectral density of the noise</em>&quot;, and &quot;... <em>has no predictive value and therefore no direct usefulness in trading</em>&quot;, but then he appears to contradict himself by stating (as we would expect) that H&lt; 0.5 indicates  a cycle mode and H&gt; 0.5 indicates a trend mode. So it appears that Mr. Ehlers himself is a little confused about the utility of H. If his assertion that H has no direct usefulness in trading, then one can only wonder why he spent ten pages describing it and his version of code for it!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a58e6cd23b205001430de3f' id='5a58e6cd23b205001430de3f'>
<a href='#5a58e6cd23b205001430de3f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1515775693000' class='quanto-date posted-at response-posted-at' href='#5a58e6cd23b205001430de3f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tony, I totally agree with your assessment. </p>

<p>It&#39;s like having the Hurst exponent for a randomly generated price series. You could randomly have an H&gt;0.50 or an H&lt;0.50. As a matter of fact, statistically, you would rarely get exactly: H = 0.50. </p>

<p>We accept that a randomly generated price series ends up with no predictive value, and then want to make a huge distinction for price series that are almost randomly generated. In the sense that they deviate little from randomness.</p>

<p>At the right edge of any price chart, your expected H will still be about: H = 0.50, even if the past data series had something else to show.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a59055a64b373001b393310' id='5a59055a64b373001b393310'>
<a href='#5a59055a64b373001b393310'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50842732cb5e1a02000000d1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f86535a7fafab6b7d903fc1461362f0a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50842732cb5e1a02000000d1'>James Villa</a>
<span class='badge medal'></span>
</div>
<a UTCms='1515783514000' class='quanto-date posted-at response-posted-at' href='#5a59055a64b373001b393310'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tony, Mr. Ehlers is quite an enigma! As I am not an engineer, I could not fairly assess his work in applying DSP concepts to the financial markets. But having said that, I was fascinated by some of the filtering algorithms and trading systems he has come up with, most specially with regards to identifying whether the market is trending or cycling which is what both you and I think is the crux of formulating a successful  trading system. His R-MESA (Maximum Entropy Spectrum Analysis-Burg Algorithm) was rated as one of the top 10 S&amp;P trading systems continuously for over 10 years, as rated by Futures Truth.</p>

<p>Let me just quote him on something that really intrigues me to do some further digging:</p>

<blockquote>
<p>The spectral shape of market data is pink noise, as described by Mandelbrot and the slope of the spectral dilation is measured by the Hurst Coefficient. Therefore, accurate measurements of the dominant cycle must include compensating filters to remove the imbalance of cycle amplitudes across the spectrum. While this can be done, I discovered that an autocorrelation periodogram automatically removes the effects of spectral dilation because the correlation function is normalized to swing between -1 and +1, regardless of the cycle period. Therefore, the autocorrelation periodogram is currently the preferred method to measure market cycles. </p>
</blockquote>

<p>,@Tony, having similar backgrounds and expertise in Engineering/DSP, what do you think of this view? Seems like he now prefers autocorrelation periodogram over MESA or Hilbert Transform, what an enigma!</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a5a448723b2056b1530ed0c' id='5a5a448723b2056b1530ed0c'>
<a href='#5a5a448723b2056b1530ed0c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1515865223000' class='quanto-date posted-at response-posted-at' href='#5a5a448723b2056b1530ed0c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @James,<br>
Firstly. thanks for your acknowledgement regarding &quot; <em>.... what both you and I think is the crux of formulating a successful trading system&quot;</em> Basically with that piece of info, if known reliably, everything else gets remarkably easy, as long as one has the discipline to adhere to the caveat: &quot;... and if in doubt then just stay out&quot;  :-)</p>

<p>I have read all of John Ehlers books and experimented quite a bit with all of the ideas in them. His first work on MESA was adapted from a technique used in geophysical processing for oil exploration (also an area that I worked in). Most of Ehlers filtering ideas and things like Hilbert transforms come directly from Electrical Engineering &amp; DSP. All of these techniques are valid, widely used and well documented in Engineering literature &amp; textbooks. Ehlers innovation was to apply these ideas to trading, based on the notion that bars of trading data are like digitally sampled signals. In that area Ehlers has certainly created a niche and a reputation for himself.  I like a lot of his ideas. The ones related to low-pass filtering are particularly good. Butterworth filters are well known within Electrical Engineering, but Ehlers modified 2nd order Butterworth filter is the best minimum distortion, maximally flat within its passband, compact, minimum lag smoothing filter that I know of (even better than his &quot;Super-Smoother&quot;).  </p>

<p>I understand Ehlers ideas very well, and in particular his considerations of signal-to-noise. However I do have two mild criticisms of his work. The first is a simple practical one. In the signals that Electrical Engineers deal with there are often many cycles (for example of a carrier wave with some fixed frequency) with an amplitude or frequency that is modulated at a slower rate (for example by an audio signal in AM or FM radio). All the DSP ideas that Ehlers uses work very well in those situations. However in trading the difference is that we do not have a large number (e.g. hundreds or thousands) of underlying cycles to be able to process. In fact the most we usually ever see is about two cycles with a decaying envelope in the case of a classical triangle pattern. In fact often we don&#39;t even get one full cycle of price data before traders figure out what is happening, trade in anticipation of the cycle completion, and thereby destroy it. This represents a major limitation and, at least as i see it, the first breakdown in the assumption that securities price data can be adequately treated with conventional Engineering DSP methods. </p>

<p>The second problem (criticism) that i have is a little more subtle. In conventional DSP we usually have a data stream that is a mixture of a signal which is either made by humans (e.g. voice, music, the trajectory of a vehicle or projectile, etc) or by nature (e.g. the geology of a sedimentary basin containing oil, etc) in some reasonably uniform way, and in either case there are some inherent regularities because of the process that generated the signal. Then, contaminating the wanted signal, there is inevitably added some unwanted noise, so what we observe is a mixture of signal + noise. Usually we can easily tell what is signal and what is noise, and the job of filtering or DSP is to separate them. In the context of trading this is NOT so easy; What really is &quot;signal&quot; and what really is &quot;noise&quot;? This is not just a philosophical question. Some people say that in trading there is no such thing as &quot;noise&quot;. Experts in Price Action Trading, such as Al Brooks for example, contend that ALL price bars contain meaningful information for trading and none of them are &quot;noise&quot;. </p>

<p>Personally i also have another philosophical issue with the idea of &quot;signal&quot;. In trading data, we have (mostly reasonably) sentient beings or their algos, continually trying to outguess what the market is about to do next and responding as fast as they can within their own individual time-frames. This degree of responsiveness of the target in trading is very different to the usual &quot;signals&quot; that Engineering DSP methods have to deal with. Just imagine if the Earth&#39;s geology, or a piece of music was self-aware and was continually trying to &quot;trick&quot; the Engineering-types  into mis-predicting it!!  Traders need to be very careful about what they call &quot;signal&quot; and what they call &quot;noise&quot;.  </p>

<p>With regard to Ehlers quote that you provide, @James, the words that stand out most to me are: &quot; .<em>.. accurate measurements of the dominant cycle</em> ...&quot;<br>
A simple and often quite useful conceptual model of market data is that it consists of a trend component, a cycle component, and noise. It is often quite a good model and one i have experimented with a lot. I have read Ehler&#39;s comments that he believes that usually there is only ONE dominant cycle. I think this is his preferred conceptual model rather than a statement of fact. Even if it were true, then the period (and/or phase) of the &quot;dominant cycle&quot; are non-stationary and keep drifting. Anyone who has seriously tried to use the trend+cycle+noise model for trading has found that determining the varying cycle period is difficult. Anyone who has done careful spectral analysis of market data has seen that there is usually more than one significant cycle period in play, and these are not always just the harmonics that give rise to all the usual Fourier synthesis effects like double tops, classical H&amp;S patterns, etc. </p>

<p>My own experience with Ehlers Hilbert transform (which I coded from one of his books) is that for trading data it just does not work as well as it does in its more usual domain of applicability in Electrical Engineering DSP, and again the reasons for that are as mentioned earlier.  </p>

<p>Although Ehlers may seem enigmatic in some ways, i think there is an underlying explanation. Although Ehlers may (or may not, i don&#39;t know) be a trader, first and foremost he is an author, and presumably also a consultant and still a marketer of his software. As with any kind of marketing, ideas that have been around for a long time often benefit from some rejuvenation or change. MESA has now been around for a long time and in the trading area MESA is very much Ehlers software. Maybe he just figures it is time for something new. </p>

<p>My conclusion as to why Ehlers wrote more than 10 pages about H in his book and then most ambiguously concluded that &quot; it is useless&quot; / &quot;it is useful&quot; / &quot;it is not&quot;, was probably he thought that SOMEONE would be interested in it and it might help to sell his book (which it did .... to me at least ;-))</p>

<p>Autocorrelation periodograms are interesting. In EasyLanguage in one of his books, but not very difficult to re-write in other languages, Ehlers has some code that produces interesting 2-D visual display plots. I tried to improve on it using python with some of its scientific libraries. Although conceptually easy, i found in practice that it was difficult to get from a frequency vs time display to a period vs time display in python, but that was probably just a reflection of my own very limited skills with python library tools. However that&#39;s probably getting a bit off topic now. If you want to take up the topic of periodograms further offline, then most welcome to email me at <a href="/cdn-cgi/l/email-protection#9eeaaaeaf1f0e7f3dee7fff6f1f1b0fdf1f3"><span class="__cf_email__" data-cfemail="f480c0809b9a8d99b48d959c9b9bda979b99">[email&#160;protected]</span></a> or alternatively let&#39;s break from this post about H and start a new one.</p>

<p>Cheers, all the best, Tony  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a5a4bd345697958a1c02bb5' id='5a5a4bd345697958a1c02bb5'>
<a href='#5a5a4bd345697958a1c02bb5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1515867091000' class='quanto-date posted-at response-posted-at' href='#5a5a4bd345697958a1c02bb5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tony, again, your assessment, and conclusions are right to the point. DSP, in any field can have some value if, and only if, the signal is not almost totally buried in the ambient noise. When a long-term forecast is about 2-10% signal and 90-98% noise, there is no way to really extract the signal with some kind of reasonable confidence level.</p>

<p>From my own limited research in the late 70&#39;s I had to come to the same conclusion you did: there is no value in the H coefficient, at least not in the trading world. There is no value in the Fourier transforms as predictors of what is to come. You can make nice pictures of it all over past data, but that does not make them predictive in any way. </p>

<p>We all have to try all that stuff, and ascertain for ourselves their value.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a5a57cb6344b50014b5ade1' id='5a5a57cb6344b50014b5ade1'>
<a href='#5a5a57cb6344b50014b5ade1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50842732cb5e1a02000000d1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f86535a7fafab6b7d903fc1461362f0a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50842732cb5e1a02000000d1'>James Villa</a>
<span class='badge medal'></span>
</div>
<a UTCms='1515870155000' class='quanto-date posted-at response-posted-at' href='#5a5a57cb6344b50014b5ade1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tony, thank you for your in depth commentary and insights on John Ehler&#39;s Engineering/DSP concepts being applied to the financial markets. It has given me a better understanding of the limitations and possible pitfalls of its application to financial trading.  Empirical studies of market price structure conclude that they are nonlinear, nonstationary with Pareto like distribution, yet most analytical/modelling tools out there predominantly still use linear analysis with Gaussian distribution assumption.   Ehler&#39;s approach is another take in modelling using DSP concepts. Nonlinear Dynamics/Chaos Theory/Deep Learning, which I&#39;m a disciple of, is yet another approach.  Having said that, all these approaches have the capacity to make profits in trading and to me personally,the holy grail is the approach that can give me sustained profits with manageable risks that adapts to different market conditions over time. This has been a very elusive quest but the search goes on.</p>

<p>Tony, when I gather my thoughts I want to further explore the concept autocorrelation periodograms with you.  There is something that Ehlers said that strikes me and seem to be consistent with finding order in low dimensions from Chaos Theory and I quote Ehlers:</p>

<blockquote>
<p>Although I knew about Spectral Dilation I was shocked to find that the phenomenon exists all the way down to shorter cycle periods – even below a 10 bar cycle period.  At this point Spectral Dilation intercepts the aliasing noise resulting from using sampled data. If we just want to eliminate Aliasing noise, we do not need a smoothing filter longer than a 10 bar cycle period.  In fact, using a smoothing filter longer than 10 bars attenuates the data we are trying to use in trading. </p>
</blockquote>

<p>Have a good weekend!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a5b231a6344b50014b5b654' id='5a5b231a6344b50014b5b654'>
<a href='#5a5b231a6344b50014b5b654'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1515922202000' class='quanto-date posted-at response-posted-at' href='#5a5b231a6344b50014b5b654'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @Guy,<br>
Your comment that:&quot; <em>... there is no value in the Fourier transforms as predictors... &quot;</em> , [with the words &quot;in trading&quot; being implied even if not explicitly stated], actually goes right to the heart of my &quot;philosophical issue with the idea of signal&quot; in a trading context. Of course we know that Fourier transforms (FT) are extremely useful as predictive tools in contexts such as acoustics, astrophysics, geophysics, and many others where there are regular repetitive process at work with extended durations. No doubt it seemed like a reasonable assumption to many people that FT or FFT might also be useful in trading.  Unfortunately in trading many apparently &quot;reasonable assumptions&quot; turn out to be either wrong or useless or both and, as Guy points out, FT only gives a picture of the past, as it takes all past information in the time domain and uses it to extract the corresponding frequency domain information, after which all of the time domain info is lost, and there is no reason why the frequency spectrum of market time series data in future would be the same as it was in the past over the extended period required to generate a valid FT. The only exceptions that i can think of might be due to market effects that are driven by genuine, continuously repeating drivers, such as annual or quarterly reporting. If these are in fact potentially useful inputs, then they might show up on a Fourier spectrum as peaks at the corresponding values of N = 252, etc on EOD bars. </p>

<p>My own philosophical contention is that the whole meaning of &quot;signal&quot; is not necessarily the same in market data as it is in a DSP context, and therefore traders have to be very cautions about what can and what can&#39;t be taken from a general DSP context into a trading context. I feel that Ehlers is often a little over-enthusiastic in embracing DSP ideas into trading. In some cases they are applicable, but in some cases they are not.</p>

<p>@James,  as you say, our goal as traders is to make profit, and to do this in a sustained way comes from understanding and responding appropriately to market behavior.  Understanding doesn&#39;t have to be perfect to be profitable and, as the famous statistician George Box wrote: &quot;All models are wrong, but some are useful&quot;. As Guy implies, H and FT&#39;s are just not useful enough! But that doesn&#39;t mean giving up on frequency-domain or mixed time-domain &amp; frequency-domain analysis methods altogether. The problem with FT or FFT is that it gives away ALL of the time domain info. </p>

<p>However other newer methods such as Wavelet Transforms and Periodograms manage to keep some time-domain resolution while also extracting some frequency-domain (i.e. periodicity) info. These sort of techniques are potentially a lot more promising. Why? Because we know that market behavior generally does have some degree of persistence over time. Trends continue over time, and even mean-reverting behavior may continue for a while, especially if there is some overshoot and another reversion from the opposite direction. So not only Trends but also Trading Ranges as examples of MR behavior do tend to persist. This then leads to the idea that if we can accurately describe what the market has been doing in the immediate past, then  maybe, just maybe, we can actually use that info for a short time into the future. I think this is probably a valid reason why Ehlers now has more enthusiasm for tools like periodograms, and is certainly the basis for my own enthusiasm for &quot;Market Regimes&quot; that may have at least some persistence.</p>

<p>The topic of aliasing that Ehlers refers to relates to the problem that arises if any data series is sampled at a frequency higher than (i.e. periodicity shorter than) that set by the Nyquist criterion, which means that DSP methods are likely to produce erroneous results if used on less than 4 bars. Ehlers does not show any apparent interest in these short timeframes which require using {OHLC}  data and Price Action methods unrelated to DSP.  </p>

<p>Let me know if/when you want to explore these topics further, but again this is getting away from the Hurst theme of this thread, so let&#39;s pursue those topics elsewhere. For now, i feel like we have just about done all we can with H as such, although good luck to anyone who might still be able to squeeze a bit more out of it. Cheers, best regards, Tony.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a5b844edfee8c7447c700de' id='5a5b844edfee8c7447c700de'>
<a href='#5a5b844edfee8c7447c700de'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51318528831378d42a0001ad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/af8a2fdb6b6e1c83933d4f7b647b235d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51318528831378d42a0001ad'>Guy Fleury</a>
</div>
<a UTCms='1515947086000' class='quanto-date posted-at response-posted-at' href='#5a5b844edfee8c7447c700de'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Tony, I totally agree with your analysis. It is really well said.  </p>

<p>That it be DSP, spectral analysis, density functions, Hurst coefficients, FT or FFT, wavelets, periodograms, ML, DL, patterns, and I will skip indicators, they all try to extract some information from some lookback period over past data hoping that some of it might survive beyond the right edge of a price chart. It&#39;s understandable, that is all they have to work with: past price series. The surprise is: at times, coincidentally, they will profit from it.  </p>

<p>However, they all suffer from the same sigma assumptions. That there is some meaning buried in all that noise. People stop calling it noise just because they are looking at it from real close, seeing patterns, regression lines that could be extended forward. It is ignoring that what they see is part of larger (long-term) picture. Ignoring that we might have to navigate, for a long time, in this tumultuous storm, on this ocean of variance, where there might be little in the form of real short-term predictability.</p>

<p>It reminds me of this old <a href="https://www.youtube.com/watch?time_continue=101&v=xlKWdd_DhW0">Artemis video</a>.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a5c0a02144f4300185b0b38' id='5a5c0a02144f4300185b0b38'>
<a href='#5a5c0a02144f4300185b0b38'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52670e6a2763c5cfb70002c7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/da33ec858011a8fad211c7e0ae68160c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52670e6a2763c5cfb70002c7'>Alan Coppola</a>
</div>
<a UTCms='1515981314000' class='quanto-date posted-at response-posted-at' href='#5a5c0a02144f4300185b0b38'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Luca,<br>
Thanks for the notebook!  I&#39;ve used your other similar one on ML to good effect.<br>
Seems like the mean_rev factor is capturing something, but the trending is not.<br>
I&#39;ll keep trying to use it, and will look at using your framework to  test out:<br>
<a href="https://www.researchgate.net/publication/318385038_Introducing_Hurst_exponent_in_pair_trading">https://www.researchgate.net/publication/318385038_Introducing_Hurst_exponent_in_pair_trading</a></p>

<p>@James, @Tony, @Guy,<br>
I appreciate your thoughts here, and have started looking at Ehler&#39;s work, especially the periodgram work, as I have recently looked at some similar things involving finding signals(radio) in the wild.  I can see the Hurst work being frustrating for a signal usage as a threshold.<br>
I still have hopes for this and other measures, as any measure that can produce information about financial time series can be leveraged.<br>
Yet perhaps my Pollyanna hopes are  because I haven&#39;t worked with financial time series that long!</p>

<p>alan  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a5c6f5bd45f7b0014ae0800' id='5a5c6f5bd45f7b0014ae0800'>
<a href='#5a5c6f5bd45f7b0014ae0800'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1516007259000' class='quanto-date posted-at response-posted-at' href='#5a5c6f5bd45f7b0014ae0800'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @Alan, i don&#39;t at all consider your hopes as being &quot;Pollyanna&quot;, and in fact i also keep coming back to some ideas (not only H, but even Gann) again &amp; again from time to time, each time hoping to find something that i might have missed each of the previous times! However eventually it comes down to time as a precious resource and there just isn&#39;t enough of it to look at everything, so have to prioritize to where the most bang-for-the-buck (or for the hours) is likely to be. I think periodograms are likely to be considerably more rewarding, as are also various proxies for the info that you wanted to get from H. There are a few of them if you think carefully about it and some are computationally quite simple. Cheers, Tony  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a5d01dc144f4306865b0d02' id='5a5d01dc144f4306865b0d02'>
<a href='#5a5d01dc144f4306865b0d02'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52670e6a2763c5cfb70002c7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/da33ec858011a8fad211c7e0ae68160c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52670e6a2763c5cfb70002c7'>Alan Coppola</a>
</div>
<a UTCms='1516044764000' class='quanto-date posted-at response-posted-at' href='#5a5d01dc144f4306865b0d02'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks @Tony...and I&#39;ll keep you updated on any progress I make.<br>
alan  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a5f58759d608a2e60bbb767' id='5a5f58759d608a2e60bbb767'>
<a href='#5a5f58759d608a2e60bbb767'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5469bca83ab3de7bff000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4c4ecac20f2ccee61491516e54b67f72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5469bca83ab3de7bff000334'>Tony Morland</a>
</div>
<a UTCms='1516198005000' class='quanto-date posted-at response-posted-at' href='#5a5f58759d608a2e60bbb767'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi @Alan, clearly we all have our own different research methods and different skills &amp; backgrounds. Your mention of &quot;radio signals in the wild&quot; makes me curious about your own background &amp; other interests outside of (but perhaps in some ways related to) trading. I would be interested to discuss with you some time. Meanwhile, i have kept on dropping hints about &quot;proxies for H&quot;, but no-one seems to care to pick up on it. Email me at <a href="/cdn-cgi/l/email-protection#93e7a7e7fcfdeafed3eaf2fbfcfcbdf0fcfe"><span class="__cf_email__" data-cfemail="e195d5958e8f988ca19880898e8ecf828e8c">[email&#160;protected]</span></a> if interested. Cheers, all the best, Tony.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/hurst-exponent'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/hurst-exponent'>join Quantopian</a> to
post a reply.
</div>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#dcbab9b9b8bebdbfb79cada9bdb2a8b3acb5bdb2f2bfb3b1">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
