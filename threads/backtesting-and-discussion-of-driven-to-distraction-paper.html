<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Backtesting and Discussion of &quot;Driven to Distraction&quot; Paper
</title>
<meta content='In the paper,  &quot;Driven to Distraction: Extraneous Events and Underreaction to Earnings News&quot;  (Hirshleifer, Lim, Teoh, 2009,  Journal of Finance  64, 2289-2325), the authors compare Post Earnings Announcement Drift for stocks that announce earnings during peak earnings season and stocks that announce earnings when there are fewer other competing announcements.  Post Earnings Announcement Drift (PEAD) refers to the anomaly that when a company beats earnings, not only does the stock rise on the...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="zQDJNOvkt1CMbBt5uPL+wgLcHGSZW1b6Z1kmTZACprixZr95SRJlszVxQkj3HVa2OlI/DeOXQ+HlVv0nOkfEAw==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/backtesting-and-discussion-of-driven-to-distraction-paper' property='og:url'>
<meta content='Backtesting and Discussion of &quot;Driven to Distraction&quot; Paper' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/backtesting-and-discussion-of-driven-to-distraction-paper' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Backtesting and Discussion of &quot;Driven to Distraction&quot; Paper' property='og:title'>
<meta content='In the paper,  &quot;Driven to Distraction: Extraneous Events and Underreaction to Earnings News&quot;  (Hirshleifer, Lim, Teoh, 2009,  Journal of Finance  64, 2289-2325), the authors compare Post Earnings Announcement Drift for stocks that announce earnings during peak earnings season and stocks that announce earnings when there are fewer other competing announcements.  Post Earnings Announcement Drift (PEAD) refers to the anomaly that when a company beats earnings, not only does the stock rise on the...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/backtesting-and-discussion-of-driven-to-distraction-paper">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5840f2812566e767a900008e'>
<div class='post-container' data-post-id='5840f2812566e767a900008e' id='5840f2812566e767a900008e'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Backtesting and Discussion of &quot;Driven to Distraction&quot; Paper</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55dea840bddf401335000278'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/56e84a9d02afa18a2f55e3d96a48fec9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55dea840bddf401335000278'>Rob Reider</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1480651393000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Backtesting and Discussion of &quot;Driven to Distraction&quot; Paper&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fbacktesting-and-discussion-of-driven-to-distraction-paper%3Futm_source%3Dwebsite_share%26utm_campaign%3Dbacktesting-and-discussion-of-driven-to-distraction-paper%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fbacktesting-and-discussion-of-driven-to-distraction-paper%3Futm_source%3Dwebsite_share%26utm_campaign%3Dbacktesting-and-discussion-of-driven-to-distraction-paper%26utm_medium%3Dlinkedin&amp;title=Backtesting+and+Discussion+of+%22Driven+to+Distraction%22+Paper+%28Rob+Reider%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Papers' data-tag-id='55c50e7d8d4710ec6e000007' href='/posts/tag/Papers/newest'>Papers</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Research' data-tag-id='55c50e7d8d4710ec6e000018' href='/posts/tag/Research/newest'>Research</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Market Neutral' data-tag-id='55d33f6e3f6ba10061000002' href='/posts/tag/Market-Neutral/newest'>Market Neutral</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/backtesting-and-discussion-of-driven-to-distraction-paper?utm_source=website_share&amp;utm_campaign=backtesting-and-discussion-of-driven-to-distraction-paper&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Rob Reider" />
<div class='body-text'>
<div class='body-text-container post-body'><p>In the paper, <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=980958">&quot;Driven to Distraction: Extraneous Events and Underreaction to Earnings News&quot;</a> (Hirshleifer, Lim, Teoh, 2009, <em>Journal of Finance</em> 64, 2289-2325), the authors compare Post Earnings Announcement Drift for stocks that announce earnings during peak earnings season and stocks that announce earnings when there are fewer other competing announcements.  Post Earnings Announcement Drift (PEAD) refers to the anomaly that when a company beats earnings, not only does the stock rise on the earnings announcement (which isn’t surprising but is difficult to predict), but also drifts higher for weeks after the announcement.  Similarly, when a company misses earnings, the stock price drifts lower for weeks after the announcement (for one of the early papers documenting this phenomenon, see Bernard and Thomas <a href="http://sites.fas.harvard.edu/%7Eec970lt/Readings/Post_Earnings_Announcement_Drift/Bernard%20and%20Thomas%201989.pdf">here</a>).  The authors argue that for companies that report earnings when there are fewer other companies reporting at the same time, there is a strong price reaction on the earnings announcement, but only a small PEAD.  But for companies that announce during periods when there are many other simultaneous announcements, the earnings announcement effect is muted and there is a much stronger PEAD.  Their argument is that investors have limited attention and get distracted by the competing earnings announcements, which would explain both the muted announcement effect and the strong post announcement effect.  Of course, because it&#39;s an academic paper, they give many references to show that people get distracted, including a reference to a study showing that British drivers get distracted when seeing semi-naked models on billboards (and the paper&#39;s title, &quot;Driven to Distraction:...&quot; is a play on this). </p>

<p><strong>Discussion and Digressions</strong></p>

<p>I don&#39;t find the explanation of limited attention particularly appealing (for example, it seems implausible that limited attention to an earnings release would last for weeks), but I do believe the results could be driven by limited <strong>capital</strong>, not limited attention.  For example, if you are a trader in the utilities sector at a hedge fund (and most portfolio managers specialize in a particular sector) and one day during peak earnings season, four utilities that you follow all report earnings on the same day, you may not have the capital to buy two or three of the stocks.</p>

<p>Limited capital may be an explanation for other anomalies too.  For example, there is a cottage industry in the hedge fund world of trading stocks in front of expected large index fund flows.  In the early 2000&#39;s, when S&amp;P announced that a company was added to the S&amp;P500 index, the stock would, on average, go up 5% on the announcement, and go up another 3% between the announcement and when it was added (usually, the announcement precedes the &quot;effective date&quot; by a week).  See, for example, Chen, Noronha, Singal, <a href="http://www.cfapubs.org/doi/pdf/10.2469/faj.v62.n4.4185">&quot;Index Changes and Losses to Index Fund Investors&quot;</a>.  But this anomaly of one-off adds to the S&amp;P500 has largely gone away - there is a much smaller announcement effect nowadays and the movement on the effective day is close to zero.  However, for large index rebalances like the annual Russell rebalance, the anomaly, although much smaller than it used to be, still seems to exist.  One explanation is that because of limited capital by hedge funds, they can take the other side of index fund flows for a one-off S&amp;P500 add for several billion dollars, but in aggregate don&#39;t have the capital to take the other side when index funds are trading hundreds of billions of dollars on a single day.</p>

<p>To digress a little further, another anomaly that doesn&#39;t seem to work anymore, but maybe can be revived with this idea of limited capital, is the reversal from extreme one-day price drops.  A much older study (see Bremer and Sweeney <a href="http://reversal-patterns.technicalanalysis.org.uk/BrSw91.pdf">&quot;The Reversal of Large Stock-Price Decreases&quot;</a>), finds that following a stock price drop of 10% or more, stocks reversed by about 2% the next day.  This anomaly has gone away, and in fact, a very simple Quantopian backtest shows that it not only has gone away but performs horribly since 2007 (this has interesting implications, incidentally, for how to trade a typical five-day mean reversion strategy).  But if you look at only days where there are numerous stocks dropping more than 10%, the strategy works better (unfortunately, almost all the trades are in one time period, during the financial crisis, so it&#39;s not very robust).</p>

<p><strong>Algorithm</strong></p>

<p>For the &quot;Driven to Distraction&quot; paper, I backtested their strategy out of sample from 2007-2016.  For stocks that announced earnings on days when many other companies announced, I went long PEAD by buying stocks that had large earnings beats and shorting stocks that had large earnings misses.  On low earnings announcement days, I do the opposite PEAD trade: I shorted large earnings beaters and went long large earnings missers.  I used the Q500US Universe (and also screening, of course, by companies that have estimates of earnings), and used the quintile of earnings beats and misses, and the quintile of high and low announcement companies.  The authors define beats and misses in what I think is a very sensible way: (actual earnings-expected earnings)/Price (Zacks has a measure that is normalized by earnings instead of price: (actual earnings-expected earnings)/(expected earnings), which I don&#39;t think makes as much sense).  I also put together a short notebook that explains how I got the quintile cutoffs that I used in the algo.  I’ll post that shortly under the same thread.</p>

<p><strong>Data Mining</strong></p>

<p>I would love to start a tradition on Quantopian where people post at the end of their strategies a section that addresses data mining issues, including things they tried that may not have worked.  Also, with any strategy, there are many other choices that must be made: start date, universe, beta neutral vs. dollar neutral, decile vs. quintile sorts, holding periods, equal vs. non-equal weighting, sector, industry, or other factor limits, time of day for execution,  ...  These are all essentially parameters that can lead to data mining, so a discussion about how these choices were made would be useful also.  In academia, the goal is to get something published, which often involves data mining, but in trading, the goal is to find strategies that will make money out of sample.   As a Portfolio Manager at my previous hedge funds, I would certainly ask these same questions to anyone that worked for me and backtested a trading strategy.</p>

<p>Along those lines, in the case of this model, the biggest area of data mining, and deviation from the original paper, was in the holding period for PEAD.  The paper argues that a 60 day PEAD holding period was optimal, and I tried one other holding period, 20 days, and got significantly better results (the Sharpe Ratio was about a third lower when I used a 60 day PEAD holding period).  I tried other cutoffs, including decile cutoffs – the results were consistently positive but can vary considerably, even for small changes.  Since the algo holds a relatively small number of positions, small changes in the threshold for earnings beats or the threshold for high announcement days can change the composition of the portfolio considerably.  The strategy I tested was dollar neutral rather than beta neutral, and the beta turned out to be negative, so making it beta neutral (in a rising market) might slightly improve the results.   One thing that disappointed me with the results is that, although you make money on both the long PEAD side on high announcement days and the short PEAD side on low announcement days, the results are much more driven by the short PEAD side.</p>
</div>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>21 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='584155e12566e72d7d00020c' id='584155e12566e72d7d00020c'>
<a href='#584155e12566e72d7d00020c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1480676843000' class='quanto-date posted-at response-posted-at' href='#584155e12566e72d7d00020c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Rob,</p>

<p>Regarding your comments on data mining, in my opinion, Quantopian makes it very challenging to do the kind of response surface and sensitivity analysis you presumably did manually by adjusting parameters and re-running backtests.  The backtesting engine supports running a large number of backtests in parallel, but the support for varying parameters programmatically and then post-processing the results needs to be improved.  For example, say I want to carry out a study of the effect of a single parameter.  I would run N backtests, noting the 
<code>backtest_id</code> for each, and the corresponding parameter value, which I would have set manually.  I would then enter these data into the research platform to retrieve the backtest results for analysis.  I would then need to sort out how to analyze the N backtests (presumably I could leverage the existing pyfolio tool, applying it iteratively, and then collating the results).</p>

<p>One solution would be to provide support from within the research platform to be able to run backtests in parallel, with programmatic control over backtest parameters.  I think making it a lot easier to &quot;slice and dice&quot; backtest results systematically over a space of M parameters would go a long way toward addressing the data mining issue you raise.  If the platform readily supported a workflow that included running N backtests over the M parameter space and some plug-and-play analysis tools, then the &quot;point solution&quot; approach could be avoided.  There&#39;s an operational cost in terms of supporting the running the N backtests in parallel (users might tend to run more backtests), but I figure it must be close to the cost of electricity to power the servers, at scale (i.e. we are using commodity cloud computing).</p>

<p>Regarding your comments about the hedge fund industry capital limitations, from <a href="http://www.hedgeweek.com/2016/10/20/244960/hedge-fund-industry-capital-rose-third-quarter">http://www.hedgeweek.com/2016/10/20/244960/hedge-fund-industry-capital-rose-third-quarter</a> , we have:</p>

<blockquote>
<p>Hedge fund assets rose to USD2.972 trillion, an increase of USD73.5 billion from the prior quarter. The 3Q16 hedge fund asset level eclipses the previous record of USD2.969 trillion set in 2Q15.</p>
</blockquote>

<p>It would seem that if a true zero-risk arbitrage opportunity is out there, they will come up with the capital to profit from it, one way or the other (I&#39;d read that prior to the mortgage crisis debacle, home mortgages were effectively leveraged up something like 50X, so Wall Street knows how to print money when they need it).  It is kinda hard to believe that they wouldn&#39;t come up with the money, in the limit of zero risk.</p>

<blockquote>
<p>However, for large index rebalances like the annual Russell rebalance, the anomaly, although much smaller than it used to be, still seems to exist.</p>
</blockquote>

<p>Perhaps the reward is not high enough to justify the risk.  In other words, the cost of coming up with the capital doesn&#39;t justify the expected reward, with risk taken into account.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5841c5ff5fa68d0d2f000119' id='5841c5ff5fa68d0d2f000119'>
<a href='#5841c5ff5fa68d0d2f000119'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55eefc2af269c592d80008a9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8985b490c95e135c2bbcd7d1a0dce16b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55eefc2af269c592d80008a9'>Jamie McCorriston</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1480705542000' class='quanto-date posted-at response-posted-at' href='#5841c5ff5fa68d0d2f000119'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Grant, instead of trying to optimize parameters for a backtest, you should be evaluating your strategy in pieces. For example, you could easily vary parameters of a pipeline programmatically in research, and then run the results through <a href="https://www.quantopian.com/posts/alphalens-a-new-tool-for-analyzing-alpha-factors">alphalens</a> to evaluate the predictive ability of your alpha signal.</p>

<p>You can&#39;t run a parallel search, but it&#39;s at least automated, and you can simply copy and paste your pipeline from research to an algorithm. I&#39;ve attached a simple example notebook of what that might look like.</p>

<p>The notebook performs a parameter search on an alpha factor in the last cell, which should solve the problem that you&#39;re running into. I didn&#39;t do the optimization step, I&#39;ll leave that up to you.</p>

<p>P.S. I used the <a href="https://github.com/quantopian/alphalens/blob/master/alphalens/tears.py#L102">alphalens tearsheet definition</a> to figure out which functions to call.</p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5841d37d6f74cc095a000204' id='5841d37d6f74cc095a000204'>
<a href='#5841d37d6f74cc095a000204'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55dea840bddf401335000278'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/56e84a9d02afa18a2f55e3d96a48fec9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55dea840bddf401335000278'>Rob Reider</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1480708999000' class='quanto-date posted-at response-posted-at' href='#5841d37d6f74cc095a000204'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a short notebook that accompanies the &quot;Driven to Distraction&quot; backtesting post.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5842444101fc970a0b000424' id='5842444101fc970a0b000424'>
<a href='#5842444101fc970a0b000424'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4e2887701c8cf8364f000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f0da8e39938dae306beaf315b3cb0156?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4e2887701c8cf8364f000001'>John Fawcett</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1480737867000' class='quanto-date posted-at response-posted-at' href='#5842444101fc970a0b000424'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bit of a rudimentary question if you don&#39;t mind -  Can we think of long PEAD as a momentum bet and shorting PEAD as a mean reversion bet? Then your algo is choosing momentum on crowded earnings dates and mean reversion on sparse earnings dates.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='58427250ddff067288000173' id='58427250ddff067288000173'>
<a href='#58427250ddff067288000173'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55d6180c1339ec0106000920'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6bf00ee69cfc0232eba532a0e34f27eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55d6180c1339ec0106000920'>Deleted User</a>
</div>
<a UTCms='1480749657000' class='quanto-date posted-at response-posted-at' href='#58427250ddff067288000173'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for sharing the strategy Rob. Here is a quick effort to enhance:  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5842bf6501fc970015000903' id='5842bf6501fc970015000903'>
<a href='#5842bf6501fc970015000903'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1480769386000' class='quanto-date posted-at response-posted-at' href='#5842bf6501fc970015000903'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Jamie -</p>

<p>Yes, the fundamental way to avoid data mining is to know that if I do X I&#39;ll get Y (at least on a statistical basis).  So, I&#39;d throw the question back to you.  It sounds like Rob used backtesting to explore the parameter space.  You seem to be suggesting that he could have used alphalens.  Is this the case?  Do you have an example for his particular strategy?  Or does one need to get all the way to the backtest stage?</p>

<p>My point was that if it is difficult/impossible to map out the complete response surface of a strategy, then there will be a tendency to overfit/mine data.  One solution is to make it really easy to get the big picture.  Define M parameters, run N backtests, and presto, one can get a sense if an overfit &quot;point solution&quot; has been selected, or if there is actually no dope-smoking going on.</p>

<p>Anyway, no need to hijack the discussion here, to point out the obvious.  There&#39;s a cost-benefit calculus on your end, but unless those data are brought into the discussion, it is a one-sided dialog.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5842f5fbddff06728800063b' id='5842f5fbddff06728800063b'>
<a href='#5842f5fbddff06728800063b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc0ee7ace0dc6db000113'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/73ff156e6f6dad3b1b0e34c03bcf473a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc0ee7ace0dc6db000113'>Anthony FJ Garner</a>
</div>
<a UTCms='1480783360000' class='quanto-date posted-at response-posted-at' href='#5842f5fbddff06728800063b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Response surface and backtest 1001 different parameters. Yes, I worked with a proprietary backtesting engine for years which made this very easy to do and graphically very easy to see.</p>

<p>Even if you avoid an obvious peak of profitability, MAR or whatever your chosen risk metric I fear it made little difference to forecasting the future profitability if the strategy. You whole &quot;response surface&quot; can change unrecognizably after a few years.</p>

<p>No solution there I fear although it is certainly a helpful process in forcing you to realise what absurd difference can result from minute parameter change.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='584414b6139c8e00120008a8' id='584414b6139c8e00120008a8'>
<a href='#584414b6139c8e00120008a8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1480856766000' class='quanto-date posted-at response-posted-at' href='#584414b6139c8e00120008a8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Rob,</p>

<p>A couple more quick comments:</p>

<ul>
<li>I suggest as a baseline, normalizing to a leverage of 1.0.  My understanding is that when evaluating algos for potential investment, Quantopian does this.  Having a leverage of 2 (or whatever) is arbitary (Quantopian is talking about using 6X leverage for the hedge fund anyway).<br></li>
<li>I just noticed your use of a &quot;hedging instrument&quot; (SPY).  I&#39;ve gathered that this is discouraged for algos that would be candidates for the hedge fund.  What happens if you don&#39;t hedge?  Or hedge in some other fashion, without using a hedging instrument?<br></li>
<li>What if you have a mix of longs and shorts?  Your code doesn&#39;t appear to handle this case:</li>
</ul>

<pre><code>If only long or short postions, hedge other side with SPY  
    if(len(shorts)==0 and len(longs)&gt;0):  
        order_target_percent(context.SPY,-1)  
    elif(len(longs)==0 and len(shorts)&gt;0):  
        order_target_percent(context.SPY,1)  
    else:  
        order_target_percent(context.SPY,0)  
</code></pre>

<ul>
<li>It would be interesting to put this strategy into the context of the type of algos Quantopian might be wanting to add to their portfolio.  There must be something wrong with it, or it wouldn&#39;t have been posted (in a private communication, Dan Dunn made it clear to me that Quantopian would never post anything that would work).  What&#39;s wrong with the strategy, vis-a-vis the Q hedge fund?<br></li>
</ul>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5844ce999fb928001200034b' id='5844ce999fb928001200034b'>
<a href='#5844ce999fb928001200034b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55dea840bddf401335000278'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/56e84a9d02afa18a2f55e3d96a48fec9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55dea840bddf401335000278'>Rob Reider</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1480904351000' class='quanto-date posted-at response-posted-at' href='#5844ce999fb928001200034b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Grant,</p>

<p>Thanks for your thoughtful comments.</p>

<ul>
<li><p>The point you make (in your first reply) is valid that when hedge funds see opportunities like the annual Russell reconstitution, they do have the ability to move capital.  One possible counterargument, though, is that the index rebalancing business requires some specialized knowledge (for example, merely predicting the float adjusted shares in the index is quite complex) so a fund that specializes in stat arb may be reluctant to redeploy large amounts of capital in the annual Russell rebalance without having the expertise.  And because the amount of capital required for these types of trades shoots up at discrete periods of time, the funds may run into leverage constraints.  Also, I didn&#39;t intend to imply that this trade is risk free.</p></li>
<li><p>I should probably have used a target leverage of 1.0 instead of 2.0  so it&#39;s consistent with Quantopian&#39;s preferred leverage ratio.  It&#39;s a very simple change to make in this algo, which equally weights all longs and all shorts. For example, change 
<code>order_target_percent(security,1/len(longs))</code> to <code>order_target_percent(security,0.5/len(longs))</code> and do the same for shorts and the possible SPY hedge.</p></li>
<li><p>I should explain the section of the code that you refer to that checks whether the algorithm holds only longs or only shorts, and if so, hedges with SPY.  It is theoretically possible that the algorithm finds PEAD stocks that cross the buy threshold but finds no stocks that cross the sell threshold (or the other way around).  In this case, to be truly dollar neutral, I would sell an equal dollar amount of SPY against the long-only positions or buy SPY against short-only positions.  With the parameters I use, there are only a handful of days where this actually happens.  You can see those days by inserting a <code>log.info()</code> message inside that portion of the code.  If I had left this section of the code out,  it would have had very little effect on the performance of the algorithm. However, if you run the algo for other sets of parameters, like more extreme quantile cutoffs or shorter PEAD holding periods, there will be more days where the algorithm wants to hold only long positions or only short positions.  So I wanted to generalize the code to handle this possibility.  </p></li>
</ul>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5844ddbfcb3c8b00120003e2' id='5844ddbfcb3c8b00120003e2'>
<a href='#5844ddbfcb3c8b00120003e2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55dea840bddf401335000278'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/56e84a9d02afa18a2f55e3d96a48fec9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55dea840bddf401335000278'>Rob Reider</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1480908231000' class='quanto-date posted-at response-posted-at' href='#5844ddbfcb3c8b00120003e2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Fawce,</p>

<p>That is correct that the long PEAD trades (on crowded earnings dates) are momentum trades and the short PEAD trades (on sparse earnings dates) are mean reversion trades.  The one caveat I would make is that  there are cases where a stock declines despite beating earnings expectations (because of weak forward guidance, a revenue miss, analyst expectations not representing the market consensus, and a variety of other possible reasons)  as well as cases where a stock advances despite missing earnings expectations.  An interesting variation on this algorithm would be to sort stocks into quantiles based on the stock price reaction to earnings rather than on the degree to which it beats Zacks&#39;s consensus estimates.  Another variation is to use Estimize&#39;s consensus estimates rather than Zacks&#39;s.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5845421bcb3c8b082a000252' id='5845421bcb3c8b082a000252'>
<a href='#5845421bcb3c8b082a000252'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530dc58192f94a48e80002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6a81c3996de61b5880d979f288a9a743?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530dc58192f94a48e80002b6'>Mikko M</a>
</div>
<a UTCms='1480933922000' class='quanto-date posted-at response-posted-at' href='#5845421bcb3c8b082a000252'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I just want to point out (as I suggested should be pointed out on every backtest that does this), the results are ZERO commisson and slippage.</p>

<p><a href="https://www.quantopian.com/posts/request-add-disclaimer-to-backtest-graphs-without-commissions">https://www.quantopian.com/posts/request-add-disclaimer-to-backtest-graphs-without-commissions</a></p>

<pre><code>    #: Set commissions and slippage to 0 to determine pure alpha  
    set_commission(commission.PerShare(cost=0, min_trade_cost=0))  
    set_slippage(slippage.FixedSlippage(spread=0))  
</code></pre>

<p>Here is the original algo with slippage/commission on.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='584efe60a487e13d3a000375' id='584efe60a487e13d3a000375'>
<a href='#584efe60a487e13d3a000375'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54bc7dc9274d0d4adc000143'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/eb824bc94ce390aa3b5f052b631493ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54bc7dc9274d0d4adc000143'>Chao Guo</a>
</div>
<a UTCms='1481571949000' class='quanto-date posted-at response-posted-at' href='#584efe60a487e13d3a000375'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Rob:</p>

<p>Thanks for sharing insight on incorporating price action rather than earning beat/miss alone. As you said, there might be other nuances on the earning release.</p>

<p>One question, you argument about limited capital. Does that apply to both long and short PEAD? If you run a long/short hedge fund, wouldn&#39;t you be able to apply a higher leverage than a long only fund, i.e. more access to capital?</p>

<p>A side note regarding achieving dollar/beta neutral by using SPY. An alternative is using sector ETF which can hedge out sector performance issues.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b0c2c07283d1d003a934fc2' id='5b0c2c07283d1d003a934fc2'>
<a href='#5b0c2c07283d1d003a934fc2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1527524359000' class='quanto-date posted-at response-posted-at' href='#5b0c2c07283d1d003a934fc2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Why is there that when I clone the Algo and run it, I get vastly different results then what is shown above?  Anybody else has the same problem?</p>

<p>/Luc</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b0d69fac546af004806ba5f' id='5b0d69fac546af004806ba5f'>
<a href='#5b0d69fac546af004806ba5f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1527605754000' class='quanto-date posted-at response-posted-at' href='#5b0d69fac546af004806ba5f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Any one care to answer or try to clone the algo and see if they get the posted performance?   </p>

<p>Thanks,  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b0d7a9e6cb233066da9f7f8' id='5b0d7a9e6cb233066da9f7f8'>
<a href='#5b0d7a9e6cb233066da9f7f8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50842732cb5e1a02000000d1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f86535a7fafab6b7d903fc1461362f0a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50842732cb5e1a02000000d1'>James Villa</a>
<span class='badge medal'></span>
</div>
<a UTCms='1527610014000' class='quanto-date posted-at response-posted-at' href='#5b0d7a9e6cb233066da9f7f8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@luc,</p>

<p>New backtest is defaulted to new slippage model, 5 basis points fixed, 10% volume limit.  Believe above algos does not account for slippage nor commissions.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b0d802d01ee8a003cc5820b' id='5b0d802d01ee8a003cc5820b'>
<a href='#5b0d802d01ee8a003cc5820b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1527611437000' class='quanto-date posted-at response-posted-at' href='#5b0d802d01ee8a003cc5820b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>James,</p>

<p>Thanks for answering.  I still don&#39;t get it.  The algo (the first posted one in this thread) has already the slip and commission set to zero:</p>

<pre><code>set_commission(commission.PerShare(cost=0, min_trade_cost=0))  
set_slippage(slippage.FixedSlippage(spread=0))
</code></pre>

<p>And I still don&#39;t get anywhere near the same results.  There are no warnings that this algo is using deprecated api (althought it does not use the optimize api).</p>

<p>Any thoughts?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b0d81b4c546af004e06bc5d' id='5b0d81b4c546af004e06bc5d'>
<a href='#5b0d81b4c546af004e06bc5d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/50842732cb5e1a02000000d1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f86535a7fafab6b7d903fc1461362f0a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/50842732cb5e1a02000000d1'>James Villa</a>
<span class='badge medal'></span>
</div>
<a UTCms='1527611828000' class='quanto-date posted-at response-posted-at' href='#5b0d81b4c546af004e06bc5d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@luc,</p>

<p>I may be wrong but I believe the New Backtest automatically defaults to the new slippage model and overrides other/previous settings to ensure it complies with contest rules.  You can try it under the old backtest by adding /old after the backtest id number.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b0daafd17748d0042cb9813' id='5b0daafd17748d0042cb9813'>
<a href='#5b0daafd17748d0042cb9813'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1527622397000' class='quanto-date posted-at response-posted-at' href='#5b0daafd17748d0042cb9813'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>James,</p>

<p>Thanks for the suggestion.  I added /old to the backtest and it just shows the same results but with the old format. The performance is the same.  I could not find anywhere in the documentation anything related to the custom commission and slippage being overridden.</p>

<p>This seemed like a well performing algo.  Too bad.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b0dbf9317748d003ccb98e5' id='5b0dbf9317748d003ccb98e5'>
<a href='#5b0dbf9317748d003ccb98e5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55eefc2af269c592d80008a9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8985b490c95e135c2bbcd7d1a0dce16b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55eefc2af269c592d80008a9'>Jamie McCorriston</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1527627667000' class='quanto-date posted-at response-posted-at' href='#5b0dbf9317748d003ccb98e5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@luc, @James</p>

<p>If you set custom slippage and commission, they should take precedence over the default, regardless of the backtest screen.</p>

<p>~It&#39;s possible that the different result is coming from the <a href="https://www.quantopian.com/posts/faster-fundamental-data">fundamental data overhaul</a> that we did in Oct. 2017. The changes included many data corrections which can have a compounding effect on a long backtest like the ones on this thread. Can you attach a copy of your clone so we can see if anything else is different?~</p>

<p>EDIT: It&#39;s unlikely that the fundamental data changes actually had an impact here, since they only affect the Q500US constituency, not the actual signal.</p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5b0dc5866b7c1e0046d2e19c' id='5b0dc5866b7c1e0046d2e19c'>
<a href='#5b0dc5866b7c1e0046d2e19c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/584709c0d105bc4727000072'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fbbdf71510a43bd01dc2b787ecd3c797?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/584709c0d105bc4727000072'>luc prieur</a>
</div>
<a UTCms='1527629190000' class='quanto-date posted-at response-posted-at' href='#5b0dc5866b7c1e0046d2e19c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@jamie, </p>

<p>Here is my back test.  Same exact code as the original post.</p>

<p>/Luc</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b0dc5d017748d0042cb9994' id='5b0dc5d017748d0042cb9994'>
<a href='#5b0dc5d017748d0042cb9994'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5929c5f4a76c22000d329d92'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5ec18483d35ccb497ca800f820998851?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5929c5f4a76c22000d329d92'>Leo M</a>
<span class='badge medal'></span>
</div>
<a UTCms='1527629264000' class='quanto-date posted-at response-posted-at' href='#5b0dc5d017748d0042cb9994'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>/old is just a different (prior) view of underlying backtest returns.</p>

<p>For old results  you will have to force slippage to the Volumeshareslippage something like here<br>
<a href="https://www.quantopian.com/posts/documentation-question-about-slippage">https://www.quantopian.com/posts/documentation-question-about-slippage</a>  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/backtesting-and-discussion-of-driven-to-distraction-paper'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/backtesting-and-discussion-of-driven-to-distraction-paper'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#76101313121417151d36070317180219061f17185815191b">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
