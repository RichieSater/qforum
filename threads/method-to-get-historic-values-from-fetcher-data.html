<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Method to get historic values from fetcher data
</title>
<meta content='When using fetcher, the History function currently doesn&#39;t return the values fetched from data. One is limited to using the standard price,mavg, etc. If you want more than that, you must collect the values yourself in an array, which means your have created a warm-up period for the algorithm. This can be tolerated for backtesting, but is a real problem for live algorithms.  Thanks to Seong Lee of the Quantopian engineering staff, who came up with this clever workaround which will allow me to...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="kXP+v3Mq/PdErOE8+TXc37eQOXed8S0rBQveS0JxD5vtFYjy0dwuFP2xuA222nSrjx4aHuc9ODCHBAUh6DRtIA==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/method-to-get-historic-values-from-fetcher-data' property='og:url'>
<meta content='Method to get historic values from fetcher data' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/method-to-get-historic-values-from-fetcher-data' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Method to get historic values from fetcher data' property='og:title'>
<meta content='When using fetcher, the History function currently doesn&#39;t return the values fetched from data. One is limited to using the standard price,mavg, etc. If you want more than that, you must collect the values yourself in an array, which means your have created a warm-up period for the algorithm. This can be tolerated for backtesting, but is a real problem for live algorithms.  Thanks to Seong Lee of the Quantopian engineering staff, who came up with this clever workaround which will allow me to...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/method-to-get-historic-values-from-fetcher-data">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='543ebbff9ff0384ec3000039'>
<div class='post-container' data-post-id='543ebbff9ff0384ec3000039' id='543ebbff9ff0384ec3000039'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Method to get historic values from fetcher data</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/522b34d1aaaff3bcdd0000ec'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5141db3d49c417997bc084e64011a100?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/522b34d1aaaff3bcdd0000ec'>Richard Diehl</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1413397503000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Method to get historic values from fetcher data&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fmethod-to-get-historic-values-from-fetcher-data%3Futm_source%3Dwebsite_share%26utm_campaign%3Dmethod-to-get-historic-values-from-fetcher-data%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fmethod-to-get-historic-values-from-fetcher-data%3Futm_source%3Dwebsite_share%26utm_campaign%3Dmethod-to-get-historic-values-from-fetcher-data%26utm_medium%3Dlinkedin&amp;title=Method+to+get+historic+values+from+fetcher+data+%28Richard+Diehl%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='API' data-tag-id='55c50e7d8d4710ec6e000001' href='/posts/tag/API/newest'>API</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Fetcher' data-tag-id='55c50e7d8d4710ec6e000005' href='/posts/tag/Fetcher/newest'>Fetcher</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/method-to-get-historic-values-from-fetcher-data?utm_source=website_share&amp;utm_campaign=method-to-get-historic-values-from-fetcher-data&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Richard Diehl" />
<div class='body-text'>
<div class='body-text-container post-body'><p>When using fetcher, the History function currently doesn&#39;t return the values fetched from data. One is limited to using the standard price,mavg, etc. If you want more than that, you must collect the values yourself in an array, which means your have created a warm-up period for the algorithm. This can be tolerated for backtesting, but is a real problem for live algorithms. </p>

<p>Thanks to Seong Lee of the Quantopian engineering staff, who came up with this clever workaround which will allow me to relaunch my live algorithm this week, using a vix slope calculation.</p>

<p>The algorithm gets around the limitation of returning a single item per day, by stuffing all the values into a string and passing back that single string, and then splitting the string and converting it back to numeric values.</p>

<p>I&#39;ve tested it live and in simulation.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>26 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='543f071fa8faa6d390000147' id='543f071fa8faa6d390000147'>
<a href='#543f071fa8faa6d390000147'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5258725aa09fa7ebaa000024'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7734b86e32e834268bee6749eb322fb4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5258725aa09fa7ebaa000024'>David Edwards</a>
</div>
<a UTCms='1413416737000' class='quanto-date posted-at response-posted-at' href='#543f071fa8faa6d390000147'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Richard,<br>
Thanks for sharing, fetcher/history issues are something I&#39;ve run into as well. I&#39;m not 100% sure if this will apply to your specific case, but if you would like to do historical calculations on fetched data, there is one other option I have found. </p>

<p>If you add a pre_func argument to the fetch_csv function, you will have access to the entire dataframe while in that function. That means you can apply rolling calculations on the data and append the results as new columns. This example here adds a moving average and standard deviation field to the VIX data. You will have to be careful not to introduce look ahead bias though.  </p>

<p>David  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='543f2724334aa839fd00000e' id='543f2724334aa839fd00000e'>
<a href='#543f2724334aa839fd00000e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/522b34d1aaaff3bcdd0000ec'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5141db3d49c417997bc084e64011a100?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/522b34d1aaaff3bcdd0000ec'>Richard Diehl</a>
</div>
<a UTCms='1413424935000' class='quanto-date posted-at response-posted-at' href='#543f2724334aa839fd00000e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>David<br>
       Seong Lee suggested this to me first, but I wanted something a bit more generic, because I have a lot of code and I wanted the flexibility of having the array of values to manipulate. But it&#39;s good that you mentioned it, because for many people it&#39;s probably a better solution.</p>

<p>Rich  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55a2197a9d60f12694000303' id='55a2197a9d60f12694000303'>
<a href='#55a2197a9d60f12694000303'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1436686717000' class='quanto-date posted-at response-posted-at' href='#55a2197a9d60f12694000303'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I just discovered the need for this, but I think I&#39;ll have to do the packed string method - I need to calculate historical spreads between various fetched time-series.  Thanks, I look forward to a better way of doing this one day though!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55b0bfc3360286b0f3000500' id='55b0bfc3360286b0f3000500'>
<a href='#55b0bfc3360286b0f3000500'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/554695a91206d6826a000126'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/88c2459a8c19a403e42b92acae2efb43?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/554695a91206d6826a000126'>JOHN CHAN</a>
</div>
<a UTCms='1437646790000' class='quanto-date posted-at response-posted-at' href='#55b0bfc3360286b0f3000500'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi dAVid... what is the difference... between... te first chart and your chart...?? are you using... vix as buy and sell signal... or its already in the algo... that when the vix spikes... automatic buy some stocks... puzzled....  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55b432207922ee2f6c000732' id='55b432207922ee2f6c000732'>
<a href='#55b432207922ee2f6c000732'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5259397aa09fa7a87d00011e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b988ce14b6cc9090b0ac4a33ac70b2c0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5259397aa09fa7a87d00011e'>André Pajak</a>
</div>
<a UTCms='1437872675000' class='quanto-date posted-at response-posted-at' href='#55b432207922ee2f6c000732'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@David - Don&#39;t the <code>mean</code> and <code>std</code> seem to be going right to left in your chart?  Have in mind that Yahoo historical data comes in reverse-chronological order.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568d93c31da6d2aa02000162' id='568d93c31da6d2aa02000162'>
<a href='#568d93c31da6d2aa02000162'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/507e7ef7250d1202000000c5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ab30013bb9f301e21a024e830553c253?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/507e7ef7250d1202000000c5'>Klon</a>
</div>
<a UTCms='1452118983000' class='quanto-date posted-at response-posted-at' href='#568d93c31da6d2aa02000162'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just realized fetch_csv does not work in live mode. I am stunned that the fetch_csv function was even introduced without proper support in live execution. Now my algo is stuck in backtest mode without this brittle hack.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568d93fccf8cc3997e0001a1' id='568d93fccf8cc3997e0001a1'>
<a href='#568d93fccf8cc3997e0001a1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1452119044000' class='quanto-date posted-at response-posted-at' href='#568d93fccf8cc3997e0001a1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It works for me, you just can&#39;t enter them into the contest.  What is the issue you are seeing?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568d94ddcf8cc3997e0001a6' id='568d94ddcf8cc3997e0001a6'>
<a href='#568d94ddcf8cc3997e0001a6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1452119268000' class='quanto-date posted-at response-posted-at' href='#568d94ddcf8cc3997e0001a6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><a href="https://www.quantopian.com/posts/function-like-history-but-for-fetch-csv-data">https://www.quantopian.com/posts/function-like-history-but-for-fetch-csv-data</a></p>

<p>This is the unpleasant hack I use to get access to some number of historical rows of data from fetch_csv, in a way that avoids look-ahead bias.  It&#39;s been working well enough for a couple of months of live trading though.</p>

<p>EDIT: And all due credit to the above Richard Diehl and Seong Lee for the original idea!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568d96701da6d2aa0200018e' id='568d96701da6d2aa0200018e'>
<a href='#568d96701da6d2aa0200018e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/507e7ef7250d1202000000c5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ab30013bb9f301e21a024e830553c253?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/507e7ef7250d1202000000c5'>Klon</a>
</div>
<a UTCms='1452119669000' class='quanto-date posted-at response-posted-at' href='#568d96701da6d2aa0200018e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you Simon, I will have a look!</p>

<p>The main issue as I see with these workarounds is that they increase risk of bugs in live algorithms, where you&#39;d least want increased risk. I&#39;d be much happier Quantopian built a consistent API where the difference between live and backtesting was minimal.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568d97351da6d2af1f00019f' id='568d97351da6d2af1f00019f'>
<a href='#568d97351da6d2af1f00019f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1452119865000' class='quanto-date posted-at response-posted-at' href='#568d97351da6d2af1f00019f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah I absolutely agree, but I think fetch_csv in general is something that Quantopian has less interest in supporting these days, so I think it&#39;s basically take-it-or-leave-it.  Don&#39;t want to speak for them though.</p>

<p>Good motivation to keep alternative options on the back burner!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568d9836cf8cc3c0ec000032' id='568d9836cf8cc3c0ec000032'>
<a href='#568d9836cf8cc3c0ec000032'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/507e7ef7250d1202000000c5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ab30013bb9f301e21a024e830553c253?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/507e7ef7250d1202000000c5'>Klon</a>
</div>
<a UTCms='1452120128000' class='quanto-date posted-at response-posted-at' href='#568d9836cf8cc3c0ec000032'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah, the new pivot seems to be selling data so the motivation for providing methods for people to get their own is diminishing I guess!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568e6628e9871e369900001e' id='568e6628e9871e369900001e'>
<a href='#568e6628e9871e369900001e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5259397aa09fa7a87d00011e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b988ce14b6cc9090b0ac4a33ac70b2c0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5259397aa09fa7a87d00011e'>André Pajak</a>
</div>
<a UTCms='1452172846000' class='quanto-date posted-at response-posted-at' href='#568e6628e9871e369900001e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Klon - I&#39;d be much happier Quantopian did not release tools that allow you to calculate moving averages based on <em>future</em> data; and when the bug was discovered (see July 25, 2015, above), admit and correct it, rather than just quietly disallowing it in the contest.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='568eaa4c250706f2eb0000d2' id='568eaa4c250706f2eb0000d2'>
<a href='#568eaa4c250706f2eb0000d2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1452190290000' class='quanto-date posted-at response-posted-at' href='#568eaa4c250706f2eb0000d2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah, fetch_csv can be tricky to use properly.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57cdef153ad9de233d00001f' id='57cdef153ad9de233d00001f'>
<a href='#57cdef153ad9de233d00001f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1473113883000' class='quanto-date posted-at response-posted-at' href='#57cdef153ad9de233d00001f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There is no simple way. To do it correctly, you must do it the complicated way.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ce1709cd79deb07600021c' id='57ce1709cd79deb07600021c'>
<a href='#57ce1709cd79deb07600021c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1473124112000' class='quanto-date posted-at response-posted-at' href='#57ce1709cd79deb07600021c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Perhaps try printing the specific value you are interested in, the same way you are recording it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57d0661e730db319b700018e' id='57d0661e730db319b700018e'>
<a href='#57d0661e730db319b700018e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1473275436000' class='quanto-date posted-at response-posted-at' href='#57d0661e730db319b700018e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><code>data.current(&#39;vix&#39;, &#39;Adj Close&#39;)</code></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dcc4f8f1fdce5a7b000488' id='57dcc4f8f1fdce5a7b000488'>
<a href='#57dcc4f8f1fdce5a7b000488'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57dcb18e1c865819c40003a4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5c2790cbb0f55896af0e0051a52f1b84?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57dcb18e1c865819c40003a4'>Zippy 129</a>
</div>
<a UTCms='1474086142000' class='quanto-date posted-at response-posted-at' href='#57dcc4f8f1fdce5a7b000488'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I posted a simple version of saving the data to an array:</p>

<p><a href="https://www.quantopian.com/posts/fetcher-history-calculate-moving-average">https://www.quantopian.com/posts/fetcher-history-calculate-moving-average</a></p>

<p>Very good idea about adding a column of data...that really just skips the need to capture the array. Thinking about it now, I would just process the dataframe and then replace it with the values I need on a daily basis.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ddaa59d038d0b3e0000129' id='57ddaa59d038d0b3e0000129'>
<a href='#57ddaa59d038d0b3e0000129'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57dcb18e1c865819c40003a4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5c2790cbb0f55896af0e0051a52f1b84?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57dcb18e1c865819c40003a4'>Zippy 129</a>
</div>
<a UTCms='1474144863000' class='quanto-date posted-at response-posted-at' href='#57ddaa59d038d0b3e0000129'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Winston ,</p>

<p>See if this works for you. Just make sure to spot check a few values to make sure my logic is right.</p>

<pre><code>from collections import deque

def initialize(context):

    context.vix_fields = [&#39;Adj Close&#39;, &#39;High&#39;, &#39;Low&#39;, &#39;Open&#39;]  
    context.vix = {}  
    for field in context.vix_fields:  
        context.vix[field] = deque([], 5)

    url = &#39;http://ichart.finance.yahoo.com/&#39;  
    url += &#39;table.csv?s=%5EVIX&amp;d=0&amp;e=1&amp;f=2017&amp;g=d&amp;a=0&amp;b=1&amp;c=2010&amp;ignore=.csv&quot;&#39;  
    fetch_csv(url,  
              date_column=&#39;Date&#39;,  
              date_format=&#39;%Y-%m-%d&#39;,  
              symbol=&#39;vix&#39;,  
              usecols=context.vix_fields) 

def before_trading_start(context, data):

    for field in context.vix_fields:  
        val = data.current(&#39;vix&#39;, field)  
        context.vix[field].appendleft(val)

    # today&#39;s open  
    print &#39;open - %.2f&#39; % context.vix[&#39;Open&#39;][0]

    # yesterday&#39;s high/low (check that we have more than one day&#39;s data)  
    if len(context.vix[&#39;Open&#39;]) &gt; 1:  
        print &#39;yesterday high/low - %.2f/%.2f&#39; % (context.vix[&#39;High&#39;][1], context.vix[&#39;Low&#39;][1])  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ddb7c3f4b69f1f76000072' id='57ddb7c3f4b69f1f76000072'>
<a href='#57ddb7c3f4b69f1f76000072'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57dcb18e1c865819c40003a4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5c2790cbb0f55896af0e0051a52f1b84?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57dcb18e1c865819c40003a4'>Zippy 129</a>
</div>
<a UTCms='1474148298000' class='quanto-date posted-at response-posted-at' href='#57ddb7c3f4b69f1f76000072'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Winston and thanks :-)</p>

<p>Here, I will give you the cliff notes:</p>

<p>initialize:<br>
- create array of csv fields at context.vix_fields<br>
- create dictionary at context.vix<br>
- initialize dictionary with deques (see <a href="https://docs.python.org/2/library/collections.html#deque-objects">https://docs.python.org/2/library/collections.html#deque-objects</a>)<br>
- make call for csv file</p>

<p>before_trading_starts:<br>
- loop through field names, get data value for each field and add to context.vix dict</p>

<p>context.vix contains last five days of data. You can change deque([], 5) to some other number.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57df5a3b10b406a1f5000378' id='57df5a3b10b406a1f5000378'>
<a href='#57df5a3b10b406a1f5000378'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57dcb18e1c865819c40003a4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5c2790cbb0f55896af0e0051a52f1b84?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57dcb18e1c865819c40003a4'>Zippy 129</a>
</div>
<a UTCms='1474255425000' class='quanto-date posted-at response-posted-at' href='#57df5a3b10b406a1f5000378'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Winston,</p>

<p>this works:</p>

<pre><code>    if len(context.vix[&#39;Adj Close&#39;]) &gt; 1:  
        vix_close_yesterday = context.vix[&#39;Adj Close&#39;][1]  
        print vix_close_yesterday  
</code></pre>

<p>basically, what is happening is we are creating the data structure in the initialization function. The data structure looks like this:</p>

<pre><code>context.vix = {  
    &#39;Open&#39;: deque([], 5),  
    &#39;High&#39;: deque([], 5),  
    &#39;Low&#39;: deque([], 5),  
    &#39;Adj Close&#39;: deque([], 5)  
}
</code></pre>

<p>For reference:<br>
<a href="https://docs.python.org/2/tutorial/datastructures.html#dictionaries">https://docs.python.org/2/tutorial/datastructures.html#dictionaries</a><br>
<a href="https://docs.python.org/2/library/collections.html#deque-objects">https://docs.python.org/2/library/collections.html#deque-objects</a></p>

<p>The deque is initialized with an empty list as a container and will be max length of 5 elements. Then in the before_trading_start function, which is called everyday, we are filling in the data. We get an index error if we try to access an element before the data has been filled in. Once we get the five elements, going on older values are dropped and new values are added. </p>

<p>So, at the start of the backtest, if we want to access context.vix[&#39;High&#39;][1] first we need to test that context.vix[&#39;High&#39;] has a length greater than one (since lists are indexed starting at zero). To access context.vix[&#39;High&#39;][2], test that the deque has a length greater than two, etc. up to context.vix[&#39;High&#39;][4] which needs a length greater than four because we want the fifth element.</p>

<p>If you need more than five days, change the deque number in the initialization function.</p>

<p>Hope that helps...it is harder to explain than it is to code :-)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57df5ce89c119219b0000366' id='57df5ce89c119219b0000366'>
<a href='#57df5ce89c119219b0000366'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57dcb18e1c865819c40003a4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5c2790cbb0f55896af0e0051a52f1b84?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57dcb18e1c865819c40003a4'>Zippy 129</a>
</div>
<a UTCms='1474256111000' class='quanto-date posted-at response-posted-at' href='#57df5ce89c119219b0000366'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Less fancy, which is sometimes better!  </p>

<pre><code>from collections import deque

def initialize(context):  
    context.vix = {  
        &#39;Open&#39;: deque([], 5),  
        &#39;High&#39;: deque([], 5),  
        &#39;Low&#39;: deque([], 5),  
        &#39;Adj Close&#39;: deque([], 5)  
    }  
    url = &#39;http://ichart.finance.yahoo.com/table.csv&#39;  
    url += &#39;?s=%5EVIX&amp;d=0&amp;e=1&amp;f=2017&amp;g=d&amp;a=0&amp;b=1&amp;c=2010&amp;ignore=.csv&quot;&#39;  
    fetch_csv(url, date_column=&#39;Date&#39;, symbol=&#39;vix&#39;)  

def before_trading_start(context, data):  
    for field in [&#39;Open&#39;, &#39;High&#39;, &#39;Low&#39;, &#39;Adj Close&#39;]:  
        val = data.current(&#39;vix&#39;, field)  
        context.vix[field].appendleft(val)  

    print &#39;open - %.2f&#39; % context.vix[&#39;Open&#39;][0]  

    if len(context.vix[&#39;Open&#39;]) &gt; 1:  
        print &#39;high - %.2f&#39; % context.vix[&#39;High&#39;][1]  
        print &#39;low - %.2f&#39; % context.vix[&#39;Low&#39;][1]  
        print &#39;close - %.2f&#39; % context.vix[&#39;Adj Close&#39;][1]  
</code></pre>

<p>Note that  %.2f rounds the float. See:<br>
<a href="https://docs.python.org/2/library/string.html#formatspec">https://docs.python.org/2/library/string.html#formatspec</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57df6968e8d1a743d4000425' id='57df6968e8d1a743d4000425'>
<a href='#57df6968e8d1a743d4000425'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1474259311000' class='quanto-date posted-at response-posted-at' href='#57df6968e8d1a743d4000425'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Trouble with these methods is they take time to &quot;warm up&quot; in live trading. That becomes more tedious when you need 30+ days of history.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57df6e7e9c1192545c000412' id='57df6e7e9c1192545c000412'>
<a href='#57df6e7e9c1192545c000412'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57dcb18e1c865819c40003a4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5c2790cbb0f55896af0e0051a52f1b84?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57dcb18e1c865819c40003a4'>Zippy 129</a>
</div>
<a UTCms='1474260611000' class='quanto-date posted-at response-posted-at' href='#57df6e7e9c1192545c000412'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>True, Simon. Winston only needs five days of data. Of course, if you need 30 days of data, you can do something like this:  </p>

<pre><code>def shift(df):  
    vals = df[&#39;Close&#39;].shift(-30)  
    df[&#39;Last Month Close&#39;] = vals  
    return df

def initialize(context):  
    url = &#39;http://ichart.finance.yahoo.com/table.csv&#39;  
    url += &#39;?s=%5EVIX&amp;d=0&amp;e=1&amp;f=2017&amp;g=d&amp;a=0&amp;b=1&amp;c=2010&amp;ignore=.csv&quot;&#39;  
    fetch_csv(url, date_column=&#39;Date&#39;, symbol=&#39;vix&#39;, pre_func=shift)  

def before_trading_start(context, data):  
    for field in [&#39;Close&#39;, &#39;Last Month Close&#39;]:  
        val = data.current(&#39;vix&#39;, field)  
        print &#39;%s - %.2f&#39; % (field, val)  
</code></pre>

<p>There&#39;s more than one way to skin a cat :-)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57df6f567d3fa2409a000426' id='57df6f567d3fa2409a000426'>
<a href='#57df6f567d3fa2409a000426'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1474260832000' class='quanto-date posted-at response-posted-at' href='#57df6f567d3fa2409a000426'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Extend that to an arbitrary number of days in the past, and you might get a solution similar to the one I posted last year. :)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57df710310b406a1f500043c' id='57df710310b406a1f500043c'>
<a href='#57df710310b406a1f500043c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57dcb18e1c865819c40003a4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5c2790cbb0f55896af0e0051a52f1b84?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57dcb18e1c865819c40003a4'>Zippy 129</a>
</div>
<a UTCms='1474261258000' class='quanto-date posted-at response-posted-at' href='#57df710310b406a1f500043c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>haha...I guess there is always someone reinventing the wheel :-)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e078c8c4e345855f0000cb' id='57e078c8c4e345855f0000cb'>
<a href='#57e078c8c4e345855f0000cb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57dcb18e1c865819c40003a4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5c2790cbb0f55896af0e0051a52f1b84?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57dcb18e1c865819c40003a4'>Zippy 129</a>
</div>
<a UTCms='1474328787000' class='quanto-date posted-at response-posted-at' href='#57e078c8c4e345855f0000cb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey, thanks too, Winston...I also figured out a bunch of stuff working through this with you!  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/method-to-get-historic-values-from-fetcher-data'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/method-to-get-historic-values-from-fetcher-data'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#a1c7c4c4c5c3c0c2cae1d0d4c0cfd5ced1c8c0cf8fc2cecc">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
