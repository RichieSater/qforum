<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Alpha Compiler
</title>
<meta content='I was quite excited about the 101 Alphas Project and the paper  &quot;101 Formulaic Alphas&quot; .   So I wrote a compiler that takes an alpha equation and generates a Quantopian Pipeline factor.  Attached is a notebook with 77 of the 101 alphas, see below as to why there are only 77.  I have tested the following alphas on Quantopian: 1-20, 23, 33, 41, 57, and 101, I could use some help testing the others, spotting bugs, and or any useful feedback.  (If you think the notion of alphas, or long-short...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="MOljjWye97dqin7qWnJdvWnHOjrAO8ck5tN1/ncjS49MjxXAzmglVNOXJ9sVnfXJUUkZU7r30j9k3K6U3WYpNA==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=true;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/alpha-compiler' property='og:url'>
<meta content='Alpha Compiler' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/alpha-compiler' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Alpha Compiler' property='og:title'>
<meta content='I was quite excited about the 101 Alphas Project and the paper  &quot;101 Formulaic Alphas&quot; .   So I wrote a compiler that takes an alpha equation and generates a Quantopian Pipeline factor.  Attached is a notebook with 77 of the 101 alphas, see below as to why there are only 77.  I have tested the following alphas on Quantopian: 1-20, 23, 33, 41, 57, and 101, I could use some help testing the others, spotting bugs, and or any useful feedback.  (If you think the notion of alphas, or long-short...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/alpha-compiler">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='5818ad4f35aeb0428d0001eb'>
<div class='post-container' data-post-id='5818ad4f35aeb0428d0001eb' id='5818ad4f35aeb0428d0001eb'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Alpha Compiler</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e05aaf3a4c589d0009ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bdda3882c7b4b607ca34ae9a4029810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e05aaf3a4c589d0009ab'>Peter Harrington</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1478012239000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Alpha Compiler&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Falpha-compiler%3Futm_source%3Dwebsite_share%26utm_campaign%3Dalpha-compiler%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Falpha-compiler%3Futm_source%3Dwebsite_share%26utm_campaign%3Dalpha-compiler%26utm_medium%3Dlinkedin&amp;title=Alpha+Compiler+%28Peter+Harrington%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Show Q' data-tag-id='55c50e7d8d4710ec6e000010' href='/posts/tag/Show-Q/newest'>Show Q</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Stat Arb' data-tag-id='55d33f863f6ba10065000003' href='/posts/tag/Stat-Arb/newest'>Stat Arb</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Pipeline' data-tag-id='561525bcf252a59171000001' href='/posts/tag/Pipeline/newest'>Pipeline</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='101 Alphas Project' data-tag-id='56bce9c377666653bf000001' href='/posts/tag/101-Alphas-Project/newest'>101 Alphas Project</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/alpha-compiler?utm_source=website_share&amp;utm_campaign=alpha-compiler&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Peter Harrington" />
<div class='body-text'>
<div class='body-text-container post-body'><p>I was quite excited about the 101 Alphas Project and the paper <a href="http://papers.ssrn.com/sol3/papers.cfm?abstract_id=2701346">&quot;101 Formulaic Alphas&quot;</a>.   So I wrote a compiler that takes an alpha equation and generates a Quantopian Pipeline factor.  Attached is a notebook with 77 of the 101 alphas, see below as to why there are only 77.  I have tested the following alphas on Quantopian: 1-20, 23, 33, 41, 57, and 101, I could use some help testing the others, spotting bugs, and or any useful feedback.  (If you think the notion of alphas, or long-short equity is a waste of time please - save it for another thread.)  </p>

<p><strong>The biggest problem is correlation</strong>, 51/101 alphas contain the correlation operator and I did properly implement it, however it is slow.  One month of data takes 14min to process. The real problem is even though I set the screen to 500, or 1500 equities the custom factor is still processing over 8000 equities.  Perhaps I am not using the screen correctly?  From what I have read this is the intended behavior.  <a href="https://www.quantopian.com/posts/pipeline-set-screen-by-sid">There seems to be a work-around</a> that I may try to speed things up.  </p>

<p><strong>Things I didn&#39;t implement</strong>, (why there are 77 not 101 alphas):</p>

<p>-Run-Time Time Series:  Most alphas involve some time-series operator, and for most of these time-series operators the number of days that the operator is applied is known at compile time.  However there are nine alphas (71, 73, 76, 77, 82, 87, 88, 92, 96) that have a time-series operator that is not known until run-time.  This could be done, however it would involve a nasty for-loop that would need to iterate over every equity.  If you looked at every one of these you would notice, the dynamic operator is actually on a max() or min(), the notes say that max() = ts_max(), but I suspect in these examples max() actually behaves by returning the largest of the arguments.  I actually contacted the author of the paper, but he couldn&#39;t say anything that was not already in the paper.<br>
   -IndNeutralize, I simply didn&#39;t get around to this.  See Alpha#97.  I think it is very valuable, any ideas?<br>
   -Fractional time-series days.  There are a handful of time series operators that use a number of days that are not whole numbers like: 9.991009 See Alpha#62 as an example.  For these I simply round the number to the nearest integer.<br>
   -Logical to floating point.  There are a few places where a logical operation is used like a floating point vector.  See Alpha#95.  Here I was not sure what value to assign to False (assuming 1.0 for True) 0.0 or -1.0?  </p>

<p><strong>A note on the distasteful for-loops:</strong>   I originally wrote the for-loops as a way to reason about how the data needed to be arranged for the proper time-series operations with the intention of later rewriting them as matrix operations.  for-loops are slower than matrix operations, as the looping is done in c or Fortran in a matrix operation.  However what I noticed was that these for loops are not that bad.  There is never a for loop which loops over the equities, it is always days which are usually in the single digits.  Even an alpha with five embeded loops like Alpha29 does not appear to take much longer than an alpha with no loops.  For the time being I have no plans to remove the for loops.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>31 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='5818c80335aeb0842000023d' id='5818c80335aeb0842000023d'>
<a href='#5818c80335aeb0842000023d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4e322fa200fffd0001000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f59406ed486edc76c94544468c11344d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4e322fa200fffd0001000001'>Scott Sanderson</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1478019082000' class='quanto-date posted-at response-posted-at' href='#5818c80335aeb0842000023d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Peter,</p>

<p>This looks like very interesting work!  I&#39;d be love to see your compiler if you&#39;re willing to share.  A few comments/responses to your particular questions:</p>

<p><strong>Using screen</strong>:  You&#39;re correct that passing a <code>screen</code> to your Pipeline doesn&#39;t change the data that&#39;s supplied to your CustomFactor compute functions.  What passing a <code>screen</code> does is define a post-processing step to be applied on the final output of your pipeline: all your terms get computed without any knowledge of the screen, and as a final step we throw out the rows for any asset that doesn&#39;t pass the screen.  In general, it would be very hard to automatically apply a screen to all the terms in your pipeline.  Consider, for example, a Pipeline that wants to get the returns for all assets whose daily returns are greater than zero:</p>

<pre><code>rets = Returns(window_length=2)  
pipe = Pipeline({&#39;rets&#39;: rets}, screen=(rets &gt; 0))  
</code></pre>

<p>there&#39;s no way for us to pre-emptively apply the screen to the <code>rets</code> term of the pipeline, because we need the <code>rets</code> term to calculate the screen in the first place!</p>

<p>If you want to tell a <code>Factor</code> (or a <code>Filter</code> or <code>Classifier</code>) to compute on only a subset of all assets, you want to pass a <code>Filter</code> as the <code>mask</code> parameter to that factor.  For example, here&#39;s a pipeline that computes <code>SomeFactor</code> on just the assets that have positive daily returns for the previous day:</p>

<pre><code>class SomeFactor(CustomFactor):  
    window_length = ...   # Omitted for brevity  
    inputs = (...)

rets = Returns(window_length=2)

pipe = Pipeline({&#39;my_factor&#39;: SomeFactor(mask=(rets &gt; 0))}, screen=rets)  
</code></pre>

<p><strong>Computing Ranks</strong>:  One thing I notice is that you&#39;re manually calling <code>rankdata()</code> on each output row for many of your factors.  Most of the time, if you want a rank on some numerical value, a more efficient and composable implementation is to just calculate the raw value in your CustomFactor, and to then call <a href="https://www.quantopian.com/help#quantopian_pipeline_factors_Factor_rank"><code>rank()</code></a> on your factor instance.  <code>rank()</code> produces a new factor that computes ranks over the original factor.  For example, here&#39;s a pipeline that computes ranks of daily returns (I&#39;m using returns in all the examples here for simplicity, but  <a href="https://github.com/quantopian/zipline/blob/master/zipline/pipeline/factors/technical.py#L43"><code>Returns</code> is just a vanilla CustomFactor defined in Zipline</a></p>

<pre><code>pipe = Pipeline({&#39;rets_rank&#39;: Returns(window_length=2).rank()})  
</code></pre>

<p>There are three major benefits to this approach:</p>

<ol>
<li>It&#39;s faster, because the <code>rank</code> calculation is applied in one vectorized loop over the timeperiod for which your factor is computed.<br></li>
<li><code>rank</code> supports <code>mask</code> and <code>groupby</code> parameters, which allow you to filter out and/or group data in interesting ways.<br></li>
<li>It&#39;s easy to switch to another <a href="https://www.quantopian.com/help#normalizing-results">normalization method</a> like <code>zscore</code> or <code>demean</code>, both of which provide the same interface as <code>rank</code>.</li>
</ol>

<p><strong>Computing Correlations:</strong>  You mention in your example that computing correlation coefficients is slow.  You might want to take a look at the <a href="https://www.quantopian.com/help#quantopian_pipeline_factors_Factor_pearsonr">pearsonr</a> and <a href="https://www.quantopian.com/help#quantopian_pipeline_factors_Factor_spearmanr">spearmanr</a> methods.  One complication is that those terms are not currently marked as <code>window_safe</code>, which means they&#39;re not allowed to be used as inputs to other Factors.  Both correlations are safe to use in lookback calculations, however, so I&#39;ve opened a <a href="https://github.com/quantopian/zipline/pull/1574">PR in Zipline</a> to make them window-safe.</p>

<p>All in all, this is awesome work.  Thanks for sharing!  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='581900e1da008df476000555' id='581900e1da008df476000555'>
<a href='#581900e1da008df476000555'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56138676d1f372df1d0007ec'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/841a1421c199e2ca050ba5d6842a84c7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56138676d1f372df1d0007ec'>Philipp</a>
</div>
<a UTCms='1478033639000' class='quanto-date posted-at response-posted-at' href='#581900e1da008df476000555'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>+1 to take a look at your compiler!!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581939e7fb861562e4000246' id='581939e7fb861562e4000246'>
<a href='#581939e7fb861562e4000246'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e05aaf3a4c589d0009ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bdda3882c7b4b607ca34ae9a4029810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e05aaf3a4c589d0009ab'>Peter Harrington</a>
</div>
<a UTCms='1478048237000' class='quanto-date posted-at response-posted-at' href='#581939e7fb861562e4000246'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I found two bugs, one with delay another that swapped corr and cov.  Will push a new notebook later.  </p>

<p>You guys don&#39;t want to see the code, it is really ugly.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581945b9ff5ecd0e33000051' id='581945b9ff5ecd0e33000051'>
<a href='#581945b9ff5ecd0e33000051'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e05aaf3a4c589d0009ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bdda3882c7b4b607ca34ae9a4029810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e05aaf3a4c589d0009ab'>Peter Harrington</a>
</div>
<a UTCms='1478051263000' class='quanto-date posted-at response-posted-at' href='#581945b9ff5ecd0e33000051'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Updated Notebook with bug fixes applied.  </p>

<p>@Scott thanks for your feedback, I will apply some of these suggestions.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5819a844b3f09711e10005b9' id='5819a844b3f09711e10005b9'>
<a href='#5819a844b3f09711e10005b9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573da216fda833664d000aad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a79e317c4782ce0fb09a383cc60e7def?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573da216fda833664d000aad'>Lionel Ouaknin</a>
</div>
<a UTCms='1478076494000' class='quanto-date posted-at response-posted-at' href='#5819a844b3f09711e10005b9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Great !  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581a05b5ff5ecda85c000046' id='581a05b5ff5ecda85c000046'>
<a href='#581a05b5ff5ecda85c000046'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1478100412000' class='quanto-date posted-at response-posted-at' href='#581a05b5ff5ecda85c000046'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This will definitely be useful for everyone. Perhaps Q can offer a bounty to the author to contribute this to zipline?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581e0513725b540e09001762' id='581e0513725b540e09001762'>
<a href='#581e0513725b540e09001762'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e05aaf3a4c589d0009ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bdda3882c7b4b607ca34ae9a4029810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e05aaf3a4c589d0009ab'>Peter Harrington</a>
</div>
<a UTCms='1478362394000' class='quanto-date posted-at response-posted-at' href='#581e0513725b540e09001762'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a notebook with 83/101 alphas.  I have working prototype code for the remaining alphas that I will try to push by the end of the weekend.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581eab8c5a6f594c1700030a' id='581eab8c5a6f594c1700030a'>
<a href='#581eab8c5a6f594c1700030a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1478405009000' class='quanto-date posted-at response-posted-at' href='#581eab8c5a6f594c1700030a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is really some great work!!!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581f1422ca4ac625fe00016d' id='581f1422ca4ac625fe00016d'>
<a href='#581f1422ca4ac625fe00016d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5798adfcf97268ee9e000208'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fe2e1437cda1243bd81f479a0a83cae7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5798adfcf97268ee9e000208'>Deleted User</a>
</div>
<a UTCms='1478431783000' class='quanto-date posted-at response-posted-at' href='#581f1422ca4ac625fe00016d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Cool stuff. Unfortunately, none of the ones that use VWAP are correct, because the built-in &quot;VWAP&quot; factor doesn&#39;t actually calculate VWAP. See <a href="https://www.quantopian.com/posts/the-101-alphas-project#580b485b714ff6bdb800088b">https://www.quantopian.com/posts/the-101-alphas-project#580b485b714ff6bdb800088b</a> for details.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581f4e944e6acc001500020e' id='581f4e944e6acc001500020e'>
<a href='#581f4e944e6acc001500020e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e05aaf3a4c589d0009ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bdda3882c7b4b607ca34ae9a4029810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e05aaf3a4c589d0009ab'>Peter Harrington</a>
</div>
<a UTCms='1478446751000' class='quanto-date posted-at response-posted-at' href='#581f4e944e6acc001500020e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@mhp THANKS a lot for bringing this to my attention.  I will look into that.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58263b011d3f740016000195' id='58263b011d3f740016000195'>
<a href='#58263b011d3f740016000195'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e05aaf3a4c589d0009ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bdda3882c7b4b607ca34ae9a4029810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e05aaf3a4c589d0009ab'>Peter Harrington</a>
</div>
<a UTCms='1478900494000' class='quanto-date posted-at response-posted-at' href='#58263b011d3f740016000195'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>101/101 alphas,<br>
I finished the remaining items and fixed a few bugs.  </p>

<p>One note of caution: the Quantopian built in factor for VWAP is not calculated the way that the author of the original paper (and the rest of the world) calculate VWAP.  Thanks to @mhp for pointing that out, I feel this topic deserves much more discussion but would be suited for another thread.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='586a785b6608e852f5000aae' id='586a785b6608e852f5000aae'>
<a href='#586a785b6608e852f5000aae'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e05aaf3a4c589d0009ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bdda3882c7b4b607ca34ae9a4029810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e05aaf3a4c589d0009ab'>Peter Harrington</a>
</div>
<a UTCms='1483372643000' class='quanto-date posted-at response-posted-at' href='#586a785b6608e852f5000aae'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have made a primitive web site where you can use the complier to generate code for any alpha factor.<br>
<a href="http://alphacompiler.com/">http://alphacompiler.com/</a></p>

<p>Let me know if you use it and encounter any problems.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='586b3a12702d5800120007c8' id='586b3a12702d5800120007c8'>
<a href='#586b3a12702d5800120007c8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1483422235000' class='quanto-date posted-at response-posted-at' href='#586b3a12702d5800120007c8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Great stuff. What does -1 mean. E.g. I replaced it with -5</p>

<pre><code>(-1 * correlation(open, volume, 10))
</code></pre>

<p>Then I get</p>

<pre><code>    class AlphaX(CustomFactor):  
        inputs = [USEquityPricing.volume, USEquityPricing.open]  
        window_length = 10

        def compute(self, today, assets, out, volume, open):  
            v0 = np.full(out.shape[0], -5.0)  
            v10 = np.empty((10, out.shape[0]))  
            for i0 in range(1, 11):  
                v10[-i0] = open[-i0]  
            v11 = np.empty((10, out.shape[0]))  
            for i0 in range(1, 11):  
                v11[-i0] = volume[-i0]  
            v1 = pd.DataFrame(v10).rolling(window=10).corr(pd.DataFrame(v11)).tail(1).as_matrix()[-1]  
            out[:] = v0 * v1  
</code></pre>

<p>Only line</p>

<pre><code>            v0 = np.full(out.shape[0], -5.0)  
</code></pre>

<p>Changes. </p>

<p>In this case what does -5 mean?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='586b3a7644d1c20012000748' id='586b3a7644d1c20012000748'>
<a href='#586b3a7644d1c20012000748'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1483422332000' class='quanto-date posted-at response-posted-at' href='#586b3a7644d1c20012000748'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also can you list more example equation and what they mean.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='586bb99ece871b3008000077' id='586bb99ece871b3008000077'>
<a href='#586bb99ece871b3008000077'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e05aaf3a4c589d0009ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bdda3882c7b4b607ca34ae9a4029810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e05aaf3a4c589d0009ab'>Peter Harrington</a>
</div>
<a UTCms='1483454885000' class='quanto-date posted-at response-posted-at' href='#586bb99ece871b3008000077'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Suminda, that is a great question.  The -1.0 only serves to change the sign of the outputs.  In this case what 
<code>(-1 * correlation(open, volume, 10))</code> means is that we want to short the securities that have a high correlation between open and volume over the last 10 days, and we want to go long the ones with low correlation.  We also feel more strongly about shorting the equities with a higher correlation.  Each alpha factor is a prediction of the relative prices of these equities.  </p>

<p>Depending on what you do with this, changing from -1 to -5 probably won&#39;t make any difference as you are scaling all of the equities together, and you will probably do some sort of normalization step after this which will rescale the values.  </p>

<p>So in plain English what does <code>(-1 * correlation(open, volume, 10))</code> mean?  It looks like an <a href="http://www.investopedia.com/terms/o/overbought.asp">overbought indicator</a>.  If the price and the volume have been increasing together that may mean that the security is too highly priced and will come down.  That makes sense, and sounds like it should work.  </p>

<p>This given equation was Alpha#6 from the original paper.  To be honest I have not tried to explain all 101 alphas from that paper.  Some of the alpha equations appear to be written by a machine, for example Alpha51: <code>(0 - (1 * ((close - vwap) / decay_linear(rank(ts_argmax(close, 30)), 2))))</code>.  This is not the wildest alpha in the paper, and you could come up with an explanation,  but the fact that a simple algebraic manipulation is left off makes me think it was generated by a machine. </p>

<p>Is it reckless to use an equation that you can&#39;t explain but you are very confident that it works?</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589b841bcf077c38bcabc0b0' id='589b841bcf077c38bcabc0b0'>
<a href='#589b841bcf077c38bcabc0b0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530d2b3d6ce7f6934000022b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed428505e5861f7f9910e739bdd68e0c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530d2b3d6ce7f6934000022b'>Eric Cheshier</a>
</div>
<a UTCms='1486586907000' class='quanto-date posted-at response-posted-at' href='#589b841bcf077c38bcabc0b0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Peter, </p>

<p>Excellent work on compiling the 101 alphas. I&#39;ve been testing a few out and found a few that look promising. Question for you (if you could help a NOOB out here). I&#39;m trying to rank 3 of these factors that I like and add them to the pipeline as their own column. I want to see how the combined factor looks in Alphalens. Any ideas on how to do that using your latest notebook? Any help you (or anyone else listening to this thread) could provide would be appreciated. </p>

<p>Attached is the notebook. Thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589b901a597c295d24f9e351' id='589b901a597c295d24f9e351'>
<a href='#589b901a597c295d24f9e351'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57dd46d7f1fdce5a7b0008d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7b2f7eba0e58ade057c9057882dac64b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57dd46d7f1fdce5a7b0008d7'>Justin Sauber</a>
</div>
<a UTCms='1486589978000' class='quanto-date posted-at response-posted-at' href='#589b901a597c295d24f9e351'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>Is it reckless to use an equation that you can&#39;t explain but you are very confident that it works?</p>
</blockquote>

<p>I don&#39;t think so, I recently listened to a podcast where Bert Mouler was the guest (I don&#39;t remember if it was Chat with Traders or Better System Trader), he talked about how machine learning will find things that the human mind can&#39;t or won&#39;t.  For example, he talked about a structure that was designed to absorb vibrations and engineers repeatedly failed to design one strong enough, they let a machine learning algorithm loose on the idea and what resulted was a very chaotic looking structure that no one would have ever conceived but it worked perfectly.  The point was just because we can&#39;t initially explain it doesn&#39;t mean it isn&#39;t valid, some people are here to be right or explain market dynamics, others just want to make money.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589bb6803c34dc028eca7c3f' id='589bb6803c34dc028eca7c3f'>
<a href='#589bb6803c34dc028eca7c3f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e05aaf3a4c589d0009ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bdda3882c7b4b607ca34ae9a4029810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e05aaf3a4c589d0009ab'>Peter Harrington</a>
</div>
<a UTCms='1486599808000' class='quanto-date posted-at response-posted-at' href='#589bb6803c34dc028eca7c3f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I love this community.  </p>

<p>@Goldmember I&#39;m glad you have found some useful signals.  I have attached a modified version of your notebook with a new column called &quot;sum589&quot; which is the sum of the ranks of Alpha5, 8, 9 as an example of how to combine factors into another factor.  I hope that helps.  Please ask if you have more questions.  </p>

<p>The last notebook I posted with all 101 alphas is not the most recent version.  I have made about five improvements, but I thought no one cared so I stopped posting here.  I have pushed the latest code to  <a href="http://alphacompiler.com/">http://alphacompiler.com/</a>, you can cut and paste the alpha equation into the text box there and compile to get the most recent code.   I couldn&#39;t test all 101 Alphas on Quantopian so I built a Zipline version on my local machine.  I plan to make most of this code (how to run pipeline on your local machine) public soon.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589bbde7fe3984000aa42c25' id='589bbde7fe3984000aa42c25'>
<a href='#589bbde7fe3984000aa42c25'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530d2b3d6ce7f6934000022b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ed428505e5861f7f9910e739bdd68e0c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530d2b3d6ce7f6934000022b'>Eric Cheshier</a>
</div>
<a UTCms='1486601703000' class='quanto-date posted-at response-posted-at' href='#589bbde7fe3984000aa42c25'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Peter - you are the man. Thanks so much for your help combining and ranking these factors!</p>

<p>So I went through and tested almost all of the  101 factors from the notebook individually the other night with alphalens (except the ones with correlations, couldn&#39;t get them to run in a decent amount of time).  Did the five improvements you mentioned help the correlations code runtime at all?Also, were the changes that you made significant enough that you would recommend re-testing the factors using the code from <a href="http://alphacompiler.com/">http://alphacompiler.com/</a> ?</p>

<p>Thanks again!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589bc6086471b9000af99321' id='589bc6086471b9000af99321'>
<a href='#589bc6086471b9000af99321'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e05aaf3a4c589d0009ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bdda3882c7b4b607ca34ae9a4029810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e05aaf3a4c589d0009ab'>Peter Harrington</a>
</div>
<a UTCms='1486603784000' class='quanto-date posted-at response-posted-at' href='#589bc6086471b9000af99321'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I would rerun anything with ADV, and anything with two or more for-loops as those were producing incorrect code, and anytime there was a delay inside of a ts element like ts_rank().  Oh yeah, and anything with rank() or ts_rank(), and anything with scale().  Do you see why I automated this now?  </p>

<p>I also normalized rank() and ts_rank(), so the maximum value is 1.0.  For example <code>rank(open)</code> produces the following code.  </p>

<pre><code>    class AlphaX(CustomFactor):  
        inputs = [USEquityPricing.open]  
        window_length = 1

        def compute(self, today, assets, out, open):  
            v0 = open[-1]  
            out[:] = stats.rankdata(v0)/np.float(out.shape[0])  
</code></pre>

<p>It became obvious that the original authors have a system made up of components that vary from -1.0 to 1.0.  If you don&#39;t scale rank() then it will &quot;wash out&quot; other components, for example the equation: <code>rank(open) + correlation(open, volume,10)</code> would be dominated by rank() if it was not scaled.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58f2ba60a4f67b0010b98ea2' id='58f2ba60a4f67b0010b98ea2'>
<a href='#58f2ba60a4f67b0010b98ea2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/571aff7efb008d53b3000b4c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2350a81a60c24ca4edb56404d70bb93e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/571aff7efb008d53b3000b4c'>Ian Leatherbury</a>
</div>
<a UTCms='1492302432000' class='quanto-date posted-at response-posted-at' href='#58f2ba60a4f67b0010b98ea2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the great work here, Peter!</p>

<p>I added a quick check with Alphalens to your last notebook ranking Alphas 5, 8, and 9. It should be pretty straight forward to add up, rank, and check the performance of any other alphas people are interested in.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58f3b9dd315c73000d078f6f' id='58f3b9dd315c73000d078f6f'>
<a href='#58f3b9dd315c73000d078f6f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e64827a30033210199b088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/714c699c5d8f567057fec5e600ba7482?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e64827a30033210199b088'>Yiran Huang</a>
</div>
<a UTCms='1492367837000' class='quanto-date posted-at response-posted-at' href='#58f3b9dd315c73000d078f6f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you for your post, I am getting compilation error about not being able to find demean_by_group method.<br>
Is that an out of date Quantopian built in method?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58f3fe4cc27909000d7ce1fd' id='58f3fe4cc27909000d7ce1fd'>
<a href='#58f3fe4cc27909000d7ce1fd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e05aaf3a4c589d0009ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bdda3882c7b4b607ca34ae9a4029810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e05aaf3a4c589d0009ab'>Peter Harrington</a>
</div>
<a UTCms='1492385356000' class='quanto-date posted-at response-posted-at' href='#58f3fe4cc27909000d7ce1fd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@yira, demean_by_group() not a Quantopian built in function.  It is a function I have written to demean by sector, industry or sub-industry.  You could use any grouping in theory but these are the groupings used the the original paper and also supported by the Morningstar fundamental data.  I&#39;m not sure which notebook you are running.  If you look at the notebook Ian just posted demean_by_group() is the first function, make sure it is in your notebook and make sure the cell has been run.  I hope that helps.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58fa1a486f6b6c0010644659' id='58fa1a486f6b6c0010644659'>
<a href='#58fa1a486f6b6c0010644659'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1492785736000' class='quanto-date posted-at response-posted-at' href='#58fa1a486f6b6c0010644659'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is there still an aspiration that the <a href="https://www.quantopian.com/posts/the-101-alphas-project">Alphas 101 Project</a> would be executed on Quantopian?  Or has it been abandoned?  Does anyone know the status?  It would seem to fit the <a href="https://blog.quantopian.com/a-professional-quant-equity-workflow/">workflow</a>, with a bunch of alphas, followed by a combination step.  Is it executable on Quantopian?  What is the motivation behind this compiler effort?</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58fa3f896f6b6c3ebf64391e' id='58fa3f896f6b6c3ebf64391e'>
<a href='#58fa3f896f6b6c3ebf64391e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57a5e05aaf3a4c589d0009ab'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7bdda3882c7b4b607ca34ae9a4029810?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57a5e05aaf3a4c589d0009ab'>Peter Harrington</a>
</div>
<a UTCms='1492795273000' class='quanto-date posted-at response-posted-at' href='#58fa3f896f6b6c3ebf64391e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Grant,<br>
In my mind, the Alphas 101 Project is a completed project.  If you take any of the 101 alphas and compile them in my compiler (available here: <a href="http://alphacompiler.com/">http://alphacompiler.com/</a>) you will get a CustomFactor that you can run on Quantopian.  I personally have run over half of them on Quantopian and have run all of them on Zipline on my own machine.  I know other members have run them as well.  </p>

<p>The motivation behind writing the alpha complier was:<br>
 1. to automate the translation of the 101 alphas into Quantopian executable code<br>
 2. to be able to generate new alphas quickly.</p>

<p>Some of the alphas involve correlation and this takes a long time to compute.  (Alpha 92 took 54557 seconds to process one year&#39;s worth of data on the US 500 on my laptop).  My laptop was about 2x as fast as the Quantopian notebooks.  I would have run all of them in Quantopian research, but notebooks running longer than one hour usually error out especially during US trading hours.  An alpha that takes 30 hours to compute wouldn&#39;t work in a Quantopian trading algorithm.    Perhaps the alpha can be rewritten so that the correlation does not take so long, I would welcome any input on that. </p>

<p>The correlation alphas actually performed well.   Given this and some other reasons I choose to spend my time developing for the Zipline platform.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58fa6e7fa0e01867bb9bb9ee' id='58fa6e7fa0e01867bb9bb9ee'>
<a href='#58fa6e7fa0e01867bb9bb9ee'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/586cfbfbbc11d64bdd0000af'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/61f5793133d7c4dc055e0c82fb5b16e6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/586cfbfbbc11d64bdd0000af'>Warsame</a>
</div>
<a UTCms='1492807295000' class='quanto-date posted-at response-posted-at' href='#58fa6e7fa0e01867bb9bb9ee'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Peter Thank you for the great work, we certainly care and learning much from sharing.</p>

<p>Kind regards,<br>
Warsame  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590187a50d48680010d8c97a' id='590187a50d48680010d8c97a'>
<a href='#590187a50d48680010d8c97a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/586b1cca8bef0c0015000613'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/11c615ca1ce468a950fdd551f1e87732?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/586b1cca8bef0c0015000613'>Sam Hughes</a>
</div>
<a UTCms='1493272485000' class='quanto-date posted-at response-posted-at' href='#590187a50d48680010d8c97a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>(If I recall, VWAP had not been fully addressed, at least not in a way that works cleanly with Pipeline API.)</p>

<p>I&#39;ve attached a modified VWAP function that leverages minute data, and can be used within the Pipeline API. Feel free to try it out. FYI, in order to minimize the use of <em>get_pricing</em> within Pipeline factors, the function is a bit convoluted. It&#39;s more PoC, so a lot of opportunity for clean-up and further optimization. </p>

<p>Sam  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591368c42f84b50010d4f16a' id='591368c42f84b50010d4f16a'>
<a href='#591368c42f84b50010d4f16a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/586b1cca8bef0c0015000613'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/11c615ca1ce468a950fdd551f1e87732?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/586b1cca8bef0c0015000613'>Sam Hughes</a>
</div>
<a UTCms='1494444228000' class='quanto-date posted-at response-posted-at' href='#591368c42f84b50010d4f16a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi,</p>

<p>I just learned that the notebook I attached above, which includes VWAP with minute data, would not work as-is in a backtest. So I&#39;ve attached a version of the above code that will work as part of a backtest.</p>

<p>It&#39;s also a bit hacky since it&#39;s just to prove you can use minute data within a Pipeline for purposes of calculating VWAP. But the code can always be cleaned up (and further vetted). </p>

<p>Let me know if you have any questions.</p>

<p>Sam  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5915b893545d88448dbcd34a' id='5915b893545d88448dbcd34a'>
<a href='#5915b893545d88448dbcd34a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4e322fa200fffd0001000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f59406ed486edc76c94544468c11344d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4e322fa200fffd0001000001'>Scott Sanderson</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1494595731000' class='quanto-date posted-at response-posted-at' href='#5915b893545d88448dbcd34a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Sam I don&#39;t think your minutely-vwap is doing quite what you think it does.  While I commend the effort in your workaround, I can promise that there&#39;s no way right now to reliably get minutely pricing data into a Pipeline calculation.</p>

<p>When the backtester runs a pipeline, it pre-computes all of your Factors/Filters/Classifiers in large chunks (we do this for a variety of reasons, but primarily for speed and memory savings).  When you make a call to <code>pipeline_output</code>, the backtester simply loads the appropriate pre-computed chunk out of its cache.  When that cache gets exhausted, we run another batch. You can see the implementation for this in Zipline <a href="https://github.com/quantopian/zipline/blob/c20807a0c76af162de2ee9715230c3d934259be2/zipline/algorithm.py#L2450-L2538">here</a>.</p>

<p>What this means for your workaround is that every time you load minutely pricing data in your <code>compute</code> function, you&#39;re mostly getting the same 390 minutes of pricing data.</p>

<p>Sorry for the confusion here.<br>
- Scott  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5915ec23035f77000d37f3a1' id='5915ec23035f77000d37f3a1'>
<a href='#5915ec23035f77000d37f3a1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/586b1cca8bef0c0015000613'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/11c615ca1ce468a950fdd551f1e87732?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/586b1cca8bef0c0015000613'>Sam Hughes</a>
</div>
<a UTCms='1494608931000' class='quanto-date posted-at response-posted-at' href='#5915ec23035f77000d37f3a1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Scott,</p>

<p>Yeah, I figured that Quantopian&#39;s architectural design intent is to prevent access to the minute data within the Pipeline API due to the server load implications, so any work around would be nothing more than a temporary loophole. </p>

<p>Regarding your stated reasoning, I got deceived by the declarative nature of the Pipeline API :). It&#39;s easy to forget where the actual trigger/starting point is. </p>

<p>Is there any intent in providing an alternative option, e.g., pre-calculated VWAP data as part of the data source?</p>

<p>Thanks,<br>
Sam  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d56d2225002eb3e5c857aec' id='5d56d2225002eb3e5c857aec'>
<a href='#5d56d2225002eb3e5c857aec'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57349d3823d32116bb000e97'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6a89feba8302c839856922184f9718a4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57349d3823d32116bb000e97'>mohit gupta</a>
</div>
<a UTCms='1565970978000' class='quanto-date posted-at response-posted-at' href='#5d56d2225002eb3e5c857aec'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Peter Harrington , great work. Thank you. I was able to validate Alpha1 (just the first one, although the rank was a little different than what i would have expected, but i guess that would not affect the overall outcome). I would like to validate more Alphas (and learn more) using say minute data or something that is not offered by Quantopian. Could you please show me how to run this code on my local machine. You have mentioned that you have used zipline on your local laptop and were abel to validate all (most) of the alphas. I would be very thankful if you could please share some sample code demo&#39;ing how i can run this on my local machine. Thanks much.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/alpha-compiler'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/alpha-compiler'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#04626161606665676f447571656a706b746d656a2a676b69">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
