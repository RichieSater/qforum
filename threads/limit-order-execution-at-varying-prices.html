<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Limit Order execution at varying prices
</title>
<meta content='I&#39;ll admit I haven&#39;t done any rigorous verification but at a quick glance I suspect that orders specified with a limit_price, as in below example, are being executed at different prices:  order(sid, amount, limit_price=price)  Perhaps the observed behavior is as designed or there is another way to achieve fills at a specified price.  If one has some insight or can point me to it I&#39;d appreciate it.Thanks.' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="RaregZVlITrGfyl++yxpe2z4LRun48XGosvzF3eEHCo5zKjMN5Pz2X9icE+0w8EPVHYOct0v0N0gxCh93cF+kQ==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/limit-order-execution-at-varying-prices' property='og:url'>
<meta content='Limit Order execution at varying prices' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/limit-order-execution-at-varying-prices' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Limit Order execution at varying prices' property='og:title'>
<meta content='I&#39;ll admit I haven&#39;t done any rigorous verification but at a quick glance I suspect that orders specified with a limit_price, as in below example, are being executed at different prices:  order(sid, amount, limit_price=price)  Perhaps the observed behavior is as designed or there is another way to achieve fills at a specified price.  If one has some insight or can point me to it I&#39;d appreciate it.Thanks.' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/limit-order-execution-at-varying-prices">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='530bee8ec56fb84751000051'>
<div class='post-container' data-post-id='530bee8ec56fb84751000051' id='530bee8ec56fb84751000051'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Limit Order execution at varying prices</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4e4d8a9335e7bc000a000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/810d6093c91a99eed060018eaabc5f58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4e4d8a9335e7bc000a000001'>David</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1393290894000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Limit Order execution at varying prices&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Flimit-order-execution-at-varying-prices%3Futm_source%3Dwebsite_share%26utm_campaign%3Dlimit-order-execution-at-varying-prices%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Flimit-order-execution-at-varying-prices%3Futm_source%3Dwebsite_share%26utm_campaign%3Dlimit-order-execution-at-varying-prices%26utm_medium%3Dlinkedin&amp;title=Limit+Order+execution+at+varying+prices+%28David%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/limit-order-execution-at-varying-prices?utm_source=website_share&amp;utm_campaign=limit-order-execution-at-varying-prices&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="David" />
<div class='body-text'>
<div class='body-text-container post-body'><p>I&#39;ll admit I haven&#39;t done any rigorous verification but at a quick glance I suspect that orders specified with a limit_price, as in below example, are being executed at different prices:  </p>

<pre><code>order(sid, amount, limit_price=price)  
</code></pre>

<p>Perhaps the observed behavior is as designed or there is another way to achieve fills at a specified price.  If one has some insight or can point me to it I&#39;d appreciate it.<br>
Thanks.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>23 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='530cc78e5cf1107eac000230' id='530cc78e5cf1107eac000230'>
<a href='#530cc78e5cf1107eac000230'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b9b56c02cabe5dae000143'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e9388ae5102f3b152fa6225f955a29d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b9b56c02cabe5dae000143'>Alisa Deychman</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1393346448000' class='quanto-date posted-at response-posted-at' href='#530cc78e5cf1107eac000230'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello David,</p>

<p>I took a look and you&#39;re correct - the limit order execution isn&#39;t quite right. Thank you for pointing that out! We always appreciate the feedback.  Here&#39;s a short description of what we&#39;ve found:</p>

<ul>
<li>When we check the order triggers for stop and limit orders, we use the data bar&#39;s current close price.<br></li>
<li>If the bar price triggers the order, the order goes into the execution engine.<br></li>
<li>The execution engine then applies the slippage model.<br></li>
<li>The order is filled using the slippage-adjusted price.</li>
</ul>

<p>We need to take the slippage model out of it for limit orders - that will be a better model.</p>

<p>We&#39;re also thinking about modifying the slippage model instead of removing it in these cases.  What do you think about looking at the high and low prices of the bar, and then filling the order depending on availability?  For instance, imagine you have a limit order to buy 100 shares if the price dips to 10.00.  In a one-minute bar, the high is 10.05, the low is 9.95, and the volume is 100.  That order shouldn&#39;t completely fill - it should only fill for the parts of the bar that are under 10.  Do you think we should head in that direction?</p>

<p>Thank you again for bringing it to our attention.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='530cf3e4c56fb88f63000255' id='530cf3e4c56fb88f63000255'>
<a href='#530cf3e4c56fb88f63000255'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4e4d8a9335e7bc000a000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/810d6093c91a99eed060018eaabc5f58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4e4d8a9335e7bc000a000001'>David</a>
</div>
<a UTCms='1393357797000' class='quanto-date posted-at response-posted-at' href='#530cf3e4c56fb88f63000255'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Presumably creating a generic model for lightly quoted high volume instruments or highly liquid low volume instruments could prove challenging--different instruments are will have rather different behaviors wrt to filling a resting order despite possibly having similar volume and liquidity averages over a bar.</p>

<p>Either way what you are describing sounds reasonable.  I would expect the possibility of a full, partial or no fill from your backtest engine if the market trades at/through the resting limit order price depending on factors such as average volume and average liquidity over the bar and would always expect to get filled at the specified limit price or better.</p>

<p>Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='530cf8123395ef3dc10002a8' id='530cf8123395ef3dc10002a8'>
<a href='#530cf8123395ef3dc10002a8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b9b56c02cabe5dae000143'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e9388ae5102f3b152fa6225f955a29d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b9b56c02cabe5dae000143'>Alisa Deychman</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1393358869000' class='quanto-date posted-at response-posted-at' href='#530cf8123395ef3dc10002a8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you for the feedback! We will work on providing the fix, and possible improvements, to the limit order execution.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5312813defbb8809c6000046' id='5312813defbb8809c6000046'>
<a href='#5312813defbb8809c6000046'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4e4d8a9335e7bc000a000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/810d6093c91a99eed060018eaabc5f58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4e4d8a9335e7bc000a000001'>David</a>
</div>
<a UTCms='1393721663000' class='quanto-date posted-at response-posted-at' href='#5312813defbb8809c6000046'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How do limit orders function currently in the live beta?<br>
Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='53130499efc73113ba000111' id='53130499efc73113ba000111'>
<a href='#53130499efc73113ba000111'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1393755290000' class='quanto-date posted-at response-posted-at' href='#53130499efc73113ba000111'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Alisa &amp; David,</p>

<p>As Rich Frank helped clarify in <a href="https://www.quantopian.com/posts/usage-and-syntax-of-stop-orders">https://www.quantopian.com/posts/usage-and-syntax-of-stop-orders</a>, under live trading with Interactive Brokers (IB), all orders (regardless of type) are sent immediately to IB as they are encountered in the algorithm, with IB managing any limit triggers (although I haven&#39;t yet seen a detailed mapping between Quantopian order types and the IB order types that will result).  The implication is that the order fulfillment engine for the backtester needs to be modified to better model live trading.  Currently, for a market order submission during bar 0, the order will be filled at bar 1, using the closing price of bar 0 (assuming no slippage).  However, a better model for live trading might be to fill closer to the open price of bar 0 (although this is still dicey, since under live trading, the order could be submitted up to ~ 50 seconds into the bar).  Additionally, as Alisa suggests, using the high/low levels for the bar might be a better way to determine the trigger levels for limit, stop &amp; stop-limit orders, combined with an appropriate slippage model.</p>

<p>A note to Quantopian is that the validity of the backtester model can be benchmarked using paper trading at IB, so whatever route you go, do a study (or hire someone to do a study) and publish the results publicly.  Also, it seems that IB would be the best consultant on how to modify the backtester to match live trading.  Have you talked with them?</p>

<p>Grant</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='54c90be9298bccd5b3000439' id='54c90be9298bccd5b3000439'>
<a href='#54c90be9298bccd5b3000439'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5073798cbc55de0200000110'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a69a0aeca919c53071a0d4e76f5bf113?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5073798cbc55de0200000110'>Deleted User</a>
</div>
<a UTCms='1422461932000' class='quanto-date posted-at response-posted-at' href='#54c90be9298bccd5b3000439'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Has there been any work on the limit order model? I placed a short vwap order in the &quot;Quantopian Open&quot; that was filled 70 bps below it&#39;s limit.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a93171680868d24700006d' id='56a93171680868d24700006d'>
<a href='#56a93171680868d24700006d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1453928822000' class='quanto-date posted-at response-posted-at' href='#56a93171680868d24700006d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bump. Still a problem? Re: the limit order partial fill suggestion from two years ago, if the low of the bar was even one cent below the limit price, the limit order should be completely filled. Markets are generally not allowed to trade through a price without clearing all resting liquidity at that price. E.g. If my limit bid is at 10, I must be completely filled before the inside ask price can drop to 10.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='570d2121b658ef1efc000260' id='570d2121b658ef1efc000260'>
<a href='#570d2121b658ef1efc000260'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56532e5f3629fb994a000136'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/28b7435523ab530fbbd49cc2f5023f59?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56532e5f3629fb994a000136'>Robert Bedard</a>
</div>
<a UTCms='1460478247000' class='quanto-date posted-at response-posted-at' href='#570d2121b658ef1efc000260'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bump.  It seems like this is still a problem. Is this being worked on? My backtesting is essentially useless! My algorithm relies on limit orders being executed properly.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fc75de977b09559600040b' id='57fc75de977b09559600040b'>
<a href='#57fc75de977b09559600040b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530dc58192f94a48e80002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6a81c3996de61b5880d979f288a9a743?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530dc58192f94a48e80002b6'>Mikko M</a>
</div>
<a UTCms='1476163043000' class='quanto-date posted-at response-posted-at' href='#57fc75de977b09559600040b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Bump. This MAJOR bug needs to be fixed, my algo is also using limit orders.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fdb67be61038d1ec00078a' id='57fdb67be61038d1ec00078a'>
<a href='#57fdb67be61038d1ec00078a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1476245122000' class='quanto-date posted-at response-posted-at' href='#57fdb67be61038d1ec00078a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This bug makes my algo noticeably more profitable (<strong>in back tests</strong>). Live trading seems to be always necessary to verify behavior as well as results. Please fix this bug.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fe31aa92b458e9b800075a' id='57fe31aa92b458e9b800075a'>
<a href='#57fe31aa92b458e9b800075a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5798adfcf97268ee9e000208'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fe2e1437cda1243bd81f479a0a83cae7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5798adfcf97268ee9e000208'>Deleted User</a>
</div>
<a UTCms='1476276658000' class='quanto-date posted-at response-posted-at' href='#57fe31aa92b458e9b800075a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Assuming that any limit order would be completely filled if price traded a tick beyond it is not a valid assumption. In real life, if you have a decent sized bid sitting there visible on the book, the HFTs will happily provide liquidity a penny above you. </p>

<p>In practice, using limit orders, all of your losing trades will get complete fills, but some of your winners (ones where your limit price was near the low of the day) will get zero or partial fills. This is why I prefer to use other order types such as &quot;market if touched&quot; or &quot;limit if touched&quot; with extra room. </p>

<p>These order types can be backtested in Quantopian by checking the low (buys) or high (sells) of the last minute and simulating a normal market order with slippage assumptions. A minute can be a long time, but the deviations average out over a number of trades.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5b338dad3ef8540044a5f546' id='5b338dad3ef8540044a5f546'>
<a href='#5b338dad3ef8540044a5f546'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a6de45d587f7213f95f64d6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/bed15587c457fec007d979c6a75e698e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a6de45d587f7213f95f64d6'>Avishai Weingarten</a>
</div>
<a UTCms='1530105261000' class='quanto-date posted-at response-posted-at' href='#5b338dad3ef8540044a5f546'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Was there any work done on this? I noticed that limit orders are still only triggered according to the close price <strong>of the following bar</strong>, so are market orders, which leads to inaccurate filled prices, and cases in which limit orders aren&#39;t filled at all (although according to the values they should&#39;ve).<br>
This occurs especially on daily frequency, I presume it&#39;s because the probability of a higher difference in price as oppose to minute frequency)<br>
Thanks!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5c2dd7a3a5a8d15560b54872' id='5c2dd7a3a5a8d15560b54872'>
<a href='#5c2dd7a3a5a8d15560b54872'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1546508195000' class='quanto-date posted-at response-posted-at' href='#5c2dd7a3a5a8d15560b54872'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>If this could be addressed, maybe Q could try allowing limit orders in the contest but it&#39;s complex.<br>
All of the limit orders above are surely referring to limit on existing positions to sell for profit if the price goes up to that limit.<br>
There&#39;s also limit to buy or buy more.<br>
Stops can also be on both buy and sell, then there&#39;s the third type, StopLimit, and partial fills and different slippage models, and backtesting vs paper trading (15 minutes delayed) vs real money.<br>
Coping with stop &amp; limit is complex. </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5cc81e2d2f243155d90aa95f' id='5cc81e2d2f243155d90aa95f'>
<a href='#5cc81e2d2f243155d90aa95f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530dc58192f94a48e80002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6a81c3996de61b5880d979f288a9a743?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530dc58192f94a48e80002b6'>Mikko M</a>
</div>
<a UTCms='1556618797000' class='quanto-date posted-at response-posted-at' href='#5cc81e2d2f243155d90aa95f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is there any work done to fix this very simple but MAJOR BUG?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5cc86165a7b4bb004f5b3d04' id='5cc86165a7b4bb004f5b3d04'>
<a href='#5cc86165a7b4bb004f5b3d04'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1556636005000' class='quanto-date posted-at response-posted-at' href='#5cc86165a7b4bb004f5b3d04'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can you elaborate maybe with an example.<br>
By the way I have a bit of new info, it looks like limits are triggered on previous minute close (rather than high or low in the case of buy).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5cc8783a5426ce0040478eda' id='5cc8783a5426ce0040478eda'>
<a href='#5cc8783a5426ce0040478eda'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530dc58192f94a48e80002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6a81c3996de61b5880d979f288a9a743?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530dc58192f94a48e80002b6'>Mikko M</a>
</div>
<a UTCms='1556641850000' class='quanto-date posted-at response-posted-at' href='#5cc8783a5426ce0040478eda'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There are two issues:</p>

<ul>
<li>Limits are not filled when price is hit which causes incorrect fills especially in tight siutuations like whipsaws<br></li>
<li>Slippage is also applied to limit orders - this is kind of mind blowing stuff, you can get filled at the wrong side of the limit because of the slippage.<br></li>
</ul>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5cc8b46b5426ce1a08478da3' id='5cc8b46b5426ce1a08478da3'>
<a href='#5cc8b46b5426ce1a08478da3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1556657259000' class='quanto-date posted-at response-posted-at' href='#5cc8b46b5426ce1a08478da3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>For some traction, attach a minimal backtest that demonstrates a point where a limit was expected and not triggered (or visa-versa), something like this to show some minutes of OHLCV and price history could be useful. </p>

<pre><code>log.info(&#39;{} history\n{}&#39;.format(  
    stock.symbol,  
    data.history(stock, [&#39;open&#39;, &#39;high&#39;, &#39;low&#39;, &#39;close&#39;, &#39;price&#39;, &#39;volume&#39;], 5, &#39;1m&#39;)  
}
</code></pre>

<p>A backtest provides concrete content for discussion. Then if it reveals an issue and a change made to address that, it can also be used to verify.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5cc8bbdd8825d9212c8c2d55' id='5cc8bbdd8825d9212c8c2d55'>
<a href='#5cc8bbdd8825d9212c8c2d55'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530dc58192f94a48e80002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6a81c3996de61b5880d979f288a9a743?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530dc58192f94a48e80002b6'>Mikko M</a>
</div>
<a UTCms='1556659165000' class='quanto-date posted-at response-posted-at' href='#5cc8bbdd8825d9212c8c2d55'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Blue seahawk - have you even read the thread you are replying to?</p>

<p>Please read the second post in this thread from quantopian posted in 2014.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5cc8de55cc8cb25fe6303a78' id='5cc8de55cc8cb25fe6303a78'>
<a href='#5cc8de55cc8cb25fe6303a78'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1556667989000' class='quanto-date posted-at response-posted-at' href='#5cc8de55cc8cb25fe6303a78'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve been analyzing limits in actual code last couple months and comparing to another site.<br>
The point--and it&#39;s a good one: &quot;<strong>A backtest provides concrete content for discussion</strong>.&quot;<br>
On the other hand, writing a backtest to demonstrate a problem isn&#39;t easy. I too have questions by the way.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5cca1f4fee962e004822511e' id='5cca1f4fee962e004822511e'>
<a href='#5cca1f4fee962e004822511e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5cb4fc8571ef9572db85c0af'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a8d078cb83e513809bab0e31eabfa4fc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5cb4fc8571ef9572db85c0af'>Dan Whitnable</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1556750159000' class='quanto-date posted-at response-posted-at' href='#5cca1f4fee962e004822511e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>An update and maybe clarification and direction when using limit orders. First off, there hasn&#39;t been any changes to how limit orders are filled since the original 2014 post. Specifically, the steps that zipline follows are:</p>

<ol>
<li>Check if an order is  triggered. The data bar&#39;s close price is compared to the limit price.<br></li>
<li>If the order is triggered the order goes into the execution engine.<br></li>
<li>The execution engine applies the slippage model to determine the filled shares and price.<br></li>
<li>The order is filled using the slippage-adjusted price.</li>
</ol>

<p>One issue is the current default slippage model used in step 3. (see <a href="https://www.quantopian.com/posts/changes-coming-to-the-default-slippage-model">https://www.quantopian.com/posts/changes-coming-to-the-default-slippage-model</a>). It&#39;s <code>FixedBasisPointsSlippage</code> (see <a href="https://www.quantopian.com/help#ide-slippage">https://www.quantopian.com/help#ide-slippage</a>). This always &#39;slips&#39; the buy/sell price by a fixed amount which, in the case of limit orders, may be over/under the limit price. This default slippage model is meant to be used in conjunction with the contest which requires the &#39;order_optimal_portfolio&#39; method for ordering. It isn&#39;t so much a &#39;bug&#39; as much as the wrong application of this slippage model when using limit orders. If one isn&#39;t developing for the contest and doesn&#39;t want to use the standard &#39;order_optimal_portfolio&#39; method for ordering then the default slippage may not be a good choice.</p>

<p>That&#39;s the update and clarification part of this post. Now for some direction.</p>

<p>The default <code>FixedBasisPointsSlippage</code> can be used for limit orders but the results will be negatively skewed (since orders may fill worse than the limit price). A better approximation when using limit orders may be to use <code>VolumeShareSlippage</code>.</p>

<pre><code>set_slippage(slippage.VolumeShareSlippage(volume_limit=.01, price_impact=0.0)

</code></pre>

<p>The key is &#39;price_impact&#39; = 0.0&#39; (volume_limit&#39; can be whatever seems appropriate). By setting this to zero, the fill price will be the close of the previous bar. Because the order was triggered, this will always be equal or better than the limit price but never worse than the limit price. Note however this is optimistic (since one will often get a better price) but at least the limit price will be respected. Getting a better price actually does happen in live trading when a limit order is placed and it&#39;s a &#39;marketable order&#39;. A marketable limit order is a buy order with a price at or above the lowest offer in the market or a sell order with a price at or below the highest bid in the market. Marketable orders are submitted as a &#39;market order&#39; by the broker and therefore fill at market which may be better than the limit (more on the bid and ask issues later). So, <code>VolumeShareSlippage</code> can be used for market orders but it will optimistically skew results</p>

<p>Probably a better slippage choice would be to write a <code>custom slippage method</code>. Return the fill price to be the limit price. This would be slightly negatively skewed (because some orders would fill better than the limit) but not crazy and most of all not overly optimistic. The added benefit of a custom method comes if one uses a combination of limit orders and market orders.  It get&#39;s passed the order which can be inspected and, based upon the order type, different slippage could be applied to each order type. </p>

<p>That&#39;s the direction. Use the default slippage to get a pessimistic model then switch to  <code>VolumeShareSlippage</code> and get a more optimistic version. More than likely reality may be somewhere in between. To reduce that margin maybe write a custom slippage method to replace the default and reduce the pessimistic side of the model. The actual may be something in between the two. </p>

<p>Now a few added thoughts.</p>

<p>Remember that a backtest isn&#39;t reality. It&#39;s important to look how sensitive performance is to the slippage model. If an algo swings from bad to good based upon a change in slippage would one really want to risk real money? </p>

<p>@Mikko M  hope this helps. If there are some specific anomalies you are seeing with orders and have questions please post them. The devil is always in the details. As @Blue mentioned it&#39;s helpful to have some specifics when looking for them.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5ccaa36ab20b9a004afd314a' id='5ccaa36ab20b9a004afd314a'>
<a href='#5ccaa36ab20b9a004afd314a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530dc58192f94a48e80002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6a81c3996de61b5880d979f288a9a743?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530dc58192f94a48e80002b6'>Mikko M</a>
</div>
<a UTCms='1556783978000' class='quanto-date posted-at response-posted-at' href='#5ccaa36ab20b9a004afd314a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you Dan, </p>

<p>I have actually been using the volumeshareslippage mentioned  but some algos return crazy looking results (22+ sharpe etc) which I presume are due to incorrect fills.</p>

<p>I think then the next step will be to model a custom slippage model then  as I like the Q environment (large scale precise stock data is expensive!) - too bad you removed the live trading possibility!</p>

<p>ps. if anyone else is interested in working a slippage model that or is aware of already implemented model that is semi-realistic preferably a bit pessimistic then please post a link or message.. I&#39;ll probably open a seprate thread later for the slippage model implementation..</p>

<p>edit: Here is one implementation.. I totally forgot this thread :-I <a href="https://www.quantopian.com/posts/simulation-of-non-marketable-limit-orders" rel="nofollow">https://www.quantopian.com/posts/simulation-of-non-marketable-limit-orders</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ccb197f614f2a5db1ea5def' id='5ccb197f614f2a5db1ea5def'>
<a href='#5ccb197f614f2a5db1ea5def'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59065fbb5afa7d0010371ea1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/08e3b9ac969cdd40340b6094e6ce2bd7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59065fbb5afa7d0010371ea1'>Viridian Hawk</a>
<span class='badge medal'></span>
</div>
<a UTCms='1556814207000' class='quanto-date posted-at response-posted-at' href='#5ccb197f614f2a5db1ea5def'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I would lean towards the pessimistic model for a number of reasons.</p>

<p>Since Quantopian uses only 1-minute granularity on the price data, it can be ambiguous whether the order was marketable or not when it was submitted. In those cases it&#39;s safer to assume it was not.</p>

<p>Also, Quantopian may give very generous price improvement on non-marketable limit orders, which is obviously unrealistic. To illustrate lets say the price is currently at $5.10 and you place a limit buy order for $5. Now lets say 20 minutes later the price dips down to $4.50 within the span of a 1-minute bar. As I understand it <code>volumeshareslippage</code> will give you a fill at the $4.50 price (the close price of the minute bar), even though in reality you would have gotten filled at $5. </p>

<p>Quantopian doesn&#39;t have any data on quotes or spreads, so you have no way to know whether the historical fills were filled at the bid or the ask.  As an example, if you have an odd lot limit buy order, there&#39;s a chance that in the real market you would only get filled once the ask hits your limit price while round lot bids may be getting filled at better than your price while you sit there not getting a fill, because of how orders are matched.</p>

<p>HFT pray upon limit orders. They employ methods such as &quot;sub-pennying&quot; to basically cut in line to get ahead of you in the queue and will only give you the fill once they&#39;ve determined that the price is moving against them/you. They take on nearly zero risk and you only get your fill once it&#39;s a losing prospect. To be safe, assume you&#39;re always last in the queue -- meaning your order for $5.00 won&#39;t get filled until price hits $4.99.</p>

<p>To assume zero price impact will be in many cases unrealistic as well.</p>

<p>These are all things to take into account if you want to develop a custom slippage model to more accurately model limit order fills.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5ccb494002fbcf003eb2a639' id='5ccb494002fbcf003eb2a639'>
<a href='#5ccb494002fbcf003eb2a639'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/530dc58192f94a48e80002b6'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6a81c3996de61b5880d979f288a9a743?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/530dc58192f94a48e80002b6'>Mikko M</a>
</div>
<a UTCms='1556826432000' class='quanto-date posted-at response-posted-at' href='#5ccb494002fbcf003eb2a639'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I totally agree and I think the slippage model should be as pessimistic as possible (but still obey the market rules) - probably it&#39;s wisest to always fill at the limit price - it&#39;s better to get a little bit better results in live trading than to only then realize that the algo was a loser all along.</p>

<p>This thread is the reason (a real &quot;anomaly&quot;) why I returned to this issue as the results seemed too good to be true: <a href="https://www.quantopian.com/posts/long-only-non-day-trading-algorithm-for-live#5ccab7fcee5166004005ee2b" rel="nofollow">https://www.quantopian.com/posts/long-only-non-day-trading-algorithm-for-live#5ccab7fcee5166004005ee2b</a></p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/limit-order-execution-at-varying-prices'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/limit-order-execution-at-varying-prices'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#523437373630333139122327333c263d223b333c7c313d3f">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
