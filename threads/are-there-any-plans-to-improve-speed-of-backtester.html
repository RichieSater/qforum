<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Are there any plans to improve speed of backtester?
</title>
<meta content='I managed to obtain some tick data and tested it against an algorithm in C++ locally on my PC. It ran so fast that I began to wonder why Q is so slow? Is it because of so many people using it or because it is natively written that way or because its python? Any plans on improving performance?' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="fS6Vk4s32nbSgpVn5Mfi++VZqj467Wkj6dTvTr8Ws2QBSOPeKcEIlWufzFarKEqP3deJV0AhfDhr2zQkFVPR3w==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/are-there-any-plans-to-improve-speed-of-backtester' property='og:url'>
<meta content='Are there any plans to improve speed of backtester?' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/are-there-any-plans-to-improve-speed-of-backtester' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Are there any plans to improve speed of backtester?' property='og:title'>
<meta content='I managed to obtain some tick data and tested it against an algorithm in C++ locally on my PC. It ran so fast that I began to wonder why Q is so slow? Is it because of so many people using it or because it is natively written that way or because its python? Any plans on improving performance?' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/are-there-any-plans-to-improve-speed-of-backtester">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='557060bea01c556fcf000267'>
<div class='post-container' data-post-id='557060bea01c556fcf000267' id='557060bea01c556fcf000267'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Are there any plans to improve speed of backtester?</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1433428158000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Are there any plans to improve speed of backtester?&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fare-there-any-plans-to-improve-speed-of-backtester%3Futm_source%3Dwebsite_share%26utm_campaign%3Dare-there-any-plans-to-improve-speed-of-backtester%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fare-there-any-plans-to-improve-speed-of-backtester%3Futm_source%3Dwebsite_share%26utm_campaign%3Dare-there-any-plans-to-improve-speed-of-backtester%26utm_medium%3Dlinkedin&amp;title=Are+there+any+plans+to+improve+speed+of+backtester%3F+%28Deleted+User%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/are-there-any-plans-to-improve-speed-of-backtester?utm_source=website_share&amp;utm_campaign=are-there-any-plans-to-improve-speed-of-backtester&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Deleted User" />
<div class='body-text'>
<div class='body-text-container post-body'><p>I managed to obtain some tick data and tested it against an algorithm in C++ locally on my PC. It ran so fast that I began to wonder why Q is so slow? Is it because of so many people using it or because it is natively written that way or because its python? Any plans on improving performance?  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>32 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='5570613437e538c41b000257' id='5570613437e538c41b000257'>
<a href='#5570613437e538c41b000257'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1433428279000' class='quanto-date posted-at response-posted-at' href='#5570613437e538c41b000257'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also the performance is inversely proportional to number of securities in algorithm which makes me think that most of the time is lost in I/O.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='557064abb9053a3b9300028a' id='557064abb9053a3b9300028a'>
<a href='#557064abb9053a3b9300028a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b9b56c02cabe5dae000143'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e9388ae5102f3b152fa6225f955a29d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b9b56c02cabe5dae000143'>Alisa Deychman</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1433429166000' class='quanto-date posted-at response-posted-at' href='#557064abb9053a3b9300028a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Performance is key. We want you to be able to quickly test, iterate, and improve your strategies. You can track our performance improvements, and average times, here: <a href="https://www.quantopian.com/performance">https://www.quantopian.com/performance</a>  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5570697d485475c9650002a8' id='5570697d485475c9650002a8'>
<a href='#5570697d485475c9650002a8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/535a81c51f0913316a000242'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25e01741319f428a0e81b61b4b37b406?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/535a81c51f0913316a000242'>Lucas Silva</a>
</div>
<a UTCms='1433430402000' class='quanto-date posted-at response-posted-at' href='#5570697d485475c9650002a8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One of the issue is that the simulation framework computes all the statistics each bar, say each day or each min. This slows down the simulation but gives us the nice live charts we can watch the progress.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='557081fc2ab8c6d075000390' id='557081fc2ab8c6d075000390'>
<a href='#557081fc2ab8c6d075000390'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1433436671000' class='quanto-date posted-at response-posted-at' href='#557081fc2ab8c6d075000390'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Lucas: Yes, that is indeed a lot of unnecessary computation and we have chatted about refactoring this internally. That should give a good boost.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='557089b1a01c556fcf0003db' id='557089b1a01c556fcf0003db'>
<a href='#557089b1a01c556fcf0003db'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/555f388571df4d90c4000031'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/8513bc3899628e95e1fbcaa48ef31014?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/555f388571df4d90c4000031'>Stian Andreassen</a>
</div>
<a UTCms='1433438643000' class='quanto-date posted-at response-posted-at' href='#557089b1a01c556fcf0003db'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Maybe do those just-in-time.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55708e8e4854759b9c0003db' id='55708e8e4854759b9c0003db'>
<a href='#55708e8e4854759b9c0003db'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/535a81c51f0913316a000242'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25e01741319f428a0e81b61b4b37b406?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/535a81c51f0913316a000242'>Lucas Silva</a>
</div>
<a UTCms='1433439888000' class='quanto-date posted-at response-posted-at' href='#55708e8e4854759b9c0003db'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The statistics is just a chunck of possible optimisation then other part is the history and TA<br>
There is an approach that makes it really efficient it is used to break hashs rainball tables or something like that. Basically most used history / TA are cached in a huge table even pre-computed Terabyte DB<br>
So after the user run a backtest the next runs will be much faster  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5571a450b88622504c000484' id='5571a450b88622504c000484'>
<a href='#5571a450b88622504c000484'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433510996000' class='quanto-date posted-at response-posted-at' href='#5571a450b88622504c000484'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here are some relevant links:</p>

<p>See <a href="https://www.quantopian.com/posts/zipline-question">https://www.quantopian.com/posts/zipline-question</a> &amp; <a href="https://github.com/florentchandelier/zipline/tree/wip-ImproveBacktestSpeed">https://github.com/florentchandelier/zipline/tree/wip-ImproveBacktestSpeed</a> (and perhaps others).</p>

<p>Seems like as an initial step, zipline could be tweaked, and made available in the research platform, so that backtests could be run using the Quantopian data sets.  Or is this what&#39;s already done?  Surely running a backtest on the research platform doesn&#39;t compute intermediate results, since they can&#39;t be displayed anyway, when the backtest is run in IPython.  Or is it still old-school under the hood?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5571d86bb886222cfb0006f4' id='5571d86bb886222cfb0006f4'>
<a href='#5571d86bb886222cfb0006f4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5259397aa09fa7a87d00011e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b988ce14b6cc9090b0ac4a33ac70b2c0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5259397aa09fa7a87d00011e'>André Pajak</a>
</div>
<a UTCms='1433524334000' class='quanto-date posted-at response-posted-at' href='#5571d86bb886222cfb0006f4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>At a NYC meetup last fall, Quantopian revealed it uses MongoDB as the quotes database.  I offered to show them how I would implement a quote server, Q feigned interest, but nothing beyond lip service happened.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5571dad0667f318d7b000678' id='5571dad0667f318d7b000678'>
<a href='#5571dad0667f318d7b000678'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5259397aa09fa7a87d00011e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b988ce14b6cc9090b0ac4a33ac70b2c0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5259397aa09fa7a87d00011e'>André Pajak</a>
</div>
<a UTCms='1433524948000' class='quanto-date posted-at response-posted-at' href='#5571dad0667f318d7b000678'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Are there any plans to replace MongoDB with something more appropriate?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5571dbcdf47b8792a300070b' id='5571dbcdf47b8792a300070b'>
<a href='#5571dbcdf47b8792a300070b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/535a81c51f0913316a000242'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25e01741319f428a0e81b61b4b37b406?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/535a81c51f0913316a000242'>Lucas Silva</a>
</div>
<a UTCms='1433525199000' class='quanto-date posted-at response-posted-at' href='#5571dbcdf47b8792a300070b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>MongoDB is a fine DB don&#39;t think it is the main issue  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5571ea42f47b870648000728' id='5571ea42f47b870648000728'>
<a href='#5571ea42f47b870648000728'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433528900000' class='quanto-date posted-at response-posted-at' href='#5571ea42f47b870648000728'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Thomas,</p>

<p>I just took a quick glance at example backtest code in the research platform.  It indeed uses zipline:</p>

<pre><code>import zipline  
from zipline import TradingAlgorithm  
from zipline.api import order_target, record, symbol, history, add_history  
</code></pre>

<p>Wouldn&#39;t it be feasible to allow the intermediate computations to be toggled off, but leave them on for when zipline is used as the backend for the browser-based backtester?  If I or someone else proposed changes to zipline on github, would they propagate all the way to the research platform, if they got implemented?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5572f2e04a3ef04b47000315' id='5572f2e04a3ef04b47000315'>
<a href='#5572f2e04a3ef04b47000315'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1433596644000' class='quanto-date posted-at response-posted-at' href='#5572f2e04a3ef04b47000315'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>André: We have since switched our storage of financial data as mongo was indeed prohibitively slow for this. We are now using bcolz: <a href="https://github.com/Blosc/bcolz">https://github.com/Blosc/bcolz</a> which is very fast</p>

<p>Grant: We certainly encourage all contributions and if such a change were to get merged it would propagate to research within a week or two. However, we&#39;ll probably also want these improvements for the quantopian backtester so we should try to solve this problem once the right way. I know that Eddie is starting to work on this so he might correct me on the plans. I&#39;ll ask him to chime in here on what the best way forward is and how we can best collaborate with contributors.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='557329566f7e521f2d000466' id='557329566f7e521f2d000466'>
<a href='#557329566f7e521f2d000466'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433610586000' class='quanto-date posted-at response-posted-at' href='#557329566f7e521f2d000466'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Thomas,</p>

<p>Understood re: an overall solution.  Is it on the roadmap to be able to write an algo in the backtester IDE, pass parameters to it via the research platform, and then get the results back into the research platform (avoiding all of the standard GUI stuff)?  If this could be set up, then one could treat the backtest as a function to be optimized, right?  I realize that the same thing could be done in the research platform with zipline, but then the workflow is awkward, since the algo would have to be ported over to the IDE.  It would be better to find an optimum, run a full backtest in the IDE/browser to verify, and then move on to greener pastures (paper/real-money trading or contest).</p>

<p>One problem is regulating the number of backtests running at any one time by a given user.  If you open things up in this way and don&#39;t put in some limits, users could fire off a gazillion backtests in parallel and bankrupt y&#39;all.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55734d576f7e521f2d000540' id='55734d576f7e521f2d000540'>
<a href='#55734d576f7e521f2d000540'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1433619802000' class='quanto-date posted-at response-posted-at' href='#55734d576f7e521f2d000540'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Of the 390 minute periods in a day how many are actually used by the majority of strategies? 1? 5? 10 maybe? The evidence that demonstrates that if one puts any code in the handle_data method the backtest performance degrades, should point out an obvious enhancement would be to honor only the schedule_function periods. If handle_data only contains &quot;pass&quot; then short circuit the loop that ships all bars to the strategy and send only those requested by schedule_function. If the history command is dependent upon having all data cached during a backtest this would negate this option. But if history is pulled from a central, continuous database, then the hande_data bypass might work.  </p>

<p>Oh, and the pointless continuous shipping of json updates over the life of a test -- make that optional. Do the test, show me the results. It seems that the incremental updates are primarily there to placate the developer through the arduous process of waiting for the test to complete; &quot;And now, for your mild entertainment, a slowly filling P&amp;L chart...&quot;  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='557353c64d42eb1bcd000598' id='557353c64d42eb1bcd000598'>
<a href='#557353c64d42eb1bcd000598'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433621448000' class='quanto-date posted-at response-posted-at' href='#557353c64d42eb1bcd000598'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think that in the research platform, the data is all there in memory, from start to finish, no?  For example, see <strong>Research/Tutorials and Documentation/Tutorial (Advanced) - Backtesting with Zipline</strong>.  I don&#39;t think we have schedule_function() there yet?  I wonder if the plan is to eventually bring the research platform into full alignment with the backtester?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5573593cf5e1cb239a000597' id='5573593cf5e1cb239a000597'>
<a href='#5573593cf5e1cb239a000597'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1433622848000' class='quanto-date posted-at response-posted-at' href='#5573593cf5e1cb239a000597'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>User choice to update IDE backtest every * minutes, +1</p>

<p>With schedule_function set to, say, 3 minutes of the day, open, midday and close, if a stock doesn&#39;t happen to trade in those particular minute bars, a problem, no? Won&#39;t scheduled minutes be limited to trading volume during those minutes?  Also I&#39;m wondering how daily volume is figured, average or total.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='557359a44a3ef04034000586' id='557359a44a3ef04034000586'>
<a href='#557359a44a3ef04034000586'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1433622950000' class='quanto-date posted-at response-posted-at' href='#557359a44a3ef04034000586'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Market Tech, you hit the nail on the head, that&#39;s exactly what we are planning to do. Just requires time.</p>

<p>Grant, schedule_function() is in zipline and should hence be in research. Unless we are running 0.7 on research and not the current master.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='55735e8cf5e1cb239a0005b2' id='55735e8cf5e1cb239a0005b2'>
<a href='#55735e8cf5e1cb239a0005b2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/535a81c51f0913316a000242'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25e01741319f428a0e81b61b4b37b406?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/535a81c51f0913316a000242'>Lucas Silva</a>
</div>
<a UTCms='1433624208000' class='quanto-date posted-at response-posted-at' href='#55735e8cf5e1cb239a0005b2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There are so many software engineers here that if Quantopian made it easier to contribute I am sure many would help.<br>
Maybe add a integration server and a review platform like gerrit or stash so people can propose and send patch to the main branch but only be able to push if a senior developer approves it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5573649f6f7e521f2d00059b' id='5573649f6f7e521f2d00059b'>
<a href='#5573649f6f7e521f2d00059b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433625761000' class='quanto-date posted-at response-posted-at' href='#5573649f6f7e521f2d00059b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Thomas,</p>

<p>Sounds like the plan, then, is to be able to do everything in the research platform that can be done in the backtester (although the backtester allows for multiple backtests running in parallel).</p>

<p>I gather that history() would work differently (or not be available at all), since all of the data gets loaded into RAM before the backtest start, right?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5573bce17a52e7d6b20000de' id='5573bce17a52e7d6b20000de'>
<a href='#5573bce17a52e7d6b20000de'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54b0af1c4d03d455a200026d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/56276864f9ae1e936c0930e61ae71acc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54b0af1c4d03d455a200026d'>Karol Estrada</a>
</div>
<a UTCms='1433648356000' class='quanto-date posted-at response-posted-at' href='#5573bce17a52e7d6b20000de'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant, history() still works the same in zipline (Research). However you need to add some extra code because the algo only has price information from the date range you specify in get_pricing():<br>
Suppose you call somewhere
<code>
history(100, &#39;1d&#39;, &#39;price&#39;)  
</code> 
Then you need:<br>
1. inside  initialize() add the following line: <code>
add_history(100, &#39;1d&#39;, &#39;price&#39;)  
</code>
2. inside handle_data or other function using data:</p>

<pre><code>def handle_data(context, data):  
     context.tick += 1  
     if context.tick &lt; 100:  
         return  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='557433211b40ce0a560002a1' id='557433211b40ce0a560002a1'>
<a href='#557433211b40ce0a560002a1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433678627000' class='quanto-date posted-at response-posted-at' href='#557433211b40ce0a560002a1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Karol,</p>

<p>Thanks.  </p>

<blockquote>
<p>algo only has price information from the date range you specify in get_pricing()</p>
</blockquote>

<p>I gather that this means that the entire data set is in RAM?  Is this the same as the custom IDE/GUI backtester, or does it read data from a database on disk on an as-needed basis?  Getting everything into RAM sounds like the way to go, if it&#39;ll fit.  But then RAM costs money, so I&#39;m figuring there are some practical limitations for Quantopian.  Looking over <a href="http://aws.amazon.com/ec2/instance-types/">http://aws.amazon.com/ec2/instance-types/</a> (which I think Quantopian uses...can anyone confirm?), 244 GB is the upper limit.</p>

<p>I&#39;ve noted the potential limitation for the research platform on <a href="https://www.quantopian.com/posts/quantopian-research-platform-comments-and-questions">https://www.quantopian.com/posts/quantopian-research-platform-comments-and-questions</a>.  If the entire data set needs to be loaded into RAM, but RAM is limited, then at some point there will be a problem.  And since users can&#39;t see available RAM and usage, it could be a very unpleasant user experience when scaling up.  Has anyone tried loading minute bar data for 5,000 securities over 10 years on the research platform, for example?</p>

<p>@Lucas,</p>

<blockquote>
<p>There are so many software engineers here that if Quantopian made it easier to contribute I am sure many would help.</p>
</blockquote>

<p>Quantopian tends to be cagey about matters beyond what has been open-sourced on zipline.  This is understandable, since if they open up everything, their IP would just get copied.  It would be truly revolutionary if they opened up their IP and day-to-day development process to the crowd.  My hunch is that they&#39;ll continue with their current model of open-sourced zipline and closed-source everything else.</p>

<p>There&#39;s also the business side of things, which is a consideration here.  They would have to open up about the constraints on various approaches due to cost, which vendors are being considered, etc.  And they probably have NDA&#39;s, terms, etc. with vendors, and the lawyers wouldn&#39;t know what to do with it all (&quot;Huh?  You want to &#39;open-source&#39; the business?  No more lawyers?  Request denied!&quot;).  Again, it would be truly revolutionary to open it all up to the crowd, but my read is that there is a part of the Quantopian operation that won&#39;t be open-sourced.</p>

<p>The idea of an integration server / test instance is interesting.  I suppose it would require one for the research platform and one for the backtester.  Just a matter of dollars and resources.  They&#39;ll eventually get there, I figure.  At the scale of $10B capital, with institutional investors, they&#39;ll need a whole QC apparatus.  No more testing changes on production systems.  It would be nice, though, to be able to pull custom code into the research platform.  Then zipline variants could be tried there on actual Quantopian data sets (presumably, Quantopian engineers can do something along these lines already).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='557448577a52e77dd10002eb' id='557448577a52e77dd10002eb'>
<a href='#557448577a52e77dd10002eb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433684058000' class='quanto-date posted-at response-posted-at' href='#557448577a52e77dd10002eb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Market Tech and Thomas,</p>

<p>I don&#39;t see how bypassing handle_data() would work with slippage?  If all orders are filled within the bar, then perhaps isolated calls to schedule_function() would work.  However, what if there is slippage (either due to the slippage model or because of zero volume bars)?  Then, you need to have the data streaming in from the data base for all securities, getting updated every call to handle_data(), right?  Or maybe under the hood, you add some smarts so that data only get pulled if they are needed (e.g. if open order to be filled, then get required data only).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5574496d7a52e77dd10002fb' id='5574496d7a52e77dd10002fb'>
<a href='#5574496d7a52e77dd10002fb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1433684335000' class='quanto-date posted-at response-posted-at' href='#5574496d7a52e77dd10002fb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@GK Number of symbols increased from 200 to 500 however I can unfortunately only run about 40 using symbols() without hitting &quot;Execution timeout&quot; on start after a handful of seconds, even though a 2-yr backtest would run in 20 minutes (limit 2 hrs). Maybe because my code is complex, donno, even though it is a mere 2140 lines w/out comments/blank (characters with spaces ~111,000 all total w/ the limit at 500,000).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55747b2f0f6a9dc4a40003df' id='55747b2f0f6a9dc4a40003df'>
<a href='#55747b2f0f6a9dc4a40003df'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433697074000' class='quanto-date posted-at response-posted-at' href='#55747b2f0f6a9dc4a40003df'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@garyha,</p>

<p>Well, it all depends on what you are doing, right?  If your code scales O(N) that&#39;s one thing, but if it is higher order, then you&#39;ll run into problems quickly.  Maybe do a plot of run time versus N (the number of securities)?</p>

<p>Also, keep in mind that just like MATLAB, low-level operations will be blindingly fast if you can vectorize them.  So, it might be worth reviewing your code in this regard.  As a first pass, anywhere you have a loop or nested loop, do a head-scratch.</p>

<p>Are you using any kind of canned iterative optimizer?  If so, this might be another place to look.  It might not scale well with the number of securities.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5574fb5962e8104c9f0000a6' id='5574fb5962e8104c9f0000a6'>
<a href='#5574fb5962e8104c9f0000a6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/531a7ad9f7959609d10001a1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/9f693e5aa9a2f5b71910425fbf1813e1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/531a7ad9f7959609d10001a1'>Florent Chandelier</a>
</div>
<a UTCms='1433729883000' class='quanto-date posted-at response-posted-at' href='#5574fb5962e8104c9f0000a6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi,<br>
I can confirm that the Q team is very reactive on this front. Ed did implement quickly something, motivated by the branch I&#39;ve proposed.<br>
I can also confirm that the simple modification I proposed increased backtest speed by 10 to 20 folds. I simply log the information that matter to me (balance), and compute all information after the fact (DD, peak to peak, CAGR, pain-to-gain ...). I did not yet validated the speed improvements provided by Ed&#39;s modification (I would expect it to be even faster).</p>

<p>From my PoV, any stats should be discretionary to the user, but anyways only computed after the fact (after the backtest is completed, making he most of numpy array calculations).</p>

<p>Yet, Zipline being OSS, why aren&#39;t any &quot;coders suggesting solutions X, Y, Z&quot; actually contributing  it !  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='557566b605f6423c7c0002c5' id='557566b605f6423c7c0002c5'>
<a href='#557566b605f6423c7c0002c5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433757370000' class='quanto-date posted-at response-posted-at' href='#557566b605f6423c7c0002c5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>Yet, Zipline being OSS, why aren&#39;t any &quot;coders suggesting solutions X, Y, Z&quot; actually contributing it !</p>
</blockquote>

<p>As a starting point, is there an end-to-end analysis available of where the problems might be, including hardware, I/O, and software?  Also, as I mentioned above, economics comes into play here.  If Quantopian is paying per backtest and not per unit time of backtest, then what&#39;s the motivation to speed things up?  Does the overall load on the system matter (e.g. number of users running backtests or code on the research platform)?</p>

<blockquote>
<p>any stats should be discretionary to the user</p>
</blockquote>

<p>This could be a problem if Quantopian is mining backtest and trading data (the &quot;exhaust&quot; of algorithms).  It also presents a problem for shared algos.  Only allow sharing if the full complement of stats is included?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='557582b46e0da515d50002a5' id='557582b46e0da515d50002a5'>
<a href='#557582b46e0da515d50002a5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/535a81c51f0913316a000242'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25e01741319f428a0e81b61b4b37b406?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/535a81c51f0913316a000242'>Lucas Silva</a>
</div>
<a UTCms='1433764535000' class='quanto-date posted-at response-posted-at' href='#557582b46e0da515d50002a5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant I have the feeling that the current Zipline used by Quantopian has deviated from the open-source quite a bit. The process to apply patches is not that simple. That is why I suggested a simpler process so people can just submit patches and get seniors to review and accept.<br>
<a href="https://code.google.com/p/gerrit/">https://code.google.com/p/gerrit/</a></p>

<p>Long time ago I wrote a backtesting framework for a company trading forex, it was TICK based that is 4/6gig of data for 4/5 years and the backtest of 4 years would take 21 seconds. But here we have almost 30min to run a long min backtest. People that used other backtesting system will noticed the problem immediately. With the current framework strategy optimization is just not possible.  It will take a day to test 50 parameters. </p>

<p>I tried to use Daily bars, but then with the current slippage model it means even if you try to run your algorithm only once a day a daily bar strategy  will not be the same as min.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55758ae262e8105081000333' id='55758ae262e8105081000333'>
<a href='#55758ae262e8105081000333'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1433766628000' class='quanto-date posted-at response-posted-at' href='#55758ae262e8105081000333'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Lucas: The zipline that&#39;s on github is the same we use on Quantopian (with a couple of days delay). There is some code that wraps and extends zipline (things like hooking it up to our internal data sources, backfilling of history, etc). I&#39;m not sure where you see the differences to other projects like gerrit or what is supposedly not simple. You can submit a pull request on github (and many people do), we will review it and merge it if it meets certain requirements. Then once we update Quantopian, those changes will make it to the platform. Here is a good example of an external contribution that made Zipline (and quantopian) much faster: <a href="https://github.com/quantopian/zipline/pull/458">https://github.com/quantopian/zipline/pull/458</a> If you then check here: <a href="https://www.quantopian.com/performance">https://www.quantopian.com/performance</a> the decrease mid-February was largely caused by this user contribution. Having said that, we do need to be faster in responding to user pull requests.</p>

<p>It&#39;s not hard to write a specialized backtester that&#39;s faster than zipline. For example, if it only does backtesting over a fixed period you can vectorize most operations. However, zipline has many requirements in how general it needs to be (e.g. it supports paper and live trading). All these make it harder to speed it up.</p>

<p>I appreciate that it might look like we don&#39;t care too much about performance from the outside but it&#39;s not true. The things that were discussed in this thread are things that we will implement. But as with most things in life, it&#39;s harder and takes more time than you thought once you actually get down to it.</p>

<p>Please get in touch with us either on the mailing list, <a href="/cdn-cgi/l/email-protection#553a25303b263a20273630152420343b213a253c343b7b363a38"><span class="__cf_email__" data-cfemail="ec839c89829f83999e8f89ac9d998d8298839c858d82c28f8381">[email&#160;protected]</span></a>, or github if you want to help improve the backtester. There&#39;s many things to work on where you could have an even bigger impact.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='55759298321f03757100032e' id='55759298321f03757100032e'>
<a href='#55759298321f03757100032e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/535a81c51f0913316a000242'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25e01741319f428a0e81b61b4b37b406?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/535a81c51f0913316a000242'>Lucas Silva</a>
</div>
<a UTCms='1433768602000' class='quanto-date posted-at response-posted-at' href='#55759298321f03757100032e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I thought it had deviated because the amount of commits a week was like 2 or 3 so I thought there was a more active branch somewhere. I will indeed make a pull request. I agree if we use zipline for both backtesting and live trading it will impose severe restrictions on optimization, maybe it is worth to split the responsibility.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='557616836e0da515d50006bc' id='557616836e0da515d50006bc'>
<a href='#557616836e0da515d50006bc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433802373000' class='quanto-date posted-at response-posted-at' href='#557616836e0da515d50006bc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>It&#39;s not hard to write a specialized backtester that&#39;s faster than zipline. For example, if it only does backtesting over a fixed period you can vectorize most operations. However, zipline has many requirements in how general it needs to be (e.g. it supports paper and live trading). All these make it harder to speed it up.</p>
</blockquote>

<p>Wouldn&#39;t it make sense to relax the requirements in the research platform.  I agree about the final steps of paper &amp; live trading, where one needs all of the bells &amp; whistles.  But shouldn&#39;t there be a path to much better performance for research &amp; optimization.  Sounds like zipline is overburdened, no?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5576713214f724eef4000171' id='5576713214f724eef4000171'>
<a href='#5576713214f724eef4000171'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/547bfd49921e777fab00633b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/492267c22f976e90107f909f43601dc3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/547bfd49921e777fab00633b'>Anh Nguyen</a>
</div>
<a UTCms='1433825589000' class='quanto-date posted-at response-posted-at' href='#5576713214f724eef4000171'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>another possible improvement, I think, is pre-calculating benchmark returns. I believe in most cases people only use a small set of benchmarks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='557686a34371942eae000198' id='557686a34371942eae000198'>
<a href='#557686a34371942eae000198'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/535a81c51f0913316a000242'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/25e01741319f428a0e81b61b4b37b406?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/535a81c51f0913316a000242'>Lucas Silva</a>
</div>
<a UTCms='1433831077000' class='quanto-date posted-at response-posted-at' href='#557686a34371942eae000198'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Not only benchmarks but it would probably be helpful to have huge cache on the history and all ta method calls.  I would use an object DB something like ZODB since there is a big loss in making the objects/parsing  so each request to history or TA would return an object from DB. Of course one cannot pre-compute all since one can call the TA&#39;s with different parameters. But I am sure the parameters used are clustered together.  The small change the user submitted above took like 2 months to be integrated a huge change like this would probably take ages. It might be worth to fork zipline,  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/are-there-any-plans-to-improve-speed-of-backtester'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/are-there-any-plans-to-improve-speed-of-backtester'>join Quantopian</a> to
post a reply.
</div>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#7b1d1e1e1f191a18103b0a0e1a150f140b121a1555181416">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
