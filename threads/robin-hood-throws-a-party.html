<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Robin Hood Throws A Party
</title>
<meta content='This is a continuation of &quot;The Gold King And His Knights&quot;. This is a slight modification of &quot;The King Forgot His Shorts&quot;. I am now live trading with this instead of the &quot;million percent in 10 years&quot; version. The final results for  that  version which I started live trading August 10th is: Live Trading Robinhood real money &quot;The Gold King And His Knights - million percent in 10 years version&quot; Started Trading: market open Wednesday, 8/10/2016 Capital base: $1,650.61 As of market close Friday,...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="+pFhA81RxcWQBX05kx2qx6guYgNW6syFOE0xzYVT4DWG9xdOb6cXJikYJAjc8gKzkKBBaiwm2Z66QuqnLxaCjg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/robin-hood-throws-a-party' property='og:url'>
<meta content='Robin Hood Throws A Party' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/robin-hood-throws-a-party' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Robin Hood Throws A Party' property='og:title'>
<meta content='This is a continuation of &quot;The Gold King And His Knights&quot;. This is a slight modification of &quot;The King Forgot His Shorts&quot;. I am now live trading with this instead of the &quot;million percent in 10 years&quot; version. The final results for  that  version which I started live trading August 10th is: Live Trading Robinhood real money &quot;The Gold King And His Knights - million percent in 10 years version&quot; Started Trading: market open Wednesday, 8/10/2016 Capital base: $1,650.61 As of market close Friday,...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/robin-hood-throws-a-party">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='57dfe55584fbf922d0000470'>
<div class='post-container' data-post-id='57dfe55584fbf922d0000470' id='57dfe55584fbf922d0000470'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Robin Hood Throws A Party</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1474345072000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Robin Hood Throws A Party&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Frobin-hood-throws-a-party%3Futm_source%3Dwebsite_share%26utm_campaign%3Drobin-hood-throws-a-party%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Frobin-hood-throws-a-party%3Futm_source%3Dwebsite_share%26utm_campaign%3Drobin-hood-throws-a-party%26utm_medium%3Dlinkedin&amp;title=Robin+Hood+Throws+A+Party+%28Charles+Witt%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Getting Started' data-tag-id='55c50e7d8d4710ec6e000004' href='/posts/tag/Getting-Started/newest'>Getting Started</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Mean Reversion' data-tag-id='55c50e7d8d4710ec6e00000d' href='/posts/tag/Mean-Reversion/newest'>Mean Reversion</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Portfolio Optimization' data-tag-id='55d33f293f6ba10061000000' href='/posts/tag/Portfolio-Optimization/newest'>Portfolio Optimization</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Pipeline' data-tag-id='561525bcf252a59171000001' href='/posts/tag/Pipeline/newest'>Pipeline</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/robin-hood-throws-a-party?utm_source=website_share&amp;utm_campaign=robin-hood-throws-a-party&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Charles Witt" />
<div class='body-text'>
<div class='body-text-container post-body'><p>This is a continuation of &quot;The Gold King And His Knights&quot;.<br>
This is a slight modification of &quot;The King Forgot His Shorts&quot;.</p>

<p>I am now live trading with this instead of the &quot;million percent in 10 years&quot; version.<br>
The final results for <strong>that</strong> version which I started live trading August 10th is:<br>
Live Trading Robinhood real money &quot;The Gold King And His Knights - million percent in 10 years version&quot;<br>
Started Trading: market open Wednesday, 8/10/2016<br>
Capital base: $1,650.61</p>

<p>As of market close Friday, 9/16/2016<br>
-4.40% Returns / -0.20% Backtest / -2.20% Benchmark<br>
($72.64) Dollar P/L -7.28 Sharpe $627.32 Long Exposure $950.65 Available Cash</p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>116 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='57e0cd47d73bbaa65c0007ef' id='57e0cd47d73bbaa65c0007ef'>
<a href='#57e0cd47d73bbaa65c0007ef'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1474350412000' class='quanto-date posted-at response-posted-at' href='#57e0cd47d73bbaa65c0007ef'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The latest iteration of <strong>The King Forgot His Shorts</strong> adapted slightly for <strong>Robin Hood Throws A Party</strong>.<br>
As of now, I am live trading this version.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e17d20c4e345e02500037b' id='57e17d20c4e345e02500037b'>
<a href='#57e17d20c4e345e02500037b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1474395434000' class='quanto-date posted-at response-posted-at' href='#57e17d20c4e345e02500037b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The <strong>price filter seemed to be broken</strong>. <strong>It is fixed now</strong>, as far as I know.<br>
I am live trading <strong>this</strong> version.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e18c6ab6409de86e00030d' id='57e18c6ab6409de86e00030d'>
<a href='#57e18c6ab6409de86e00030d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57ae77603f33d66a540005c5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3e0c150150d8dd24239bdcdd166f3b93?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57ae77603f33d66a540005c5'>Delman Woodrum</a>
</div>
<a UTCms='1474399347000' class='quanto-date posted-at response-posted-at' href='#57e18c6ab6409de86e00030d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I haven&#39;t looked at the code itself, but why does the leverage stay so low?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e1987fb6409dde70000375' id='57e1987fb6409dde70000375'>
<a href='#57e1987fb6409dde70000375'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1474402440000' class='quanto-date posted-at response-posted-at' href='#57e1987fb6409dde70000375'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Because of my method of tracking available cash. Unless 100% of placed orders are executed, we will never have 1.00 leverage.<br>
Because the algo appears to be profitable in spite of this characteristic, I left the behavior in place, because I like cash.<br>
I could get the money out faster for a small emergency if needed.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e71871a9322ccf6a00023f' id='57e71871a9322ccf6a00023f'>
<a href='#57e71871a9322ccf6a00023f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1474762871000' class='quanto-date posted-at response-posted-at' href='#57e71871a9322ccf6a00023f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Live Trading Robinhood real money &quot;Robin Hood Throws A Party&quot;<br>
Started Trading: market open Tuesday, 9/20/2016<br>
Capital base:  $1,583.82</p>

<p>As of market close Friday, 9/23/2016<br>
2.80% Returns / 1.70% Backtest / 1.10% Benchmark<br>
$44.29 Dollar P/L 23.14 Sharpe $669.05 Long Exposure <strong>$959.05 Available Cash</strong></p>

<p><strong>Saturday, 9/24/2016 deposited $1,000 Stopped / Started algorithm $1,959.05 Available Cash</strong>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e742040d570e2e4000032e' id='57e742040d570e2e4000032e'>
<a href='#57e742040d570e2e4000032e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55ed0ebaf7eced2820000138'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/192fde5a5de866362a9e34c096cb8a9b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55ed0ebaf7eced2820000138'>Minh</a>
</div>
<a UTCms='1474773516000' class='quanto-date posted-at response-posted-at' href='#57e742040d570e2e4000032e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>A lot of clones but no comments. Let me know if any of y&#39;all become millionaires.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e85cd83bd7881cbd000700' id='57e85cd83bd7881cbd000700'>
<a href='#57e85cd83bd7881cbd000700'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1474845918000' class='quanto-date posted-at response-posted-at' href='#57e85cd83bd7881cbd000700'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m hoping for a stellar week obviously. Could end up being a disappointing drawdown.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e91673028e25eda50002b7' id='57e91673028e25eda50002b7'>
<a href='#57e91673028e25eda50002b7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1474893434000' class='quanto-date posted-at response-posted-at' href='#57e91673028e25eda50002b7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Are there still issues with delisted stocks on the latest algo?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e92c1361d547db960003a0' id='57e92c1361d547db960003a0'>
<a href='#57e92c1361d547db960003a0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1474898974000' class='quanto-date posted-at response-posted-at' href='#57e92c1361d547db960003a0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>Short answer, yes.</strong><br>
<strong>Longer answer, less likely</strong> because of the <strong>universe bottom price limit of $.80</strong>. Also, the <strong>volume universe bottom variable is at 6% instead of 1% now</strong>. That should also reduce the likelihood of delistings.</p>

<p><strong>These changes do tend to trim the profits. Of course, so do those #&amp;@!#@! delistings!</strong>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e9882d1bac06c54500022e' id='57e9882d1bac06c54500022e'>
<a href='#57e9882d1bac06c54500022e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1474922547000' class='quanto-date posted-at response-posted-at' href='#57e9882d1bac06c54500022e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Are you not having the problem where the order does not get placed around market open? The order will only get placed if I make manual changes to my portfolio (buy/sell some of the shares), as if my manual changes &quot;trigger&quot; the algorithm. So this means if I dont make any manual changes, there will be no orders placed whatsoever. If I make changes at market open, the orders will get placed around 10:30; if I make changes at 1:00PM, orders will get placed around 1:20~30PM.</p>

<p>Do you not have this problem?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57e9aea609854b22c3000393' id='57e9aea609854b22c3000393'>
<a href='#57e9aea609854b22c3000393'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1474932396000' class='quanto-date posted-at response-posted-at' href='#57e9aea609854b22c3000393'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You may need to customize the algo to fit your situation and / or preferences.</p>

<p>If you have 25% or more cash, then it will rebalance if 50 minutes has passed since the algo started warming up for the trading day. That time that it starts warming up seems to vary, based on the time that the orders are placed. The rebalance will not do anything for a particular stock if an order already exists. The exception is the Take Profit code will cancel an existing order in order to try to sell.</p>

<p>Every 50 minutes, it will check to see if it should try to sell either to Get Out or to Take Profit.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ea18ae2a0d8d03c5000040' id='57ea18ae2a0d8d03c5000040'>
<a href='#57ea18ae2a0d8d03c5000040'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1474959547000' class='quanto-date posted-at response-posted-at' href='#57ea18ae2a0d8d03c5000040'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>What do you mean by &quot;warming up&quot;? does that mean my manual changes to my portfolio triggers the &quot;warming up&quot;? Shouldn&#39;t this behavior be automatic? I have more than 25% cash. usually have 50% left to use  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ea18b62a0d8db42100009c' id='57ea18b62a0d8db42100009c'>
<a href='#57ea18b62a0d8db42100009c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1474959556000' class='quanto-date posted-at response-posted-at' href='#57ea18b62a0d8db42100009c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>What do you mean by &quot;warming up&quot;? does that mean my manual changes to my portfolio triggers the &quot;warming up&quot;? Shouldn&#39;t this behavior be automatic? I have more than 25% cash. usually have 50% left to use  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ec2af27ddfd6e2ad000054' id='57ec2af27ddfd6e2ad000054'>
<a href='#57ec2af27ddfd6e2ad000054'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475095291000' class='quanto-date posted-at response-posted-at' href='#57ec2af27ddfd6e2ad000054'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>When you manually stop / start the algo, it says something like, &quot;warming up&quot; I think. At market open or some number of minutes before, the algo starts up automatically. It is not the algo doing it, it is Quantopian that starts up each algo sometime each day, shortly before market open. It is probably more accurate to say, that the before trading day function gets executed. Because all the previous day&#39;s unfilled orders were canceled at market close, then it is very likely to place orders at sometime between market open and 50 minutes later.</p>

<p>You can lock down the algo to rebalance at specific time with the schedule function in initialize function. For some reason, I seem to get better returns the way it is now in my algo. Feel free to experiment until it behaves the way you want it to.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ec2be5bfa621d629000086' id='57ec2be5bfa621d629000086'>
<a href='#57ec2be5bfa621d629000086'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1475095531000' class='quanto-date posted-at response-posted-at' href='#57ec2be5bfa621d629000086'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>do you think the reason why I am having to do manual transactions before the algo kicks in each day is because I have ~40% of my portfolio invested in my own investments (non-algo purchases)? I have a feeling that may be the reason, so I might try making a new robinhood account for just algo. I will get back to you on this  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ec2d19cf7f561690000080' id='57ec2d19cf7f561690000080'>
<a href='#57ec2d19cf7f561690000080'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475095846000' class='quanto-date posted-at response-posted-at' href='#57ec2d19cf7f561690000080'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That is a good idea. A great big reason is, the algo will treat your other positions as if they belong to the algo. When it rebalances, It will attempt to sell your other positions at current price if the stock is not in our filtered pipeline provided list of stocks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ec4096dccdfd913b00000a' id='57ec4096dccdfd913b00000a'>
<a href='#57ec4096dccdfd913b00000a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/556e47a824980ca8f900001f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2bf8b1716c4a78b4dd591d3a4b6148d3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/556e47a824980ca8f900001f'>Youness AJ</a>
</div>
<a UTCms='1475100828000' class='quanto-date posted-at response-posted-at' href='#57ec4096dccdfd913b00000a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Charles,</p>

<p>What&#39;s the logic behind your Algo?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ed9c4ecb4cf692d900000d' id='57ed9c4ecb4cf692d900000d'>
<a href='#57ed9c4ecb4cf692d900000d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475189844000' class='quanto-date posted-at response-posted-at' href='#57ed9c4ecb4cf692d900000d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Live Trading Robinhood real money &quot;Robin Hood Throws A Party&quot;<br>
Started Trading: Saturday, 9/24/2016, 7:05:40 PM<br>
Capital base:  $2,632.71</p>

<p>As of market close Thursday, 9/29/2016<br>
0.65% Returns / 1.00% Backtest thru 9/28/2016 / -0.60% Benchmark<br>
$17.12 Dollar P/L 4.91 Sharpe $1,742.08 Long Exposure $907.75 Available Cash</p>

<p>Thursday, 9/29/2016 deposited $1,000 Stopped / Started algorithm<br>
$3,815.50 Available Cash now using Robinhood Gold $2,000 / was using Robinhood Instant</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ed9e1a4ea9b04d46000091' id='57ed9e1a4ea9b04d46000091'>
<a href='#57ed9e1a4ea9b04d46000091'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475190305000' class='quanto-date posted-at response-posted-at' href='#57ed9e1a4ea9b04d46000091'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yourness,<br>
basically low volume stocks can be profitable for various reasons, but it does have risks, such as liquidity risk and risk of delisting. Use with caution.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ef1686b135693322000625' id='57ef1686b135693322000625'>
<a href='#57ef1686b135693322000625'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475286669000' class='quanto-date posted-at response-posted-at' href='#57ef1686b135693322000625'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I accidentally was live trading with an experimental version<br>
So I did a stop / start of my algo.</p>

<p>I also ended up making certain significant changes to my algo.<br>
<strong>Now, it attempts to use all the buying power.</strong> Robinhood for various reasons rejects many trades, but at least now, it does attempt to place orders to use all available money.</p>

<p><strong>If you are not using Robinhood Gold, then make sure you set<br>
context.UseRobinhoodGold=False<br>
in initialize.</strong>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ef2d4eb13569cc5f000759' id='57ef2d4eb13569cc5f000759'>
<a href='#57ef2d4eb13569cc5f000759'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1475292506000' class='quanto-date posted-at response-posted-at' href='#57ef2d4eb13569cc5f000759'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can it be trade in IB? What&#39;s the difference in code Robinhood vs IB?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f0680c5aeb57c85c0008e7' id='57f0680c5aeb57c85c0008e7'>
<a href='#57f0680c5aeb57c85c0008e7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/578e329d2c7a60cc71000233'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b13333223441ce9dc24406c1019fb5d8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/578e329d2c7a60cc71000233'>Ron</a>
</div>
<a UTCms='1475373076000' class='quanto-date posted-at response-posted-at' href='#57f0680c5aeb57c85c0008e7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you for sharing your work. It is very, very generous of you. I have been captivated by this algo all weekend long. I have tried many tweaks, dollar amounts, etc. The results are incredible. I&#39;m deploying it live next week to test. </p>

<p>With gratitude - R  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f2c58c6a58b7fb800001df' id='57f2c58c6a58b7fb800001df'>
<a href='#57f2c58c6a58b7fb800001df'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475528082000' class='quanto-date posted-at response-posted-at' href='#57f2c58c6a58b7fb800001df'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Your welcome. Just be careful. So far, it seems like the live trading is always worse results than back testing. This particular version so far does appear to be profitable. Need more time to prove it though. I think there will always be at least some risk of stocks delisting though. The $0.80 bottom limit seems to help with that problem. However, I&#39;ve read and heard others say that $3.00 is necessary to nearly eliminate the delisting risk.</p>

<p>This version does seem way less likely to ever day trade, because of the 25% take profit instead of the previous 12.5% take profit.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f57f9befaae8d785000279' id='57f57f9befaae8d785000279'>
<a href='#57f57f9befaae8d785000279'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475706787000' class='quanto-date posted-at response-posted-at' href='#57f57f9befaae8d785000279'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Live Trading Robinhood real money<br>
Started Trading: Friday, 9/30/2016, 1:10:01 PM<br>
Capital base:  $3,587.30</p>

<p>As of market close Wednesday, 10/05/2016<br>
1.79% Returns / approx 4.50% Backtest / -0.50% Benchmark<br>
$64.32 Dollar P/L 3.88 Sharpe $2,429.83 Long Exposure $1,221.79 Available Cash</p>

<p>Wednesday, 10/05/2016 after market close, stop / start algorithm<br>
new version of algorithm is nicknamed <strong>Robin Hood Plays Twister</strong></p>

<p>If you are worried about day trading, then <strong>make sure you have pattern day trade protection enabled for your broker</strong>.<br>
Robinhood has that and I heard someone else say IB has it too.</p>

<p>This version spreads the risk a little better among the pipeline stocks and does more but smaller trades as well. Should have fewer rejected trades.<br>
Does reasonably well at using all available cash. Sometimes leverage approaches 1.00.</p>

<p>As always, use with caution.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f58384efaae8c3e50002df' id='57f58384efaae8c3e50002df'>
<a href='#57f58384efaae8c3e50002df'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475707786000' class='quanto-date posted-at response-posted-at' href='#57f58384efaae8c3e50002df'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Sorry, this is the version I meant to post. <strong>The only change is 5 minute between rebalancing instead of 50 minutes.</strong>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f63d04ec5f8bc17e000071' id='57f63d04ec5f8bc17e000071'>
<a href='#57f63d04ec5f8bc17e000071'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475755277000' class='quanto-date posted-at response-posted-at' href='#57f63d04ec5f8bc17e000071'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Sorry everybody. I found a major bug. It was the MaxPosition variables. Eventually it became so small relative to the portfolio that it did not allow more buys.</p>

<p>I fixed it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f64bf6dbf17e92e1000397' id='57f64bf6dbf17e92e1000397'>
<a href='#57f64bf6dbf17e92e1000397'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/564a108debefcfc2ae000622'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c8e1ea89a590c57c6d7b9d7295dc46a0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/564a108debefcfc2ae000622'>Nhat Nguyen</a>
</div>
<a UTCms='1475759099000' class='quanto-date posted-at response-posted-at' href='#57f64bf6dbf17e92e1000397'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Charles. Thanks for sharing your work. It quite interesting how the small stock could deliver a huge potential benefit. Im looking through your code and see this line and saw the constant number 76, what is purpose of this.<br>
StockShares = context.stocks_worst_weight*cash/Curr_P/76<br>
i&#39;m trying to incorporate your strategy in a portfolio of strategies.<br>
Thanks  for your time and your work.<br>
Wish you all the best and make a decent return.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f6540171ac51d4b60003da' id='57f6540171ac51d4b60003da'>
<a href='#57f6540171ac51d4b60003da'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475761162000' class='quanto-date posted-at response-posted-at' href='#57f6540171ac51d4b60003da'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4b2c2a252f2a272d0b2a272c24">[email&#160;protected]</a>:~$ python<br>
Python 2.7.12 (default, Jul  1 2016, 15:12:24)<br>
[GCC 5.4.0 20160609] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.  </p>

<blockquote>
<blockquote>
<blockquote>
<p>6.5*60<br>
390.0<br>
380/5<br>
76  </p>
</blockquote>
</blockquote>
</blockquote>

<p>8) That is the actual text in the python interactive session where I calculated that number.<br>
6.5 trading hours * 60 minutes = 390 minutes in a normal trading day<br>
390 minus 5 minutes at beginning and end of trading day = 380<br>
380 total trading minutes per normal trading day / 5 minute rebalancing = 76</p>

<p>It is not perfect. Feel free to modify  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f6553cb475b1f38700044b' id='57f6553cb475b1f38700044b'>
<a href='#57f6553cb475b1f38700044b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/564a108debefcfc2ae000622'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c8e1ea89a590c57c6d7b9d7295dc46a0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/564a108debefcfc2ae000622'>Nhat Nguyen</a>
</div>
<a UTCms='1475761474000' class='quanto-date posted-at response-posted-at' href='#57f6553cb475b1f38700044b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks. I really appreciated your work. It changed my perspective about penny stocks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f660063d11df65ba000077' id='57f660063d11df65ba000077'>
<a href='#57f660063d11df65ba000077'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1475764238000' class='quanto-date posted-at response-posted-at' href='#57f660063d11df65ba000077'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Seems like lots were changed in your latest version from the last version such as securities_to_trade = (stocks_worst), my_rebalnce function, handle data function removed, robinhood gold removed, etc. Why such a drastic change ?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f664095871a4f27f0000a3' id='57f664095871a4f27f0000a3'>
<a href='#57f664095871a4f27f0000a3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475765264000' class='quanto-date posted-at response-posted-at' href='#57f664095871a4f27f0000a3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I actually went through some angst deciding whether or not to start a new thread called <strong>Robin Hood Plays Twister</strong>. That is because I like both versions nearly the same And also the new version is enough different that perhaps that would have been good way to go.</p>

<p>In the end, I decided that this new version is largely a cleaned up version, with some ideas that I was meaning to implement anyways. The RobinhoodGold code can be added back in easy enough. I didn&#39;t like having so many orders rejected. Robinhood is barely letting me use any of the &quot;gold&quot; anyways because low volume stocks have high volatility. <strong>They are however letting me use $2,000 of deposits immediately and proceeds of stock sells immediately, which is cool.</strong>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f6741d9ba7cfeb660001c5' id='57f6741d9ba7cfeb660001c5'>
<a href='#57f6741d9ba7cfeb660001c5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1475769380000' class='quanto-date posted-at response-posted-at' href='#57f6741d9ba7cfeb660001c5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Since this morning, I am running the latest version in my IB paper account. But i noticed that all orders have been rejected with the reason &quot;Your account has a minimum of 15 orders working on either buy or sell side&quot;. Not sure seeing similar rejection errors before. Any thoughts why all orders get rejected?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f6942e5871a4f27f000396' id='57f6942e5871a4f27f000396'>
<a href='#57f6942e5871a4f27f000396'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f5a8c9efaae8d78500044b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/382403519eef53d6ca9c8775d52c29ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f5a8c9efaae8d78500044b'>Richard Lai</a>
</div>
<a UTCms='1475777590000' class='quanto-date posted-at response-posted-at' href='#57f6942e5871a4f27f000396'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Charles, this looks great, regarding the Robinhood Gold context property (<code>UseRobinhoodGold</code>), how come I can&#39;t find it in your latest code? Is that a special Quantopian context property that will modify the way trading works under the hood? I am a beginner in Quantopian and trading in general.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f694bc3d11df00fb000376' id='57f694bc3d11df00fb000376'>
<a href='#57f694bc3d11df00fb000376'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/564a108debefcfc2ae000622'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c8e1ea89a590c57c6d7b9d7295dc46a0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/564a108debefcfc2ae000622'>Nhat Nguyen</a>
</div>
<a UTCms='1475777732000' class='quanto-date posted-at response-posted-at' href='#57f694bc3d11df00fb000376'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That&#39;s because every 5 mins passed if stock still in pipeline then we limit order 1 share of that stock which previously we ordered 1 shares at different price level ( sometime 2 orders is at the same price).<br>
Example:<br>
     if your Bottom Var = 15<br>
     every 5 mins we have another 15 orders (price could be the same or different)<br>
=&gt; This is like accumulating shares for that particular stock through out the day. (Could be benefit because every time we buy it getting cheaper)
This version could be a day trader because if stock at 9:30 is in pipeline but later during the day, if it is not anymore then it will sell that stock.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f79e195d86b6d09e000287' id='57f79e195d86b6d09e000287'>
<a href='#57f79e195d86b6d09e000287'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475845663000' class='quanto-date posted-at response-posted-at' href='#57f79e195d86b6d09e000287'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Due to previous conversations on <strong>The Gold King And His Knights</strong>, <strong>I believe that the pipeline is only calculated once per day before algo starts trading</strong>. On that other algorithm, there was a time that I was trying to make the factors that define the pipeline change every day. While trying to figure that out, I believe I learned that the pipeline is calculated only once per day. So, as far as I know, <strong>if it is in the pipeline early in the day, it will also be in the pipeline later in the day</strong>.</p>

<p>Having said that, <strong>this version of the algo is more likely to attempt day trades. If the 10% profit is reached in the same day that the shares were bought, then it will attempt to sell to take profit.</strong>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f7bd53fcb7f2fd7100006e' id='57f7bd53fcb7f2fd7100006e'>
<a href='#57f7bd53fcb7f2fd7100006e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5798fad628332d1730000886'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/18fd09aa2e5430b9ef0363ec8192e64c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5798fad628332d1730000886'>Stephen Grider</a>
</div>
<a UTCms='1475853663000' class='quanto-date posted-at response-posted-at' href='#57f7bd53fcb7f2fd7100006e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m a novice in this so forgive me is this question is off:</p>

<p>Is it possible for this backtest to be inaccurate due to it assuming that every order will be filled?  This algo appears to work on low-val, low-vol stocks, so in the wild it will only get a fraction of any order filled, whereas the backtest will assume that every order is executed perfectly.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f7d2af3fd580b9c10000b0' id='57f7d2af3fd580b9c10000b0'>
<a href='#57f7d2af3fd580b9c10000b0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55ed0ebaf7eced2820000138'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/192fde5a5de866362a9e34c096cb8a9b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55ed0ebaf7eced2820000138'>Minh</a>
</div>
<a UTCms='1475859127000' class='quanto-date posted-at response-posted-at' href='#57f7d2af3fd580b9c10000b0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It may be too good to be true. Low volume stocks are tricky to backtest because your orders can have a huge impact on price movement besides liquidity problems. The only way to find out is to go live and become a millionaire!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f7d75e8c042804d80000f5' id='57f7d75e8c042804d80000f5'>
<a href='#57f7d75e8c042804d80000f5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1475860324000' class='quanto-date posted-at response-posted-at' href='#57f7d75e8c042804d80000f5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Any success with live trading of this strategy? I&#39;ve been running it in my IB paper account but only very few orders get filled and overall return yet negative. I guess no other way to figure out if it can be profitable but trade it with real money:(  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f7dc808c0428616c000145' id='57f7dc808c0428616c000145'>
<a href='#57f7dc808c0428616c000145'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a28cc56f45bbbcee0000c8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fd701e62e1f694b1ae1425a4206ce61a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a28cc56f45bbbcee0000c8'>Peyman Pejman</a>
</div>
<a UTCms='1475861637000' class='quanto-date posted-at response-posted-at' href='#57f7dc808c0428616c000145'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Charles</p>

<p>Hello Charles, hope all is going well with your algo. I have a quick question about Robinhood Gold since I saw you mentioned it. Would you be able to help?<br>
<a href="https://www.quantopian.com/posts/robinhood-gold-api">Question</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f7e2346810a4061b00018b' id='57f7e2346810a4061b00018b'>
<a href='#57f7e2346810a4061b00018b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52bd6ae1e88da821850002ac'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/34498b739275d737dfc9b4aeb47ad69d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52bd6ae1e88da821850002ac'>Robert Putnam</a>
</div>
<a UTCms='1475863101000' class='quanto-date posted-at response-posted-at' href='#57f7e2346810a4061b00018b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve been live trading this slightly modified  &quot;pre-Twister&quot; version of the algo since Monday.  It does seem to have a hard time getting orders filled.  To date, it is down 3.3%.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f7e94c829a3b902b000202' id='57f7e94c829a3b902b000202'>
<a href='#57f7e94c829a3b902b000202'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1475864915000' class='quanto-date posted-at response-posted-at' href='#57f7e94c829a3b902b000202'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>ok, sorry again<br>
I found a glaring bug. <strong>My code that tries to limit any one position from getting too large, will not ever limit anything.</strong></p>

<p>I fixed it.</p>

<p>I also made some adjustments to <strong>do all rebalancing in approximate the first two hours with larger individual orders</strong>.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f833adb0c371512900023b' id='57f833adb0c371512900023b'>
<a href='#57f833adb0c371512900023b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5100cc17ad49b9d6050002bf'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d6a477a23c18a146e39111beaa9f9933?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5100cc17ad49b9d6050002bf'>Vince Maniago</a>
</div>
<a UTCms='1475883958000' class='quanto-date posted-at response-posted-at' href='#57f833adb0c371512900023b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Do I need to enable or change any daytrade settings in Robinhood in order to make this algo work properly?</p>

<p>Sorry for the newb question, but I am new to all of this.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f84009a9634b8a990002fb' id='57f84009a9634b8a990002fb'>
<a href='#57f84009a9634b8a990002fb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/545e7cb65cb7a70ba9002523'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3cb5116df8291dd802e3464d4e380a10?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/545e7cb65cb7a70ba9002523'>NHAT NGUYEN</a>
</div>
<a UTCms='1475887117000' class='quanto-date posted-at response-posted-at' href='#57f84009a9634b8a990002fb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Vince.<br>
 If you are new to all this, then paper trader until you understand how everything put together (trading + investing + this alto).     During that time, pick a safe strategy and invest safely. I know you may tell me to &quot;%%% off&quot;, but if you got burn enough you will realize this too.<br>
Hence, paper trade this algo until you understand then go live. Market and money are still there to trade and to get.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f85a434116877d1b000064' id='57f85a434116877d1b000064'>
<a href='#57f85a434116877d1b000064'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1475893836000' class='quanto-date posted-at response-posted-at' href='#57f85a434116877d1b000064'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve been trying to paper trade this strategy for last few days, but unfortunately almost all orders were rejected and only 2 orders were filled out of thousands. It looks like the strategy is trying to place too many orders and they all get rejected by IB.  I dont wanna test it in the real money account if i cant figure out why it doesnt work in the paper account.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f85cb729a9a921340003ae' id='57f85cb729a9a921340003ae'>
<a href='#57f85cb729a9a921340003ae'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f5a8c9efaae8d78500044b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/382403519eef53d6ca9c8775d52c29ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f5a8c9efaae8d78500044b'>Richard Lai</a>
</div>
<a UTCms='1475894464000' class='quanto-date posted-at response-posted-at' href='#57f85cb729a9a921340003ae'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>What is the go-to platform for paper trading? Robinhood doesn&#39;t seem to have paper trading capabilities.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f8734741abf365450004d4' id='57f8734741abf365450004d4'>
<a href='#57f8734741abf365450004d4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1475900238000' class='quanto-date posted-at response-posted-at' href='#57f8734741abf365450004d4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>i paper trade it in Interactive Brokers paper account.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f878a041abf37cec000515' id='57f878a041abf37cec000515'>
<a href='#57f878a041abf37cec000515'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f5a8c9efaae8d78500044b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/382403519eef53d6ca9c8775d52c29ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f5a8c9efaae8d78500044b'>Richard Lai</a>
</div>
<a UTCms='1475901606000' class='quanto-date posted-at response-posted-at' href='#57f878a041abf37cec000515'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>What is the reason for setting the slippage&#39;s <code>price_impact</code> to 0 as opposed to the default 0.1?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f8f42212c6c1239a0009e2' id='57f8f42212c6c1239a0009e2'>
<a href='#57f8f42212c6c1239a0009e2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1475933224000' class='quanto-date posted-at response-posted-at' href='#57f8f42212c6c1239a0009e2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>All sells/buys are done with limit orders (known price) thus 0 slippage  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f95f373c0e1004a300007e' id='57f95f373c0e1004a300007e'>
<a href='#57f95f373c0e1004a300007e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f5a8c9efaae8d78500044b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/382403519eef53d6ca9c8775d52c29ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f5a8c9efaae8d78500044b'>Richard Lai</a>
</div>
<a UTCms='1475960638000' class='quanto-date posted-at response-posted-at' href='#57f95f373c0e1004a300007e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Does this algorithm need to take into account the T+3 unsettled cash for cash accounts? I noticed I don&#39;t see any of <a href="https://www.quantopian.com/help#sample-robinhood">the safeguards</a> in this algorithm.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f98a194406ba89d700024f' id='57f98a194406ba89d700024f'>
<a href='#57f98a194406ba89d700024f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f1fe573df0166ec00001ed'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f7a981fa19c77ab0979fdbad32fbaf0f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f1fe573df0166ec00001ed'>Delman Woodrum</a>
</div>
<a UTCms='1475971616000' class='quanto-date posted-at response-posted-at' href='#57f98a194406ba89d700024f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Richard, as far as I am aware, Charles is using either Robinhood Instant or Robinhold Gold and does not need to take into account the T+3 rule because unsettled cash is essentially loaned until it settles, and is therefore technically available for use immediately. If you aren&#39;t using an Instant or Gold account, I&#39;m sure this algorithm could be modified to trade less frequently in order to allow cash to settle, although I&#39;m not sure how that impact its various metrics.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f9c3954406ba1bd400043d' id='57f9c3954406ba1bd400043d'>
<a href='#57f9c3954406ba1bd400043d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/559b8d682492b23da7000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e49c96a879ca7c58df7ded854f5db842?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/559b8d682492b23da7000122'>Robert Tarlton</a>
</div>
<a UTCms='1475986330000' class='quanto-date posted-at response-posted-at' href='#57f9c3954406ba1bd400043d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>Hey guys, wanted to point out an observation that might explain why live trading is performing worse than the Quantopian back test over the same period.</strong>  </p>

<p>Quantopian incorrectly handles limit orders on the back test which results in overly optimistic results. Once the limit price is crossed, Q fills at the current market price and NOT the limit price. This is incorrect because brokers will always fill at your limit price in that scenario. Small cap stocks amplify this effect since their prices tend to move rapidly and with low volume. So you may be filling over multiple minutes as price continues to get better where as in reality you would just fill everything at the limit price.</p>

<p>The fact that this algo is using limit orders, which in theory should improve accuracy, and is instead ~2X off on returns just shows the magnitude of this effect.</p>

<p>Please be aware of this if you are going live!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57f9c833fb711689130004c3' id='57f9c833fb711689130004c3'>
<a href='#57f9c833fb711689130004c3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/545e7cb65cb7a70ba9002523'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3cb5116df8291dd802e3464d4e380a10?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/545e7cb65cb7a70ba9002523'>NHAT NGUYEN</a>
</div>
<a UTCms='1475987514000' class='quanto-date posted-at response-posted-at' href='#57f9c833fb711689130004c3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Robert, I have been observing the fill orders between IB and RB.  This I what I saw so far, In live trading, orders are either filled at the limit price or limit + few cents different. IB filled orders less slippage than RB. Will observe more.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fa548e13e0c02362000a29' id='57fa548e13e0c02362000a29'>
<a href='#57fa548e13e0c02362000a29'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f5a8c9efaae8d78500044b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/382403519eef53d6ca9c8775d52c29ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f5a8c9efaae8d78500044b'>Richard Lai</a>
</div>
<a UTCms='1476023451000' class='quanto-date posted-at response-posted-at' href='#57fa548e13e0c02362000a29'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Robert if that&#39;s how Q behaves, then isn&#39;t that a bug? Have you reported it?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fa9a6d7676463043000c21' id='57fa9a6d7676463043000c21'>
<a href='#57fa9a6d7676463043000c21'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/559b8d682492b23da7000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e49c96a879ca7c58df7ded854f5db842?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/559b8d682492b23da7000122'>Robert Tarlton</a>
</div>
<a UTCms='1476041331000' class='quanto-date posted-at response-posted-at' href='#57fa9a6d7676463043000c21'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yep it is a bug. Quantopian is aware and is tracking it in the link below. However, despite having a community sourced fix it appears to be stagnant for over a month. As a result, I wanted to make sure everyone was aware and didn&#39;t get burned since this bug has a large impact on the OP&#39;s algo in particular.   </p>

<p>[Limit Order Bug Tracking][1]
<a href="https://github.com/quantopian/zipline/pull/1376">https://github.com/quantopian/zipline/pull/1376</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fba1dedecfde7bd800060c' id='57fba1dedecfde7bd800060c'>
<a href='#57fba1dedecfde7bd800060c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f5a8c9efaae8d78500044b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/382403519eef53d6ca9c8775d52c29ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f5a8c9efaae8d78500044b'>Richard Lai</a>
</div>
<a UTCms='1476108774000' class='quanto-date posted-at response-posted-at' href='#57fba1dedecfde7bd800060c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Last activity on that PR was 17 days ago and they are discussing it internally. Also, it looks like they don&#39;t want to accept that PR and are proposing an alternative one.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fbfb061064c48b00000410' id='57fbfb061064c48b00000410'>
<a href='#57fbfb061064c48b00000410'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1476131597000' class='quanto-date posted-at response-posted-at' href='#57fbfb061064c48b00000410'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It would be nice to have notification customization options for Robinhood. For example, an option to receive one spreadsheet (csv is preferable to excel) per day with all transactions, instead of individual emails. Even better would be to have the option to simply download upon request by date range and transaction type(s).</p>

<p><strong>The reason I cancel all orders in the last minute before market close is to prevent all that noise in the logs</strong>. I am not currently using the logs for debugging. But it is easier now without all that noise.</p>

<p>My algo tends to execute small percentage of placed orders. And I am ok with that. That works to my advantage. However, the notifications can be overwhelming. I recommend that you automatically sort your Robinhood emails to folders for <strong>Placed</strong>, <strong>Canceled</strong>, and <strong>Executed</strong> (or filled if you prefer that).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fc7965977b09abeb0009da' id='57fc7965977b09abeb0009da'>
<a href='#57fc7965977b09abeb0009da'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/559b8d682492b23da7000122'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e49c96a879ca7c58df7ded854f5db842?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/559b8d682492b23da7000122'>Robert Tarlton</a>
</div>
<a UTCms='1476163947000' class='quanto-date posted-at response-posted-at' href='#57fc7965977b09abeb0009da'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles, </p>

<p>Thank you for being so transparent in your development process. Have you been able to nail down the source of the discrepancy between live trading vs. back test trading? My fear is that the discrepancy is due to the limit order bug mentioned above although I hope that is not the case. However, if it is, you will observe that your winning days aren&#39;t always as good as the equivalent time period in your back test while losing days are sometimes worse. The only way to know for sure is to check your fills line by line with the back test.</p>

<p>I only ask because I personally went through this experience and just want to pass on my lessons learned.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fdd55351046a24db000072' id='57fdd55351046a24db000072'>
<a href='#57fdd55351046a24db000072'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1476253024000' class='quanto-date posted-at response-posted-at' href='#57fdd55351046a24db000072'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Robin Hood Plays Twister version    Started Trading: 10/7/2016, 1:14:11 PM   Capital base: $3,608.07<br>
3.49% Returns   $126.04 Dollar P/L   13.15 Sharpe   $2,100.50 Long Exposure   $1,633.61 Available Cash<br>
-0.90% Benchmark</p>

<p>Robert, it is difficult to do that. I have some delisted stocks that I am holding on to, that have some effect on cash available. And I already own positions in most of these. And I stopped / started the algo multiple times this time around. The biggest effects seem to come from Robinhood not trading in certain stocks and partial fills and fills that are spread throughout the trading day. Not sure how to get the backtesting to more accurately reflect all of that. That is the purpose of slippage I suppose, but I haven&#39;t settled on accurate settings for that yet.</p>

<p>I can say, that I like the way this version is limiting buys to a max percentage of portfolio for each stock. The positions seem to be trending to be more evenly weighted now. Also, it does seem much less likely now to hold on to stocks that might get delisted.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fdda8f51046a24db0000a0' id='57fdda8f51046a24db0000a0'>
<a href='#57fdda8f51046a24db0000a0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1476254362000' class='quanto-date posted-at response-posted-at' href='#57fdda8f51046a24db0000a0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Which version are you using? For some reason, the recent versions are showing weird behavior in real life.<br>
Limit orders are getting put in throughout the day, but all the orders are of 1 share, and consists of many duplicate orders. (Rather than putting a larger limit order once).<br>
Also the algo has been buying the same stocks ; notably it has been buying LTBR, ABAC, RXII, ATOS, etc. The pool of stocks in the pipeline does not seem to be varied.</p>

<p>Is this the same for you Charles?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fdf9a9fe533e36f2000093' id='57fdf9a9fe533e36f2000093'>
<a href='#57fdf9a9fe533e36f2000093'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1476262321000' class='quanto-date posted-at response-posted-at' href='#57fdf9a9fe533e36f2000093'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Current positions in:<br>
LTBR LBIX ABAC ATOS MSDI RXII BASI</p>

<p>orders are placed for 2 hours every 5 minutes ending at 10:30 Central<br>
These are the 10:30 orders:<br>
2016-10-11 10:30:00<br>
BASI<br>
Limit<br>
7<br>
$0.93
2016-10-11 10:30:00<br>
LBIX<br>
Limit<br>
4<br>
$1.58
2016-10-11 10:30:00<br>
ABAC<br>
Limit<br>
3<br>
$1.95
2016-10-11 10:30:00<br>
RXII<br>
Limit<br>
4<br>
$1.59
2016-10-11 10:30:00<br>
ATOS<br>
Limit<br>
3<br>
$1.89
2016-10-11 10:30:00<br>
MIRN<br>
Limit<br>
4<br>
$1.77
2016-10-11 10:30:00<br>
MSDI<br>
Limit<br>
5<br>
$1.39</p>

<p>The minimum order is 1 share. The current price has to be from $0.90 to $3.00.</p>

<p>The pipeline tends to change slightly every 2 or 3 days (maybe 4).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fe8238a0350dadf4000134' id='57fe8238a0350dadf4000134'>
<a href='#57fe8238a0350dadf4000134'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1476297278000' class='quanto-date posted-at response-posted-at' href='#57fe8238a0350dadf4000134'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>i am trading the latest version of the aglo in the IB paper account, and it keeps sending orders all day until the market close @ 4PM. Most of the orders are duplicate orders and they get rejected by the brokerage. Is it a normal behavior?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57febb6aa6807fa6af0001b5' id='57febb6aa6807fa6af0001b5'>
<a href='#57febb6aa6807fa6af0001b5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1476311925000' class='quanto-date posted-at response-posted-at' href='#57febb6aa6807fa6af0001b5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><h1>Rebalance</h1>

<pre><code>EveryThisManyMinutes=5  
for minutez in xrange(5, 125, EveryThisManyMinutes):  
    schedule_function(my_rebalance, date_rules.every_day(), time_rules.market_open(minutes=minutez))
</code></pre>

<p>Does that schedule for my_rebalance match yours? If it does, it should stop placing orders after 2 hours.<br>
If it does not match, you are probably using a slightly older version of the algo which would place orders all trading day.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fee62ca6807f029c00050c' id='57fee62ca6807f029c00050c'>
<a href='#57fee62ca6807f029c00050c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1476322872000' class='quanto-date posted-at response-posted-at' href='#57fee62ca6807f029c00050c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Charles, it was exactly the problem.  It looks like i was trading not the most recent algo.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fefa157f099fc9d70000ca' id='57fefa157f099fc9d70000ca'>
<a href='#57fefa157f099fc9d70000ca'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f5a8c9efaae8d78500044b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/382403519eef53d6ca9c8775d52c29ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f5a8c9efaae8d78500044b'>Richard Lai</a>
</div>
<a UTCms='1476327965000' class='quanto-date posted-at response-posted-at' href='#57fefa157f099fc9d70000ca'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am currently paper trading this algo using Q&#39;s paper trading platform and it has been trading more or less similar securities like you. Is it normal to be seeing a lot of canceled orders?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ff722d7f099fdd6a000439' id='57ff722d7f099fdd6a000439'>
<a href='#57ff722d7f099fdd6a000439'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1476358709000' class='quanto-date posted-at response-posted-at' href='#57ff722d7f099fdd6a000439'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The current algo is using a 3% discount entry. So, yes there will be a lot of canceled orders. But you should end up with larger more balanced positions for close to 10 positions. Each position is limited to 10% of portfolio. It probably will average 6 to 8 positions all the time.</p>

<p>If you can have your email automatically send filled orders to a separate folder, it is easier to see the progress for each position.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ffa055201b5b054a000099' id='57ffa055201b5b054a000099'>
<a href='#57ffa055201b5b054a000099'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1476370523000' class='quanto-date posted-at response-posted-at' href='#57ffa055201b5b054a000099'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I guess this  algo will perform awful with IB (min $1 commission) and only can be traded profitably with $0 commissions?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5800ec1a377ff3b510001129' id='5800ec1a377ff3b510001129'>
<a href='#5800ec1a377ff3b510001129'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1476455456000' class='quanto-date posted-at response-posted-at' href='#5800ec1a377ff3b510001129'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Maxim,<br>
Please try <strong>Robin Hood Forgot His Shorts</strong>. <strong>That is set up to hopefully be profitable with IB</strong>.<br>
Naor Porat told me it is not working for him with IB.<br>
Let us know if that works for you.<br>
I don&#39;t have IB, so I cannot live trade it for testing.<br>
If that seems to work for you, then I can possibly make additional tweaks to improve it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5800efcf3d780017140008cb' id='5800efcf3d780017140008cb'>
<a href='#5800efcf3d780017140008cb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1476456407000' class='quanto-date posted-at response-posted-at' href='#5800efcf3d780017140008cb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles, can you re-post the latest algo you&#39;re using along with how it is performing - especially after the sell off yesterday?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5800f5473499adbdcf000008' id='5800f5473499adbdcf000008'>
<a href='#5800f5473499adbdcf000008'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1476457805000' class='quanto-date posted-at response-posted-at' href='#5800f5473499adbdcf000008'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>As of 10:08AM Central,<br>
-0.70% Returns -0.70% Benchmark ($26.57) Dollar P/L -0.95 Sharpe $1,686.52 Long Exposure $1,894.98 Available Cash  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5800f5df3499adab9e00034d' id='5800f5df3499adab9e00034d'>
<a href='#5800f5df3499adab9e00034d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a003d3eb9a502cc40000d7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3d1e920b94af6976544310a8f9432e34?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a003d3eb9a502cc40000d7'>Tyler Wilson</a>
</div>
<a UTCms='1476457956000' class='quanto-date posted-at response-posted-at' href='#5800f5df3499adab9e00034d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How is is comparing to the backtest?  I&#39;ve noticed that previous algos do not match their backtest due to limit orders.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58010479027294cc68000bd0' id='58010479027294cc68000bd0'>
<a href='#58010479027294cc68000bd0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a28cc56f45bbbcee0000c8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fd701e62e1f694b1ae1425a4206ce61a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a28cc56f45bbbcee0000c8'>Peyman Pejman</a>
</div>
<a UTCms='1476461696000' class='quanto-date posted-at response-posted-at' href='#58010479027294cc68000bd0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Charles</p>

<p>For Robinhood Gold,  I am curious to know whether the API provides Margin Maintenance and other metrics the app gives you to manage your portfolio? In general, do you get any additional info regarding RH Gold here on Q or does the margin act like extra cash in your account?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='580113f23499adab9e000543' id='580113f23499adab9e000543'>
<a href='#580113f23499adab9e000543'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55f9ea41c51f6fe282000166'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/09d3ca2aba7e225443d1f3eab69d67ae?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55f9ea41c51f6fe282000166'>Maxim Girbu</a>
</div>
<a UTCms='1476465659000' class='quanto-date posted-at response-posted-at' href='#580113f23499adab9e000543'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Charles for pointing me to the Robin Hood Forgot His Shorts thread.  What are the main differences between Robin Hood Throws A Party and Robin Hood Forgot His Shorts?</p>

<p>I&#39;ll be trading Robin Hood Forgot His Shorts thread in my paper account for a few days and if everything goes well, i&#39;ll try it in my IB live account.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58013e8abd40d79aa70001a4' id='58013e8abd40d79aa70001a4'>
<a href='#58013e8abd40d79aa70001a4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57d1d3b179b26b8d02000343'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/60bdcefed5c4c69b27c4c494dc7eae81?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57d1d3b179b26b8d02000343'>Naor Porat</a>
</div>
<a UTCms='1476476567000' class='quanto-date posted-at response-posted-at' href='#58013e8abd40d79aa70001a4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So what is the best fitted version for IB live trading by now?<br>
The last backtest  posted?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58051e91d24d8536490000e4' id='58051e91d24d8536490000e4'>
<a href='#58051e91d24d8536490000e4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1476730525000' class='quanto-date posted-at response-posted-at' href='#58051e91d24d8536490000e4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Does this algo, or any for that matter, play nice with manual orders on Robin Hood? As in, if I&#39;m still holding a previously purchased stock when the algo goes live, will it consider that stock when buying/selling or will it ignore it? Especially if it is over the dollar limits imposed by the script.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58056d984e6bc87a910004f7' id='58056d984e6bc87a910004f7'>
<a href='#58056d984e6bc87a910004f7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5702e29c8c328cec3e000256'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e0e97a708615a8172ff056580266b79d?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5702e29c8c328cec3e000256'>Mark Eiding</a>
</div>
<a UTCms='1476750751000' class='quanto-date posted-at response-posted-at' href='#58056d984e6bc87a910004f7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It will try to sell it unless you put the protection in  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58062acb80383b9d9f0002cb' id='58062acb80383b9d9f0002cb'>
<a href='#58062acb80383b9d9f0002cb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/564a108debefcfc2ae000622'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c8e1ea89a590c57c6d7b9d7295dc46a0?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/564a108debefcfc2ae000622'>Nhat Nguyen</a>
</div>
<a UTCms='1476799186000' class='quanto-date posted-at response-posted-at' href='#58062acb80383b9d9f0002cb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey, Charles , i saw many rejected order due to this <a href="https://www.sec.gov/news/pressrelease/2015-82.html">5 cents increment only in some stocks</a></p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58063bfb93c1cfb9bb000383' id='58063bfb93c1cfb9bb000383'>
<a href='#58063bfb93c1cfb9bb000383'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1476803588000' class='quanto-date posted-at response-posted-at' href='#58063bfb93c1cfb9bb000383'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I tried running this and the high number of pending orders quickly tied-up my available cash. Even if a later order would fill, the previous pending orders are preventing it. Charles mentions that all pending orders are cancelled at the end of day. Might it be useful to have orders not filled within X hours be cancelled? Otherwise, absent a lot of selling, pending orders will prevent buying beyond the first hour or two after open.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5806a9e62584e99afa00049f' id='5806a9e62584e99afa00049f'>
<a href='#5806a9e62584e99afa00049f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1476831729000' class='quanto-date posted-at response-posted-at' href='#5806a9e62584e99afa00049f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Robin Hood Plays Twister BETA<br>
Stopped on 10/18/2016, 3:00:05 PM<br>
-3.32% Returns ($119.92) Dollar P/L -3.96 Sharpe $2,018.17 Long Exposure $1,469.98 Available Cash</p>

<p>Hopefully, this new version completely avoids the 5 cent increment. <a href="https://www.sec.gov/news/pressrelease/2015-82.html">https://www.sec.gov/news/pressrelease/2015-82.html</a><br>
&quot;and a volume weighted average price of at least $2.00 for every trading day&quot;.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5807000973ccc7265b0001ad' id='5807000973ccc7265b0001ad'>
<a href='#5807000973ccc7265b0001ad'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f09cdb668f03ed420004b9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ae19988f21aa6cbbe33e308c8b177ac9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f09cdb668f03ed420004b9'>testing sd</a>
</div>
<a UTCms='1476853782000' class='quanto-date posted-at response-posted-at' href='#5807000973ccc7265b0001ad'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Right  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5810024f32f63e1822000014' id='5810024f32f63e1822000014'>
<a href='#5810024f32f63e1822000014'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1477444182000' class='quanto-date posted-at response-posted-at' href='#5810024f32f63e1822000014'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anyone live trading this? Results in last week have been sideways to dismal. Hard to keep invested, but a lot of backtests dip for a couple of days before turning up. </p>

<p>@Charles any thought of adding a filter to ignore specific stocks? I&#39;ve had DELT orders attempted the last two days, but are rejected by Robinhood. That eliminates a position for the day.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5810d5918be584bb9a000175' id='5810d5918be584bb9a000175'>
<a href='#5810d5918be584bb9a000175'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1477498270000' class='quanto-date posted-at response-posted-at' href='#5810d5918be584bb9a000175'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Agreed. Market conditions at this time may be the &quot;perfect storm&quot; that we have to wait out. Or it is still possible that most of the nice returns in the back tests are not even close to reality, which at this time looks grim.</p>

<p>I have swung at least temporarily to this much more conservative version. More changes to come in the future. I am hoping this version at least proves to be consistently profitable, at least beating the benchmark and most mutual funds / index funds.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5810d76cbebc9b9d9e000058' id='5810d76cbebc9b9d9e000058'>
<a href='#5810d76cbebc9b9d9e000058'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1477498743000' class='quanto-date posted-at response-posted-at' href='#5810d76cbebc9b9d9e000058'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Any changes other than the Profit/In/Out factors?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5810d9899ae2e8912a0001a2' id='5810d9899ae2e8912a0001a2'>
<a href='#5810d9899ae2e8912a0001a2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1477499283000' class='quanto-date posted-at response-posted-at' href='#5810d9899ae2e8912a0001a2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It won&#39;t buy more shares into a position, unless the current price is at least halfway into our min max range. I did that so that we don&#39;t immediately sell the next day a position that dropped below min price.</p>

<p>If cost basis is greater than get out price, then we go halfway to the cost basis to make that the new get out price.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5810df3a9ae2e834e30000d0' id='5810df3a9ae2e834e30000d0'>
<a href='#5810df3a9ae2e834e30000d0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1477500742000' class='quanto-date posted-at response-posted-at' href='#5810df3a9ae2e834e30000d0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I like the more conservative nature of it. I see that leverage is about half of the earlier versions. Likely because it often holds less than the max positioins allowed. Is there a simple way to increase the size of the orders to compensate?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5810e23b8be584f9d600020b' id='5810e23b8be584f9d600020b'>
<a href='#5810e23b8be584f9d600020b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1477501508000' class='quanto-date posted-at response-posted-at' href='#5810e23b8be584f9d600020b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>As is, no.</p>

<p>However, I am brainstorming different possibilities of having half the portfolio controlled by the algorithm, leaving the other half manually managed by the user. Or having multiple algos in the same algo. With signals being sent to it to control the factors, etc by the user.</p>

<p>If the current version proves profitable, then I can focus on the other ideas. Right now, I&#39;m just tired of losing money, which is the current reality.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5810ebb5ece05a202d0000e3' id='5810ebb5ece05a202d0000e3'>
<a href='#5810ebb5ece05a202d0000e3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5674b7bd1869e73f4a000334'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e411d64f7a123f5c2102614fafa48b58?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5674b7bd1869e73f4a000334'>Luke Izlar</a>
</div>
<a UTCms='1477503933000' class='quanto-date posted-at response-posted-at' href='#5810ebb5ece05a202d0000e3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am not running this in robinhood, but running it on quantopian live mode. Over the last week it is up ~3% (the one from a backtest posted 3 weeks ago) but I have no way of knowing if this will hold true in live trading because to me this is your biggest risk point: </p>

<pre><code>set_slippage(slippage.VolumeShareSlippage(volume_limit=.20, price_impact=0.0))  
</code></pre>

<p>How did you come to set your slippage to this and how did you determine if it accurately replicates live trading conditions for low volume stocks? It could be artificially inflating your backtests by allowing you to purchase stock at a limit price that would never be met in real life.</p>

<p>To your point about combining multiple strategies, I&#39;ve found a way to do it and have sucessfully implemented it live, BUT it won&#39;t work with this strategy the way it&#39;s currently programmed. Although I think it would be a great candidate. Essentially you have to program a way to control your leverage on this strategy for it to work. For example: set leverage to .5 and it initiates buys/sells up to the limit. Currently you could do something like this: </p>

<pre><code>    context.MyNumberOfPositions=7  
    context.maxleverage = 1.0  
    context.MaxPositionFactor=context.maxleverage/context.MyNumberOfPositions  
</code></pre>

<p>but the algo only gets to a maximum of ~.25 leverage. IF you could find a way to make it fully execute up to the maximum it would be possible to integrate it into a combined strategy. My ideal would be some sort of low volitility pipeline value/momentum strategy which would compliment this one nicely I think.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5811981a8be584f9d6000ad2' id='5811981a8be584f9d6000ad2'>
<a href='#5811981a8be584f9d6000ad2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1477548067000' class='quanto-date posted-at response-posted-at' href='#5811981a8be584f9d6000ad2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok, I think this is a step in the right direction. I think it stands a fighting chance of large returns and it also much more often reaches 1.0 leverage.<br>
Caution though, manually sell any stocks that seem to be creeping toward delisting.</p>

<p>This one, with some tweaking of the code, seems like it would be easier to combine with other algos, if you wish.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5811f34a8be584c9af0000f2' id='5811f34a8be584c9af0000f2'>
<a href='#5811f34a8be584c9af0000f2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1477571412000' class='quanto-date posted-at response-posted-at' href='#5811f34a8be584c9af0000f2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the regular updates. There are two things that I noticed with this version. It day trades on the backtests. So if RH&#39;s PDT protections are working, those trades will be rejected. Might be better or worse on the next day. Second, those trades sometimes use full or close to full leverage in a single stock. Luckily it is good at picking winners, but a bit nervous putting all the eggs in one penny stock.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5811ff5f99c9290b30000408' id='5811ff5f99c9290b30000408'>
<a href='#5811ff5f99c9290b30000408'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1477574504000' class='quanto-date posted-at response-posted-at' href='#5811ff5f99c9290b30000408'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>All your points I agree with. So EYES WIDE OPEN foks! Buyer beware.<br>
Also, still not clear what best slippage settings to use. And there is that apparent bug in backtesting where limit orders on low volume stocks get better prices than they would have live trading. Again, buyer beware.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58140e54709adace3000021a' id='58140e54709adace3000021a'>
<a href='#58140e54709adace3000021a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1477709402000' class='quanto-date posted-at response-posted-at' href='#58140e54709adace3000021a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is more efficient. It only issues a sell order if no orders exist already. Not perfect, but closer to what I want.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58165563a5472b0326000043' id='58165563a5472b0326000043'>
<a href='#58165563a5472b0326000043'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1477858667000' class='quanto-date posted-at response-posted-at' href='#58165563a5472b0326000043'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;d call this an inelegant way of preventing day trades in the backtest. I&#39;m a novice at python, so comments or improvements are welcome. It does appear to keep buying or selling the same stock in a given day. This period&#39;s results aren&#39;t bad, but YTD has a drawdown of over 43% with a 27% return.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5816de6c9bb1a3bf6a000667' id='5816de6c9bb1a3bf6a000667'>
<a href='#5816de6c9bb1a3bf6a000667'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1477893751000' class='quanto-date posted-at response-posted-at' href='#5816de6c9bb1a3bf6a000667'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That looks like it probably works. I specifically am not avoiding day trades, so I don&#39;t plan on using it. I just use Rh day trade protection, because I still want to day trade up to my limit.<br>
But it looks like reasonable code for preventing day trades. I think it&#39;s good, if that is the behavior you want.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58173b2e16a67c382b000a5b' id='58173b2e16a67c382b000a5b'>
<a href='#58173b2e16a67c382b000a5b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1477917492000' class='quanto-date posted-at response-posted-at' href='#58173b2e16a67c382b000a5b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It is more for backtesting than live trading. I was curious to see how much the results changed without the day trades.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58196202b3f0979e61000027' id='58196202b3f0979e61000027'>
<a href='#58196202b3f0979e61000027'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1478058509000' class='quanto-date posted-at response-posted-at' href='#58196202b3f0979e61000027'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve encountered backtests where it takes a large position of a bad stock. The stock only goes down after purchase and doesn&#39;t recover for months. I&#39;ve had it tie up 30-40-50% of the portfolio for 6-months or more. That drags down the returns. Would it be difficult to code a stop loss or to liquidate after holding a stock for X number of days?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581b99fa9f70019478000387' id='581b99fa9f70019478000387'>
<a href='#581b99fa9f70019478000387'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f761c0634a510baf000034'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/005412c496d35b55499b3b41cfef71b7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f761c0634a510baf000034'>Andy Do</a>
</div>
<a UTCms='1478203908000' class='quanto-date posted-at response-posted-at' href='#581b99fa9f70019478000387'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Charles, how is your latest iteration of the code doing?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581b9f5905a66d791600001a' id='581b9f5905a66d791600001a'>
<a href='#581b9f5905a66d791600001a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1478205279000' class='quanto-date posted-at response-posted-at' href='#581b9f5905a66d791600001a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This last couple of weeks have been brutal. I am working on a new version.<br>
Andy, this algo does not need leverage. Depending on the version, it rarely reaches 1.0 leverage.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581ca8f032ee9ebe930001cc' id='581ca8f032ee9ebe930001cc'>
<a href='#581ca8f032ee9ebe930001cc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f761c0634a510baf000034'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/005412c496d35b55499b3b41cfef71b7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f761c0634a510baf000034'>Andy Do</a>
</div>
<a UTCms='1478273271000' class='quanto-date posted-at response-posted-at' href='#581ca8f032ee9ebe930001cc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>HI Charles, I live tested your latest iteration and the stop loss used all 3 day trades within 1 hour of the market opening.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581caf02a81069c9ea0000cb' id='581caf02a81069c9ea0000cb'>
<a href='#581caf02a81069c9ea0000cb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1478274829000' class='quanto-date posted-at response-posted-at' href='#581caf02a81069c9ea0000cb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This has a builtin &quot;stop loss&quot;. I think it will do better in these perilous times. It is a work in progress.</p>

<p>To Andy: I added day trade protection. Shout out to Dave Andrews. I basically used his day trade protection code.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581cbe736fdb0c09e3000155' id='581cbe736fdb0c09e3000155'>
<a href='#581cbe736fdb0c09e3000155'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f761c0634a510baf000034'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/005412c496d35b55499b3b41cfef71b7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f761c0634a510baf000034'>Andy Do</a>
</div>
<a UTCms='1478278779000' class='quanto-date posted-at response-posted-at' href='#581cbe736fdb0c09e3000155'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Charles. Is it also supposed to go over 50% into one stock? I thought with the previous iterations you wanted it to buy a couple here and there.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581cc44432ee9e98470000c4' id='581cc44432ee9e98470000c4'>
<a href='#581cc44432ee9e98470000c4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/560ec853f035e97d17000981'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0e2fbea90a042dac12b7de9e9c4b6d9f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/560ec853f035e97d17000981'>Dave Andrews</a>
</div>
<a UTCms='1478280267000' class='quanto-date posted-at response-posted-at' href='#581cc44432ee9e98470000c4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think it is missing &quot;context.sold.append(stock)&quot; at the end of the buy section. It will buy and then sell in the same day, but won&#39;t sell and then buy more. Adding that around line 204 fixes it. </p>

<p>Big drawdowns in the little testing I&#39;ve been able to do so far. Hope to have time later this afternoon to poke around more.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581ccf6932ee9e984700017b' id='581ccf6932ee9e984700017b'>
<a href='#581ccf6932ee9e984700017b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a791c64c718fba240006e3'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1c2a50c6980be139ef05f6398d706753?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a791c64c718fba240006e3'>Bryan L</a>
</div>
<a UTCms='1478283119000' class='quanto-date posted-at response-posted-at' href='#581ccf6932ee9e984700017b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I tried the recent algo and it bought one stock with more than 50% of capital. This is not a behavior that was seen before.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581ce295bc6e3b0448000018' id='581ce295bc6e3b0448000018'>
<a href='#581ce295bc6e3b0448000018'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1478288028000' class='quanto-date posted-at response-posted-at' href='#581ce295bc6e3b0448000018'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It should avoid the one stock with more than 50% of capital situation now.</p>

<p>I removed the day trade protection code. It simply did more harm than good.<br>
You will have to turn on day trade protection with Robinhood.<br>
Eventually we will get some better code for that.</p>

<p>I also added some code that favors stocks that have a price higher than the average for that stock.</p>

<p>UPDATE:<br>
I would hold off on using this algo. I need to work on it some more. The orders being placed in live trading seem to guarantee a loss.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581d23c0725b540e090001c8' id='581d23c0725b540e090001c8'>
<a href='#581d23c0725b540e090001c8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f1834b3e3fd34fe4001e4b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/99954c45ffcdebe370fd446b69c32107?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f1834b3e3fd34fe4001e4b'>Janardan Natttth</a>
</div>
<a UTCms='1478304712000' class='quanto-date posted-at response-posted-at' href='#581d23c0725b540e090001c8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think that the losses are due to market conditions. I am live paper trading this week it broke even.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581e34ec200830903300147c' id='581e34ec200830903300147c'>
<a href='#581e34ec200830903300147c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1478374648000' class='quanto-date posted-at response-posted-at' href='#581e34ec200830903300147c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>For all of us attempting to learn / understand both quantopian and python, I find the following to be helpful.</p>

<pre><code>print len(context.portfolio.positions), context.portfolio.positions  
PrintedResult=  
4  
printed blank line here  
{
    Equity(  
        49131,  
        symbol=u&#39;OESX&#39;,  
        asset_name=u&#39;ORION ENERGY SYSTEMS INC COM STK (WI)&#39;,  
        exchange=u&#39;NASDAQ&#39;,  
        start_date=Timestamp(&#39;2015-06-12 00:00:00+0000&#39;, tz=&#39;UTC&#39;),  
        end_date=Timestamp(&#39;2016-11-07 00:00:00+0000&#39;, tz=&#39;UTC&#39;),  
        first_traded=None,  
        auto_close_date=Timestamp(&#39;2016-11-10 00:00:00+0000&#39;, tz=&#39;UTC&#39;),  
        exchange_full=u&#39;NASDAQ CAPITAL MARKET&#39;  
    ):Position({  
        &#39;last_sale_date&#39;: Timestamp(&#39;2016-10-27 17:37:00+0000&#39;, tz=&#39;UTC&#39;),  
        &#39;amount&#39;: 351,  
        &#39;last_sale_price&#39;: 1.22,  
        &#39;cost_basis&#39;: 1.23,  
        &#39;sid&#39;: Equity(  
            49131,  
            symbol=u&#39;OESX&#39;,  
            asset_name=u&#39;ORION ENERGY SYSTEMS INC COM STK (WI)&#39;,  
            exchange=u&#39;NASDAQ&#39;,  
            start_date=Timestamp(&#39;2015-06-12 00:00:00+0000&#39;, tz=&#39;UTC&#39;),  
            end_date=Timestamp(&#39;2016-11-07 00:00:00+0000&#39;, tz=&#39;UTC&#39;),  
            first_traded=None,  
            auto_close_date=Timestamp(&#39;2016-11-10 00:00:00+0000&#39;, tz=&#39;UTC&#39;),  
            exchange_full=u&#39;NASDAQ CAPITAL MARKET&#39;  
        )  
    }),  
    Equity(  
        48635,  
        ...  
    ):Position({  
        ...  
        &#39;sid&#39;: Equity(  
            48635,  
            ...  
        )  
    }),  
    ...  
}

for stock in context.portfolio.positions:  
    print stock  
PrintedResult=  
2016-10-28 07:45  PRINT Equity(49131 [OESX])  
2016-10-28 07:45  PRINT Equity(48635 [BLPH])  
2016-10-28 07:45  PRINT Equity(49452 [MIRN])  
2016-10-28 07:45  PRINT Equity(33103 [PFIE])  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='581e54efef08940d4d000070' id='581e54efef08940d4d000070'>
<a href='#581e54efef08940d4d000070'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1478382839000' class='quanto-date posted-at response-posted-at' href='#581e54efef08940d4d000070'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>making progress<br>
look at the logs when you run it<br>
do NOT live trade this yet, it will lose money  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5820dd9690f10800120002ed' id='5820dd9690f10800120002ed'>
<a href='#5820dd9690f10800120002ed'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1478548894000' class='quanto-date posted-at response-posted-at' href='#5820dd9690f10800120002ed'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yet again, another thread has gotten &quot;long in the tooth&quot;.</p>

<p>Algo has been renamed <a href="https://www.quantopian.com/posts/robin-hood-extreme-vetting">Robin Hood Extreme Vetting</a>.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5824b146d17a220013000ff1' id='5824b146d17a220013000ff1'>
<a href='#5824b146d17a220013000ff1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57da26c189f8a535cb000559'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0867214038df44fb4e9b8917634599dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57da26c189f8a535cb000559'>Joseph Orlando</a>
</div>
<a UTCms='1478799700000' class='quanto-date posted-at response-posted-at' href='#5824b146d17a220013000ff1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>ROBINHOOD PAPER TRADING RESULTS FROM    10/14/2016   -   11/10/2016:</p>

<p>INITIAL CAPITAL:    $1000<br>
ENDING CAPITAL:   $1089.05</p>

<p>PERCENT CHANGE:     +8.90%<br>
SHARPE:    3.73</p>

<p>LONG EXPOSURE AT THIS TIME:    $363.20<br>
AVAILABLE CASH AT THIS TIME:    $725.85</p>

<p>Most of the earnings made on 10/25/2016, but has been consistently seeing changes well above S&amp;P. I love this algo! Running live in robinhood as well, not enough data to return yet.</p>

<ul>
<li>Something to note:  Everyday when I look at the progress of this algo, one or more of the positions are down in the red, but over time it seems as though this algo has pulled through. It&#39;s actually the only algo that I&#39;ve seen consistent returns on. I&#39;m excited to see how robinhood fares, and how additional time affects performance.<br></li>
</ul>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5824b458e9ef3e045c0000b6' id='5824b458e9ef3e045c0000b6'>
<a href='#5824b458e9ef3e045c0000b6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/576edefeb8dc98dc240008d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/639ce5d16049c91e04aa486f72158fa8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/576edefeb8dc98dc240008d2'>Charles Witt</a>
</div>
<a UTCms='1478800481000' class='quanto-date posted-at response-posted-at' href='#5824b458e9ef3e045c0000b6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>If your live trading proves profitable over a month or so, then please post a backtest that has the same version of the algo that you are using. My live trading so far has mostly lost money. But I do believe there has got to be a way to make it work.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5824b95e5f6d554b6b000269' id='5824b95e5f6d554b6b000269'>
<a href='#5824b95e5f6d554b6b000269'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57da26c189f8a535cb000559'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0867214038df44fb4e9b8917634599dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57da26c189f8a535cb000559'>Joseph Orlando</a>
</div>
<a UTCms='1478801768000' class='quanto-date posted-at response-posted-at' href='#5824b95e5f6d554b6b000269'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Sounds good @charles. I will make sure to follow up on my paper trading and the robinhood live trading. It may be good or bad that the market is in such turmoil right now following the elections. It will either prove how the algo runs in a volatile market, which in turn may be good or bad for future performance; it may also show faulty results poisoned by the volatility. We shall see.</p>

<p>Looking at the change alongside the S&amp;P, I expect this algo to track the benchmark while keeping ahead, so it looks good for the algo. </p>

<p>Again, I will keep up with my progress and will keep you all in the loop! In the mean time, the algo that has made the progress listed above (also the algo that is being run LIVE, is attached below.)</p>

<ul>
<li>Run a diff to be sure, but I&#39;m pretty sure I only change the initialization to 1 minute after market open, from original 7 minutes that I retrieved from forums. 1 Minute after had better results, which I figured.<br></li>
</ul>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='582b00ea0d2fcd2132000c42' id='582b00ea0d2fcd2132000c42'>
<a href='#582b00ea0d2fcd2132000c42'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/579e9b2114ae60349e0003a4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e3e33f5a7842d03b37b9698d39ceb6b3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/579e9b2114ae60349e0003a4'>Dain Rohtla</a>
</div>
<a UTCms='1479213298000' class='quanto-date posted-at response-posted-at' href='#582b00ea0d2fcd2132000c42'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I just got an email this morning saying  &quot;line(s) 183 with the high-level message, TimeoutException: Too much time spent in handle_data and/or scheduled functions. 50 second limit exceeded.&quot; anyone know how to fix that?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='583dac3cc34c1d0015000052' id='583dac3cc34c1d0015000052'>
<a href='#583dac3cc34c1d0015000052'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57da26c189f8a535cb000559'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0867214038df44fb4e9b8917634599dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57da26c189f8a535cb000559'>Joseph Orlando</a>
</div>
<a UTCms='1480436804000' class='quanto-date posted-at response-posted-at' href='#583dac3cc34c1d0015000052'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Update:  Using the production code outlined above, the following results have been found -- more to come in the future:<br>
There are two live versions of the code, one a quantopian paper trading account started on 10/14/2016 at around 11AM EST, the other a robinhood trading version started on 11/14/2016 at around 4PM EST.</p>

<p>Quantopian Paper Process:<br>
    % Return:                   16.40<br>
    Starting balance:     $1000.00<br>
    Ending Balance:       $1163.99<br>
    Sharpe Ratio:            3.74<br>
    Alpha:                           1.16<br>
    Beta:                              0.77<br>
    Scortino:                      8.13<br>
    Info Ratio:                   0.21<br>
    Volatility:                     0.33</p>

<p>Robinhood Process:<br>
    % Return:                    9.50<br>
    Starting balance:     $384.65<br>
    Ending Balance:       $421.01<br>
    Sharpe Ratio:            10.98<br>
    Alpha:                           3.04<br>
    Beta:                              -2.15<br>
    Scortino:                      86.83<br>
    Info Ratio:                   0.43<br>
    Volatility:                     0.19</p>

<p>Again these two accounts are one month apart in age, and the Paper Trading quotes are 15 minutes behind Production.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='583db0f5f53a9100120000ca' id='583db0f5f53a9100120000ca'>
<a href='#583db0f5f53a9100120000ca'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/583129b1b0bf600012000a6e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e86ca30043a9ef2e5ccf711981f94037?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/583129b1b0bf600012000a6e'>Nick Fries</a>
</div>
<a UTCms='1480438016000' class='quanto-date posted-at response-posted-at' href='#583db0f5f53a9100120000ca'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for the update Joseph. I&#39;ve been following these threads closely. I plan to start live trading this algo in the January timeframe in the $6 - $20 price range.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='583dbb605357a700150001d2' id='583dbb605357a700150001d2'>
<a href='#583dbb605357a700150001d2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5402ce80f7defb26d700ae4d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3c5dbfdcaeb947418b40feac07a5a28a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5402ce80f7defb26d700ae4d'>Dorial Fumilan</a>
</div>
<a UTCms='1480440678000' class='quanto-date posted-at response-posted-at' href='#583dbb605357a700150001d2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you all, for sharing the code, and sharing your advice and other ideas.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='583dcc79f53a91001500033e' id='583dcc79f53a91001500033e'>
<a href='#583dcc79f53a91001500033e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57f761c0634a510baf000034'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/005412c496d35b55499b3b41cfef71b7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57f761c0634a510baf000034'>Andy Do</a>
</div>
<a UTCms='1480445057000' class='quanto-date posted-at response-posted-at' href='#583dcc79f53a91001500033e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Joseph I was using your code for a week and had pretty good results, 3% return. I was wondering if there was any way to get less rejected orders? It appears most of them have to do with the 5 cent increment rule. Thanks again for sharing.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5846bd0fb95b0c001200099f' id='5846bd0fb95b0c001200099f'>
<a href='#5846bd0fb95b0c001200099f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5798b0a8b4b58ba0c500023b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/59ba2dbd666311008cce30a53347335f?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5798b0a8b4b58ba0c500023b'>megnauth lokenauth</a>
</div>
<a UTCms='1481030939000' class='quanto-date posted-at response-posted-at' href='#5846bd0fb95b0c001200099f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is the algo ready for its spotlight yet?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58f9aa34ab379a000d1cbfeb' id='58f9aa34ab379a000d1cbfeb'>
<a href='#58f9aa34ab379a000d1cbfeb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1492757044000' class='quanto-date posted-at response-posted-at' href='#58f9aa34ab379a000d1cbfeb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Delistings are on the radar on this page. Solely for experimentation, you can use the delisting code here to experiment, don&#39;t trade with delisting(), it&#39;s look-ahead. For information gathering it isn&#39;t going to hurt to see what happens, and instead there&#39;s also this code to <a href="https://www.quantopian.com/posts/delisted-securities-now-removed-from-portfolio#58f7f17262b9d8000def6d16">log when delisted auto close happens</a>, it is passive and that&#39;s fine, you can include that live.</p>

<p>I was messing around fascinated by an earlier version of this wondering why it works sometimes and noticed a <em>drop</em> of hundreds of percentage points  if delists are not allowed to happen. <em>(Edit: It&#39;s complicated though, this version has higher returns per dollar risked from less shorting.)</em></p>

<p>The assumption seems to be that delisted stocks result in a loss of profits, it seems the opposite simulated in this case alone based on the returns chart. To someone willing to obtain some stats, how often do backtest delists profit more than they would have live vs less? If well over 50% more rosy then maybe we ought to be more concerned with them. Meanwhile, some might like other changes in this code. I didn&#39;t do tweaking or test this thoroughly with different date ranges, my point was mere understanding. </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/robin-hood-throws-a-party'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/robin-hood-throws-a-party'>join Quantopian</a> to
post a reply.
</div>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#d6b0b3b3b2b4b7b5bd96a7a3b7b8a2b9a6bfb7b8f8b5b9bb">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
