<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
How to Build a Pairs Trading Strategy on Quantopian?
</title>
<meta content='Pairs trading is a form of mean reversion that has a distinct advantage of always being hedged against market movements. It is generally a high alpha strategy when backed up by some rigorous statistics. This notebook runs through the following concepts What is cointegration? How to test for cointegration? What is pairs trading? How to find cointegrated pairs? How to generate a tradeable signal? The notebook is intended to be an introduction to the concept, and whereas this notebook only...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="5A0fG3SRzjzZbFCfAfwk+QeHhqfwgqvWr8gaFplo/o6Ya2lW1mcc32BxCa5OE4yNPwmlzopOvs0tx8F8My2cNQ==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/how-to-build-a-pairs-trading-strategy-on-quantopian' property='og:url'>
<meta content='How to Build a Pairs Trading Strategy on Quantopian?' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/how-to-build-a-pairs-trading-strategy-on-quantopian' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='How to Build a Pairs Trading Strategy on Quantopian?' property='og:title'>
<meta content='Pairs trading is a form of mean reversion that has a distinct advantage of always being hedged against market movements. It is generally a high alpha strategy when backed up by some rigorous statistics. This notebook runs through the following concepts What is cointegration? How to test for cointegration? What is pairs trading? How to find cointegrated pairs? How to generate a tradeable signal? The notebook is intended to be an introduction to the concept, and whereas this notebook only...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/how-to-build-a-pairs-trading-strategy-on-quantopian">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='555611c2975bdf4b08000522'>
<div class='post-container' data-post-id='555611c2975bdf4b08000522' id='555611c2975bdf4b08000522'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>How to Build a Pairs Trading Strategy on Quantopian?</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1453600040000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=How to Build a Pairs Trading Strategy on Quantopian?&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fhow-to-build-a-pairs-trading-strategy-on-quantopian%3Futm_source%3Dwebsite_share%26utm_campaign%3Dhow-to-build-a-pairs-trading-strategy-on-quantopian%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fhow-to-build-a-pairs-trading-strategy-on-quantopian%3Futm_source%3Dwebsite_share%26utm_campaign%3Dhow-to-build-a-pairs-trading-strategy-on-quantopian%26utm_medium%3Dlinkedin&amp;title=How+to+Build+a+Pairs+Trading+Strategy+on+Quantopian%3F+%28Delaney+Mackenzie%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Pairs Trading' data-tag-id='55c50e7d8d4710ec6e000009' href='/posts/tag/Pairs-Trading/newest'>Pairs Trading</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Show Q' data-tag-id='55c50e7d8d4710ec6e000010' href='/posts/tag/Show-Q/newest'>Show Q</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Tools and Tips' data-tag-id='55c50e7d8d4710ec6e000011' href='/posts/tag/Tools-and-Tips/newest'>Tools and Tips</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Stat Arb' data-tag-id='55d33f863f6ba10065000003' href='/posts/tag/Stat-Arb/newest'>Stat Arb</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/how-to-build-a-pairs-trading-strategy-on-quantopian?utm_source=website_share&amp;utm_campaign=how-to-build-a-pairs-trading-strategy-on-quantopian&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Delaney Mackenzie" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Pairs trading is a form of mean reversion that has a distinct advantage of always being hedged against market movements. It is generally a high alpha strategy when backed up by some rigorous statistics. This notebook runs through the following concepts</p>

<ul>
<li>What is cointegration?<br></li>
<li>How to test for cointegration?<br></li>
<li>What is pairs trading?<br></li>
<li>How to find cointegrated pairs?<br></li>
<li>How to generate a tradeable signal?</li>
</ul>

<p>The notebook is intended to be an introduction to the concept, and whereas this notebook only features one pair, you would probably want your algorithm to consider many pairs at once.</p>

<p>Please find all the lectures here: <a href="https://www.quantopian.com/lectures">https://www.quantopian.com/lectures</a></p>

<p>The notebook was originally created for a presentation at Harvard’s Applied CS department and has since been used at Stanford, Cornell, and several other venues. If you’re interested in learning more about how Quantopian is being <a href="https://www.quantopian.com/academia">used as a teaching tool at top universities</a>, please contact me at <a href="/cdn-cgi/l/email-protection#86e2e3eae7e8e3ffc6f7f3e7e8f2e9f6efe7e8a8e5e9eb"><span class="__cf_email__" data-cfemail="3256575e535c574b724347535c465d425b535c1c515d5f">[email&#160;protected]</span></a></p>

<p>Thanks,<br>
Delaney</p>
</div>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>93 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='555611e71aa59b320d000522' id='555611e71aa59b320d000522'>
<a href='#555611e71aa59b320d000522'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1431704042000' class='quanto-date posted-at response-posted-at' href='#555611e71aa59b320d000522'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here’s a very simple algorithm based on the approach presented in the notebook.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='55561203e00404fa71000503' id='55561203e00404fa71000503'>
<a href='#55561203e00404fa71000503'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1431704070000' class='quanto-date posted-at response-posted-at' href='#55561203e00404fa71000503'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here’s a more sophisticated algorithm written by Ernie Chan. This algorithm computes a hedge ratio rather than just holding equal amounts of each security.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='55574e1bf7c264c2ad000620' id='55574e1bf7c264c2ad000620'>
<a href='#55574e1bf7c264c2ad000620'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55263f70660e382642000361'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7386c2d21c82004675b4f92393c4eb5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55263f70660e382642000361'>Bharath Rao</a>
</div>
<a UTCms='1431784989000' class='quanto-date posted-at response-posted-at' href='#55574e1bf7c264c2ad000620'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Very useful stuff.</p>

<p>What makes it lose systematically for nearly 3 months? Does Cointegration fail in that period?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55577e0768c55afe8d000671' id='55577e0768c55afe8d000671'>
<a href='#55577e0768c55afe8d000671'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1431797258000' class='quanto-date posted-at response-posted-at' href='#55577e0768c55afe8d000671'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Basically yes, they turned out not to be cointegrated in that time frame, but returned to being conitegrated in the long term.</p>

<p>I think the drawdown you point out is a strong case for why you would actually want many pairs trading at the same time. Pairs can be cointegrated over different time scales, and any given one will not always be in a tradable state (big spread, small spread). By increasing your sample size, you can make it far more likely that at least one pair will be strongly tradable state at a given time, and smooth out the weird bumps you see here.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5558ad25ef5a6ade8600039e' id='5558ad25ef5a6ade8600039e'>
<a href='#5558ad25ef5a6ade8600039e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52f33a9cb0a067d03e00012c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3344570c54eb9f4c44385e076eda369a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52f33a9cb0a067d03e00012c'>Anthony Ng</a>
</div>
<a UTCms='1431874855000' class='quanto-date posted-at response-posted-at' href='#5558ad25ef5a6ade8600039e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Delaney.<br>
Thanks for this. Very useful indeed. I noticed you used Augmented-Dickey Fuller test for the cointegration test. Do you have similar implementation using Johansen test? I&#39;m not able to find the johansen test with python.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='555a1f92ca50c7e85f000346' id='555a1f92ca50c7e85f000346'>
<a href='#555a1f92ca50c7e85f000346'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1431969686000' class='quanto-date posted-at response-posted-at' href='#555a1f92ca50c7e85f000346'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Anthony,</p>

<p>It appears that whereas there have been some attempts to add the Johansen test to the statsmodels library, currently there is no built-in implementation. Here, for instance, is a <a href="https://github.com/josef-pkt/statsmodels/commit/bf79e8ecb12d946f1113213692db6dac5df2b6e9">3rd party implementation</a>. I&#39;m not sure when it will get added to the Python libraries, is there a way you can work around not having it?</p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='555b48cfe99f8e345d000076' id='555b48cfe99f8e345d000076'>
<a href='#555b48cfe99f8e345d000076'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52f33a9cb0a067d03e00012c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3344570c54eb9f4c44385e076eda369a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52f33a9cb0a067d03e00012c'>Anthony Ng</a>
</div>
<a UTCms='1432045778000' class='quanto-date posted-at response-posted-at' href='#555b48cfe99f8e345d000076'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks. I did see that link. Pretty complicated to implement and to write it all in the IDE. In fact, Satya B attempted it here <a href="https://www.quantopian.com/posts/trading-baskets-co-integrated-with-spy">https://www.quantopian.com/posts/trading-baskets-co-integrated-with-spy</a>.<br>
The beauty of Johansen test is that it generates eigenvectors, which I think you can use other methods to calculate though I can&#39;t recall at the moment, for up to 12 assets and many other things, which can be used to create a basket. I was looking at one of the index arb strategy of Ernie and attempting to replicate it on Q&#39;s platform to assess the performance after fees/comm etc.I noticed fees seemed to chew up a lot of the performance. The ABGB &amp; FSLR pair above has an sharpe ratio of 0.75 but ended with sharpe ratio of -0.29. A lot of seeming profitable pairs turned out to be non profitable after bid/ask spread, fees, commission etc. Hence, I am looking at 3 or more stocks pair trading, and index arb. johansen test will make this easier to implement.<br>
I shall keep trying.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='555b83024481798b0c0001ef' id='555b83024481798b0c0001ef'>
<a href='#555b83024481798b0c0001ef'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/555b662cf9d38b37de000146'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1eef1f318203836c42a66881d7e18669?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/555b662cf9d38b37de000146'>Aaron Brown</a>
</div>
<a UTCms='1432060676000' class='quanto-date posted-at response-posted-at' href='#555b83024481798b0c0001ef'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The notebook is an excellent statistical introduction to pairs trading, I recommend anyone interested in the topic also look into some of the financial research. <a href="https://www3.nd.edu/%7Epgao/papers/EngelbergGaoJag_31August2008.pdf">Anatomy of Pairs Trading</a> is a good start, and the references are helpful as well. Two more general papers on risk arbitrage strategies are <a href="http://faculty.chicagobooth.edu/john.Cochrane/teaching/35150_advanced_investments/mitchell%20pulvino%20characteristics%20of%20risk%20and%20return%20JF.pdf">Characteristics of Risk and Return in Risk Arbitrage</a> and <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.475.6643&amp;rep=rep1&amp;type=pdf">Limited Arbitrage in Equity Markets </a>. There are some expensive lessons people have learned about running these kinds of strategies, and it&#39;s worth knowing the lessons in advance. Forewarned is forearmed.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='555ba04af9d38b37de0002d4' id='555ba04af9d38b37de0002d4'>
<a href='#555ba04af9d38b37de0002d4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1432068172000' class='quanto-date posted-at response-posted-at' href='#555ba04af9d38b37de0002d4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Anthony, good to see you here! I have been looking for a good implementation of the Johansen test for a while but couldn&#39;t find one. There is a pretty long (but stale) discussion and pull request on github about including it in statsmodels: <a href="https://github.com/statsmodels/statsmodels/issues/448">https://github.com/statsmodels/statsmodels/issues/448</a> and <a href="https://github.com/josef-pkt/statsmodels/commit/bf79e8ecb12d946f1113213692db6dac5df2b6e9">https://github.com/josef-pkt/statsmodels/commit/bf79e8ecb12d946f1113213692db6dac5df2b6e9</a> It&#39;s really too bad as definitely in quant finance this is pretty widely used.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='555cb397fd391a012300041a' id='555cb397fd391a012300041a'>
<a href='#555cb397fd391a012300041a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52f33a9cb0a067d03e00012c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/3344570c54eb9f4c44385e076eda369a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52f33a9cb0a067d03e00012c'>Anthony Ng</a>
</div>
<a UTCms='1432138650000' class='quanto-date posted-at response-posted-at' href='#555cb397fd391a012300041a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Aaron. Thank you for the heads up. Appreciate it coming from your. I shall spend some time with those papers.</p>

<p>@Thomas. Thanks for the link. As you said, it is a bit old. Better than naught I suppose.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='555cc652fd391a27b90003ee' id='555cc652fd391a27b90003ee'>
<a href='#555cc652fd391a27b90003ee'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1432143446000' class='quanto-date posted-at response-posted-at' href='#555cc652fd391a27b90003ee'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a python implementation for vector error correction models. You can also use it to find cointegration weights. <a href="http://econ.schreiberlin.de/software/vecmclass.py">http://econ.schreiberlin.de/software/vecmclass.py</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='556794bd181af9ebe300019b' id='556794bd181af9ebe300019b'>
<a href='#556794bd181af9ebe300019b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1432851647000' class='quanto-date posted-at response-posted-at' href='#556794bd181af9ebe300019b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a version of Ernie Chan&#39;s algorithm modified to trade multiple pairs. This is a good way to obtain multiple uncorrelated return streams and reduce the beta of the overall strategy.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='556795a8d69d514faa000170' id='556795a8d69d514faa000170'>
<a href='#556795a8d69d514faa000170'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/541c92f7db2aaa63d10002e2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f3d5fc46809ef9bff5e3c170b0a3ff76?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/541c92f7db2aaa63d10002e2'>Deleted User</a>
</div>
<a UTCms='1432851884000' class='quanto-date posted-at response-posted-at' href='#556795a8d69d514faa000170'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Delany,  Are there methods available to screen for pairs using stat tests?  Or are those usually too computationally expensive?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5567d088d69d51a5ae0002c3' id='5567d088d69d51a5ae0002c3'>
<a href='#5567d088d69d51a5ae0002c3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1432866954000' class='quanto-date posted-at response-posted-at' href='#5567d088d69d51a5ae0002c3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>We are working on a way to make the notebooks clone-able into one&#39;s own research environment. In the meantime those interested in playing around with the notebook from the original post can download it <a href="https://github.com/quantopian/research_public/raw/master/presentations/LECTURE_Stanford_Researching_Cointegrated_Stocks_for_pair_trading.ipynb">here</a>. After downloading upload it into your research account. If you do not yet have a research account, enter an algorithm into the contest to receive access.</p>

<p>@good trader, The method provided in the notebook will screen a given list of securities for cointegration, the underlying condition necessary for pairs trading. The problem is not as much the computational complexity as it is the loss of statistical power. The more comparisons you do, the less weight you must put on significant p-values. This phenomenon is described <a href="http://en.wikipedia.org/wiki/Multiple_comparisons_problem">here</a>. To be statistically rigorous, you must apply a <a href="http://en.wikipedia.org/wiki/Bonferroni_correction">Bonferroni correction</a> to p-values obtained from a pairwise cointegration script. The reason being that the more p-values you generate, the more likely you are to encounter significant p-values which are spurious and do not reflect actual cointegration behavior in the underlying securities. Since the number of comparisons done when looking for pairwise cointegration in n securities grows at a rate of O(n^2), even looking at 20 securities would render most statistical tests useless. A better approach is to come up with a small set of candidate securities using analysis of the underlying economic links. A small number of statistical tests can then be done to determine which, if any, pairs are cointegrated. Let me know if this is what you meant.</p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5568be4abbc789b439000005' id='5568be4abbc789b439000005'>
<a href='#5568be4abbc789b439000005'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/555b662cf9d38b37de000146'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1eef1f318203836c42a66881d7e18669?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/555b662cf9d38b37de000146'>Aaron Brown</a>
</div>
<a UTCms='1432927829000' class='quanto-date posted-at response-posted-at' href='#5568be4abbc789b439000005'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I disagree somewhat about the problem with too many comparisons. The Bonferroni correction is appropriate when you are looking for truth. For example, if you have a questionnaire with 1,000 items and you give it to people with and without cancer, you&#39;ll find on average 50 items that correlate with cancer at the 5% level of statistical significance, even if nothing on the questionnaire is related to cancer. If you consider combinations of two or more items, you can generate as many correlates are you like.</p>

<p>But when designing automated trading strategies, coincidental relations don&#39;t hurt you much. They add random noise and trading costs to your results. Since few results are 100% meaningless, most relations have at least some small degree of persistence, it&#39;s not critical to filter your strategy down to rigorously validated ones. Profits matter, not truth. Bonferroni and similar metrics push you to the most statistically reliable relations, which are not generally the most economically useful ones.</p>

<p>If by &quot;analysis of the underlying economic links&quot; you mean starting with natural pairs like two similar companies in the same industry, I have not found that useful. Basically people notice the obvious stuff. If you mean thinking about less obvious relations, especially things that are invisible in the usual data people use, then I agree. Ideally you want a validatable economic story for the pair relation, which explains both why it exists and why it is not arbitraged away. Not only does that guard against data mining, but it means you can measure whether the effect continues to work (without that, the only way you know the strategy isn&#39;t working is when you lose money).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55699296008284ce9c00030f' id='55699296008284ce9c00030f'>
<a href='#55699296008284ce9c00030f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1432982170000' class='quanto-date posted-at response-posted-at' href='#55699296008284ce9c00030f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Delaney,</p>

<p>Nice work.  I haven&#39;t read through your notebook line-by-line, but I can tell that it will be a great addition to the Quantopian example library.  And following up with shared algos--good move.</p>

<p>You might have a look at the notebook I posted, <a href="https://www.quantopian.com/posts/analysis-of-minute-bar-trading-volumes-of-the-etfs-spy-and-sh">https://www.quantopian.com/posts/analysis-of-minute-bar-trading-volumes-of-the-etfs-spy-and-sh</a>.  To visualize how a given pair goes in and out of cointegration, you could make a similar plot.  Applying the statistical test 390 times per trading day over many years would require some patience, though.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='556e0b1a5fa36e947b000595' id='556e0b1a5fa36e947b000595'>
<a href='#556e0b1a5fa36e947b000595'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1433275164000' class='quanto-date posted-at response-posted-at' href='#556e0b1a5fa36e947b000595'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Aaron Am I correct in reading your argument generally as follows?<br>
 - In the real world Bonferroni is too restrictive and the number of profitable pairs you lose via the correction outweighs the statistical certainty you gain.<br>
I think we agree as to the final point you make. I think that many of the economic link analysis folks do are simplistic and ignore the potentially interesting relations that are more likely to contain non-arbitraged alpha.</p>

<p>@Grant Thank you. We&#39;re actually planning to expand the example library to a full quant finance curriculum taught with notebooks and companion algorithms. We&#39;re going to have a series of summer lectures as we develop more topics, so keep an eye out for those. Your notebook is very cool and I do wonder how stable the cointegration scores are even for strongly cointegrated pairs. Unfortunately, I don&#39;t think I&#39;ll have time to look into that in the near future what with the production of our other curriculum notebooks. We are looking for guest contributors, however. If you have any notebooks you would like to be featured in our curriculum with full credit to the author(s), send them my way and I&#39;ll see if they would fit into our current content.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='556e4cdc45badb48c000007f' id='556e4cdc45badb48c000007f'>
<a href='#556e4cdc45badb48c000007f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/555b662cf9d38b37de000146'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1eef1f318203836c42a66881d7e18669?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/555b662cf9d38b37de000146'>Aaron Brown</a>
</div>
<a UTCms='1433291998000' class='quanto-date posted-at response-posted-at' href='#556e4cdc45badb48c000007f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>In the real world Bonferroni is too restrictive and the number of profitable pairs you lose via the correction outweighs the statistical certainty you gain.</p>
</blockquote>

<p>Not precisely. Yes, Bonferroni is too restrictive in the sense that it gives you too few pairs, but Bonferroni also directs you to the wrong pairs.</p>

<p>In the example of a questionnaire with 1,000 items given to cancer patients and non-cancer patients, it&#39;s likely that most of the items have no effect on cancer, or at least such weak and complex effects that it&#39;s not worth using them for medical advice. So if you want 5% significance, you test each item at the 0.005% level (that is you want 3.9 standard deviations, not just 1.6). You don&#39;t mind that, because any real effect strong enough to matter will likely show up with strong significance. If you didn&#39;t do Bonferroni, you&#39;d end up with 50 recommendations even when none of the items mattered, and a lot of useless advice.</p>

<p>Incidentally, Bonferroni is a very conservative correction, and there are more sophisticated ones that allow more items.</p>

<p>But if you have 1,000 pairs to test, it&#39;s likely that many of them have some degree of cointegral predictability. Even if there is no predictability, including the extra pair only adds a little noise to your strategy, which is not terrible. Also you don&#39;t believe that any of them have predictability so strong that anyone would have noticed it and arbitraged it away. So it&#39;s reasonable to consider all the pairs with 5% significance or less, and filter them out using economic or other criteria unrelated to the data. Selecting only the strongest statistical relations is not wise.</p>

<p>You can set this up in a Bayesian framework if you like consistency and precision; or you can just use ad hoc rules of thumb.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='556ee8c445badbfb660004ff' id='556ee8c445badbfb660004ff'>
<a href='#556ee8c445badbfb660004ff'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51d125a71144e60865000044'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/b7dd86784deedc047d5ad0fb30378bdd?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51d125a71144e60865000044'>Peter Bakker</a>
</div>
<a UTCms='1433331911000' class='quanto-date posted-at response-posted-at' href='#556ee8c445badbfb660004ff'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just for the il-pair-literated who want to learn.... must there be a story behind the pair? Should there be a logical explanation? I played around with pairs and found for example that MorganStanley and Expedia work.... but why? Or doesn&#39;t one want to know why.......  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='556f0ea9eb6190d82b00057c' id='556f0ea9eb6190d82b00057c'>
<a href='#556f0ea9eb6190d82b00057c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/555b662cf9d38b37de000146'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1eef1f318203836c42a66881d7e18669?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/555b662cf9d38b37de000146'>Aaron Brown</a>
</div>
<a UTCms='1433341612000' class='quanto-date posted-at response-posted-at' href='#556f0ea9eb6190d82b00057c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>must there be a story behind the pair?</p>
</blockquote>

<p>This is actually a semantic question rather than a financial one. If you adopted a pure statistical approach with no consideration of the actual pairs, you would end up with hundreds or thousands of pairs, including some overlapping ones. Then we wouldn&#39;t call it a pairs-trading strategy but a long-short equity strategy.</p>

<p>The idea of pairs trading is you can get additional insight by considering specific reasons for the dependence between the stocks; and that insight can result in more accurate positioning, and also avoidance of big losses when the relation breaks.</p>

<p>Obvious relations, like two large-cap stocks in the same industry, tend not to be useful. That&#39;s confusing sometimes, because some of the famous early pairs trades involved such pairs, and they&#39;re still used for examples in most texts. But too many people are watching those spreads too closely to get the high Sharpe ratios you need for undiversified strategies like pairs trading. Leave those marginal Sharpes to the long-short equity people who have a lot more positions.</p>

<p>Also, when we talk about a reason for the pairs relation, we&#39;re talking about both a positive--why is it hard to imagine a world in which the values of these companies diverge from their historical proportions--and a negative--why do these stocks respond to different economic news? So for two near-identical companies the first question is easy, but the second is hard. For two seemingly unrelated companies like MS and EXPE it&#39;s the reverse. You might say something like, &quot;In a good economy Morgan Stanley gets a lot of business and people travel a lot,&quot; but that&#39;s basically true of almost any two companies.</p>

<p>The classic pairs reason was two companies that responded to the same basic economic factors, say oil prices or interest rates or US dollar strength, but at different points in the supply chain, say crude oil prices versus gas station revenues. A single link is not good enough, virtually all companies respond to these factors. But you can find pairs that are matched on narrower factors, say fracking activity in the Northeast US or precipitation in central California, or that match direction on a number of broad factors. Or you can find two companies that are actually in similar businesses today, but that for historical reasons are listed in different sectors. Another common situation is two companies involved at different points of the lifecycle of durable assets; homebuilders and furniture stores with similar geography for example.</p>

<p>Anyway, when you have a reason, you have things to monitor to fine-tune your position; and to alert you if a big dislocation is a great trading opportunity or a sign than the historical relation has broken. If you don&#39;t have a reason, you&#39;d better have a lot of diversification, meaning you can&#39;t afford the specific analysis work for each pair.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='556f1c6feb6190d82b0005d9' id='556f1c6feb6190d82b0005d9'>
<a href='#556f1c6feb6190d82b0005d9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1433345138000' class='quanto-date posted-at response-posted-at' href='#556f1c6feb6190d82b0005d9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Wouldn&#39;t you admit though that if a pair has a story then that story is known and therefore unprofitable by the likes of slow to trade retail traders? And if one could mine the data and discover, through the data, stories that were unexpected that one could at least compete in the pairs trading space? I see your point on maintaining a large pool of pairs if the stories that connect the participants are weak or unexplored, but still, if we underlings wish to participate why wouldn&#39;t we use such a technique? Or do you maintain that retail traders can capture and profit from anomalous pair spreads of well known couples?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='556f20acd090c39797000339' id='556f20acd090c39797000339'>
<a href='#556f20acd090c39797000339'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/555b662cf9d38b37de000146'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1eef1f318203836c42a66881d7e18669?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/555b662cf9d38b37de000146'>Aaron Brown</a>
</div>
<a UTCms='1433346223000' class='quanto-date posted-at response-posted-at' href='#556f20acd090c39797000339'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>Wouldn&#39;t you admit though that if a pair has a story then that story is known and therefore unprofitable by the likes of slow to trade retail traders?</p>
</blockquote>

<p>No, I wouldn&#39;t agree with that view. Pairs trading tends to be low capacity, especially in lower-cap stocks, and takes a lot of work. It&#39;s not attractive for asset managers because the investment amounts and risk characteristics are erratic. It&#39;s mostly pursued by individual full-time professional traders, who might follow a dozen pairs in addition to a few dozen other strategies, and semi-pro traders who are willing to take what the market gives them and stay in cash when none of their strategies are attractive. There are more good pairs than there are competent traders chasing them.</p>

<p>In principle, you could find good pairs using a clever automated filter, or by reading and thinking. My general feeling is the first is harder, and if you&#39;re going to do it, you&#39;ll want to do it to identify large numbers of pretty good pairs rather than two or three great pairs. In that case, I&#39;d say just switch to long-short equity and forget pairs. The good thing about reading and thinking is most good quants are lazy, and would rather let the computer do the work. So you&#39;re competing with non-quants, some of whom are pretty good at reading and thinking, but are at a huge disadvantage to someone with a computer who knows a little math.</p>

<p>I don&#39;t want to come across as dogmatic, anyone who does what other people tell them is not likely to find great success in any sort of trading. If you think you can design an algorithm to identify good pairs, there&#39;s no harm in trying. It just doesn&#39;t strike me as the most promising approach.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='556f326845badbfb660006c0' id='556f326845badbfb660006c0'>
<a href='#556f326845badbfb660006c0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1433350763000' class='quanto-date posted-at response-posted-at' href='#556f326845badbfb660006c0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>... takes a lot of work.</p>
</blockquote>

<p>Yeah. The easy pairs trade money was made long ago. Lucrative stories in lower-cap stocks though exposes a pair to the aberrations of smaller company volatility no? &quot;Whoops, that solar stock just lost its major contract. Or, wow, that driller just got a windfall state contract.&quot; And then the story gets rewritten, or thee or four pages get torn out. One might catch such preludes to story changes if one only watches a dozen or so stories. But here, where we&#39;re looking to avoid story watching -- going fully automated, we would get nailed by such narrative breakdowns in just a few pair relationships.</p>

<p>When you say switch to long/short equities you would seem to advocate abandoning the statistical search for obscure (perhaps whimsical) stories in lieu of broader mean reversion -- is this true? But, if one has the tools, why not create dozens and dozens of strange storied pair trades. Sure the stories may not actually exist. But then again, maybe you discover 10 or 20 that are unique. And through a process of eliminating the poorly paired partners, you end up with a manageable set that are capable of dancing with the stars? This site is nothing if not a massive experiment in data mining no?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='556f4454d090c3b709000449' id='556f4454d090c3b709000449'>
<a href='#556f4454d090c3b709000449'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/555b662cf9d38b37de000146'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1eef1f318203836c42a66881d7e18669?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/555b662cf9d38b37de000146'>Aaron Brown</a>
</div>
<a UTCms='1433355350000' class='quanto-date posted-at response-posted-at' href='#556f4454d090c3b709000449'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Again, I&#39;m not trying to law down laws here, but the two straightforward approaches are (a) try to find a few pairs you can understand or (b) forget about pairs and just try to build a large portfolio of longs and shorts without worrying about pairing up stocks or doing unautomated research. In other words (a) niche clever research or (b) massive data mining. </p>

<p>Trying to split the difference by finding dozens of pairs but not doing the tailored research necessary to understand each one seems suboptimal.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='55701cb5b9053a3b9300014d' id='55701cb5b9053a3b9300014d'>
<a href='#55701cb5b9053a3b9300014d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433410743000' class='quanto-date posted-at response-posted-at' href='#55701cb5b9053a3b9300014d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Aaron,</p>

<blockquote>
<p>try to find a few pairs you can understand</p>
</blockquote>

<p>If I&#39;m reading things correctly, by &quot;understand&quot; you mean that there should be some underlying intuitive story behind the relationship, I suppose so that there is less risk that the relationship will suddenly disappear?  Are you talking about a kind of narrative, &quot;The reason we think this is happening, but can&#39;t really explain with a model, is...&quot; or an explanatory quantitative model that provides the story behind the relationship?  Say I find a pairs trade based on the idea that when consumers buy lots of eggs, bacon sales drop off, and vice versa.  I could make up a story that people can only eat so much for breakfast, and leave it at that.  I have a warm, fuzzy feeling, and if I&#39;m a professional trader, hopefully my management will feel warm and fuzzy, too.  But is the risk really any different without the story?  Unless I actually find a relevant study on breakfast eating, or conduct one myself, then I could just be deluded.  And if the underlying cause can&#39;t be coded into a set of rules, then it is not really automated quantitative trading, right?  As a Quantopian user who doesn&#39;t do this sort of thing for a living, I need to get an algo in the Quantopian hedge fund, let it run, and collect a check.  No time for doing lots of offline analyses.</p>

<p>Also,   </p>

<blockquote>
<p>There are more good pairs than there are competent traders chasing them</p>
</blockquote>

<p>sounds like the land of milk and honey for us inhabitants of Quantopia.  This would say that the Quantopian team should think about churning out candidate pairs for their 35,000+ users to examine like a bunch of ants, trying to come up with stories for a subset of them (&quot;I&#39;ll take XYZ &amp; PDQ, do some research, and see if I can find a &#39;story&#39; to support the relationship.&quot;).</p>

<p>I&#39;m just trying to sort out if any of this can be reduced to practice for Joe Schmo Quantopian user, or if it is a hopeless endeavor.  Is there a path for Quantopian to get hundreds of lucrative, scalable pairs trading algos for their $10B hedge fund (keep in mind that by my estimation, they need several thousand distinct algos in the fund)?  Or is this all a bunch of blah, blah, blah?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5570a86da01c556fcf0004d4' id='5570a86da01c556fcf0004d4'>
<a href='#5570a86da01c556fcf0004d4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1433446511000' class='quanto-date posted-at response-posted-at' href='#5570a86da01c556fcf0004d4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;ve tried the automated searching of pairs/baskets, using the public knowledge techniques, and though I haven&#39;t gone through them all with my tick-level back-tester, the few that I did examine personally were largely worthless; the supposed spread mean-reversion that my grid search turned up was just spurious or due to bid-ask bounce.  </p>

<p>However, I do know for a fact that people run decently profitable automated pairs trading portfolios.  I take that to mean that it is possible, but the way that I approached it was naive.  Perhaps the legwork method is the way to go, coming up with theses about drivers and <em>then</em> looking for portfolios that would express the theses, with the actual hedge ratio construction done &quot;rigorously&quot; using Kalman filters or whatever.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='557172716a468ff89f000323' id='557172716a468ff89f000323'>
<a href='#557172716a468ff89f000323'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433498228000' class='quanto-date posted-at response-posted-at' href='#557172716a468ff89f000323'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>My take is that chatting about pairs trading is wonderful, but there should be a focus on reducing it to practice, with some sort of approachable workflow, so that a Quantopian user can sit down in his pajamas with a cup of coffee on a rainy day and actually come up with a halfway decent algo that would have a shot at getting into the crowd-sourced Q fund.  For example, we have:</p>

<blockquote>
<p>...try to find a few pairs you can understand...<br>
Perhaps the legwork method is the way to go, coming up with theses about drivers...</p>
</blockquote>

<p>O.K.  So what&#39;s the workflow for your typical Q user?  Keep in mind, this needs to be scalable...it won&#39;t do Q any good if only users with an advanced degree and 20 years of industry experience can be successful.  If the answer is, &quot;Well, there is no workflow...you just need to know&quot; then pairs trading won&#39;t be approachable on Q.  We have Aaron&#39;s &quot;reading and thinking&quot; recommendation above, but read what?</p>

<p>Also, I&#39;d seen somewhere that there are techniques for synthesizing trading pairs, from baskets of securities.  Does this work?  Or does one effectively end up with the long-short equity portfolio referred to by Aaron Brown above?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5571b32a667f318d7b0004a3' id='5571b32a667f318d7b0004a3'>
<a href='#5571b32a667f318d7b0004a3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/555b662cf9d38b37de000146'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1eef1f318203836c42a66881d7e18669?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/555b662cf9d38b37de000146'>Aaron Brown</a>
</div>
<a UTCms='1433514797000' class='quanto-date posted-at response-posted-at' href='#5571b32a667f318d7b0004a3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The kind of warm-and-fuzzy story you mention is worthless for investing, although as you say it can reassure investors and regulators. What you&#39;re looking for is covariates to refine your strategy and, most important, warn you when it&#39;s not going to work. The quant trap is that when your relation breaks it simply looks more attractive to your model, and you spiral to doom.</p>

<p>The eggs-and-bacon story is actually the reverse of what you want. That says there is a fixed total consumption, so the total amount consumed of both products is fixed, meaning they are negatively cointegrated. If they were positively correlated, say because investors bid up or down all breakfast foods as a group, you would do anti-pairs trading. You&#39;re looking for things that have to be in some kind of long-term balance, but move is opposite directions in the short-term. A warm-and-fuzzy story might be residential construction and furniture sales, in the short run if people are saving for down payments they&#39;re not buying furniture, and newly house poor families are making due with old furniture and underfurnishing. But in the long run, houses will get furnished. This would never be a pairs trading story because it&#39;s relating entire sectors. To exploit this, you&#39;d build a model tracing the full life cycle, and likely involving other factors like interest rates and family demographics and migration patterns, and trade large numbers of stocks.</p>

<p>To keep this practical, here is a Pairs Trading for Dummies recipe (I mean that respectfully, I&#39;m a big fan for For Dummies books).</p>

<ol>
<li>Run some kind of statistical screen to identify promising pairs trading targets. Don&#39;t look for extreme statistical significance, just some moderate level to screen out the noise like 5% or 1%. It can help to limit one member of each pair to companies or regions you know something about.<br></li>
<li>Look at the pairs, concentrating on the ones that seem somewhat related but not completely obvious. Don&#39;t just ask why they appear cointegrated, also ask why they deviate in the short term. Ultimately you need both forces to be strong for a robust pairs trade. Also, don&#39;t just look at times the relation worked (deviation/correction) but at times when it didn&#39;t. Most of the time you&#39;ll conclude that either the apparent cointegration or apparent deviations were random noise, discrete events not likely to be repeated or unexplainable.<br></li>
<li>Sometimes you&#39;ll find a good story. Say both companies manufacture parts that are used in similar products, and the manufacturers of these products like to keep multiple suppliers healthy to have a robust supply chain. So both companies go up and down with the health of the manufacturers they serve, and neither can succeed too much as the expense of the other. But due to location of their facilities, one has a shipping cost advantage during the Great Lakes shipping season, and the other is has the advantage in the winter. A cold winter will result in lost business and inflated inventory for the first company, but it will be made up later; a warm winter will do the reverse.<br></li>
<li>If you do this pairs trade, you&#39;ll want to monitor the overall industry for this type of company, plus Great Lakes shipping. As long as the sum of the two companies is moving up and down with the industry, and the deviations are occurring in the expected direction when there are changes in Great Lakes shipping costs or volume, you like the trade. But if the two begin to diverge from the industry, they could both be winning or losing due to some unrelated reason, and the shipping relation may no longer hold. Also if you see deviations increasing without any shipping news, it could be that some other factor is at play, say quality problems at one company or the emergence of a new competitor.<br></li>
<li>Based on your research, you may decide to adjust the standard pairs trading algorithm, perhaps only entering into new trades from November to April, or only at certain levels of Great Lakes shipping costs. These kinds of refinements can make major improvements to pairs trading. You&#39;ll also construct an alert that says the deviation is too large relative to your assumed explanation, and you should get out of the strategy until you figure things out. All of this, except the figure things out, can be automated. If you want complete automation, the strategy will have to kill itself whenever unusual things occur (for human pairs traders, these signal times of opportunity for qualitative trading).</li>
</ol>

<p>Clearly this is for someone who has quant skills, but also general research skills and business judgment.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5572c0fa6f7e521f2d00029e' id='5572c0fa6f7e521f2d00029e'>
<a href='#5572c0fa6f7e521f2d00029e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1433583868000' class='quanto-date posted-at response-posted-at' href='#5572c0fa6f7e521f2d00029e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Aaron,</p>

<p>Based on:</p>

<blockquote>
<p>Run some kind of statistical screen to identify promising pairs trading targets. Don&#39;t look for extreme statistical significance, just some moderate level to screen out the noise like 5% or 1%. It can help to limit one member of each pair to companies or regions you know something about.</p>
</blockquote>

<p>it sounds like it could be productive for Quantopian to open-source some efficient tools for the screening (and maybe up their game in terms of computing resources).  Let&#39;s say I&#39;m an expert on company XYZ and maybe I could narrow down my field of candidate securities for comparison to NASDAQ-listed stocks, of which there are about 3,000.  So, it is an O(N) computing problem, not O(N^2) as Delaney mentions above for the general screening problem.  But, I&#39;d like to compute the statistics on a rolling basis, every trading minute over 2 years.  I&#39;d have:</p>

<blockquote>
<p>(3000 comparisons/minute)(390 minutes/day)(252 days/year)(2 years) = 589,680,000 comparisons</p>
</blockquote>

<p>Is something like this at all feasible on the Quantopian research platform?  If not, how would I scale it back to something that would actually run in a reasonable amount of time (a few days at most) but still provide useful results?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5639047375921687a40000d4' id='5639047375921687a40000d4'>
<a href='#5639047375921687a40000d4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55b24f0bbf9ac8dc0e0004d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2725329e235f3dc424706911527f33c4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55b24f0bbf9ac8dc0e0004d2'>roman brodetski</a>
</div>
<a UTCms='1446577273000' class='quanto-date posted-at response-posted-at' href='#5639047375921687a40000d4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Delaney,</p>

<p>I&#39;m playing around with the algorithm by Ernie Chan that you posted.<br>
Surprisingly, it fails entirely when I swap the pair, see the attached backtest (I&#39;ve only changed the order).</p>

<p>Also, how to treat the negative hedge (beta from OLS)?.. With the current implementation we go long (short) on both positions when the sign of the hedge is the same as the sign of the z-score, which you don&#39;t expect from pair trading. What economic reason can lead to such cointegrations? </p>

<p>Thanks,<br>
Roman  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='563907dba0bcd9c264000108' id='563907dba0bcd9c264000108'>
<a href='#563907dba0bcd9c264000108'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1446578148000' class='quanto-date posted-at response-posted-at' href='#563907dba0bcd9c264000108'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Roman,</p>

<p>Not sure exactly why it&#39;s failing when you swap the order. Seems like the math may not be robust to an &#39;upside-down&#39; pair. The hedge ratio comes from the formal definition of cointegration, which is that for some b and u_t = y_t - b * x_t, u_t is stationary (the mean stays the same). Therefore we try to estimate the b parameter in each trade so that we can correctly produce a stationary drift between the two securities. It can be the case that the two are negatively cointegrated, whether there&#39;s a strong economic reason for this I&#39;m not sure. You might try putting in place restrictions to not trade when you have double long or double short positions, or employing a better estimation method for b (more data points for example).</p>

<p>All of the issues you bring up are very sophisticated improvements, and making these improvements to the algorithm could result in something very good. I don&#39;t have cut and dried solutions for you, as you are now dancing around the edge of what is known about algorithmic trading. A lot of it comes down to rigorously testing different signal processing methods to see which yield the best out of sample performance. Also, like you said it&#39;s important to let the economic reasoning drive the creation of your model.</p>

<p>Thanks,<br>
Delaney  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56390b76275ea3eaa80000f9' id='56390b76275ea3eaa80000f9'>
<a href='#56390b76275ea3eaa80000f9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55b24f0bbf9ac8dc0e0004d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2725329e235f3dc424706911527f33c4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55b24f0bbf9ac8dc0e0004d2'>roman brodetski</a>
</div>
<a UTCms='1446579068000' class='quanto-date posted-at response-posted-at' href='#56390b76275ea3eaa80000f9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you for your quick reply.<br>
This is actually a very valuable response, as I was afraid I might have missed something obvious.</p>

<p>Roman  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56390c01275ea345ec000131' id='56390c01275ea345ec000131'>
<a href='#56390c01275ea345ec000131'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1446579205000' class='quanto-date posted-at response-posted-at' href='#56390c01275ea345ec000131'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Happy to help.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='568831e6dc3cd3834b00017e' id='568831e6dc3cd3834b00017e'>
<a href='#568831e6dc3cd3834b00017e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/567de534501cd8fb89000065'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5cb8b2dffc4fd5bcfe1938f10c558c04?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/567de534501cd8fb89000065'>daniel Snyder</a>
</div>
<a UTCms='1451766249000' class='quanto-date posted-at response-posted-at' href='#568831e6dc3cd3834b00017e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Simon,<br>
Here is a temp website which has similarity of movement information, which is about the same idea as pairs.  StockA is the stock you are comparing to, row is how this pair ranks to all pairs, (its row count).  It only contains information for the top 5000 or so pairs.<br>
The data is pulled from the period of Aug 2014 to Feb 2015 and is an average of each day.</p>

<p><a href="http://tandemwalk2016.azurewebsites.net/Home/Inverse/IYR">http://tandemwalk2016.azurewebsites.net/Home/Inverse/IYR</a><br>
(Change IYR to symbol wanted)</p>

<p>The idea behind the algorithm is not actually for pairs trading, but is for similarity of how a pair moves.  I will leave this test site up for a few weeks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='569ac01c6e28d9a6cd0000f4' id='569ac01c6e28d9a6cd0000f4'>
<a href='#569ac01c6e28d9a6cd0000f4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5657a09af95a18caf600085a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/cb7ba84227ef79495f4a09f8bf9aea38?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5657a09af95a18caf600085a'>Adam Smith</a>
</div>
<a UTCms='1452982307000' class='quanto-date posted-at response-posted-at' href='#569ac01c6e28d9a6cd0000f4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Delaney.  It&#39;s a great starting step for pair trading technique. </p>

<p>I am working on the missing piece of this strategy which is how to use Quantopian Research environment to find statistical cointegration stock/ETF pairs from entire universe or from the same sectors.  After I construct good pairs, then I can use the Notebook you provided for further analysis and backtest.</p>

<p>Does anyone have any suggestion for me?<br>
Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='569b57230e452fb73b0003fe' id='569b57230e452fb73b0003fe'>
<a href='#569b57230e452fb73b0003fe'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/569748c0c794101eb6000061'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/622a3e7e74f7e621fef36768ec0413a5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/569748c0c794101eb6000061'>Ciaran Youd</a>
</div>
<a UTCms='1453020972000' class='quanto-date posted-at response-posted-at' href='#569b57230e452fb73b0003fe'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have a question for those trading pairs</p>

<p>How do you deal with the large processing requirements?</p>

<p>I coded some tests for co-integration and results per combination take roughly  1 second.<br>
I can get this down with parallel processing and by storing data locally but a universe of 2000 stocks will still have 4000000 potential combinations.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='569b9a8d692dfc5505000493' id='569b9a8d692dfc5505000493'>
<a href='#569b9a8d692dfc5505000493'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5590c016248f1472ae000286'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1a2b21eaf54a819d57cb3044dba06888?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5590c016248f1472ae000286'>Tim Vidmar</a>
</div>
<a UTCms='1453038225000' class='quanto-date posted-at response-posted-at' href='#569b9a8d692dfc5505000493'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Perhaps pointing out the obvious, but ...</p>

<p>A pre-screening tool, or pre-screening done for you for a fee ...</p>

<p><a href="https://www.pairtradinglab.com/">https://www.pairtradinglab.com/</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='569bf00b0e452fb73b000732' id='569bf00b0e452fb73b000732'>
<a href='#569bf00b0e452fb73b000732'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1453060115000' class='quanto-date posted-at response-posted-at' href='#569bf00b0e452fb73b000732'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>When I was researching this sort of thing a couple of years ago, the baskets of 3 and 4 of only a few hundred ETFs took months on my MacBook. And they were all mostly garbage, though I never actually went through them all. I probably should.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='569bf0426e28d9a6cd00072d' id='569bf0426e28d9a6cd00072d'>
<a href='#569bf0426e28d9a6cd00072d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1453060165000' class='quanto-date posted-at response-posted-at' href='#569bf0426e28d9a6cd00072d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>If I remember correctly, that was 1.6T combinations, or something like that.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='569c078f5ddc4b28d00003b3' id='569c078f5ddc4b28d00003b3'>
<a href='#569c078f5ddc4b28d00003b3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/567de534501cd8fb89000065'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5cb8b2dffc4fd5bcfe1938f10c558c04?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/567de534501cd8fb89000065'>daniel Snyder</a>
</div>
<a UTCms='1453066133000' class='quanto-date posted-at response-posted-at' href='#569c078f5ddc4b28d00003b3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Simon,<br>
 The formula is R to the Sterling S, divided by S!<br>
so, for 4000 stocks, it would be<br>
(4000 x3999)/2! or, about 8 million pairs made from the 4000 typical stocks. 
for 3 stocks considered together, there would be 4000 x 3999 x 3998 /3!<br>
etc<br>
You can prune the possible tree pretty easily though.  I believe most stocks behave as if they really were ETFs (at the market neutral way of looking at it only) and can be represented by a group of other stocks, that move with their same fundamentals.  You only have to know what sectors they move with, and then check for pairs against this.<br>
So, for example, with HLF, it moves with consumer, several currencies, emerging markets, and a few others.  It is hard to separate out exactly as emerging markets also move with currency, so which is which becomes the question.<br>
For two typical tech stocks that appear to be very similar, it may well be the case that their main difference is which currencies they move with.  So, for most of the time, they may appear co-integrated, but then, when there is a difference in currencies that affects one a lot, and not so much the other, they then move apart.<br>
I was working on an algorithm to determine the underlying components, (so to speak) that collectively make each stock behave with the same logic as if it was a multi-sector ETF.  (where the underlying stocks are a mystery to be solved)  I have most of it done, and I believe I have enough done to prove it does work this way, but I lost my real time quote stream a few months ago, and so stopped working on it.<br>
since my algorithm would need to consider up to 15 underlying components to solve this problem, it would be 4000 x 3999 x3998 ... 3985/15!  So, I have to trim it.  The link I posted a few messages above shows some of the results of this work, where I first determine the possible stocks to consider, for each symbol.<br>
It is my belief that the market is essentially swamped out with pairs trading, and this is why it works so mathematically perfect for each stock to behave as if it is an ETF.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='569c1e475ddc4b28d0000441' id='569c1e475ddc4b28d0000441'>
<a href='#569c1e475ddc4b28d0000441'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1453071948000' class='quanto-date posted-at response-posted-at' href='#569c1e475ddc4b28d0000441'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There is certainly a high computational cost to looking at all possible pairs. However, there is a tradeoff to this approach, as you put yourself at a high risk for multiple comparisons bias. Please see earlier in this thread for a fairly complete discussion of this issue. Regardless of which method you use to select pairs, you&#39;ll want to do some additional validation using the notebook and then use the algorithms in this thread to try backtesting a strategy.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='569d4bbeb1305aa888000957' id='569d4bbeb1305aa888000957'>
<a href='#569d4bbeb1305aa888000957'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1453149122000' class='quanto-date posted-at response-posted-at' href='#569d4bbeb1305aa888000957'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Indeed, Aaron Brown&#39;s advice is gold.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a20f608fec77c1da000556' id='56a20f608fec77c1da000556'>
<a href='#56a20f608fec77c1da000556'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1453461353000' class='quanto-date posted-at response-posted-at' href='#56a20f608fec77c1da000556'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>What is &quot;multiple comparisons bias&quot;?  I&#39;m lazy and don&#39;t feel like sifting through this rather extensive discussion thread.</p>

<p>I find it hard to believe that pairs trading would work as a scalable hedge fund strategy (be able to pour $10&#39;s of millions into a single pair).  Is there any evidence?  In other words, why is Quantopian promoting this?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a24ed38fec77197100014a' id='56a24ed38fec77197100014a'>
<a href='#56a24ed38fec77197100014a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1453477592000' class='quanto-date posted-at response-posted-at' href='#56a24ed38fec77197100014a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is one of the best threads on the site.</p>

<p>It scales; you can trade hundreds of pairs.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a25055ccff12d9a4000008' id='56a25055ccff12d9a4000008'>
<a href='#56a25055ccff12d9a4000008'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1453477979000' class='quanto-date posted-at response-posted-at' href='#56a25055ccff12d9a4000008'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Multiple comparisons is a core problem in all of statistics, right up there with overfitting. The general idea is that if you run 100 statistical tests on random data, you should still expect to get 5 below a 5% cutoff and 1 below a 1% cutoff based on random chance. This is true when testing various iterations of a model, or many pairs. Because the number of pairs is O(n^2) you should expect to get a lot of spurious p-values when looking for pairs. A naive strategy of just looping through pairs won&#39;t work, you need to be a bit more sophisticated.</p>

<p><a href="https://en.wikipedia.org/wiki/Multiple_comparisons_problem">https://en.wikipedia.org/wiki/Multiple_comparisons_problem</a></p>

<p>And yes you trade many pairs with low exposure to each. That said, I think that long-short equity strategies may be a better first bet to get into the fund at this point, just based on robustness and capacity.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56a263180d577afb0c000015' id='56a263180d577afb0c000015'>
<a href='#56a263180d577afb0c000015'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/567de534501cd8fb89000065'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5cb8b2dffc4fd5bcfe1938f10c558c04?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/567de534501cd8fb89000065'>daniel Snyder</a>
</div>
<a UTCms='1453482782000' class='quanto-date posted-at response-posted-at' href='#56a263180d577afb0c000015'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Grant,<br>
There is more electricity used in the state of New Jersey doing calculations on the market than there is electricity used in that state for manufacturing.  Pairs strategy likely accounts for at least 50% of this usage as even HFT likely often uses some version of deviation from the mean.  It is my opinion that the market is so saturated with pairs trading that given the price of any ten tickers that had no big news, one could deduce the price of the rest of the market and be within 0.7% of the actual price, 90% of the time for the top traded 4000 stocks.  (and it could probably be done with less than ten tickers. )  So, for a 30 dollar stock, the margin of error would be about a quarter.  This is how precisely, compared to each other, I think they move.  Until there is news.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a265884683e51794000043' id='56a265884683e51794000043'>
<a href='#56a265884683e51794000043'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1453483405000' class='quanto-date posted-at response-posted-at' href='#56a265884683e51794000043'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It sounds like a corollary to the reciprocal of the law of large numbers; given enough samples you will always find something to fit.</p>

<p>I would reintroduce the concept I proposed in an article in S&amp;C last spring ; the directed acyclic graph or DAG. Using thousands of correlated or cointegrated pairs I built groups from them. Those groups were essentially social graphs of securities. You can search here for DAG, but briefly, you can use the concept of pair trading, that is, fade and favor the divergences, but with a correlated group. And such a group is assembled, dynamically, from a list of pairs that are &quot;friends of friends&quot;. It&#39;s a pairs strategy, essentially, but with lower risk and less work managing hundreds of separate strategies.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a26777581daba297000092' id='56a26777581daba297000092'>
<a href='#56a26777581daba297000092'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1453483900000' class='quanto-date posted-at response-posted-at' href='#56a26777581daba297000092'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>That said, I think that long-short equity strategies may be a better first bet to get into the fund at this point, just based on robustness and capacity.</p>
</blockquote>

<p>Have people been coming up with good ones?  If so, what proportion are using the new data sets?  If not, why not, do you think that is?</p>

<p>I haven&#39;t been focusing on them at all, mostly because there&#39;s a problem of opportunity cost; if I spend all my time looking for equity long-short algos, not only is there a chance I don&#39;t find anything, but if I do, there&#39;s still a chance that Quantopian doesn&#39;t select it, and since I cannot trade them myself, that time is wasted (unless I pitch it to other funds I suppose).  If I look for algos that I personally can trade, and I find some, then I trade them.</p>

<p>I realize there&#39;s an unfortunate schism wherein I am using your platform but not contributing to your business model, so if you have any ideas how I can help without wasting my time writing algos that only work high account levels, please let me know.  Pairs trading/statistical arbitrage might be one solution, but I&#39;ve found them very difficult to implement; anything that looks promising in Quantopian fails the backtest when using dividend-adjusted bid-ask tick data, so I might shift my focus back to building my own lower latency infrastructure for a while.</p>

<p>Simon.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a2681f00158eed42000049' id='56a2681f00158eed42000049'>
<a href='#56a2681f00158eed42000049'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1453484069000' class='quanto-date posted-at response-posted-at' href='#56a2681f00158eed42000049'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>I would reintroduce the concept I proposed in an article in S&amp;C last spring ; the directed acyclic graph or DAG. Using thousands of correlated or cointegrated pairs I built groups from them.</p>
</blockquote>

<p>This sort of thing? <a href="https://tr8dr.wordpress.com/2009/12/30/equity-clusters/">https://tr8dr.wordpress.com/2009/12/30/equity-clusters/</a> (also <a href="http://www.slicematrix.com/">http://www.slicematrix.com/</a>)  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a26bd32b0c54bed900003e' id='56a26bd32b0c54bed900003e'>
<a href='#56a26bd32b0c54bed900003e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1453485019000' class='quanto-date posted-at response-posted-at' href='#56a26bd32b0c54bed900003e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Cool. Yeah, pretty similar. The DAG though was used specifically to find the networked graph. Those trees might embody the same thing, not sure. But I&#39;d guess the idea is approximate.</p>

<p>Why would anyone want to pairs trade when trading a Minimum Spanning Tree or correlated network graph of stocks is so much safer and easier? I&#39;ve built dozens of pairs strategies and the directionality of the pair always broke the model. And all pairs I ever tested all went directional at some point -- beyond the account&#39;s ability to Martingale down.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a2bab3e9b0731736000234' id='56a2bab3e9b0731736000234'>
<a href='#56a2bab3e9b0731736000234'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1453505208000' class='quanto-date posted-at response-posted-at' href='#56a2bab3e9b0731736000234'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>Have people been coming up with good ones? If so, what proportion are using the new data sets? If not, why not, do you think that is?</p>
</blockquote>

<p>I can&#39;t release any specific data on this. I can say that there&#39;s a lag between when we update product features/try to educate people about algorithm writing techniques (larger universe size, shorting), and when new strategies start appearing. We&#39;d love more large universe strategies right now and I&#39;m trying to figure out ways to make it easier for folks to develop large universe long-short strategies using pipeline.</p>

<blockquote>
<p>I haven&#39;t been focusing on them at all, mostly because there&#39;s a problem of opportunity cost; if I spend all my time looking for equity long-short algos, not only is there a chance I don&#39;t find anything, but if I do, there&#39;s still a chance that Quantopian doesn&#39;t select it, and since I cannot trade them myself, that time is wasted (unless I pitch it to other funds I suppose). If I look for algos that I personally can trade, and I find some, then I trade them.</p>

<p>I realize there&#39;s an unfortunate schism wherein I am using your platform but not contributing to your business model, so if you have any ideas how I can help without wasting my time writing algos that only work high account levels, please let me know. Pairs trading/statistical arbitrage might be one solution, but I&#39;ve found them very difficult to implement; anything that looks promising in Quantopian fails the backtest when using dividend-adjusted bid-ask tick data, so I might shift my focus back to building my own lower latency infrastructure for a while.</p>
</blockquote>

<p>Totally reasonable. We don&#39;t release our product with the expectation that everybody will use it to develop strategies for the fund, we also want to support your use case of personal trading. We also understand there&#39;s a conflict between pushing people to write high capacity market neutral long-short strategies, when those will never work on their own money. What I&#39;m trying to figure out is ways to make the workflow of producing and evaluating factors easier, because once you have a factor-based ranking system, it&#39;s pretty easy to slot that into an existing long-short algorithm using pipeline. I&#39;m working on sharing a pipeline algorithm with the community and attaching it to the lectures page in an effort to get more cloning and tweaking going on.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56a2c2cee9b073173600026a' id='56a2c2cee9b073173600026a'>
<a href='#56a2c2cee9b073173600026a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1453507283000' class='quanto-date posted-at response-posted-at' href='#56a2c2cee9b073173600026a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I share Simon&#39;s sentiment.  I&#39;ve continued to participate in the contests, but the idea of spending tens (hundreds?) of hours trying to come up with an uber algo that will compete with the big dogs sounds like a lot of work, with a very uncertain pay-off (it&#39;s not even clear that you are still working on the hedge fund...any substantive news?).  The pipeline thingy has a bit of a learning curve, so I haven&#39;t taken that on yet (the fact that lots of obscure modules need to be imported is a red flag).  That said, if there were good working examples that could be tweaked, I might give it a go.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a387b4511c6c0d8600000e' id='56a387b4511c6c0d8600000e'>
<a href='#56a387b4511c6c0d8600000e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1453557692000' class='quanto-date posted-at response-posted-at' href='#56a387b4511c6c0d8600000e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>What I&#39;m trying to figure out is ways to make the workflow of producing and evaluating factors easier, because once you have a factor-based ranking system, it&#39;s pretty easy to slot that into an existing long-short algorithm using pipeline.</p>
</blockquote>

<p>Why don&#39;t you get all of the Q eggheads together for 1 week and see if you can come up with a long-short algo that would be Q hedge-fundable, and publish it (and better yet, actually fund it).  Not only would this provide an existence proof, but you should also gain some insight into the workflow and the person-hours to accomplish the task.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56a42caec39ae434720002e5' id='56a42caec39ae434720002e5'>
<a href='#56a42caec39ae434720002e5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1453599925000' class='quanto-date posted-at response-posted-at' href='#56a42caec39ae434720002e5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Here is a pipeline algorithm that I just published as the goto example of a long-short equity strategy. I&#39;m sure it will go through many improvements as the public eye turns to it, but it should at least be a start. It&#39;s tricky because we do want to publish algorithms that are 95% of the way done, so that users can take the last 5% and improve the strategies in many different uncorrelated ways. With long-short equity most of the work is in choosing good factors and factor ranking techniques. Unfortunately those are the type of signals that will disappear when shared publicly, but the actual machinery to trade within the algorithm should stay pretty consistent. If you&#39;re maybe looking to learn pipeline a bit, I would recommend going through <a href="https://www.quantopian.com/lectures">Lectures 17 and 18</a>, then looking at the algorithm.</p>

<p><a href="https://www.quantopian.com/posts/quantopian-lecture-series-long-short-equity-algorithm">https://www.quantopian.com/posts/quantopian-lecture-series-long-short-equity-algorithm</a></p>

<p>I can say for certain we are working on the hedge fund. Even if you have strategies that aren&#39;t consistently winning the contest, we may be interested in an algorithm that can consistently do ok. Ultimately, my job as the one overseeing the lectures is to keep trying to make it easier so people don&#39;t have to spend as much time working on algorithms that may never pay off for them, and so we get more algorithms that do pay off in the long run.</p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56abd9fd9eda7aaf3c000259' id='56abd9fd9eda7aaf3c000259'>
<a href='#56abd9fd9eda7aaf3c000259'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5657a09af95a18caf600085a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/cb7ba84227ef79495f4a09f8bf9aea38?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5657a09af95a18caf600085a'>Adam Smith</a>
</div>
<a UTCms='1454103042000' class='quanto-date posted-at response-posted-at' href='#56abd9fd9eda7aaf3c000259'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I start to implement pair trading backtesting in research environment instead of IDE.  The main reason is to automatic run multiple pairs performance analysis before I jump into IDE for full backtest.  Another reason for this work is to do further analysis for returns from many pairs.  </p>

<p>I am wondering where I can find the example of backtesting in research environment to start with.  Any comment is very appreciated. </p>

<p>Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56af9aeab313bd3661000130' id='56af9aeab313bd3661000130'>
<a href='#56af9aeab313bd3661000130'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1454349043000' class='quanto-date posted-at response-posted-at' href='#56af9aeab313bd3661000130'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Adam,</p>

<p>In your research environment there should be a &#39;Tutorials and Documentation&#39; folder. Inside the folder should be a notebook with the title &#39;Tutorial (Advanced) - Backtesting with Zipline&#39;. Make a copy of that and let me know if that&#39;s enough to get you started.</p>

<p>Thanks,<br>
Delaney  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='56b067cef047b2048a000449' id='56b067cef047b2048a000449'>
<a href='#56b067cef047b2048a000449'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1454401490000' class='quanto-date posted-at response-posted-at' href='#56b067cef047b2048a000449'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>May 28 algo falls below benchmark if extended to date and -43% <a href="https://www.quantopian.com/posts/pvr">PvR</a> with default slippage and commissions, tanking thru 2015.<br>
Hope it can be rescued b/c it shows good potential.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='56b262ca3862faf95b000365' id='56b262ca3862faf95b000365'>
<a href='#56b262ca3862faf95b000365'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1454531279000' class='quanto-date posted-at response-posted-at' href='#56b262ca3862faf95b000365'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The example strategies cheat and run on the same timeframe over which we did research and found the securities to be cointegrated. In a real strategy you&#39;d want to find pairs that were cointegrated into the future and not just historically cointegrated. The template should stay largely the same, so it&#39;s an issue of swapping in new securities that you have statistical evidence will stay cointegrated.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57b7a965a5b448d7de00010b' id='57b7a965a5b448d7de00010b'>
<a href='#57b7a965a5b448d7de00010b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/527612eb2de84d52740000d5'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/873c5860f8b916285b474f56cbd6f135?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/527612eb2de84d52740000d5'>Deleted User</a>
</div>
<a UTCms='1471654251000' class='quanto-date posted-at response-posted-at' href='#57b7a965a5b448d7de00010b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Delaney,</p>

<p>Could you post a tutorial on calibrating an Ornstein Uhlenbeck process for mean reverting series residuals?</p>

<p>Best regards,  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57bf0d335bb4e0d48b000121' id='57bf0d335bb4e0d48b000121'>
<a href='#57bf0d335bb4e0d48b000121'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1472138552000' class='quanto-date posted-at response-posted-at' href='#57bf0d335bb4e0d48b000121'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey,</p>

<p>We&#39;ve added a lecture on this to our queue. No idea when we might currently get to it, but it&#39;s on there.</p>

<p>Thanks,<br>
Delaney  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57bf1942f763a7497e000081' id='57bf1942f763a7497e000081'>
<a href='#57bf1942f763a7497e000081'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/53d46cdb75f57a2832005a6b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/62b39881ee19f936224017339779d9d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/53d46cdb75f57a2832005a6b'>Market Tech</a>
</div>
<a UTCms='1472141641000' class='quanto-date posted-at response-posted-at' href='#57bf1942f763a7497e000081'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ages ago I posted, perhaps as anonymole, that a &quot;pair&quot; needn&#39;t be made of only two securities. In fact, the whole &quot;we only allow low beta strats&quot; mantra is pretty much an argument that all strategies should be a variation of a pairs strat. That is, over all, a market neutral position is best. </p>

<p>Taking this further however, and applying a more formal model to the pairs strategy (that the security set have a &quot;story&quot; attached to it) I wonder if the two halves of the pair would do better as independent baskets of securities.  That if one approached a pairs strategy with the mind to match up two behaviorally opposed baskets of securities that instead of trying to search all pair combinations looking for all the super-great-marvelous attributes a pair should have, that instead, one determine the two sides of the pair coin and fill each side with the most appropriately identified securities -- for each side.</p>

<p>A simplistic model might be described thusly:<br>
Equities which cycle up in the spring/summer and down in the fall/winter would be bundled together and set against equities which cycle oppositely (down in the summer, up in the winter).</p>

<p>No doubt there are more interesting or undiscovered cycles that exist. My point is that rather than identify securities that yin and yang, one discover technical, or macro, or fundamental classifications which zig when the other zags. Then find securities which fit each of those baskets of behavior.</p>

<p>MT  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57bf1b06d8e717e7b30001e2' id='57bf1b06d8e717e7b30001e2'>
<a href='#57bf1b06d8e717e7b30001e2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1472142094000' class='quanto-date posted-at response-posted-at' href='#57bf1b06d8e717e7b30001e2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This is a very interesting idea and definitely something that professional quants do. At the core we just want two assets on either side of a pair, and a portfolio of assets will do just as well as a single equity. There are probably pros and cons of each method, but the idea of using a basket of things rather than a single thing can greatly reduce your position concentration risk and lead to a better algorithm. I&#39;d say it&#39;s worth research. You&#39;d still likely want a few different pairs of baskets as each would smooth out the return curve of the other and produce a lower volatility algorithm.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57bf38f21467aa7048000325' id='57bf38f21467aa7048000325'>
<a href='#57bf38f21467aa7048000325'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/567de534501cd8fb89000065'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5cb8b2dffc4fd5bcfe1938f10c558c04?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/567de534501cd8fb89000065'>daniel Snyder</a>
</div>
<a UTCms='1472149754000' class='quanto-date posted-at response-posted-at' href='#57bf38f21467aa7048000325'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Delaney Granizo-Mackenzie<br>
I have to run an errand, so I only have five minutes, but hopefully I can be clear in that time.<br>
To demonstrate the chops of an AI system, I created an algorithm that can represent the small changes in stocks price, as the sum of a set of ETFs.  For example, with MSFT one might  have XLK, XLY, FXE, FXI, and some others.<br>
I can show that the typical price movements during a day can be represented in this way.  However, when there is specific news, then it is no longer true, if the news is strong.<br>
What I believe this shows is that instead of things &quot;returning to the mean&quot; they are in fact not moving arbitrarily and so, if they return to the mean, it is because one of the underlying components in fact moved.  (Of all the underlying components, usually only one or two have news, and the rest are balancing each other out, once the price has adjusted.)<br>
How might one design a trading platform for this as even if you do know it is the sum of other waveforms that are causing one waveform, one still doesn&#39;t know what causes them to move until after the fact.<br>
(the reduction in influence is 1/1.6 when looking at the components, so after a couple of feedback loops, the influence is not measurable. 
Thanks, and sorry for the hurried note,<br>
Daniel  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57bfe37937bed316e7000691' id='57bfe37937bed316e7000691'>
<a href='#57bfe37937bed316e7000691'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57bfdb2f69fcde438e000650'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/123f780b54c007d94ea4b8de7f83a81e?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57bfdb2f69fcde438e000650'>King Azadbakht</a>
</div>
<a UTCms='1472193410000' class='quanto-date posted-at response-posted-at' href='#57bfe37937bed316e7000691'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi everybody<br>
Have you read Algorithmic Trading written by Ernie Chan? For sure you read it, I have a question: in fact I am not good in programming and  working with Matlab, I am really interested in Currency cross rate part of the book and I want to implement the positions in live trading  but I don&#39;t know how to do that in fact I can&#39;t understand what the numbers as positions mean! If somebody can guide me I&#39;m really appreciated.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c08c9eb209d0babb0001c8' id='57c08c9eb209d0babb0001c8'>
<a href='#57c08c9eb209d0babb0001c8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1472236708000' class='quanto-date posted-at response-posted-at' href='#57c08c9eb209d0babb0001c8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>daniel</p>

<p>Not entirely sure I&#39;m understanding your thesis but it seems that you&#39;ve created an expression that models the returns of a specific stock from it&#39;s sector exposures. This is actually a common risk modeling tactic, check out my notebook <a href="https://www.quantopian.com/posts/q-data-exposures">here</a>. To build a trading strategy off of this I would take your hypothesis about changing news and use that to alter the coefficients of your model. A cool place to start would be to check out the <a href="https://www.quantopian.com/lectures#Arbitrage-Pricing-Theory">lectures on factor modeling</a> and then maybe look at some <a href="https://www.quantopian.com/data?searchq=sentiment">news/sentiment data sets</a> to see if you can find any anomalies.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57c0908269fcdeee6c00072d' id='57c0908269fcdeee6c00072d'>
<a href='#57c0908269fcdeee6c00072d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/567de534501cd8fb89000065'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5cb8b2dffc4fd5bcfe1938f10c558c04?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/567de534501cd8fb89000065'>daniel Snyder</a>
</div>
<a UTCms='1472237711000' class='quanto-date posted-at response-posted-at' href='#57c0908269fcdeee6c00072d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>James,<br>
That is close.  It models the returns to within a few cents usually, at any moment in time, depending on the stock and its volatility as a sum of its sectors. (except when it has specific news.)  What I envision behind it is a large set of funds using NLP to invest by sector based on news.  Because they are so large, then they tend to swamp out the market during normal times.<br>
I can also show that stock prices changes are directly proportional to the sum of the underlying sectors information, for most time periods.  For example, the price changes for three months show this and also for three weeks, which is a bit chaos like, as it would seem they wouldnt be so perfectly in tune.  Anyway, with this I can sort stocks by their overall market efficiency (the more efficient you are, the more you sync with the relationship stated above).<br>
I also believe that there are huge funds that are interested in doing nothing more than treading water (as one possible explanation) and they move their money around the world, just trying to stay even, and so the result is that at any given time, the sum of everything stays near zero.  (when one thing goes up somewhere, something else somewhere else goes down.)<br>
These relationships also break down during periods of very high volatility such as fall 2015.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c093d837bed316e7000df2' id='57c093d837bed316e7000df2'>
<a href='#57c093d837bed316e7000df2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/567de534501cd8fb89000065'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5cb8b2dffc4fd5bcfe1938f10c558c04?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/567de534501cd8fb89000065'>daniel Snyder</a>
</div>
<a UTCms='1472238558000' class='quanto-date posted-at response-posted-at' href='#57c093d837bed316e7000df2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There are other things I am able to quantify, but again have no idea how to use.   When information about a specific stock or sector hits the market, it is my observation that the more objective the information, the faster the market responds, and the more subjective it is, the slower the market responds.<br>
For example, when Ackman says that HLF is a pyramid scheme, then it can sometimes be hours, and sometimes even days before that news is no longer affecting the price of the stock, but when an analyst upgrades or downgrades a stock, that is more objective and the entire price adjustment is over in fifteen minutes. (If you subtract out market movements then an analysts announcement looks like a log curve, with most of the action in the beginning and a bit of a ringing at the last.)<br>
Again, this all happens too fast to be of use, and it is after the fact that I can say, &quot;That was subjective.&quot;<br>
I don&#39;t think I am able to alter the coefficients as you suggest.  I am using a hard coded take on a system of recursive polynomials for my modeling,so there are billions of coefficients.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57cb42a01ed2afa2600002d6' id='57cb42a01ed2afa2600002d6'>
<a href='#57cb42a01ed2afa2600002d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57c0c80e02c616688200014d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/bdc5c63c4700e0294a63bd00106ebeb2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57c0c80e02c616688200014d'>Pandasaurus</a>
</div>
<a UTCms='1472938661000' class='quanto-date posted-at response-posted-at' href='#57cb42a01ed2afa2600002d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, I have a quick and possibly dumb question. Why did you use the ratio instead of the difference between S1 and S2 in the Quantopain pairs trading lecture? In the co-integration lecture, you use the difference instead. In other sources, they use the difference as well.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ffe5c0201b5b517a000311' id='57ffe5c0201b5b517a000311'>
<a href='#57ffe5c0201b5b517a000311'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1476388299000' class='quanto-date posted-at response-posted-at' href='#57ffe5c0201b5b517a000311'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There&#39;s an updated notebook, algorithm, and video available on the lecture series page. </p>

<p><a href="https://www.quantopian.com/lectures#Introduction-to-Pairs-Trading">https://www.quantopian.com/lectures#Introduction-to-Pairs-Trading</a>  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57ffe5ec16b0414f0a0000f2' id='57ffe5ec16b0414f0a0000f2'>
<a href='#57ffe5ec16b0414f0a0000f2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1476388343000' class='quanto-date posted-at response-posted-at' href='#57ffe5ec16b0414f0a0000f2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>And as a response to pandasaurus&#39; question, which I unfortunately just saw, we have removed the ratio as it was a typo in the lecture.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='580d259079a1ba9a2d00033c' id='580d259079a1ba9a2d00033c'>
<a href='#580d259079a1ba9a2d00033c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/566339a87616ccc40000054c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6cc867dec3040e8b8a1b547fe35d9b72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/566339a87616ccc40000054c'>Andrew Hamlet</a>
</div>
<a UTCms='1477256602000' class='quanto-date posted-at response-posted-at' href='#580d259079a1ba9a2d00033c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Greetings Quantopian Community,</p>

<p>I was at the NYC Event on Pairs Trading, and the current example algorithm is deprecated, such that one cannot deploy it in live trading. With this fix, users can now deploy the algorithm in live trading. The fix is hosted as a pull request on github--thanks.</p>

<p><a href="https://github.com/quantopian/zipline/pull/1550">https://github.com/quantopian/zipline/pull/1550</a>  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='580e85b36c50c57af10003f0' id='580e85b36c50c57af10003f0'>
<a href='#580e85b36c50c57af10003f0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1477346747000' class='quanto-date posted-at response-posted-at' href='#580e85b36c50c57af10003f0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Andrew,</p>

<p>Thanks very much. Could you please submit your PR to the following repo? It&#39;s where we store lectures and examples. Doesn&#39;t quite fit in the current form of zipline.</p>

<p><a href="https://github.com/quantopian/research_public/tree/master/lectures/pairs_trading">https://github.com/quantopian/research_public/tree/master/lectures/pairs_trading</a>  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='580eb85fcf6c8860ed0006a7' id='580eb85fcf6c8860ed0006a7'>
<a href='#580eb85fcf6c8860ed0006a7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/566339a87616ccc40000054c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6cc867dec3040e8b8a1b547fe35d9b72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/566339a87616ccc40000054c'>Andrew Hamlet</a>
</div>
<a UTCms='1477359716000' class='quanto-date posted-at response-posted-at' href='#580eb85fcf6c8860ed0006a7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, Delaney. I submitted the PR to the specified branch. </p>

<p>Best wishes,</p>

<p>Andrew  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58f0508a4142f0000d0ce676' id='58f0508a4142f0000d0ce676'>
<a href='#58f0508a4142f0000d0ce676'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58f03c8e4e52895c6a58e896'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/583824e0801f18baf768a4ba24b91cf6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58f03c8e4e52895c6a58e896'>Deleted User</a>
</div>
<a UTCms='1492144266000' class='quanto-date posted-at response-posted-at' href='#58f0508a4142f0000d0ce676'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks! Delaney. I am finishing my graduation thesis these days,Your work may help me a lot  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58f1096a485a00000d654593' id='58f1096a485a00000d654593'>
<a href='#58f1096a485a00000d654593'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1492191594000' class='quanto-date posted-at response-posted-at' href='#58f1096a485a00000d654593'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That&#39;s great to hear, Dzi. Hope it goes well!  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='596cae43f088500010f3034d' id='596cae43f088500010f3034d'>
<a href='#596cae43f088500010f3034d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57352312b31db90ee6000213'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1fb5411b5fa55d835ff9a1fedf4bc80c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57352312b31db90ee6000213'>James Liu</a>
</div>
<a UTCms='1500294723000' class='quanto-date posted-at response-posted-at' href='#596cae43f088500010f3034d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have question in regards to high frequency pairs trading using bid/ask price. One thing that I noticed is during an entry signal if I&#39;m supposed to go long in one and short the other, the Long position that I enter would be using the ask price and this ask price normally is higher than the bid price, so when my exit signals to exit, my bid price that I close my position at will often cause me to loose than make money.  What are some of the ways to prevent this from happening or what are some strategies that goes hand in hand with trading high frequently with pairs strategy. Further, how are limit orders used with the bid/ask price.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596cbdc4104414000d6ce719' id='596cbdc4104414000d6ce719'>
<a href='#596cbdc4104414000d6ce719'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1500298692000' class='quanto-date posted-at response-posted-at' href='#596cbdc4104414000d6ce719'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>If you need to make the spread in order for the strategy to be profitable, then you are squarely competing with high-frequency market makers, and it&#39;s a whole different ball game.  You are unlikely to win.  If you have control over the specific order types you send, you could attempt to use mid-point pegs or something, but as soon as you admit any sort of limit orders where execution is not immediate, you now need to be concerned about being exposed unhedged, which is something that you&#39;ll need to backtest.  (not easy either).  What some people do is try and rest or peg an order for the less liquid leg, and attempt to save some of the cost of the wider spread (though again, these days, you&#39;ll probably just get adversely selected for no net gain), and then as soon as that fills, you aggressively execute the hedge leg across the narrower spread.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596d95b8a62d410b1fc57740' id='596d95b8a62d410b1fc57740'>
<a href='#596d95b8a62d410b1fc57740'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57352312b31db90ee6000213'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1fb5411b5fa55d835ff9a1fedf4bc80c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57352312b31db90ee6000213'>James Liu</a>
</div>
<a UTCms='1500353976000' class='quanto-date posted-at response-posted-at' href='#596d95b8a62d410b1fc57740'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How does one use both bid and ask z score in high frequency trading? For simplicity, I can understand using z score, but when it comes to using both bid and ask price z score, I have trouble picturing how it is used.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596e00cc5a81dc0010883186' id='596e00cc5a81dc0010883186'>
<a href='#596e00cc5a81dc0010883186'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1500381388000' class='quanto-date posted-at response-posted-at' href='#596e00cc5a81dc0010883186'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Simon&#39;s right, mid-frequency strategies generally should be fairly robust to bid-ask spreads. If they&#39;re not the edge is probably too small to be consistently profitable. For high frequency trading you do have to consider the bid and ask in many different ways, as your trading will be very sensitive to movements in both. How exactly you use the data would depend on your model.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='596e08cd6672841400825daa' id='596e08cd6672841400825daa'>
<a href='#596e08cd6672841400825daa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1500383437000' class='quanto-date posted-at response-posted-at' href='#596e08cd6672841400825daa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You can imagine that the spread is a synthetic asset.  For instance,  <code>X = 1L -1S</code> so a single unit of X is long one unit of L and short one unit of S.  If you need to buy one unit of X immediately, you will buy at the ask of L and sell at the bid of S.  If you need to sell one unit of X, you will sell at the bid of L and buy at the ask of S.  </p>

<p>You can then easily calculate the bid and ask for X, you have just two &quot;z-scores&quot; to deal with.  Then, if you like, you can delay buying until the X_ask_zscore &lt; threshold, and delay selling until the X_bid_zscore &gt; exit_threshold.  </p>

<p>I drew a picture of this a while ago on this thread here: <a href="https://www.quantopian.com/posts/inaccurate-max-drawdowns-on-no-trade-days-slash-periods">https://www.quantopian.com/posts/inaccurate-max-drawdowns-on-no-trade-days-slash-periods</a> </p>

<p><a href="http://imgur.com/1WPMwFD">http://imgur.com/1WPMwFD</a></p>

<p>Hope this helps.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59773e2777eb9b0010335fcb' id='59773e2777eb9b0010335fcb'>
<a href='#59773e2777eb9b0010335fcb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5971f0260187c7000d42cc23'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c5f194dfac7d044e63471e96ac1c2d06?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5971f0260187c7000d42cc23'>Alice Clarkson</a>
</div>
<a UTCms='1500986919000' class='quanto-date posted-at response-posted-at' href='#59773e2777eb9b0010335fcb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I had a chance to see this notebook before and I would recommend it to everyone here. Lots of amazing info can be found inside.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5977c7898a823857afba05dd' id='5977c7898a823857afba05dd'>
<a href='#5977c7898a823857afba05dd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1501022089000' class='quanto-date posted-at response-posted-at' href='#5977c7898a823857afba05dd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, Alice!  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='597807cebcc1d7001067936e' id='597807cebcc1d7001067936e'>
<a href='#597807cebcc1d7001067936e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57352312b31db90ee6000213'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1fb5411b5fa55d835ff9a1fedf4bc80c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57352312b31db90ee6000213'>James Liu</a>
</div>
<a UTCms='1501038542000' class='quanto-date posted-at response-posted-at' href='#597807cebcc1d7001067936e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Simon. thanks for that last post. I&#39;ve been thinking through the logic behind that, but I do have some questions. Hope you don&#39;t mind explaining or expanding on it a little. 1) If I understood you correctly you mean X being the spread between a pair? in other words one unit of X immediately to be traded immediately, I would think that you will buy at the ask of X rather than L to be immediate wouldn&#39;t you? One problem that I would encounter by buying one unit of X at the ask price of L would be that the ask price of L may not be the lowest ask price of X and therefore may cause me to still queue to purchase the unit of X or not even fill. Can you say a little more in regards to this? </p>

<p>2) Further, there is one concept that I&#39;m having a hard time to understand. Let&#39;s say that my Z score &gt; entry threshold of +2. I would short L by one unit by selling one unit of L at the bid price of L and go long one unit of Y at the ask price of Y. Assuming hedge ratio is 1 and all. When my Z score &lt; exit threshold of say 0.2. I would then exit my short and long position of the pair. The issue that I would encounter assuming no fees and all is that I would loose money during these trades. I&#39;m having a hard time understanding why that would be if my Z score returned to or close to mean. Is the reason behind this due to the fact that the volatility of the bid/ask price may not be high enough to allow the difference in the entry and exit bid/ask spread price at the start and end of the transaction to pull far enough to earn money?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597811abf6f2cd000d5af66c' id='597811abf6f2cd000d5af66c'>
<a href='#597811abf6f2cd000d5af66c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/567de534501cd8fb89000065'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5cb8b2dffc4fd5bcfe1938f10c558c04?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/567de534501cd8fb89000065'>daniel Snyder</a>
</div>
<a UTCms='1501041067000' class='quanto-date posted-at response-posted-at' href='#597811abf6f2cd000d5af66c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi James,<br>
Please take a look at the last part of the page for this link that shows the true correlations, which are arrived at by saying &quot;from the point of view of a pairs trader, how correlated are these tickers.&quot;<br>
<a href="https://www.linkedin.com/pulse/stock-markets-perfection-daniel-snyder">https://www.linkedin.com/pulse/stock-markets-perfection-daniel-snyder</a></p>

<p>If you know how to subtract out the part of the market that floats all boats, to be left only with the information pertaining to neutral,  there are extreme correlations.    XLK is the ticker used in the example, but there are a thousand I could have used.  When you know how to subtract out all but the neutral information, the market becomes completely different in how it appears.<br>
Scroll to the very bottom of the article and look at the two tables with correlation information.  These numbers are this way because there is so much interest in pairs trading that it tends to swamp things out.  It is even more pronounced in Europe.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5978176f1f92b30010d3f20a' id='5978176f1f92b30010d3f20a'>
<a href='#5978176f1f92b30010d3f20a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1501042543000' class='quanto-date posted-at response-posted-at' href='#5978176f1f92b30010d3f20a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>1) I think you are getting a bit confused; X is not a real thing, it&#39;s a synthetic asset formed by the basket of L and S.  X has a price to buy and a price to sell which you calculate from the bids and asks of the components.  If you cross the spread, generally, you trade immediately in small enough size.  You only have uncertainty about fills if you try to earn the spread.  That gets much more difficult.</p>

<p>2) Maybe.  If your trades are not making money, I mean, that&#39;s a big problem.  I can&#39;t answer why they are not making money.  It could be transaction costs like the bid/ask spreads, you should analyze the volatility of your baskets as a function of the bid/ask spreads you have to pay.  If you have to cross four 5-cent spreads to try and capture a spread mean-reversion of 2 cents, well yeah you are going to have problems.  A bigger problem I found was that mean reversion happens one of two ways; either the asset reverts to the mean, or the mean converges with the asset (assuming you are constantly recomputing the mean, which seems to be common practice).  In both cases your z-score goes back to zero, but only in the first case do you make any money.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5978186d4ef55c00101ce5bf' id='5978186d4ef55c00101ce5bf'>
<a href='#5978186d4ef55c00101ce5bf'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1501042797000' class='quanto-date posted-at response-posted-at' href='#5978186d4ef55c00101ce5bf'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@daniel I read your article, the correlations at the end, are those of prices, or returns ?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='597886444ef55c00101cf26e' id='597886444ef55c00101cf26e'>
<a href='#597886444ef55c00101cf26e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57352312b31db90ee6000213'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1fb5411b5fa55d835ff9a1fedf4bc80c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57352312b31db90ee6000213'>James Liu</a>
</div>
<a UTCms='1501070916000' class='quanto-date posted-at response-posted-at' href='#597886444ef55c00101cf26e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Simon,</p>

<p>Thanks for clearing that up for me. The idea of using synthetic assets is relatively new to me. I went and researched it a little and noticed that it is often used to capture streams of cash flow. I&#39;m currently trying to perform residual pairs trading with Chinese Future Contracts. As I research it for the use of Futures, I don’t really find much articles or explanations. Is it applicable to Futures?</p>

<p>At the same time, I&#39;m relatively new at this and trying to go through the lectures and stuff to learn. When you say I should analyze the volatility of my baskets as a function of the bid/ask spreads. Do you know where I can find a lecture that discuss this further? Sorry to ask some fundamental questions. One thing I notice in my data is that the bid/ask spread is really small and by small the it is just a spread of one tick of the futures contract; while the Volume for that tick is also small just around  80 or less contracts for either bid or ask.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59789ab500390d000f2cd93b' id='59789ab500390d000f2cd93b'>
<a href='#59789ab500390d000f2cd93b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/567de534501cd8fb89000065'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5cb8b2dffc4fd5bcfe1938f10c558c04?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/567de534501cd8fb89000065'>daniel Snyder</a>
</div>
<a UTCms='1501076149000' class='quanto-date posted-at response-posted-at' href='#59789ab500390d000f2cd93b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Simon,</p>

<p>The correlations are about prices, but just a subset.<br>
(I have edited this down, as compared to what you probably have in email.  Please don&#39;t copy anything from the email onto the board.)</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5978a2fabcc1d7000d67a561' id='5978a2fabcc1d7000d67a561'>
<a href='#5978a2fabcc1d7000d67a561'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5033e9d73fb2eb0002000231'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/4a9a839742731aad6e110e1d3586e020?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5033e9d73fb2eb0002000231'>Simon Thornington</a>
</div>
<a UTCms='1501078266000' class='quanto-date posted-at response-posted-at' href='#5978a2fabcc1d7000d67a561'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>James - maybe?  You need pairs/baskets with enough variance to profitably trade the mean reversion.  There tends to be a spectrum; structurally correlated assets (like ETF vs their component baskets) are perfect to trade, so perfect, that everyone does it and therefore the deviations are probably less than the spread.  Then there&#39;s really shitty pairs which you find doing brute force analysis of the stock market.  These have lots of variance, but they probably don&#39;t converge, and/or the relationship is totally spurious.  Read closely Aaron Brown&#39;s posts on this thread.  You want something in the middle.  </p>

<p>Danial - I am not sure how useful correlations of prices of any kind are ?  They are bound to be super high...  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5979eed98b80a434df32b639' id='5979eed98b80a434df32b639'>
<a href='#5979eed98b80a434df32b639'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/567de534501cd8fb89000065'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5cb8b2dffc4fd5bcfe1938f10c558c04?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/567de534501cd8fb89000065'>daniel Snyder</a>
</div>
<a UTCms='1501163225000' class='quanto-date posted-at response-posted-at' href='#5979eed98b80a434df32b639'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Simon,</p>

<p>By itself I don&#39;t believe there is any one thing that is useful for a neutral strategy. </p>

<p>My approach is to look at the market as being represented by several hundred core waveform, and similar to the idea of Fourier Transform, you can use these fundamental waveform to create the 4000 heaviest played stocks.  So, basically everything I believe about the market is based on the idea of correlations, as this is what I used as one of the first steps to find those wave forms.  (which are not easy to find.)<br>
Consider if you have Tickers AAA and BBB, and they are two similar stocks.<br>
AAA might have as its composite the waves A, B, C, D, E, F, G, H, I, J, and BBB may have D, E, F, G, H, I, J, K, L.<br>
During the times that there is little to no activity in the components A, B, C, K, L then the two tickers would be nearly perfectly correlated.  But if suddenly component A had  news (for example), then the perfect correlations would no longer hold, since stock BBB does not have an A component waveform..<br>
If you apply the above to the idea of mean reversion, then you can see what I believe the mean reversion strategy is actually about.<br>
In my opinion the best way to play a neutral strategy would be to devise a portfolio that is about the underlying fundamental wave components..<br>
And in the interest of completeness, I will mention that in the above examples, waves A, B, C, etc are also  made of composite waves, (and those composites ...) as the market is self referencing.  The several hundred are at the bottom of the self referencing, and are something that exists in theory, that I believe I could &quot;easily&quot; find, but have not spent the time and energy to do so as of this date.<br>
I also believe that if I had data for all the major markets of the world and was able to deduce the underlying component waves  for those instruments that are heavily played by the collectively speaking, multi-trillion dollar funds, that the sum of these waves would (except for inflation) most of these times sum to be zero.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59ebbcf3795ca00006f4b92b' id='59ebbcf3795ca00006f4b92b'>
<a href='#59ebbcf3795ca00006f4b92b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58fc3bb3a36812000da45503'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0476c0cf3bd39f8b719e0126e0647510?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58fc3bb3a36812000da45503'>woody waddy</a>
</div>
<a UTCms='1508621555000' class='quanto-date posted-at response-posted-at' href='#59ebbcf3795ca00006f4b92b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Some researchers generate the log price series of two equities with the daily close. Then the spread series is estimated using regression analysis based on log price series data.For equities X and Y, they run linear regression over the log price series and get the coefficient β.</p>

<p>[spread_t=\log(price_t^y)-\beta \log(price_t^x)]</p>

<p>Any reason they use log price series instead?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5c61e4490ff836004925967c' id='5c61e4490ff836004925967c'>
<a href='#5c61e4490ff836004925967c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/511193f7639e5f69e90000b0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e935b005dd53a2d62b4741fad7139042?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/511193f7639e5f69e90000b0'>Peter Osterhaven</a>
</div>
<a UTCms='1549919305000' class='quanto-date posted-at response-posted-at' href='#5c61e4490ff836004925967c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just came across this recently and it&#39;s some of the best cointegration instruction I&#39;ve seen for trading pairs.</p>

<p>However, let&#39;s say I found three or more variable that were co-integrated.  I&#39;ve heard a researcher at Stanford did a paper on &quot;pair-trading&quot; or arbitraging three or more equities against each other.  For example, for five equities (A, B, C, D, E, F), A, D might be long while C, E, F might be short and that could flip upon changing conditions.  Does anyone here have an idea how that trade might work or knows the paper I&#39;m referring to?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5c6268726a5764126a549950' id='5c6268726a5764126a549950'>
<a href='#5c6268726a5764126a549950'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/567de534501cd8fb89000065'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5cb8b2dffc4fd5bcfe1938f10c558c04?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/567de534501cd8fb89000065'>daniel Snyder</a>
</div>
<a UTCms='1549953138000' class='quanto-date posted-at response-posted-at' href='#5c6268726a5764126a549950'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The stock universe needs to be carefully considered IMO.  Although there may not be such a thing as market efficiency, IMO there is such a thing as individual efficiency, and this efficiency is different for each stock and ETF.  The most heavily played stocks and ETF&#39;s are the most efficient.  You can roughly approximate their relative efficiency by sorting by their volume x price for typical one day order.<br>
Those stocks with the highest numbers, such as SPY are efficient at most intervals, and as they get farther down the list of price x volume, they are less likely to be efficient short term.<br>
IMO careful consideration of each stocks and ETFs relative efficiency ranking is critical to setting up the trade.  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/how-to-build-a-pairs-trading-strategy-on-quantopian'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/how-to-build-a-pairs-trading-strategy-on-quantopian'>join Quantopian</a> to
post a reply.
</div>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#bbdddededfd9dad8d0fbcacedad5cfd4cbd2dad595d8d4d6">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
