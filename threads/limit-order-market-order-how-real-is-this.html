<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Limit Order, Market order, How real is this?
</title>
<meta content='Hi all, I&#39;m learning Python and Quantopian everyday. Thank you all.Question:  order_target_percent(sid, target_percent, limit_price=value1, stop_price=value2)1). O.K. now I want to send limit order as I want to enter at specific price. Since Quantopian uses 1-minute price data, I believe that all the orders (limit or market) also should be based on the 1-min. data. What if my limit order does not match any price (1-min. close price) that Quantopian received from its data source? For example,...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="GVjekqNsVJDhYa02ff81WTRMe6IXW0QRhiyjNNn/GS1lPqjfAZqGc1h89AcyEJ0tDMJYy22XUQoEI3hec7p7lg==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/limit-order-market-order-how-real-is-this' property='og:url'>
<meta content='Limit Order, Market order, How real is this?' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/limit-order-market-order-how-real-is-this' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Limit Order, Market order, How real is this?' property='og:title'>
<meta content='Hi all, I&#39;m learning Python and Quantopian everyday. Thank you all.Question:  order_target_percent(sid, target_percent, limit_price=value1, stop_price=value2)1). O.K. now I want to send limit order as I want to enter at specific price. Since Quantopian uses 1-minute price data, I believe that all the orders (limit or market) also should be based on the 1-min. data. What if my limit order does not match any price (1-min. close price) that Quantopian received from its data source? For example,...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/limit-order-market-order-how-real-is-this">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='52efd63ab4fc535af700004d'>
<div class='post-container' data-post-id='52efd63ab4fc535af700004d' id='52efd63ab4fc535af700004d'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Limit Order, Market order, How real is this?</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/524c5c27f12db56c5e00004e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ad9fd24211bfdde17bbb79907e6dcbb2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/524c5c27f12db56c5e00004e'>Kyu P</a>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1391449699000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Limit Order, Market order, How real is this?&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Flimit-order-market-order-how-real-is-this%3Futm_source%3Dwebsite_share%26utm_campaign%3Dlimit-order-vs-market-order-how-real-is-this%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Flimit-order-market-order-how-real-is-this%3Futm_source%3Dwebsite_share%26utm_campaign%3Dlimit-order-vs-market-order-how-real-is-this%26utm_medium%3Dlinkedin&amp;title=Limit+Order%2C+Market+order%2C+How+real+is+this%3F+%28Kyu+P%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/limit-order-market-order-how-real-is-this?utm_source=website_share&amp;utm_campaign=limit-order-vs-market-order-how-real-is-this&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Kyu P" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Hi all, </p>

<p>I&#39;m learning Python and Quantopian everyday. Thank you all.</p>

<p>Question:  </p>

<blockquote>
<p>order_target_percent(sid, target_percent, limit_price=value1, stop_price=value2)</p>
</blockquote>

<p>1). O.K. now I want to send <strong>limit order</strong> as I want to enter at specific price. Since Quantopian uses 1-minute price data, I believe that all the orders (limit or market) also should be based on the 1-min. data. What if my limit order does not match any price (1-min. close price) that Quantopian received from its data source? </p>

<p>For example, I want to buy AAPL at <strong>500.50</strong>. AAPL price is 500.45 at 10:00:00 (close price at 10:00:00) and 500.55 at 10:01:00. Then is my limit order at 500.50 going to get filled? or not? (I know if my order was <em>stop</em> then it will get filled). </p>

<p>Sometimes, this is a critical issue. Especially when the market moves so fast and I thought that my orders got filled, but in reality, it&#39;s not filled and my stock went up too high (for long). I am missing a huge momentum. </p>

<p>(In other platform, I know that some use <strong>tick price</strong> data). </p>

<p>In real market, my limit order in the above example should get filled. </p>

<p>2). Is there any warning message window or any tools other than logs that show whether my orders get filled at specific price at the moment or not? Or I just should go with <strong>Stop</strong> order? </p>

<p>3). How about <strong>Market order</strong>?<br>
For example, my orders are all market orders as most people here in Quantopian use. If AAPL is 500.50 at 10:00:00 and my model sent a market order to buy at 10:00:00, is my order going to get filled at 500.50? In real market, as we all know, there are <strong>bid</strong> and <strong>ask</strong> prices. If AAPL price at 10:00:00 was 500.50, it does <strong>NOT</strong> mean that <strong>ask</strong> price (because my order is a buying order with market order) is equal to 500.50. I believe that ask price is a little bit more than 500.50 due to the spread between the bid and ask. Then I assume that my market order to buy at 10:00:00 should get filled at a little higher than 500.50 in real market. </p>

<p>This discrepancy will affect the PnL with a real money trading because the back-testing results will <strong>NOT</strong> be close to the ones with real market. I&#39;m just curious how Quantopian system works in terms of orders. (<strong>No criticism, No offense</strong>). </p>

<p>4). For reference, how fast are all the orders going to be placed? I know this system is not for <strong>HFT</strong> but I&#39;m just curious. I believe that Python is fast enough compared to other scripting languages (except C/C++).</p>

<p>Thank you.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>14 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='52f000758c83fa3cd600028e' id='52f000758c83fa3cd600028e'>
<a href='#52f000758c83fa3cd600028e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b9b56c02cabe5dae000143'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e9388ae5102f3b152fa6225f955a29d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b9b56c02cabe5dae000143'>Alisa Deychman</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1391460470000' class='quanto-date posted-at response-posted-at' href='#52f000758c83fa3cd600028e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Kyu,</p>

<p>To answer your questions:</p>

<p>1).  You&#39;re correct, we use minute price data. In your example, I assume that you&#39;re looking to BUY, so I will tweak your numbers a little bit - in a buy limit order, you&#39;re waiting for the price to drop low enough to trigger your order, not the other way around.</p>

<p>Say you want to buy AAPL at <strong>500.50</strong>. At 10:00:00 the price is <strong>500.55</strong> and at 10:01:00 the price is <strong>500.45</strong>. Your order will be filled in the second minute bar at 10:01:00 according to the <a href="https://www.quantopian.com/help#ide-slippage">slippage model.</a> The default slippage model will allow you to only execute for 25% of the market volume in the minute bar. If the order is not completely filled, they will be filled in the next bar that meets your limit order criteria. This may happen in minute 3, minute 16, or may never be met. </p>

<p>2). Yes, we have <a href="https://www.quantopian.com/help#api-get-open-orders">several ways</a> to track the order status. You can use get_open_orders() to see your list of open orders or you can call get_order() to see a specific transaction. If you want to see additional messages, you can use logs in your algo to track other behavior.</p>

<p>3).  You&#39;re right, that is a very difficult problem - we&#39;ve done a lot of work to model this as well as we reasonably can.  I think you&#39;ll like our solution. If you place an order in minute 0, it will get filled in the next bar at minute 1. Each minute bar has an open, low, high, and close - the price for the bar will be the close price. This fill system is intended to prevent look-ahead bias - you cannot have forward knowledge of the price. Also, we use slippage (as I mentioned earlier) to model the impact of your order in the market. You can modify the slippage to any amount in your code. </p>

<p>4). When you&#39;re doing live trading, we&#39;ll execute your algorithm every minute as the price data becomes available. And depending on the complexity of your algo, it will take 1-2 seconds to send off your order to the market. </p>

<p>Best,<br>
Alisa</p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='52f025fdb4fc535af7000126' id='52f025fdb4fc535af7000126'>
<a href='#52f025fdb4fc535af7000126'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/524c5c27f12db56c5e00004e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ad9fd24211bfdde17bbb79907e6dcbb2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/524c5c27f12db56c5e00004e'>Kyu P</a>
</div>
<a UTCms='1391470078000' class='quanto-date posted-at response-posted-at' href='#52f025fdb4fc535af7000126'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Alisa,</p>

<p>Just few more questions:</p>

<blockquote>
<p>Say you want to buy AAPL at 500.50. At 10:00:00 the price is 500.55 and at 10:01:00 the price is 500.45. Your order will be filled in the second minute bar at 10:01:00 according to the slippage model. The default slippage model will allow you to only execute for 25% of the market volume in the minute bar.</p>
</blockquote>

<p>1). So in this example, instead of <strong>500.50</strong> (limit order price), <strong>500.45</strong> (close price at 10:01:00) will be the one that my limit order get filled at, right? </p>

<blockquote>
<p>If you place an order in minute 0, it will get filled in the next bar at minute 1. Each minute bar has an open, low, high, and close - the price for the bar will be the close price. This fill system is intended to prevent look-ahead bias - you cannot have forward knowledge of the price.</p>
</blockquote>

<p>2). So this means that all the orders are based on the close price of each bar (in this example, 1-min. bar). No inside bar prices (e.g. high, low, or tick data) affects filling my orders, right? </p>

<p>For example, at 10:00:00, I want to <strong>buy</strong> AAPL with <strong>limit</strong> order at <strong>500.50</strong>.<br>
At 10:00:01, the price is 500.55, at 10:00:10, the price(close) is 500.45, at 10:00:30, 500.30, at 10:00:40, 500.50, and at 10:00:50, 500.60, and <strong>at 10:01:00</strong>, the close price is ** 500.55**. So at this bar of 10:01:00, OHLC was 500.55, 500.60, 500.30, and 500.55 respectively.</p>

<p>Then, my order is not going to get filled, right? After then, if AAPL goes straight up to 501.00, and up until 505.00. Then, even though my limit order to buy was <strong>500.50</strong> and the limit price was inside bar of 10:01:00, am I going to miss this? </p>

<p>In real market, the story will be different. What do you think?</p>

<p>I just want to figure out how much discrepancy I will get between result from this back testing model and real money trading.</p>

<p>Thank you.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='52f02f6d5e8d89bbf9000097' id='52f02f6d5e8d89bbf9000097'>
<a href='#52f02f6d5e8d89bbf9000097'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b9b56c02cabe5dae000143'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e9388ae5102f3b152fa6225f955a29d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b9b56c02cabe5dae000143'>Alisa Deychman</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1391472494000' class='quanto-date posted-at response-posted-at' href='#52f02f6d5e8d89bbf9000097'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Kyu,</p>

<p>1).  Yes, since you are waiting for the price to drop below 500.50 for your order to be filled. This is achieved at 10:01 in the example at 500.45, which will be the price when your order gets filled.</p>

<p>2). You&#39;re exactly right - all orders are based on the close price of each bar. We do not provide tick-level data; only minute and daily bars, which we find is sufficient for most intraday strategies. Otherwise, we would be headed down the path of high frequency trading. In your specific example, your order will not get filled because the <strong>close price</strong> did not meet your limit order. This backtest simulation is similar to live trading because Interactive Brokers provides minute-level price data. </p>

<p>Cheers,<br>
Alisa  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='52f0414f5e8d89490d0000d2' id='52f0414f5e8d89490d0000d2'>
<a href='#52f0414f5e8d89490d0000d2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/524c5c27f12db56c5e00004e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ad9fd24211bfdde17bbb79907e6dcbb2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/524c5c27f12db56c5e00004e'>Kyu P</a>
</div>
<a UTCms='1391477072000' class='quanto-date posted-at response-posted-at' href='#52f0414f5e8d89490d0000d2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, Alisa  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='52f05a28b4fc535661000166' id='52f05a28b4fc535661000166'>
<a href='#52f05a28b4fc535661000166'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b9b56c02cabe5dae000143'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e9388ae5102f3b152fa6225f955a29d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b9b56c02cabe5dae000143'>Alisa Deychman</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1391483434000' class='quanto-date posted-at response-posted-at' href='#52f05a28b4fc535661000166'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Glad to help!  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='52f0fa19b4fc535af70002ee' id='52f0fa19b4fc535af70002ee'>
<a href='#52f0fa19b4fc535af70002ee'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/524c5c27f12db56c5e00004e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ad9fd24211bfdde17bbb79907e6dcbb2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/524c5c27f12db56c5e00004e'>Kyu P</a>
</div>
<a UTCms='1391524378000' class='quanto-date posted-at response-posted-at' href='#52f0fa19b4fc535af70002ee'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Alisa, </p>

<p>I have a few more questions:<br>
Basically, I want to get the exact price filled after sending my orders. It is shown in <strong>Transaction Details</strong> after running a full backtest. But <strong>I want to know the exact price that my orders got filled at ***inside my algo</strong>***. The reason why I want this is that I want to run a stop-loss and profit target features based on the <strong>cost basis</strong>. </p>

<p>1). I tried the object, <strong>cost_basis</strong> but log says <strong>0.0</strong>. I don&#39;t know why I get <strong>0</strong> instead of <strong>cost price</strong>.<br>
That&#39;s why I used <strong><em>open_price</em></strong> as below.</p>

<pre><code> short_stop_price = data[context.stock].open_price * context.short_stop_pct
</code></pre>

<p>2). I added a <strong><em>stop-loss</em></strong> for <strong>short position only</strong> as <strong>price times 1.005</strong> (meaning if price goes back up by 0.5% of cost).<br>
See below:</p>

<p>context.short_stop_pct = 1.005</p>

<p>qty = context.portfolio.positions[context.stock].amount</p>

<p>short_stop_price = data[context.stock].open_price * context.short_stop_pct</p>

<p>*** stop loss short position ***<br>
    elif qty &lt; 0 and price &gt; short_stop_price and context.short_position_exited == 0:<br>
        context.short_position_entered = 0<br>
        context.short_position_exited = 1<br>
        order_target_percent(context.stock, 0)<br>
        log.info(&#39;stop loss buytocover: &#39; + str(qty) + &#39;shares&#39;)</p>

<p>See below what the logs showed:<br>
2013-01-14handle_data:85INFOSellshort -985 shares of Security(24 [AAPL]), price, <strong><em>500.69</em></strong><br>
2013-01-14handle_data:91INFOstop loss buytocover: -985shares</p>

<p>And see what the Transaction Details said:<br>
2013-01-14, 09:32:00, AAPL, SELL, -985, <strong><em>$500.12</em></strong>, ($492,620.17)<br>
2013-01-14, 09:37:00, AAPL, BUY, 985, <strong><em>$503.80</em></strong>, $496,242.01</p>

<p>4). The price (in the logs), 500.69 is different from 500.12 (in the Transaction Details). It had a slippage of 0.57, which I think is hugh. </p>

<p>5). And my stop-loss (0.5% back up for short) price, 503.80 is not the price that 0.5% backed up from 500.12. It was actually <strong>0.736%</strong> instead of 0.5%. This discrepancy is also hugh. </p>

<p>So in this single transaction, I lost a lot more than I was supposed to.<br>
Am I doing something wrong here?<br>
Please help me here.</p>

<p>Thank you.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='52f15bf9375745941d00006e' id='52f15bf9375745941d00006e'>
<a href='#52f15bf9375745941d00006e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b9b56c02cabe5dae000143'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e9388ae5102f3b152fa6225f955a29d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b9b56c02cabe5dae000143'>Alisa Deychman</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1391549434000' class='quanto-date posted-at response-posted-at' href='#52f15bf9375745941d00006e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Kyu: let me investigate and I&#39;ll get back to you with some answers. </p>

<p>@Anony: Yes, the market orders are filled at the close of the next bar. If they were filled at the open of next bar, this would be one tick later. We don&#39;t support tick-by-tick updates and didn&#39;t design for HFT. Tracking the price from close-to-close is more conservative, and if you&#39;re trying to see updates per second, we&#39;re not the right platform. Handle_data() is called once per minute and will place the orders at that frequency.  This setup can be useful for many intraday strategies!  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='52f166e5d31cfd2c7900000a' id='52f166e5d31cfd2c7900000a'>
<a href='#52f166e5d31cfd2c7900000a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/524c5c27f12db56c5e00004e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ad9fd24211bfdde17bbb79907e6dcbb2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/524c5c27f12db56c5e00004e'>Kyu P</a>
</div>
<a UTCms='1391552230000' class='quanto-date posted-at response-posted-at' href='#52f166e5d31cfd2c7900000a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>AAPL</strong></p>

<p><strong>01/17/2014</strong></p>

<p>Time, Open, High, Low, Close<br>
09:31,  551.20, 551.60, 550.25, 551.20,<br>
09:32,  551.19, 552.08, 551.00, 551.05,<br>
09:33,  551.05, 551.07, 549.51, 549.58,<br>
09:34,  549.53, 550.19, 548.63, 548.96,<br>
09:35,  549.05, 549.12, 547.80, 547.94.<br>
.......</p>

<p>15:56,  540.62, 540.66, 540.22, 540.27.<br>
.......</p>

<p><strong><em>The above data (1-min.) were imported from TradeStation for this experiment.</em></strong></p>

<p>Hi Alisa and all,</p>

<p>I did some experiment regarding orders for the period of 1/17/2014 to 1/23/2014 (4 trading days).<br>
I set my algo as simple as possible as below.</p>

<p><strong>1). Limit Order</strong></p>

<p><strong>LONG</strong><br>
if price &gt;=  553.00 and notional &lt; context.max_notional and context.long_position_entered == 0 and context.long_position_exited == 0:<br>
        context.long_position_entered = 1<br>
        order_target_value(context.stock,500000, limit_price=553.00 )  </p>

<p><strong>SHORT</strong><br>
elif price &lt;=  552.00 and notional &gt; context.min_notional and context.short_position_entered == 0 and  context.short_position_exited==0:<br>
        context.short_position_entered = 1<br>
        order_target_value(context.stock, -500000, limit_price=551.10)</p>

<p>..............</p>

<p>When limit_price was set to <strong>551.10</strong>, it was <strong><em>NOT</em></strong> filled.<br>
Although at 09:31, the close price was 551.20, I think this system does not count the price at 09:31.<br>
Is this right? </p>

<p>When limi_price was set to <strong>551.00</strong>, my order <strong><em>got filled</em></strong> at 551.07 (close of 09:32 bar).</p>

<p><strong>2). Market Order</strong><br>
<strong>LONG</strong><br>
order_target_value(context.stock,500000)</p>

<p><strong>SHORT</strong><br>
order_target_value(context.stock,-500000)</p>

<p>When orders were set as market order, my order got filled at 09:32 (instead of at 09:31).<br>
I guess here too the price at 09:31 is not counted.<br>
Is this right?</p>

<p>2014-01-17, <strong><em>09:32:00</em></strong>, AAPL, SELL, -907, <strong><em>$551.07</em></strong>, ($499,819.58) </p>

<p><strong>3). Exit at the end of day</strong><br>
2014-01-17, 15:56:00, AAPL, BUY, 907, $540.28, $490,029.43 </p>

<p>I set the time of exit to 15:55 (EST).<br>
As you can see above, the exit order(market) got filled at 15:56.  </p>

<p><strong>4). Daily</strong><br>
I did exactly same experiment with <strong>daily</strong> data. However I got a strange result as below.</p>

<p>The below data were imported from Yahoo finance.<br>
Date, Open, High, Low, Close, Adj Close<br>
Jan 23, 2014 549.94 556.50 544.81 556.18 556.18<br>
Jan 22, 2014 550.91 557.29 547.81 551.51 551.51<br>
Jan 21, 2014 540.99 550.07 540.42 549.07 549.07<br>
Jan 17, 2014 551.48 552.07 539.90 540.67 540.67 </p>

<p>Transaction Details showed as below:<br>
<strong><em>2014-01-20</em></strong> <strong><em>19:00:00</em></strong> AAPL SELL -924 <strong><em>$548.99</em></strong> ($507,268.61) </p>

<p>I don&#39;t know about this. Can you explain about this?</p>

<p>Thank you.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='52f282fe7cc7a8de6a0002e8' id='52f282fe7cc7a8de6a0002e8'>
<a href='#52f282fe7cc7a8de6a0002e8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b9b56c02cabe5dae000143'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e9388ae5102f3b152fa6225f955a29d4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b9b56c02cabe5dae000143'>Alisa Deychman</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1391624960000' class='quanto-date posted-at response-posted-at' href='#52f282fe7cc7a8de6a0002e8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Anony, </p>

<p>The backtest logic is always that the order gets placed in the first bar and gets filled in the second bar. And the price is always the close price. If you&#39;re running a backtest in minute mode, this means the order gets placed in minute 0 and filled at the end of minute 1. If you&#39;re running in daily mode, your order is placed on day 0 and filled at the end of day 1. </p>

<p>Daily mode is generally a nice way to see the overall behavior of your algo, but I&#39;d strongly recommend you to further test it in minute mode. This way, you&#39;ll get to see more granular details of the market. This is the highest order frequency we offer and when you connect to the broker, IB orders get placed in minute mode, so it would model real world transactions.  If you like your algo in minute mode, try paper trading it with Quantopian or IB since its not real money. This way you&#39;ll get to see it against current market data. </p>

<p>Alisa  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='52f29cb97cc7a819bf000324' id='52f29cb97cc7a819bf000324'>
<a href='#52f29cb97cc7a819bf000324'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52cacb99c2e27e441d0000d0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5cdb386e9f68cc7b45ee673d9ebea0d3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52cacb99c2e27e441d0000d0'>Deleted User</a>
</div>
<a UTCms='1391631546000' class='quanto-date posted-at response-posted-at' href='#52f29cb97cc7a819bf000324'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Kyu, </p>

<p>I will try to answer your questions one at a time. </p>

<p><strong>1). I tried the object, cost_basis but log says 0.0. I don&#39;t know why I get 0 instead of cost price.</strong></p>

<p>The cost basis represents the volume-weighted average price paid per share in the position. The algo can only place the order in the first bar, and it is not filled until a later bar. Since there are no orders filled in the first bar, there is no cost basis for the first bar. Note that the cost basis for a given bar is not necessarily the same as the price at which an order is filled on a given bar. The cost basis is a cumulative measure that takes into account all shares in the position, not just the order filled in the current or previous bar. See the attached backtest and notice the difference between the log output and Transaction Details in the backtest. </p>

<p><strong>2). I added a stop-loss for short position only as price times 1.005 (meaning if price goes back up by 0.5% of cost).</strong></p>

<p><strong>4). The price (in the logs), 500.69 is different from 500.12 (in the Transaction Details). It had a slippage of 0.57, which I think is hugh.</strong></p>

<p>The computation of the cost basis may be accounting for the differences in price you are seeing in the logs versus the Transaction Details. I only see part of your code listed. Could you post more of it so we can dig further into the investment logic?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='52f2bdba98f304a9d0000006' id='52f2bdba98f304a9d0000006'>
<a href='#52f2bdba98f304a9d0000006'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4fe8beb792a029000200000d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fe3ffe502559d05f16eb9fe41ab7e9a1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4fe8beb792a029000200000d'>Dan Dunn</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1391639995000' class='quanto-date posted-at response-posted-at' href='#52f2bdba98f304a9d0000006'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Kyu, I haven&#39;t gone into the details of it as Ryan has.  I did want to make a general comment about our slippage model.</p>

<p>We have a default slippage model.  We think it&#39;s a pretty good default.  It&#39;s a little on the conservative side for highly liquid stocks, or stocks with big bid/ask books.  By conservative, I mean we probably model a bigger market impact than would be ideal.  For thinly traded stocks it probably has the opposite problem, and it probably under-estimates the market impact.</p>

<p>So, if we have this model with some known deficiencies, how do we handle it?  By making it modifiable.  If you know you are going to only be trading in highly liquid stocks, then go to a lower multiplier in the VolumeShareSlippage.  If you know you are going to only be doing small orders in thinly traded stocks, then set a good spread in FixedSlippage.  If you&#39;re going to be doing a mix, then write yourself a relevant CustomSlippage model.  You can make the slippage perform the way you think it should.  The first two options are trivially easy; the third one requires more effort.</p>

<p>Our slippage model, like all slippage models, is an estimation. You can never know for sure what would really happen when you place your order in a market.  </p>

<p>All that said - if you think we should change our default slippage model, we&#39;re always interested in hearing about how to improve our product.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='52f2c439ea00daa5df00000b' id='52f2c439ea00daa5df00000b'>
<a href='#52f2c439ea00daa5df00000b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52cacb99c2e27e441d0000d0'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/5cdb386e9f68cc7b45ee673d9ebea0d3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52cacb99c2e27e441d0000d0'>Deleted User</a>
</div>
<a UTCms='1391641658000' class='quanto-date posted-at response-posted-at' href='#52f2c439ea00daa5df00000b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey Kyu, I&#39;ll give a few line by line details to further illustrate how the cost basis is computed. The first line of the logs is </p>

<p><strong>2014-01-06handle_data:8DEBUG2014-01-06 14:31:00+00:00 cost basis is: 0.0</strong></p>

<p>An order is placed but not filled in the first bar. The second line is:<br>
<strong>2014-01-06handle_data:8DEBUG2014-01-06 14:32:00+00:00 cost basis is: 537.29</strong></p>

<p>The first line of the Transaction Details is:<br>
<strong>2014-01-06 09:32:00   AAPL    BUY 10  $537.29 $5,372.90</strong></p>

<p>Since this order is the only one that was placed, it represents the only assets in the portfolio and the price paid is equal to the cost basis. The third line of the log is <strong>2014-01-06handle_data:8DEBUG2014-01-06 14:33:00+00:00 cost basis is: 536.9</strong>, while the second line of the Transaction Details is <strong>2014-01-06 09:33:00  AAPL    BUY 10  $536.51 $5,365.10</strong>. The cost basis is equal to the volume-weighted average price paid for each share in the position. 536.9 is the average of 537.29 and 536.51.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='52f2e4afab5399e24c00006f' id='52f2e4afab5399e24c00006f'>
<a href='#52f2e4afab5399e24c00006f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/524c5c27f12db56c5e00004e'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ad9fd24211bfdde17bbb79907e6dcbb2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/524c5c27f12db56c5e00004e'>Kyu P</a>
</div>
<a UTCms='1391649968000' class='quanto-date posted-at response-posted-at' href='#52f2e4afab5399e24c00006f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi all,</p>

<p>Thank you for your explanation.<br>
Finally, I understood how Quantopian order generation system works. </p>

<p>Thank you Ryan. Now I understood how to get the cost_basis.<br>
Dan, thank you for explaining slippage models.</p>

<p>So far what I understand is that all the <strong>orders start being sent</strong> when your logic meets the specific price (either O,H,L,C) at the time of the specific bar (<strong>bar 0</strong>). Then your <strong><em>orders get filled at the close price of next bar (both for minute bar and daily bar) (bar 1)</em></strong>.</p>

<p>One more question:<br>
Regarding <strong>daily</strong> based trading, for more realistic trades, can we build our strategy based on <strong><em>daily</em></strong> data but run with <strong><em>minute</em></strong> based system? Is this possible? For example, all the computations are based on <strong><em>daily</em></strong> data. So my orders are sent after <strong>close of day 0</strong>. But I want to buy stocks during the market session of <strong>day 1</strong> vs. <strong>close price</strong> of the next day (<strong>day 1</strong>). (e.g. I want to buy AAPL at 09:31 on the next day (<strong>day1</strong>) rather than wait until 16:00 of <strong>day 1</strong>). </p>

<blockquote>
<p>You can never know for sure what would really happen when you place your order in a market. </p>
</blockquote>

<p>What I agree AND concern most is exactly what you said as above. </p>

<p>With Quantopian&#39;s system, I will have <em>almost no idea</em> what price I will get after sending my orders. Same goes with real market too.<br>
But what I want is to get some realistic idea with Quantopian back testing tool and systematic trading tool.<br>
On one hand, I totally agree with this system that sends orders based on OHLC of <strong>bar 0 at time 00:00</strong>. But I still want to question <strong><em>why orders get filled at the close price of bar 1 at 01:00</em></strong>. Why not getting filled at <strong><em>open price</em></strong> of right next bar (=bar 1) at 00:10 (or 00:30...)? We never know high, low, close price information of bar 1 until the time goes to 01:00 (or 00:59?).  </p>

<p>But we definately know open price of bar 1 right after 00:01. And also this open price is very close to the close price of previous bar. So why don&#39;t Quantopian systems work like this? We may get totally odd price due to this order fill system <strong>OR</strong> we may get some advantage from this system. The thing is that we never know what is going to happen. </p>

<p>I understand that Quantopian and IB use 1-minute base data for now. And Alisa said that <strong>handle_data</strong> is called every 1 minute. If I may say, why don&#39;t you change it to 30-second calling system. The reason why I said so is that although we all know that slippage models and order filling models are assumption and estimation, we basically need to get some pictures of our logics in our algos as close as possible.</p>

<p>If you and all the members of this forum think it is reasonable, my suggestion is that Quantopian give us two options: One is that orders get filled at open price of bar 1 at time 00:30 (30 seconds after bar 0). Second is the current system. So we can choose either of two options. For more realistic results, we can set <strong>slippage model</strong> that Quantopian built, which is totally depending on our choice.    </p>

<p>I am learning Python and Quantopian everyday. Also I am excited about experience here with Quantopian. I&#39;m sure I&#39;m going to stick with Quantopian for long time. And I will have a lot more questions too.<br>
Hope Quantopian systems support us with much more and better features than any others. (I know you&#39;re already doing great great job.).    </p>

<p>Thank you again.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='52f50e034912d620230001cc' id='52f50e034912d620230001cc'>
<a href='#52f50e034912d620230001cc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4fe8beb792a029000200000d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fe3ffe502559d05f16eb9fe41ab7e9a1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4fe8beb792a029000200000d'>Dan Dunn</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1391791621000' class='quanto-date posted-at response-posted-at' href='#52f50e034912d620230001cc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>Regarding daily based trading, for more realistic trades, can we build our strategy based on daily data but run with minute based system? Is this possible? </p>
</blockquote>

<p>This is most certainly possible. Of course, you have to run the simulation at a minute level.  But you can use the data any way you like, accumulating daily bars of data, deriving your signal, and then acting on that signal as you see fit - minutely, hourly, daily, whatever.  It&#39;s all possible within the code.  We have a lot of convenience functions and shared code to help with this.</p>

<p>Our backtester is aimed at providing a good test, a good guideline of understanding how your algorithm will work in the real market.  Whether it&#39;s 1-minute bars, or 30-second pars, I don&#39;t think will matter too much.  One of the best things you can do is get an idea that works for you in our backtester, then do <strong>forward</strong> testing with live market data.  That&#39;s an incredibly powerful tool that completely removes the question of open v. close prices for fill times.  Your order is going to the broker, exactly like a real order, and you&#39;re getting your performance information immediately.</p>

<p>I&#39;m very glad you&#39;re enjoying it.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/limit-order-market-order-how-real-is-this'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/limit-order-market-order-how-real-is-this'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#24424141404645474f645551454a504b544d454a0a474b49">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
