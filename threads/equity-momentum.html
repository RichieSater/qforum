<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Equity Momentum
</title>
<meta content='Since there seemed to be some interest in momentum models, I thought I&#39;d make a more detailed and more configurable version. I wanted to show what parts are useful to modify and give some ideas for further research.  What is important to understand here is that it&#39;s not about maximizing the performance. It&#39;s about finding a robust approach, which is not overly dependent on exact parameters. We&#39;re trading broad concepts here, and in this case we&#39;re looking for robust ways to capture equity...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="1cJWKCwwFWPGPPOiryB9G1skmV5j5O3JrG0WLaOJo5KppCBljsbHgH8hqpPgz9VvY6q6Nxko+NIuYs1HCczBKQ==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=false;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/equity-momentum' property='og:url'>
<meta content='Equity Momentum' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/equity-momentum' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Equity Momentum' property='og:title'>
<meta content='Since there seemed to be some interest in momentum models, I thought I&#39;d make a more detailed and more configurable version. I wanted to show what parts are useful to modify and give some ideas for further research.  What is important to understand here is that it&#39;s not about maximizing the performance. It&#39;s about finding a robust approach, which is not overly dependent on exact parameters. We&#39;re trading broad concepts here, and in this case we&#39;re looking for robust ways to capture equity...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/equity-momentum">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='58e92b83adeb6b000db26407'>
<div class='post-container' data-post-id='58e92b83adeb6b000db26407' id='58e92b83adeb6b000db26407'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Equity Momentum</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<span class='posted-at'>posted </span>
<span UTCms='1491676035000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Equity Momentum&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fequity-momentum%3Futm_source%3Dwebsite_share%26utm_campaign%3Dequity-momentum%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Fequity-momentum%3Futm_source%3Dwebsite_share%26utm_campaign%3Dequity-momentum%26utm_medium%3Dlinkedin&amp;title=Equity+Momentum+%28Andreas+Clenow%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Momentum' data-tag-id='55c50e7d8d4710ec6e00000c' href='/posts/tag/Momentum/newest'>Momentum</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/equity-momentum?utm_source=website_share&amp;utm_campaign=equity-momentum&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="Andreas Clenow" />
<div class='body-text'>
<div class='body-text-container post-body'><p>Since there seemed to be some interest in momentum models, I thought I&#39;d make a more detailed and more configurable version. I wanted to show what parts are useful to modify and give some ideas for further research. </p>

<p>What is important to understand here is that it&#39;s not about maximizing the performance. It&#39;s about finding a robust approach, which is not overly dependent on exact parameters. We&#39;re trading broad concepts here, and in this case we&#39;re looking for robust ways to capture equity momentum. </p>

<p>Remember that the exact settings used for the backtest below are neither the &#39;best&#39; nor &#39;worst&#39;. If there is such a thing. It&#39;s meant to demonstrate a concept and teach a methodology. Work on it a bit, and I&#39;m sure you can improve it.</p>

<p>The attached model has plenty of settings and comments in the code, which will hopefully help readers get started and experiment with momentum.</p>

<p>If you find things that could be improved here, that&#39;s great. Found an error? Please post it. This model is made to be shared and improved.  </p>
</div>
</div>
</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>37 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='58eb04cbdbf22f000d3f2fe8' id='58eb04cbdbf22f000d3f2fe8'>
<a href='#58eb04cbdbf22f000d3f2fe8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54e159f70f3369eb9200019b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/2a53f34ae7e99886508adf2b4d76bff2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54e159f70f3369eb9200019b'>Vladimir</a>
<span class='badge medal'></span>
</div>
<a UTCms='1491797195000' class='quanto-date posted-at response-posted-at' href='#58eb04cbdbf22f000d3f2fe8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Andreas,</p>

<p>1.In this version of Clenow Momentum strategy you introduced stock selection  using two slopes with different periods and exclude_days parameter.<br>
What is the idea behind those improvements and their influence on performance metrics ?</p>

<p>2.To my mind the code in line 176</p>

<pre><code>data_end = -1 * context.exclude_days  
</code></pre>

<p>should be written</p>

<pre><code>data_end = -1 * (context.exclude_days + 1)  
</code></pre>

<p>otherwise you will get  a run-time error if context.exclude_days = 0  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58eb2caa7cc8910010ca0596' id='58eb2caa7cc8910010ca0596'>
<a href='#58eb2caa7cc8910010ca0596'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1491807402000' class='quanto-date posted-at response-posted-at' href='#58eb2caa7cc8910010ca0596'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Vladimir,</p>

<p>The main purpose with introducing these variables is to show common practices and what kind of things might be useful to tinker with.  The aim is robustness.</p>

<p>The two slopes demonstrates a concept which could easily be built upon. It&#39;s quite a common approach, to weight different calculation windows for a momentum model. You could add more of them, you could add weighting factors, you could try punishing short term momentum in favor of long term, etc. It opens up for quite a bit of potential research.</p>

<p>The exclude_days variable is a very common approach seen in most academic literature on momentum. Most researchers exclude the last month&#39;s data to account for the snap-back effect. Some like using this, some not. There&#39;s plenty of research out there favoring either approach. </p>

<p>The exclude_days syntax is my mistake. You&#39;re absolutely correct. Thanks for spotting it, Vladimir!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ebbbd8f36f3b00108eda04' id='58ebbbd8f36f3b00108eda04'>
<a href='#58ebbbd8f36f3b00108eda04'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56699d9e60d52f61b0000002'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f004afee98567e4b3a496f60f0ae78c7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56699d9e60d52f61b0000002'>William Spratt</a>
</div>
<a UTCms='1491844056000' class='quanto-date posted-at response-posted-at' href='#58ebbbd8f36f3b00108eda04'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Andreas,</p>

<p>Excellent code, I follow both of your momentum posts and have learned a lot from your strategies, thank you for sharing all your work and ideas.</p>

<p>Would you, or anyone else following know how to add to the code a way to move to multiple tickers when SPY is below its MA trend? </p>

<p>For example, instead of just IEF, move evenly to IEF, AGG, GLD? Is that an easy code change? </p>

<pre><code># identifier for the cash management etf, if used.  
context.use_bond_etf = True  
context.bond_etf = sid(23870)  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ec980fd9b22a000d5341a0' id='58ec980fd9b22a000d5341a0'>
<a href='#58ec980fd9b22a000d5341a0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57022334065314b77a0006b4'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6db2af53f0ac1c1c9a43e8ec8ccbab87?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57022334065314b77a0006b4'>Pietro</a>
</div>
<a UTCms='1491900431000' class='quanto-date posted-at response-posted-at' href='#58ec980fd9b22a000d5341a0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Can anyone explain why every trades is executed at different time?   4:30, 4:35,...and even at 5:00<br>
I see it in transaction details  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ecbb4af36f3b49588edd60' id='58ecbb4af36f3b49588edd60'>
<a href='#58ecbb4af36f3b49588edd60'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1491909450000' class='quanto-date posted-at response-posted-at' href='#58ecbb4af36f3b49588edd60'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Pietro: It has to do with the Quantopian slippage model, which limits how large part of the volume you can take. Unless you disable the slippage model, it won&#39;t let you take a large order at the market, if there wasn&#39;t really sufficient liquidity to do that without impact. The code at the moment simply enters market orders, and lets the executions land where they may. Feel free to modify.</p>

<p>William: Shouldn&#39;t be difficult. Just  split the etf_weight into the number of funds you want to allocate to, and enter target_percent orders for them. Easily done.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ecff3cf36f3b453b8edb4c' id='58ecff3cf36f3b453b8edb4c'>
<a href='#58ecff3cf36f3b453b8edb4c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/586cfbfbbc11d64bdd0000af'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/61f5793133d7c4dc055e0c82fb5b16e6?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/586cfbfbbc11d64bdd0000af'>Warsame</a>
</div>
<a UTCms='1491926844000' class='quanto-date posted-at response-posted-at' href='#58ecff3cf36f3b453b8edb4c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@ Andreas thank you for sharing your expertise with us. It is very much appreciated. And your books are great. </p>

<p>Cheers,<br>
Warsame  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ed874d03bcc278a701fbe6' id='58ed874d03bcc278a701fbe6'>
<a href='#58ed874d03bcc278a701fbe6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e00e2fe8913c000d6e128b'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7e36080a11c5478c7329ddbb86e78879?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e00e2fe8913c000d6e128b'>Jack Brown</a>
</div>
<a UTCms='1491961677000' class='quanto-date posted-at response-posted-at' href='#58ed874d03bcc278a701fbe6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andreas - Greatly appreciate your work and supplying us a great example to build from!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58edfb3c03bcc279f201fcef' id='58edfb3c03bcc279f201fcef'>
<a href='#58edfb3c03bcc279f201fcef'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1491991356000' class='quanto-date posted-at response-posted-at' href='#58edfb3c03bcc279f201fcef'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, guys. Your comments are much appreciated. I&#39;m looking forward to see what improvements the community can do on the model. Remember that it&#39;s just a base version, and leaves plenty of room for improvements.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ef067cf2c5a955da6f1309' id='58ef067cf2c5a955da6f1309'>
<a href='#58ef067cf2c5a955da6f1309'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e4f6ebea5197e0d90001ce'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/d1ffb46343247da622f198f5d71221b8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e4f6ebea5197e0d90001ce'>Greg Keating</a>
</div>
<a UTCms='1492059772000' class='quanto-date posted-at response-posted-at' href='#58ef067cf2c5a955da6f1309'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andreas - One of the things I haven&#39;t seen mentioned or incorporated in any of the posts whether in this thread or the other but is mentioned in your book is in regards to the gap filter. I know you are focused on providing a broad concept here for others to work off of. Yet I am curious; are you purposely leaving that out of the code due to a revised methodology on your part? Or are you still using that as a filter in your own personal algorithms and it is again just something the community can incorporate into this code if they&#39;d like.  I also must say I&#39;ve enjoyed learning from your book and appreciate how active of a member you have been here in the Quantopian forums. I have been actively using this methodology with some modifications to live trade for a few months now and therefore am always looking for ways to improve upon it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58f5b800c55a8c5b20028c75' id='58f5b800c55a8c5b20028c75'>
<a href='#58f5b800c55a8c5b20028c75'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1492498432000' class='quanto-date posted-at response-posted-at' href='#58f5b800c55a8c5b20028c75'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks, Greg.</p>

<p>The gap filter I used in Stocks on the Move is probably the one thing I get the most questions about. In particular after readers run simulations and, correctly, conclude that it seemingly has no actual impact on results over time. That&#39;s absolutely correct. It doesn&#39;t.</p>

<p>The only point of the gap filter is that it makes it easier to actually execute and follow the rules. Without a gap filter or similar, you will get some pretty scary looking entry signals at times. That&#39;s not visible on an equity curve like the one above, but it will have an impact on your ability to actually pull the trigger on a trade. The gap filter also takes you out of trades where something out of the ordinary happens. A large move up, or a large move down. Either way, the scenario changes and it&#39;s comfortable to exit. I call this type of rules comfort rules. </p>

<p>For those who didn&#39;t (yet..?) read Stocks on the Move: The gap filter rule described there stated that any stock is excluded from the valid investment universe if it had a close to close gap in excess of 15% in the the past 90 days. At least that&#39;s what I remember at the moment, without checking my own book... As stated, it doesn&#39;t change any results in any meaningful way over time, but it makes it easier to follow the rules by removing some scary setups.</p>

<p>And of course, my usual disclaimer: I&#39;m never attempting to publish the best possible rules, or some sort of optimal Clenow Super Algo, which would obviously be quite silly despite the catchy name. My published research always aims to teach a concept and show valid methods of working. My intention is never that readers should simply take my rules and trade it, but rather to learn from it, take what they like, modify and change what they don&#39;t like, and make their own personal models. That&#39;s why I always publish all the rules.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58f62506687a281643d09254' id='58f62506687a281643d09254'>
<a href='#58f62506687a281643d09254'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1492526342000' class='quanto-date posted-at response-posted-at' href='#58f62506687a281643d09254'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I make some changes to see if it can be adopted to Long / Short. Seems to have lot of room for improvements. Perhaps some of you can chip in.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58f7477fc13ac00010195259' id='58f7477fc13ac00010195259'>
<a href='#58f7477fc13ac00010195259'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1492600703000' class='quanto-date posted-at response-posted-at' href='#58f7477fc13ac00010195259'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I tried to port reduced version of this to the optimisation API. Sharing the initial attempt. If there are improvements let me know.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58fa892eb8fadb001063aac5' id='58fa892eb8fadb001063aac5'>
<a href='#58fa892eb8fadb001063aac5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52670e6a2763c5cfb70002c7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/da33ec858011a8fad211c7e0ae68160c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52670e6a2763c5cfb70002c7'>Alan Coppola</a>
</div>
<a UTCms='1492814126000' class='quanto-date posted-at response-posted-at' href='#58fa892eb8fadb001063aac5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi,<br>
Just fused @Suminda  &#39;s algo above with the original to see if I could compare the two easily.<br>
Set  the flag context.opt_method to flip between the original rebalance and the new rebalance using the optimize api.</p>

<p>I was only interested in a last-3-year backtest, as that seemed problematic for the returns of the original,<br>
so I lengthened the windows a bit, and it performed better...see enclosed backtest.</p>

<p>Notes:<br>
-Whenever I tried to use the Q1500, I got worse results.<br>
-Whenever I used the Optimize API (my_rebalance_opt), I got worse results,<br>
          but it was kinda cool how it bought massive #&#39;s of longs and shorts!</p>

<p>alan  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58fab9b35195ed000d8f3f3f' id='58fab9b35195ed000d8f3f3f'>
<a href='#58fab9b35195ed000d8f3f3f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1492826547000' class='quanto-date posted-at response-posted-at' href='#58fab9b35195ed000d8f3f3f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Some nifty code there.</p>

<p>In comparing two algorithms with same starting cash and different cash usage (or visa-versa or both) what you&#39;ll need to do is neutralize risk for an apples-to-apples comparison, otherwise returns are in different ball fields.</p>

<p>To start to understand how it works, I go at it from this angle: An algo from Jan 3 this year buying 1 share of SPY every day for a month will have the following returns with different values of starting capital, even though they use the same amount of cash in this case. No shorting, so cash is the only risked value here.</p>

<pre><code>Starting Cash       Returns  
    5000              .6%  
    2000             1.5%  
      10             305%  
</code></pre>

<p>All have the same PnL ($30) even though returns are apples to oranges.<br>
Returns are pegged only to starting capital no matter how much was used, I gather that is one of the industry&#39;s standard methods.</p>

<p>There&#39;s a tool that neutralizes both starting capital and cash, measuring <a href="https://www.quantopian.com/posts/pvr">PvR</a> (Profit vs Risk) by keeping track of the maximum risk and charting the percentage result. <em>It is PnL/MaximumRisk, performance of each required dollar on average.</em> I score alogorithms with its PvR %/day value included in the output, which should also be removing time from the equation (different date ranges). Still not perfect yet the best I know.</p>

<p>In your code, with investment_set = 1 in both, the one using opt_method has a sudden dip into $3M margin near the end that you&#39;ll probably want to address, you can use <a href="https://www.quantopian.com/posts/track-orders">track_orders</a> and set a valid trading day just before, as its start date, to see what&#39;s happening there.</p>

<p>Hope that will help.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5900ca192c762300102cbe89' id='5900ca192c762300102cbe89'>
<a href='#5900ca192c762300102cbe89'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ffadcf8f487a118232b368'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/61b3a4ab5a51854ddc3cffc889f33dc1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ffadcf8f487a118232b368'>mike sina</a>
</div>
<a UTCms='1493223961000' class='quanto-date posted-at response-posted-at' href='#5900ca192c762300102cbe89'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi Guys, very interesting result, I am new here, can someone please explain to me in plain english what this strategy is? Imagine I want to trade this strategy manually, thanks in advance  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5900d6562c762300102cbf88' id='5900d6562c762300102cbf88'>
<a href='#5900d6562c762300102cbf88'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54d0094ae56d4559980000dd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7731cf58d43f8533c2d9e062e8c67b91?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54d0094ae56d4559980000dd'>Kane Dijkman</a>
</div>
<a UTCms='1493227094000' class='quanto-date posted-at response-posted-at' href='#5900d6562c762300102cbf88'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@mike sina this is a strategy based on Andreas Clenow&#39;s most excellent book <a href="https://www.amazon.com/Stocks-Move-Beating-Momentum-Strategies/dp/1511466146/ref=sr_1_1?ie=UTF8&amp;qid=1493226982&amp;sr=8-1&amp;keywords=clenow">Stocks on the Move</a>. Do yourself a favor and pick up a copy. One of the best investing/trading books I have read, highly recommended!</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5900d7df062e692eeb711e3c' id='5900d7df062e692eeb711e3c'>
<a href='#5900d7df062e692eeb711e3c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54d0094ae56d4559980000dd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7731cf58d43f8533c2d9e062e8c67b91?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54d0094ae56d4559980000dd'>Kane Dijkman</a>
</div>
<a UTCms='1493227487000' class='quanto-date posted-at response-posted-at' href='#5900d7df062e692eeb711e3c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@andreas is there a bug on line 239 in your originally posted strategy? </p>

<p>Should  </p>

<pre><code>        # allow rebalancing of existing, and new buys if can_buy, i.e. passed trend filter.  
        if (security in context.portfolio.positions) or (can_buy):  
</code></pre>

<p>be an &#39;and&#39; instead of an &#39;or&#39; for the can_buy?</p>

<pre><code>        # allow rebalancing of existing, and new buys if can_buy, i.e. passed trend filter.  
        if (security in context.portfolio.positions) and (can_buy):  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5900e3e08c476b71950d7ab3' id='5900e3e08c476b71950d7ab3'>
<a href='#5900e3e08c476b71950d7ab3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ffadcf8f487a118232b368'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/61b3a4ab5a51854ddc3cffc889f33dc1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ffadcf8f487a118232b368'>mike sina</a>
</div>
<a UTCms='1493230560000' class='quanto-date posted-at response-posted-at' href='#5900e3e08c476b71950d7ab3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Kane Dijkman thanks so much for the reply, is there any chapter associated with this strategy that I can read it instead of reading the whole book? Really appreciate this, thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5900f0e88c476b71950d7c54' id='5900f0e88c476b71950d7c54'>
<a href='#5900f0e88c476b71950d7c54'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54d0094ae56d4559980000dd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7731cf58d43f8533c2d9e062e8c67b91?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54d0094ae56d4559980000dd'>Kane Dijkman</a>
</div>
<a UTCms='1493233896000' class='quanto-date posted-at response-posted-at' href='#5900f0e88c476b71950d7c54'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@mike sina there is a chapter that is about 4 pages that just covers the rules (should be obvious which chapter it is by its title), but the real value is in the thinking and approach behind the strategy that Andreas builds throughout the book. Its a pretty quick read too with a chapter that explains each rule. If you are considering putting any money behind this strategy it would be worth giving it a quick read.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5900fe922c7623000d2cc2fa' id='5900fe922c7623000d2cc2fa'>
<a href='#5900fe922c7623000d2cc2fa'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58ffadcf8f487a118232b368'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/61b3a4ab5a51854ddc3cffc889f33dc1?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58ffadcf8f487a118232b368'>mike sina</a>
</div>
<a UTCms='1493237394000' class='quanto-date posted-at response-posted-at' href='#5900fe922c7623000d2cc2fa'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Kane Dijkman: Sure definitely will read this book , thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5906d4813c0e2951735be27a' id='5906d4813c0e2951735be27a'>
<a href='#5906d4813c0e2951735be27a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/59023ce0ac8101000d39f148'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/ef090d553e69594a70747d339225edc3?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/59023ce0ac8101000d39f148'>Samuel Mahal</a>
</div>
<a UTCms='1493619841000' class='quanto-date posted-at response-posted-at' href='#5906d4813c0e2951735be27a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>thanks for the well commented code, helped ,me to learn  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59076b803ec39d0010d64761' id='59076b803ec39d0010d64761'>
<a href='#59076b803ec39d0010d64761'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58c2f627c0234566a615fec2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1f1d1fde22be523c1e3a89109d281c72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58c2f627c0234566a615fec2'>Josh Lagan</a>
</div>
<a UTCms='1493658496000' class='quanto-date posted-at response-posted-at' href='#59076b803ec39d0010d64761'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Kane Dijkman<br>
Referring to the bug, I think the original code is correct as it allows you to rebalance always when can_buy is False (when the index filter is below the specified trend) which in turn allows you to rebalance yourself out of the market until can_buy is True again. If it was &quot;and&quot;, then you wouldn&#39;t be able to sell your positions when the index drops below the trend.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59076dab938ba9000d7a3068' id='59076dab938ba9000d7a3068'>
<a href='#59076dab938ba9000d7a3068'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54d0094ae56d4559980000dd'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7731cf58d43f8533c2d9e062e8c67b91?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54d0094ae56d4559980000dd'>Kane Dijkman</a>
</div>
<a UTCms='1493659051000' class='quanto-date posted-at response-posted-at' href='#59076dab938ba9000d7a3068'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hey, @Joshua Lagan, thanks for response explaining the logic. Seems I misremembered the rule from Andreas book and thought we should close all positions if the index moves below its moving average. I just reread and see that he just says that &quot;no new buys are allowed&quot;.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59077095938ba900107a304d' id='59077095938ba900107a304d'>
<a href='#59077095938ba900107a304d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58c2f627c0234566a615fec2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/1f1d1fde22be523c1e3a89109d281c72?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58c2f627c0234566a615fec2'>Josh Lagan</a>
</div>
<a UTCms='1493659797000' class='quanto-date posted-at response-posted-at' href='#59077095938ba900107a304d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Kane Dijkman<br>
Anytime!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='590844b58135d5000fa822f2' id='590844b58135d5000fa822f2'>
<a href='#590844b58135d5000fa822f2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/568f5faed5c668d3ab00005a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0f439a27b42bbf744af8a63a0dd2be35?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/568f5faed5c668d3ab00005a'>Vlademir Mohamad</a>
</div>
<a UTCms='1493714101000' class='quanto-date posted-at response-posted-at' href='#590844b58135d5000fa822f2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andrea Clenow can we Dumb down... your model say random stock picking... equal weighted re-balance  monthly... and lets see... if it really... outperform the index... year on year....  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a1e59679160496cb1f6045b' id='5a1e59679160496cb1f6045b'>
<a href='#5a1e59679160496cb1f6045b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/598bae8f735f2a2e9751a0db'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0b9e25912f91a90765e83fc7848cfa25?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/598bae8f735f2a2e9751a0db'>Pengfei Hao</a>
</div>
<a UTCms='1511938407000' class='quanto-date posted-at response-posted-at' href='#5a1e59679160496cb1f6045b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for this example  i have learn a lot from ,.and i am a new guy for quantopian, so may i ask  how do you come up strategy like this .  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5c5277e3c41d560044789237' id='5c5277e3c41d560044789237'>
<a href='#5c5277e3c41d560044789237'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5a4adfb2b0cabf17d0f573eb'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e0de8aa3fa90f5c22c45f6cf03323dca?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5a4adfb2b0cabf17d0f573eb'>Forever Young</a>
</div>
<a UTCms='1548908515000' class='quanto-date posted-at response-posted-at' href='#5c5277e3c41d560044789237'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andrea Great strategy. Can this be used for calculated reversal effects?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d6864b1314a7d090508cdd9' id='5d6864b1314a7d090508cdd9'>
<a href='#5d6864b1314a7d090508cdd9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5ae362641de5360041ba17c9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7f026b4bec4d15d3b0e7f64626f786c2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5ae362641de5360041ba17c9'>SDB Bar</a>
</div>
<a UTCms='1567122609000' class='quanto-date posted-at response-posted-at' href='#5d6864b1314a7d090508cdd9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andrea thanks for sharing!</p>

<p>Have you or anyone else tried a short version of this to identify stocks on the way down?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d68d811b0681a00487ac034' id='5d68d811b0681a00487ac034'>
<a href='#5d68d811b0681a00487ac034'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1567152145000' class='quanto-date posted-at response-posted-at' href='#5d68d811b0681a00487ac034'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The short side is trickier. It takes much more than just reversing the signs. My view is that you&#39;ll need to go much more short term. The momentum effect doesn&#39;t really work on the short side, and you&#39;ll need to use other criteria.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d7ad99520db252290b7fc09' id='5d7ad99520db252290b7fc09'>
<a href='#5d7ad99520db252290b7fc09'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5ae362641de5360041ba17c9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7f026b4bec4d15d3b0e7f64626f786c2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5ae362641de5360041ba17c9'>SDB Bar</a>
</div>
<a UTCms='1568332181000' class='quanto-date posted-at response-posted-at' href='#5d7ad99520db252290b7fc09'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks! @andreas, I&#39;m currently enjoying your book and about half way through it. Another question I have, is have you ever tried this momentum style system with long options? Or do you find their behaviour more suited to trend based systems (like your other book on futures).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d7ba5eb9eaac3360f717a70' id='5d7ba5eb9eaac3360f717a70'>
<a href='#5d7ba5eb9eaac3360f717a70'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1568384491000' class='quanto-date posted-at response-posted-at' href='#5d7ba5eb9eaac3360f717a70'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am not a fan of using options for leverage. No I haven&#39;t modeled that.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d80166c3a1c4e00419335c6' id='5d80166c3a1c4e00419335c6'>
<a href='#5d80166c3a1c4e00419335c6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5ae362641de5360041ba17c9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7f026b4bec4d15d3b0e7f64626f786c2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5ae362641de5360041ba17c9'>SDB Bar</a>
</div>
<a UTCms='1568675436000' class='quanto-date posted-at response-posted-at' href='#5d80166c3a1c4e00419335c6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Has anyone tried making a more market neutral version of this approach?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d806d934d1d170046a62c75' id='5d806d934d1d170046a62c75'>
<a href='#5d806d934d1d170046a62c75'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/525bc20149318942600000ef'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/c07480ff96e31388ea3f7b65c5d042da?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/525bc20149318942600000ef'>Andreas Clenow</a>
</div>
<a UTCms='1568697747000' class='quanto-date posted-at response-posted-at' href='#5d806d934d1d170046a62c75'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I have experimented with that in the past without seeing interesting results.</p>

<p>The first issue is that a model like this is in large parts about taking on beta when beta is good. It&#39;s a relative approach, not an absolute approach.</p>

<p>The second issue is that we&#39;re dealing with cash equities, and therefore have very limited possibilities to leverage up.</p>

<p>In the end, I didn&#39;t see any value in hedging out the market. But of course, the fact that I didn&#39;t see value in it does not necessarily mean that it&#39;s not possible for someone else to find it.</p>

<p>I&#39;d suggest you try to model it and see what you get. If nothing else, it&#39;s an interesting learning exercise.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d8145794d1d1748bfa64281' id='5d8145794d1d1748bfa64281'>
<a href='#5d8145794d1d1748bfa64281'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5ae362641de5360041ba17c9'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7f026b4bec4d15d3b0e7f64626f786c2?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5ae362641de5360041ba17c9'>SDB Bar</a>
</div>
<a UTCms='1568753017000' class='quanto-date posted-at response-posted-at' href='#5d8145794d1d1748bfa64281'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks @Andreas, yes I&#39;m playing aorund with that now. So will post anything interesting I find.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5d83479eb8084c5c80defeec' id='5d83479eb8084c5c80defeec'>
<a href='#5d83479eb8084c5c80defeec'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5d68b392a3d0d300478c9d9d'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e01bfa7c378aa686d2d6d79f4d8d17d9?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5d68b392a3d0d300478c9d9d'>Connor Shawn</a>
</div>
<a UTCms='1568884638000' class='quanto-date posted-at response-posted-at' href='#5d83479eb8084c5c80defeec'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks for sharing~  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5e7d9a98f9967c0043ca56e9' id='5e7d9a98f9967c0043ca56e9'>
<a href='#5e7d9a98f9967c0043ca56e9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5e7ab555586a8938b52b9614'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/01536d7b8eb2d359a9d410febb0610fa?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5e7ab555586a8938b52b9614'>Mason Hargrave</a>
</div>
<a UTCms='1585289880000' class='quanto-date posted-at response-posted-at' href='#5e7d9a98f9967c0043ca56e9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Andreas</p>

<p>I created a CustomClass that paralellizes the linear regression calculations by using np.polyfit(). May need some tweaks but this should do what you want it to do.</p>

<p>Just read through Trading Evolved and loved it btw  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5f8be50d2e77630011734199' id='5f8be50d2e77630011734199'>
<a href='#5f8be50d2e77630011734199'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5f8922da9886aa741abc2e09'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/657f052da3d5648bd197b330b55d6773?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5f8922da9886aa741abc2e09'>Tony Chen</a>
</div>
<a UTCms='1603003661000' class='quanto-date posted-at response-posted-at' href='#5f8be50d2e77630011734199'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Just read the book and found this thread.  Played with the algo but seems it under performed after after 2016, 17. Not sure why. Does it have anything to do with the shooting up of tech stocks?  </p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/equity-momentum'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/equity-momentum'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#e6808383828487858da6979387889289968f8788c885898b">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
