<!DOCTYPE html>
<html>
<head>
<link href='i1.wp.com' rel='dns-prefetch'>
<link href='i2.wp.com' rel='dns-prefetch'>
<link href='i3.wp.com' rel='dns-prefetch'>
<meta content='2HgX9mcLHaPOX6sfaaAkhWtblhEB9yUNw4l6l46e1k4' name='google-site-verification'>
<link rel="shortcut icon" type="image/x-icon" href="external/favicon-q-ac1a76f2c200e9026b5b1147519bb4fab6256910588b831e2411bc6c7c1218c3.png" />
<title>
Alphalens - a new tool for analyzing alpha factors
</title>
<meta content='Alphalens is a Python package for performance analysis of alpha factors which can be used to create cross-sectional equity algos.  Alpha factors express a predictive relationship between some given set of information and future returns.  By applying this relationship to multiple stocks we can hope to generate an alpha signal and trade off of it. Developing a good alpha signal is challenging; so where can we (Quantopian) make things easier, and where do you (the quant) add the most value? We...' name='description'>
<link rel="stylesheet" media="all" href="external/quanto-base-bundle-e8eb6050172aa0d24124d5c24bac90b2cccd88b5b9c7742026c0e9efab038c6e.css" />
<link rel="stylesheet" media="all" href="external/quanto-posts-bundle-aab01368d3f82d8dafc94ee9eabb82e77dc8c9fbbffa952fdcdc744dfa523cf3.css" />
<script src="external/quanto_global-057218867db29d5768131af5d6fb3476cef098e7d9e655108befb903c7ee985e.js"></script>
<script src="external/posts_bundle-3dfd82fa469c393d752e461d837aec9e4e364ae39f49198e34a6626f2180fdf7.js"></script>
<link href='external/logo-q-180x180-0f5a6a439c99203ed4aea6f656e7604c543d287be43d8b17c7591c1131f09a59.png' rel='apple-touch-icon'>
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="7qHGvKNGyfTdHa1U4Ttm4zBPIMbZPVNivmKWoo0b936Sx7DxAbAbF2QA9GWu1M6XCMEDr6PxRnk8bU3IJ16VxQ==" />
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<script>
//<![CDATA[
window.quanto_data={};quanto_data.bounce_back_params={"show_modal":null,"feedback_text":null};quanto_data.namespace="public";quanto_data.talib_info={"ADOSC":["Chaikin A/D Oscillator (Volume Indicators)",["fastperiod","3"],["slowperiod","10"]],"ADX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"ADXR":["Average Directional Movement Index Rating (Momentum Indicators)",["timeperiod","14"]],"APO":["Absolute Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"AROON":["Aroon (Momentum Indicators)",["timeperiod","14"]],"AROONOSC":["Aroon Oscillator (Momentum Indicators)",["timeperiod","14"]],"ATR":["Average True Range (Volatility Indicators)",["timeperiod","14"]],"BBANDS":["Bollinger Bands (Overlap Studies)",["timeperiod","5"],["nbdevup","2"],["nbdevdn","2"],["matype","0"]],"BETA":["Beta (Statistic Functions)",["timeperiod","5"]],"CCI":["Commodity Channel Index (Momentum Indicators)",["timeperiod","14"]],"CMO":["Chande Momentum Oscillator (Momentum Indicators)",["timeperiod","14"]],"CORREL":["Pearson's Correlation Coefficient (r) (Statistic Functions)",["timeperiod","30"]],"DEMA":["Double Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"DX":["Average Directional Movement Index (Momentum Indicators)",["timeperiod","14"]],"EMA":["Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"KAMA":["Kaufman Adaptive Moving Average (Overlap Studies)",["timeperiod","30"]],"LINEARREG":["Linear Regression (Statistic Functions)",["timeperiod","14"]],"LINEARREG_ANGLE":["Linear Regression Angle (Statistic Functions)",["timeperiod","14"]],"LINEARREG_INTERCEPT":["Linear Regression Intercept (Statistic Functions)",["timeperiod","14"]],"LINEARREG_SLOPE":["Linear Regression Slope (Statistic Functions)",["timeperiod","14"]],"MA":["Moving average (Overlap Studies)",["timeperiod","30"],["matype","0"]],"MACD":["Moving Average Convergence/Divergence (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["signalperiod","9"]],"MACDEXT":["MACD with controllable MA type (Momentum Indicators)",["fastperiod","12"],["fastmatype","0"],["slowperiod","26"],["slowmatype","0"],["signalperiod","9"],["signalmatype","0"]],"MACDFIX":["Moving Average Convergence/Divergence Fix 12/26 (Momentum Indicators)",["signalperiod","9"]],"MAX":["Highest values over a specified period (Math Operators)",["timeperiod","30"]],"MAXINDEX":["Index of highest value over a specified period (Math Operators)",["timeperiod","30"]],"MFI":["Money Flow Index (Momentum Indicators)",["timeperiod","14"]],"MIDPOINT":["Midpoint over period (Overlap Studies)",["timeperiod","14"]],"MIDPRICE":["Midpoint Price over period (Overlap Studies)",["timeperiod","14"]],"MIN":["Lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MININDEX":["Index of lowest value over a specified period (Math Operators)",["timeperiod","30"]],"MINMAX":["Lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINMAXINDEX":["Indexes of lowest and highest values over a specified period (Math Operators)",["timeperiod","30"]],"MINUS_DI":["Minus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"MINUS_DM":["Minus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"MOM":["Momentum (Momentum Indicators)",["timeperiod","10"]],"NATR":["Normalized Average True Range (Volatility Indicators)",["timeperiod","14"]],"PLUS_DI":["Plus Directional Indicator (Momentum Indicators)",["timeperiod","14"]],"PLUS_DM":["Plus Directional Movement (Momentum Indicators)",["timeperiod","14"]],"PPO":["Percentage Price Oscillator (Momentum Indicators)",["fastperiod","12"],["slowperiod","26"],["matype","0"]],"ROC":["Rate of change: ((price/prevPrice)-1)*100 (Momentum Indicators)",["timeperiod","10"]],"ROCP":["Rate of change Percentage: (price-prevPrice)/prevPrice (Momentum Indicators)",["timeperiod","10"]],"ROCR":["Rate of change ratio: (price/prevPrice) (Momentum Indicators)",["timeperiod","10"]],"ROCR100":["Rate of change ratio 100 scale: (price/prevPrice)*100 (Momentum Indicators)",["timeperiod","10"]],"RSI":["Relative Strength Index (Momentum Indicators)",["timeperiod","14"]],"SMA":["Simple Moving Average (Overlap Studies)",["timeperiod","30"]],"STDDEV":["Standard Deviation (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"STOCH":["Stochastic (Momentum Indicators)",["fastk_period","5"],["slowk_period","3"],["slowk_matype","0"],["slowd_period","3"],["slowd_matype","0"]],"STOCHF":["Stochastic Fast (Momentum Indicators)",["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"STOCHRSI":["Stochastic Relative Strength Index (Momentum Indicators)",["timeperiod","14"],["fastk_period","5"],["fastd_period","3"],["fastd_matype","0"]],"T3":["Triple Exponential Moving Average (T3) (Overlap Studies)",["timeperiod","5"],["vfactor","0.7"]],"TEMA":["Triple Exponential Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIMA":["Triangular Moving Average (Overlap Studies)",["timeperiod","30"]],"TRIX":["1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (Momentum Indicators)",["timeperiod","30"]],"TSF":["Time Series Forecast (Statistic Functions)",["timeperiod","14"]],"ULTOSC":["Ultimate Oscillator (Momentum Indicators)",["timeperiod1","7"],["timeperiod2","14"],["timeperiod3","28"]],"VAR":["Variance (Statistic Functions)",["timeperiod","5"],["nbdev","1"]],"WILLR":["Williams' %R (Momentum Indicators)",["timeperiod","14"]],"WMA":["Weighted Moving Average (Overlap Studies)",["timeperiod","30"]]};quanto_data.nb_preview_url="https://notebooks-preview.prd.pub.quantopian.com";quanto_data.delay_nb_preview_load=true;
//]]>
</script>
<meta content='https://www.quantopian.com/posts/alphalens-a-new-tool-for-analyzing-alpha-factors' property='og:url'>
<meta content='Alphalens - a new tool for analyzing alpha factors' property='og:title'>

<input type="hidden" name="env" id="quanto-env" value="production" />
<meta content='550580758292093' property='fb:app_id'>
<meta content='https://www.quantopian.com/posts/alphalens-a-new-tool-for-analyzing-alpha-factors' property='og:url'>
<meta content='https://media.quantopian.com/public/og-image-default.png' property='og:image'>
<meta content='Alphalens - a new tool for analyzing alpha factors' property='og:title'>
<meta content='Alphalens is a Python package for performance analysis of alpha factors which can be used to create cross-sectional equity algos.  Alpha factors express a predictive relationship between some given set of information and future returns.  By applying this relationship to multiple stocks we can hope to generate an alpha signal and trade off of it. Developing a good alpha signal is challenging; so where can we (Quantopian) make things easier, and where do you (the quant) add the most value? We...' property='og:description'>
</head>
<script type='application/ld+json'>
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "url": "https://www.quantopian.com",
    "logo": "https://media.quantopian.com/logos/logo-q-press-red.png"
  }
</script>
<body class='' ontouchstart=''>
<div id='fb-root'></div>
<div class='wrapper'>
<div class='alert-v2 error'>
<div class='message'>
Quantopian's community platform is shutting down. Please read <a href="/posts/quantopians-community-services-are-closing">this post</a> for more information and <a href='/account#account'>download your code</a>.
</div>
</div>
<div class='navbar navbar-default navbar-static-top' id='app-navbar'>
<div class='container-fluid'>
<div class='navbar-header'>
<button class='navbar-toggle collapsed' data-target='#app-navbar-collapse' data-toggle='collapse'>
<span class='icon hamburger-menu'></span>
</button>
<a class='navbar-brand' href='/home'>
<img class='logo-image async-image' data-src='external/logo-q-white-b141ea6018546e5a4ecc3d10d8440ec076fc4385764e948b322828cc70950a76.svg'>
</a>
</div>
<div class='collapse navbar-collapse' id='app-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li class='dropdown quanto-dropdown-new'>
<li>
<a class='header' href='/docs'>
Documentation
</a>
</li>
<li class='dropdown quanto-dropdown-new'>
<a class='header' data-toggle='dropdown' href='#'>
Learn
</a>
<ul class='dropdown-menu'>
<li>
<a class='mixpanel-button' data-event='main nav getting started clicked' href='/tutorials/getting-started'>Getting Started</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav tutorials clicked' href='/tutorials'>Tutorials</a>
</li>
<li>
<a class='mixpanel-button' data-event='main nav lectures clicked' href='/lectures'>Lectures</a>
</li>
</ul>
</li>
<li>
<a class='header' href='/posts' id='forum-link'>
Forum
</a>
</li>
<li>
<a class="header" href="/signin?return_to=/posts/alphalens-a-new-tool-for-analyzing-alpha-factors">Log In</a>
</li>
</li>

</ul>
</div>
</div>
</div>
<script>
  $(document).ready(function () {
    quanto.instances.fm = new quanto.FeedbackManager();
    quanto.instances.hm = new quanto.headerManager();
  })
</script>


<div class='content content-area new-style'>
<input type="hidden" name="page-id" id="page-id" value="postatomic" />
<script src="external/MathJax.js?config=TeX-AMS_HTML-full.js,Safe" async="async"></script>
<div class='container page-container post-atomic'>
<input id='parent-post-id-val' type='hidden' value='57ade3b8c6133d6bb4000215'>
<div class='post-container' data-post-id='57ade3b8c6133d6bb4000215' id='57ade3b8c6133d6bb4000215'>
<div class='back-button back-to-community'>Back to Community</div>
<div class='post-title'>Alphalens - a new tool for analyzing alpha factors</div>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<span class='posted-at'>edited </span>
<span UTCms='1489455854000' class='quanto-date posted-at'></span>
<div class='pull-right other-actions'>
<div class='dropup inline-block'>
<div class='dropdown share-control other-action-link'>
<div data-toggle='dropdown'>
<div class='share-image'></div>
Share
</div>
<ul class='dropdown-menu share-options-menu'>
<li>
<a class='share-row' href='https://twitter.com/intent/tweet?text=Alphalens - a new tool for analyzing alpha factors&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Falphalens-a-new-tool-for-analyzing-alpha-factors%3Futm_source%3Dwebsite_share%26utm_campaign%3Dalphalens-a-new-tool-for-analyzing-alpha-factors%26utm_medium%3Dtwitter&amp;via=quantopian'>
<i class='icon icon-twitter'></i>
Share on Twitter
</a>
</li>
<li>
<div class='share-row facebook-button'>
<i class='icon icon-facebook'></i>
Share on Facebook
</div>
</li>
<li>
<div class='share-row linkedin-button' data-share-url='https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.quantopian.com%2Fposts%2Falphalens-a-new-tool-for-analyzing-alpha-factors%3Futm_source%3Dwebsite_share%26utm_campaign%3Dalphalens-a-new-tool-for-analyzing-alpha-factors%26utm_medium%3Dlinkedin&amp;title=Alphalens+-+a+new+tool+for+analyzing+alpha+factors+%28James+Christopher%29&amp;source=Quantopian'>
<i class='icon icon-linkedin'></i>
Share on LinkedIn
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>

<div class='tags tag-row'>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Finance Theory' data-tag-id='55c50e7d8d4710ec6e000002' href='/posts/tag/Finance-Theory/newest'>Finance Theory</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Show Q' data-tag-id='55c50e7d8d4710ec6e000010' href='/posts/tag/Show-Q/newest'>Show Q</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Tools and Tips' data-tag-id='55c50e7d8d4710ec6e000011' href='/posts/tag/Tools-and-Tips/newest'>Tools and Tips</a>
<a class='tag mixpanel-button' data-event='tag click' data-mixpanel='Visualization' data-tag-id='56d0b532f8f0e57992000001' href='/posts/tag/Visualization/newest'>Visualization</a>
</div>
<input type="hidden" name="social_fb_post_link" id="social_fb_post_link" value="https://www.quantopian.com/posts/alphalens-a-new-tool-for-analyzing-alpha-factors?utm_source=website_share&amp;utm_campaign=alphalens-a-new-tool-for-analyzing-alpha-factors&amp;utm_medium=facebook" />
<input type="hidden" name="social_post_image" id="social_post_image" value="external/logo-q-red-outline.png" />
<input type="hidden" name="social_post_author" id="social_post_author" value="James Christopher" />
<div class='body-text'>
<div class='body-text-container post-body'><p><img src="https://image-proxy.quantopian.com/f3d567b7d368edba3e4cb9ddac6bc613ba9e6dbf/68747470733a2f2f6d656469612e7175616e746f7069616e2e636f6d2f6c6f676f732f6f70656e5f736f757263652f616c7068616c656e732d6c6f676f2d30332e706e67" /></p>

<p>Alphalens is a Python package for performance analysis of alpha factors which can be used to create cross-sectional equity algos. <strong>Alpha factors express a predictive relationship between some given set of information and future returns.</strong> By applying this relationship to multiple stocks we can hope to generate an alpha signal and trade off of it. Developing a good alpha signal is challenging; so where can we (Quantopian) make things easier, and where do you (the quant) add the most value? We figured that a common set of tools for analyzing alpha factors would have a big impact.</p>

<p>By being able to analyze your factors in Research first you can spend less time writing and running backtests. Consequently, this allows for faster iteration of ideas, and a final algorithm that you can be confident in. <strong>Building a rigorous workflow with Alphalens will make your strategies more robust and less prone to overfitting - things we look for when evaluating algorithms.</strong></p>

<p>We think that workflow looks something like this...</p>

<ol>
<li><strong>Universe Selection:</strong> define the universe of tradeable components; the universe should be broad but have some degree of self similarity to enable extraction of relative value. It should also eliminate hard to trade or prohibited instruments.<br></li>
<li><strong>Single Alpha Factor Modeling:</strong> define and evaluate individual  expressions which rank the cross section of equities in your universe.<br></li>
<li><strong>Alpha Combination:</strong> combine many single alphas into a final alpha which has stronger prediction power than the best single alpha. This is often due to the noise in each alpha being canceled out by noise in other alphas, allowing signal to come through.<br></li>
<li><strong>Risk Model:</strong> define and calculate the set of risk factors you want to use to constrain your portfolio.<br></li>
<li><strong>Portfolio Construction:</strong> implement a process which takes your final combined alpha and your risk model and produces a target portfolio that minimizes risk under your model.<br></li>
<li><strong>Execution:</strong> implement a trading process to transition the current portfolio (if any) to the target portfolio.</li>
</ol>

<p><strong>Alphalens is only one part of this process. It lives in step #2 - Single Alpha Factor Modeling.</strong> The main function of Alphalens is to surface the most relevant statistics and plots about a single alpha factor. This information can tell you if the alpha factor you found is predictive; whether you have found an &quot;edge.&quot; These statistics cover: </p>

<ul>
<li>Returns Analysis<br></li>
<li>Information Coefficient Analysis<br></li>
<li>Turnover Analysis<br></li>
<li>Sector Analysis</li>
</ul>

<p>Using Alphalens in Quantopian Research is pretty simple:</p>

<p><strong>1. Define your pipeline alpha factors</strong></p>

<pre><code>class Momentum(CustomFactor):  
    inputs = [USEquityPricing.close]  
    window_length = 252  
    def compute(self, today, assets, out, close):  
        out[:] = close[-20] / close[0]  
</code></pre>

<p><strong>2. Run your pipeline</strong></p>

<pre><code>alphas = run_pipeline(alpha_pipe, start_date=start, end_date=end)  
</code></pre>

<p><strong>3. Get pricing data</strong></p>

<pre><code>assets = alphas.index.levels[1].unique()  
pricing = get_pricing(assets, start, end + pd.Timedelta(days=30), fields=&quot;open_price&quot;)  
</code></pre>

<p><strong>4. Run the Alphalens factor tear sheet.</strong></p>

<pre><code># Ingest and format data  
factor_data = alphalens.utils.get_clean_factor_and_forward_returns(my_factor,  
                                                                   pricing,  
                                                                   quantiles=5,  
                                                                   groupby=ticker_sector,  
                                                                   groupby_labels=sector_names)

# Run analysis  
alphalens.tears.create_full_tear_sheet(factor_data)  
</code></pre>
<h3 id='strongopen-sourcestrong'><a class='clickable-header-link' href='#strongopen-sourcestrong'><strong>Open source</strong></a></h3>

<p>We think Alphalens fits in nicely with the rest of our open source ecosystem. Anyone in the world is now able to explore their idea with <a href="https://github.com/quantopian/alphalens">Alphalens</a>, backtest their strategy with <a href="http://www.zipline.io">Zipline</a>, and analyze the results with <a href="https://github.com/quantopian/pyfolio">Pyfolio</a>. We wanted to create a product that was platform agnostic, accessible to everyone, and scalable. This is incredibly important because we want anyone who contributes to Alphalens to have ownership over the project. Over the next few months we expect to uncover <a href="https://github.com/quantopian/alphalens/issues">bugs</a> and <a href="https://github.com/quantopian/alphalens/pulls">merge contributions</a>. Alphalens is in its infancy and we can&#39;t wait to see the kind of changes it will go through.</p>

<p>Enjoy,</p>

<p>James and Andrew</p>
<h3 id='strongresourcesstrong'><a class='clickable-header-link' href='#strongresourcesstrong'><strong>Resources</strong></a></h3>

<p>Here are some places to check out too:<br>
- <a href="http://quantopian.github.io/alphalens">Alphalens Docs</a> for an analysis of a professional alpha factor.<br>
- <a href="https://github.com/quantopian/alphalens">Alphalens Github repo</a><br>
- <a href="https://github.com/quantopian/alphalens/blob/master/alphalens/examples/tear_sheet_walk_through.ipynb">Example notebook</a> from the repo to use anywhere</p>
<h3 id='strongget-startedstrong'><a class='clickable-header-link' href='#strongget-startedstrong'><strong>Get Started</strong></a></h3>

<p>Not sure where to start? The <a href="https://www.quantopian.com/tutorials/alphalens">Alphalens tutorial</a> is the best way to try out alphalens for the first time.</p>
</div>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>

</div>

<div class='container page-container post-atomic'>
<div class='section-header reply-header'>
<div class='reply-title'>111 responses</div>
</div>
<div class='replies'>
<div class='post-container response-container' data-post-id='57ade40594815563e9000076' id='57ade40594815563e9000076'>
<a href='#57ade40594815563e9000076'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471013899000' class='quanto-date posted-at response-posted-at' href='#57ade40594815563e9000076'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p><strong>EDIT:</strong> This notebook contains code for an older version of the Alphalens API. Please use the notebook in the original post above.  </p>

<p>For a quick walkthrough on how to read the graphs give this notebook a once over.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57ade7df9c39de124a000244' id='57ade7df9c39de124a000244'>
<a href='#57ade7df9c39de124a000244'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55ed0ebaf7eced2820000138'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/192fde5a5de866362a9e34c096cb8a9b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55ed0ebaf7eced2820000138'>Minh</a>
</div>
<a UTCms='1471014884000' class='quanto-date posted-at response-posted-at' href='#57ade7df9c39de124a000244'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This sounds very useful indeed. It&#39;s a real pain in the butt to backtest over and over to see if a factor has a meaningful return distribution.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57adf2659c39de124a00031a' id='57adf2659c39de124a00031a'>
<a href='#57adf2659c39de124a00031a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56df02deb01b68c69a000029'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/59f2931fa60df006eede490a43d7b998?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56df02deb01b68c69a000029'>Jon Taylor</a>
</div>
<a UTCms='1471017577000' class='quanto-date posted-at response-posted-at' href='#57adf2659c39de124a00031a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>wow. Great tool!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57adf5f7435e2ac708000300' id='57adf5f7435e2ac708000300'>
<a href='#57adf5f7435e2ac708000300'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1471018493000' class='quanto-date posted-at response-posted-at' href='#57adf5f7435e2ac708000300'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi James,</p>

<p>Can this be applied to relatively short-term (e.g. 5 day) mean reversion of prices, using minute bars?  Or is it restricted to the pipeline daily bar data?  I can give it a try using daily data (perhaps by using the full OHLC values), but my algo uses smoothed minutely data, so it would be nice to stay consistent.</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ae01a09c39de124a0003e4' id='57ae01a09c39de124a0003e4'>
<a href='#57ae01a09c39de124a0003e4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471021476000' class='quanto-date posted-at response-posted-at' href='#57ae01a09c39de124a0003e4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Grant,</p>

<p>So when we were designing the package we wanted to make it not specific to Quantopian/Zipline so anyone could feed in any sort of signal. Since we think of a traditional equity alpha factor as something that cross-sectionally ranks a large universe of stocks you could feed into Alphalens any properly formatted data that does that. With that in mind we didn&#39;t explicitly design Alphalens to be compatible with minute level cross sectional rankings but there is nothing in the code that would prohibit that from working. So if you can format your data in a pandas MultiIndex, similar to what you see in the documentation you should have some success.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57ae07afc1c40a32d300005d' id='57ae07afc1c40a32d300005d'>
<a href='#57ae07afc1c40a32d300005d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a6f86f8902a8a1d50001fc'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/00a95443c45a37c66ce010d5c26c58db?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a6f86f8902a8a1d50001fc'>Steve Grayson</a>
</div>
<a UTCms='1471023035000' class='quanto-date posted-at response-posted-at' href='#57ae07afc1c40a32d300005d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>This looks great!</p>

<p>For those of us who can learn by example, any possibility someone could whip up an algo that we can clone (while the world moves in appetency, on its metalled ways)?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ae08c2cabdfb840c000058' id='57ae08c2cabdfb840c000058'>
<a href='#57ae08c2cabdfb840c000058'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471023307000' class='quanto-date posted-at response-posted-at' href='#57ae08c2cabdfb840c000058'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Steve,</p>

<p>Alphalens isn&#39;t designed to be used inside of an algo.  It&#39;s meant as a tool to help you find an &quot;edge&quot; and then you can trade that edge in a normal algo. Alphalens is just one step in the workflow from idea to algo.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57ae136e3f33d6f5070000fe' id='57ae136e3f33d6f5070000fe'>
<a href='#57ae136e3f33d6f5070000fe'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1471026038000' class='quanto-date posted-at response-posted-at' href='#57ae136e3f33d6f5070000fe'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Christopher -</p>

<p>I&#39;ll take a look when I get the chance.  The factor would be the ratio of the mean of a stock&#39;s price to its price (where &quot;price&quot; is a smoothed value).  Basically, the question is, on any timescale, does the mean reversion factor have predictive value.  I suppose you are saying the new tool with some cajoling and interpretation could spit out an answer, yes or no.  I wouldn&#39;t be doing any ranking, just calculating the factor across a universe.  But I suppose I could rank if necessary, although the algo I&#39;ve constructed doesn&#39;t rank.  Would the algo need to use ranking for this tool to make sense?</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ae152dff654cf496000061' id='57ae152dff654cf496000061'>
<a href='#57ae152dff654cf496000061'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471026485000' class='quanto-date posted-at response-posted-at' href='#57ae152dff654cf496000061'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ranking is just an example. In effect you are assigning some value to a given equity that is the result of your alpha expression/calculation (in your case a ratio) and presumably there is some information embedded in that value (like high ratios are going to have higher future returns). Alphalens will look at these values and help you determine if they are predictive and over what time period.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57ae1c384a7ca70a3a00016d' id='57ae1c384a7ca70a3a00016d'>
<a href='#57ae1c384a7ca70a3a00016d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e602a002dd2432b00001d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/706508819421d25d2dfb273421dc6887?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e602a002dd2432b00001d2'>Burrito Dan</a>
</div>
<a UTCms='1471028289000' class='quanto-date posted-at response-posted-at' href='#57ae1c384a7ca70a3a00016d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>James, so what you are saying is that a factor, by definition, is some kind of rank, where the higher ranks predict higher future returns  than the lower ranks. This lens allows us to see how effective that prediction is, and how it performs in different sectors, or once conventional 3-factor or 5-factor alphas are removed?</p>

<p>In other words, have I discovered something new?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ae22273f33d6f5070001ce' id='57ae22273f33d6f5070001ce'>
<a href='#57ae22273f33d6f5070001ce'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471029809000' class='quanto-date posted-at response-posted-at' href='#57ae22273f33d6f5070001ce'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One important point is that each alpha factor can be considered a weakly predictive pricing model. You are not requiring that the model be able to predict future prices (predicting returns is equivalent) with high accuracy or for any given stock. Instead you are requiring that across many stocks and accepting that the model will be noisy, you can generally sort higher performing assets into the top and lower into the bottom. As long as your top quintile is outperforming your bottom quintile, your strategy should be okay (ignoring constraints like slippage and turnover).  The trick is then combining multiple weakly predictive alpha factors by averaging. This averages out some of the noise in each and produces rankings that will more and more consistently split top and bottom performing assets.</p>

<p>You also need to check each new factor you make against existing known factors and factors in your model. This can be done by looking at the correlation between the values or the correlation between the returns produced by the ranked portfolios. If your new factor has signal left over once you&#39;ve regressed the returns against other known factors (positive alpha), then you say that there&#39;s something new your factor brings to the table and add it to your model. You may have to reduce the weights of the factors that are correlated with your new factor to avoid overweighting the components that already exist.</p>

<p>There are other steps to producing a good algorithm, such as portfolio construction and risk management. We are working on lectures touching on all of this and hope to provide examples as well.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57ae2262ff654c6f300000fc' id='57ae2262ff654c6f300000fc'>
<a href='#57ae2262ff654c6f300000fc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1471029867000' class='quanto-date posted-at response-posted-at' href='#57ae2262ff654c6f300000fc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Guess I&#39;ll have to give it a go, but I&#39;m curious how it handles identifying the range of factor values that tend to have predictive power.  For example, for small deviations from the mean price, one might expect reversion, but if things get kicked way out of whack (e.g. bad news for a company) then reversion would not occur.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ae2356cabdfb840c00020e' id='57ae2356cabdfb840c00020e'>
<a href='#57ae2356cabdfb840c00020e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471030109000' class='quanto-date posted-at response-posted-at' href='#57ae2356cabdfb840c00020e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That would be a great thing to check in alphalens. Create a mean reversion factor that rather than strictly ranking something higher the more it is under a past price, has some response curve where after a certain point it starts to penalize it. You could then also combine with another factor intended to capture information about the larger movements, among others.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57ae2874ff654cf4960001a5' id='57ae2874ff654cf4960001a5'>
<a href='#57ae2874ff654cf4960001a5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1471031418000' class='quanto-date posted-at response-posted-at' href='#57ae2874ff654cf4960001a5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Delaney -</p>

<p>I hadn&#39;t considered the idea of a penalty function/response curve, but it would be easy enough to create one.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57ae49699893b6717b0003d6' id='57ae49699893b6717b0003d6'>
<a href='#57ae49699893b6717b0003d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e602a002dd2432b00001d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/706508819421d25d2dfb273421dc6887?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e602a002dd2432b00001d2'>Burrito Dan</a>
</div>
<a UTCms='1471039859000' class='quanto-date posted-at response-posted-at' href='#57ae49699893b6717b0003d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Delaney, most insightful  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57aea093ff654cd260000135' id='57aea093ff654cd260000135'>
<a href='#57aea093ff654cd260000135'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1471062168000' class='quanto-date posted-at response-posted-at' href='#57aea093ff654cd260000135'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Few other things that might be useful to add:</p>

<ul>
<li>How long does the &quot;edge&quot; last or half life of the &quot;edge&quot; (alpha decay) / is the edge logn term or short term or both<br></li>
<li>Evaluate a large number of factors at once and get a rank tear sheets based on a scoring formula<br></li>
<li>Use parts in trading (outside pipeline) and pipeline - If we want ICs or other factors calculated why reinvent the wheel, just import the calculation and use<br></li>
</ul>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57aef754c1c40a5b93000226' id='57aef754c1c40a5b93000226'>
<a href='#57aef754c1c40a5b93000226'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1471084377000' class='quanto-date posted-at response-posted-at' href='#57aef754c1c40a5b93000226'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One suggestion, if possible, would be to generate one or more high-level consolidated figures of merit (the same would apply to the tear sheet).  On your example, <a href="http://quantopian.github.io/alphalens/">http://quantopian.github.io/alphalens/</a>, you have 42 tabulated numbers, followed by lots of charts.  Can it all be summarized, before diving into the details?  It is hard to take in all in with a single glance.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57af00f13f33d6f507000ba0' id='57af00f13f33d6f507000ba0'>
<a href='#57af00f13f33d6f507000ba0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471086840000' class='quanto-date posted-at response-posted-at' href='#57af00f13f33d6f507000ba0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I&#39;m really excited about this tool. It allows you to more clearly separate out and individually analyse the prediction-part of your algorithm. If you don&#39;t have that, no amount of risk-control or good execution will save you. It also is an additional layer of protection against overfitting (less free parameters).</p>

<p>@Suminda:</p>

<blockquote>
<p>How long does the &quot;edge&quot; last or half life of the &quot;edge&quot; (alpha decay) / is the edge logn term or short term or both</p>
</blockquote>

<p>That is what the <code>days</code> keyword argument is for. By default, it shows you the ability to rank over the next day, as well as 5 and 10 days ahead. One would expect that the IC decays the longer into the future you look.</p>

<blockquote>
<p>Evaluate a large number of factors at once and get a rank tear sheets based on a scoring formula</p>
</blockquote>

<p>That&#39;s a good idea, there&#39;s certainly work to be done to analyse multiple factors. Note that you can also combine multiple factors into a single one (as Delaney mentioned) and then analyse that mega-alpha with alphalens.</p>

<blockquote>
<p>Use parts in trading (outside pipeline) and pipeline - If we want ICs or other factors calculated why reinvent the wheel, just import the calculation and use</p>
</blockquote>

<p>Yes, that would be a great feature.</p>

<p>Grant:<br>
If you just want a single number, look at the Information Coefficient (avg rank correlation coefficient), or the Information Ratio (mean(IC) / std(IC) -> Sharpe Ratio). A rough rule of thumb is that an IR of &gt;= .05 is good.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57af02a6ff654cd2600004b3' id='57af02a6ff654cd2600004b3'>
<a href='#57af02a6ff654cd2600004b3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471087275000' class='quanto-date posted-at response-posted-at' href='#57af02a6ff654cd2600004b3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>One more thing, if the context where you would use this tool or the outputs are not clear, it&#39;s safe to just wait a bit for the full release. We are currently preparing materials that will make this all clear and put things in perspective. This pre-release is really just to get some initial feedback and find potential bugs.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57af7180d399597368000069' id='57af7180d399597368000069'>
<a href='#57af7180d399597368000069'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e602a002dd2432b00001d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/706508819421d25d2dfb273421dc6887?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e602a002dd2432b00001d2'>Burrito Dan</a>
</div>
<a UTCms='1471115654000' class='quanto-date posted-at response-posted-at' href='#57af7180d399597368000069'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@James, what is the quintile order that Alphalens expects? I would normally expect quintile 1 to be the best, but your notebook shows quintile 5 performing best for your low vol factor. I also note your forum post defines momentum as past price / latest price, the inverse of convention.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57af739fafedb0bb9b000165' id='57af739fafedb0bb9b000165'>
<a href='#57af739fafedb0bb9b000165'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471116196000' class='quanto-date posted-at response-posted-at' href='#57af739fafedb0bb9b000165'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So there are no baked in assumptions about which quantile the best alpha scores should be in (perhaps smaller values are better, or bigger values are better). That being said bigger values are in the bigger quantiles, that is just the behavior of <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.qcut.html">pandas qcut.</a> I think it makes sense that the larger numbers are in the larger quantile, in the same way that if you are in the 99th percentile you are greater than almost all other values.</p>

<p>I&#39;d also take a look at the <a href="https://www.quantopian.com/lectures#Ranking-Universes-by-Factors">ranking universes by factors lecture</a> for a more in depth explanation of quantiles and how we think about them in the context of alpha factors.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57af9e86d39959ade20002d6' id='57af9e86d39959ade20002d6'>
<a href='#57af9e86d39959ade20002d6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e602a002dd2432b00001d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/706508819421d25d2dfb273421dc6887?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e602a002dd2432b00001d2'>Burrito Dan</a>
</div>
<a UTCms='1471127180000' class='quanto-date posted-at response-posted-at' href='#57af9e86d39959ade20002d6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>But surely you do put some meaning into the quintiles, e.g. in the graphs, like Top minus Bottom, and Factor Weighted Long/Short? Also, the IC is negative if you get your quintiles the wrong way round.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57afa0b6d39959ade20002eb' id='57afa0b6d39959ade20002eb'>
<a href='#57afa0b6d39959ade20002eb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471127740000' class='quanto-date posted-at response-posted-at' href='#57afa0b6d39959ade20002eb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>They&#39;re pretty much all symmetric metrics. In algorithms if you are losing money it&#39;s usually because your strategy&#39;s model has no predictive power and you are losing money on trading costs; therefore you can&#39;t just invert the sign on the trades. Alpha factors aren&#39;t like that, because they&#39;re just predictive rankings that ignore trading costs, you can just invert them if they&#39;re negative or rank one way versus the other. As long as your IC is consistently greater or lower than zero (but not both), then that&#39;s fine.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57afa153a16c19d8900003ab' id='57afa153a16c19d8900003ab'>
<a href='#57afa153a16c19d8900003ab'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471127897000' class='quanto-date posted-at response-posted-at' href='#57afa153a16c19d8900003ab'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah that is true, but it still provides you information about the factor. It is easy enough to transform your factor so that larger scores are the better scores. For example, say you had some factor where smaller values are better, and you could multiply your entire factor by -1, feed it back into Alphalens. In the end what we are trying to do is extract some meaningful information about the quality of the alpha signal, that it differentiates between winners and losers. The natural extension of that is to think about the two extremes i.e. top and bottom quantiles.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57b05b78d69844d79f000943' id='57b05b78d69844d79f000943'>
<a href='#57b05b78d69844d79f000943'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1471175551000' class='quanto-date posted-at response-posted-at' href='#57b05b78d69844d79f000943'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Does the tool somehow compensate for gaps in trading?  For example, every week, the market is closed for at least two days straight over the weekend (sometimes 3 if there is a long holiday weekend).  Does it ignore gaps and treat the data as if it were sampled uniformly in time (i.e. equi-spaced)?  Or does it somehow interpolate, so that the data are uniform (i.e. do you simulate trades overnight/over the weekend)?  If you interpolate, is it linear interpolation?  Or polynomial?</p>

<p>Also, will the docs eventually explain what you are doing mathematically/statistically?  What is an information coefficient in this context and why should I care?  And why do I keep hearing the term <em>rank</em>?  In my field (physical science/engineering), it is unusual to do analyses by ranking.  More generally, is there anything &quot;new under the sun&quot; here?  Or is it the same workflow and toolbox that has been used by quants forever (no criticism--gotta start somewhere--but it just means that Q quants won&#39;t have any fundamental advantage based on the workflow/tools).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b0b13ed39959ade2000be4' id='57b0b13ed39959ade2000be4'>
<a href='#57b0b13ed39959ade2000be4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471197507000' class='quanto-date posted-at response-posted-at' href='#57b0b13ed39959ade2000be4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Generally most data on the Quantopian platform only is available for tradeable days. This may change as we implement instruments like futures which change 24/7, but as of right now it uses pricing data pulled from the <code>get_pricing</code> function, which will treat non-trading days as if they never happened.</p>

<p>Our lectures will explain why information coefficient is used as the main deciding factor. There is already a lecture on Spearman Rank Correlation, which when applied to current alpha factor values and future returns is referred to as the Information Coefficient.</p>

<p><a href="https://www.quantopian.com/lectures#Spearman-Rank-Correlation">https://www.quantopian.com/lectures#Spearman-Rank-Correlation</a></p>

<p>Additionally, the reason ranks are used to determine whether a predictive relationship exists between your current alpha factor values and future returns is the noisiness of financial data. In other disciplines such as physics, processes tend to be better behaved, more replicable, and have lower variance. As such the statistics taught in those disciplines do not really account for the types of conditions present in financial data. These conditions include non-stationarity, strange distributions, fat tails, and generally a lot of autocorrelation complexity and irrationality induced by human behavior. Taking the rank of a series of values rather than simply the raw series allows you avoid a lot of issues that would confuse normal correlation. You are looking at the data through a simpler lens and asking whether there exists a general relationship, and this can avoid issues like outliers. There is more information in the lecture.</p>

<p>As far as toolbox, in my experience traveling and talking to many folks, I&#39;m pretty confident that alphalens falls in the top 10% of tools available at Quant funds. Many don&#39;t even have something like alphalens collected in one place, and will have various parts spread out among various teams. I would say that having alphalens as a complete and open-sourced package actually does give us an advantage over most quant firms, many of which underestimate how much being open sourced can add the quality of a piece of software.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57b156f8ca92cca97a000683' id='57b156f8ca92cca97a000683'>
<a href='#57b156f8ca92cca97a000683'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471239937000' class='quanto-date posted-at response-posted-at' href='#57b156f8ca92cca97a000683'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>In addition to Delaney&#39;s important points on robustness, it turns out that often enough it&#39;s good enough to be able to rank stocks. For example, if you long the top 10% and short the bottom 10% and you got the ordering correct, you will turn a profit irrespective of what the overall market does (e.g. they could all go down, just the top 10% not as much as the bottom 10%). Here, we&#39;re more concerned with relative performance, rather than absolute, hence the rank statistics.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57b1a5b86ac2f3a9ce000074' id='57b1a5b86ac2f3a9ce000074'>
<a href='#57b1a5b86ac2f3a9ce000074'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1471260093000' class='quanto-date posted-at response-posted-at' href='#57b1a5b86ac2f3a9ce000074'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I did a quick read through:</p>

<p><a href="https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient">https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient</a></p>

<p>I suppose you are ranking factors and returns, and then applying the Spearman&#39;s rank correlation?  If I understand correctly, you are measuring the degree of monotonicity in the functional relationship between a given factor (x) and the returns it generates (y) on various timescales?</p>

<p>I&#39;m not sure treating non-trading days (and overnight market closures) as if they never happened is o.k.  You have unequally spaced data in time, with relatively large gaps.  Your approach probably needs to be justified.  Stuff happens when the market is closed, and the longer it is closed, the more stuff can happen.  Making a forecast on Friday for a Monday open is different than making a forecast on Monday for a Tuesday open, for example.  And there tend to be larger jumps overnight because of corporate announcements, etc. than within the trading day.</p>

<p>It&#39;d be great to see some examples on minute bars (perhaps smoothed and then decimated).  How would one specify the time of day at which to compute returns?  Say I wanted to trade at 10:30 am every day?  Or every Tuesday?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b1cb166ac2f357490001e1' id='57b1cb166ac2f357490001e1'>
<a href='#57b1cb166ac2f357490001e1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471269665000' class='quanto-date posted-at response-posted-at' href='#57b1cb166ac2f357490001e1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>You&#39;re understanding of the IC is correct, basically &quot;how correlated were my predictions with what actually happened?&quot;</p>

<p>So this is actually an area that we spent some time thinking about. You&#39;ll note that in the examples we feed in open prices instead of close, we did this for a reason: basically the concerns you voiced above. We had to make an assumption about when a prediction is made and we decided that predictions are made as close as possible to the future behavior they are going to model, and that when they are made they incorporate all relevant information. So by feeding in the opening price we can get the earliest value to when the prediction was made and analyze the alpha decay from there. Alphalens makes no assumptions as to the implementation of the alpha factor, so it will look at a 5 day prediction made on Tuesday in the same manner as a 5 day prediction made on Monday. When we were writing Alphalens we were thinking in the daily timeframe, so this is a place we could probably make the package more robust. In addition I think the <code>days</code> parameter is a misnomer, this should be changed to <code>periods</code>. Here is the <a href="https://github.com/quantopian/alphalens/issues/62">issue, #62.</a> You should be able to feed in a signal that is generated only on Mondays (for example), and look at its performance N periods out. </p>

<p>In regards to your last point I&#39;d say that Alphalens is trying to decouple the signal generation and prediction step away from the execution step. If your algorithm&#39;s performance is extremely sensitive on time of day and execution then Alphalens probably isn&#39;t the right tool to be using.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57b2fd8db6419e2dab0002ae' id='57b2fd8db6419e2dab0002ae'>
<a href='#57b2fd8db6419e2dab0002ae'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1471348116000' class='quanto-date posted-at response-posted-at' href='#57b2fd8db6419e2dab0002ae'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi James,</p>

<p>I skimmed over some of the code on github, and it appears that you are geared toward daily bars exclusively.  Although perhaps an elegant match with pipeline (which only works in daily bars...I never quite understood that decision), my sense is that you are dealing with noisy and limited input data, and as a result, effectively pushing the trading timescale way out.  Firstly, my understanding is that your database of daily OHLC bars are values from <em>single</em> trade events, so there will be a lot more noise than is necessary, compared to data that has been smoothed on a timescale relevant to the intended trading frequency.  Also, you end up computing statistics on very small sample sizes.  It seems you&#39;d want to be sampling in time, with at least 30 samples, if not more, for each lag.  For example, if I&#39;m interested in a 1-day lag, then I would sample 30 prices, and look at the returns at 30 times the next day, each lagged by 390 minutes.  Similarly for 5- &amp; 10-day lags.  Alternatively, I could smooth the data and sample once (but then you lose the sampling statistics).  Using a single value, such as the opening price doesn&#39;t seem like the right approach (especially when you have the minute data!).</p>

<p>Unless you want the whole workflow geared around low-frequency trading (weekly?/monthly/quarterly), my sense is that you need to have a path to work with the nice minute bar data you support.  For pipeline, maybe you could support user-defined input data, e.g. smoothed at the minute-level and then decimated down to daily frequency, to keep compatibility with your basic engine?</p>

<p>Or maybe it all works like charm using daily bars, and single trade event data?  I ain&#39;t no expert.  What do your experts say?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b49f98d9f2bd427f00111a' id='57b49f98d9f2bd427f00111a'>
<a href='#57b49f98d9f2bd427f00111a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57727e3ccc4c9fb542000663'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2994f22469efb05e3a4645a031aa882?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57727e3ccc4c9fb542000663'>Matthew Field</a>
</div>
<a UTCms='1471455134000' class='quanto-date posted-at response-posted-at' href='#57b49f98d9f2bd427f00111a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@James<br>
Looks very interesting. It worked with the time periods you have, but when I tried setting this up for a longer time period (starting 2005-01-01) , and execute the run_pipeline() cell:</p>

<p>Note, I also set &quot;universe = AverageDollarVolume(window_length=20) &gt; 10**7&quot; which probably causes a lot more data.</p>

<pre><code>
Traceback (most recent call last):  
  File &quot;/usr/local/lib/python2.7/dist-packages/gevent/greenlet.py&quot;, line 327, in run  
    result = self._run(*self.args, **self.kwargs)  
  File &quot;/build/src/qexec_repo/qexec/algo/fundamentals/loaders.py&quot;, line 59, in query_for_cols  
    mask,  
  File &quot;/build/src/qexec_repo/qcommons_repo/qcommons/db.py&quot;, line 53, in retryer  
    return func(*args, **kwargs)  
  File &quot;/build/src/qexec_repo/qexec/algo/fundamentals/loaders.py&quot;, line 114, in query_for_array  
    ALGO_DATE_COL_NAME,  
  File &quot;/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py&quot;, line 147, in __exit__  
    self.close()  
  File &quot;/usr/local/lib/python2.7/dist-packages/sqlalchemy/engine/base.py&quot;, line 826, in close  
    conn.close()  
  File &quot;/usr/local/lib/python2.7/dist-packages/sqlalchemy/pool.py&quot;, line 882, in close  
    self._checkin()  
  File &quot;/usr/local/lib/python2.7/dist-packages/sqlalchemy/pool.py&quot;, line 758, in _checkin  
    self._pool, None, self._echo, fairy=self)  
  File &quot;/usr/local/lib/python2.7/dist-packages/sqlalchemy/pool.py&quot;, line 645, in _finalize_fairy  
    connection_record.invalidate(e=e)  
  File &quot;/usr/local/lib/python2.7/dist-packages/sqlalchemy/pool.py&quot;, line 542, in invalidate  
    self.__pool.dispatch.invalidate(self.connection, self, e)  
  File &quot;/usr/local/lib/python2.7/dist-packages/sqlalchemy/event/attr.py&quot;, line 256, in __call__  
    fn(*args, **kw)  
  File &quot;/build/src/qexec_repo/qexec/db.py&quot;, line 135, in receive_invalidate  
    dbapi_connection.get_backend_pid())  
InterfaceError: connection already closed  
&lt;Greenlet at 0x7efdb25a0f50: query_for_cols(([valuation_ratios.fcf_yield::float64], [asset_cla)&gt; failed with InterfaceError  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b4a6afa6c246e7220010e9' id='57b4a6afa6c246e7220010e9'>
<a href='#57b4a6afa6c246e7220010e9'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5739d98eac0bc36c830006a7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/7137ded4f56c6f117bb05fec73f2cf60?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5739d98eac0bc36c830006a7'>Nathan Wolfe</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471456949000' class='quanto-date posted-at response-posted-at' href='#57b4a6afa6c246e7220010e9'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Matthew: This error can occur when your Pipeline takes too long to run, so it&#39;s normal that you would see it if you increase the timespan and universe size. It&#39;s possible to get around this timeout by splitting up your Pipeline timespan into shorter spans, using <code>run_pipeline</code> for each shorter span, and concatenating the results.  </p>
</div>
<div class='disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57b4bb6aa6c246f746001047' id='57b4bb6aa6c246f746001047'>
<a href='#57b4bb6aa6c246f746001047'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57727e3ccc4c9fb542000663'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2994f22469efb05e3a4645a031aa882?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57727e3ccc4c9fb542000663'>Matthew Field</a>
</div>
<a UTCms='1471462257000' class='quanto-date posted-at response-posted-at' href='#57b4bb6aa6c246f746001047'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Nathan Thanks! If anyone else hits the same thing, this seems to work:</p>

<pre><code>results = [run_pipeline(pipeline, &#39;%s-01-01&#39; % year, &#39;%s-12-31&#39; % year) for year in range(2005,2016)]  
results.append(run_pipeline(pipeline, &#39;2016-01-01&#39;, &#39;2016-06-30&#39;))  
results = pd.concat(results).fillna(value=0.)  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b4c5ce344950692a00131e' id='57b4c5ce344950692a00131e'>
<a href='#57b4c5ce344950692a00131e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/55e602a002dd2432b00001d2'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/706508819421d25d2dfb273421dc6887?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/55e602a002dd2432b00001d2'>Burrito Dan</a>
</div>
<a UTCms='1471464919000' class='quanto-date posted-at response-posted-at' href='#57b4c5ce344950692a00131e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Very pythonic!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b546855eda0f457600045b' id='57b546855eda0f457600045b'>
<a href='#57b546855eda0f457600045b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1471497868000' class='quanto-date posted-at response-posted-at' href='#57b546855eda0f457600045b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Matthew I am not sure if above will work if you have a window length &gt; 1. You need to carefully work out the overlap otherwise the 2nd period start after an interval. If say length we are looking is 1 month every slice will approximately missing 1 month of results from the start of the slice.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b54751d08fe4e2910003db' id='57b54751d08fe4e2910003db'>
<a href='#57b54751d08fe4e2910003db'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1471498071000' class='quanto-date posted-at response-posted-at' href='#57b54751d08fe4e2910003db'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Also let&#39;s request Q to fix these pipeline timeout issues and general slowness dealing with historic fundamental pipelines.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b59ba8d08fe4a5d4000786' id='57b59ba8d08fe4a5d4000786'>
<a href='#57b59ba8d08fe4a5d4000786'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1471519661000' class='quanto-date posted-at response-posted-at' href='#57b59ba8d08fe4a5d4000786'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi James -</p>

<p>Any feedback on the trading timescale?  It seems that before you get too far into this thing, you&#39;d better understand the timescale the workflow will support.  Intuitively, it seems you are undersampling for anything more frequent than trading every week, at an absolute maximum frequency, but monthly is more like it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b59d61cb1ab3218b000558' id='57b59d61cb1ab3218b000558'>
<a href='#57b59d61cb1ab3218b000558'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471520106000' class='quanto-date posted-at response-posted-at' href='#57b59d61cb1ab3218b000558'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Grant, James actually had a great insight in response to your question. Alphalens is completely agnostic to the time-scale of the data you pass in. Thus, if you pass in minutely factors and minutely returns, you can specify <code>days=(1, 5, 10)</code> and it will compute the predictiveness over the next 1, 5 and 10 minutes. That&#39;s why <code>days</code> is a bit of misnomer and should be <code>periods</code>. Of course, pipeline still only works with daily frequency.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57b5a6e5cb1ab3e6ac00097a' id='57b5a6e5cb1ab3e6ac00097a'>
<a href='#57b5a6e5cb1ab3e6ac00097a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57727e3ccc4c9fb542000663'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2994f22469efb05e3a4645a031aa882?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57727e3ccc4c9fb542000663'>Matthew Field</a>
</div>
<a UTCms='1471522543000' class='quanto-date posted-at response-posted-at' href='#57b5a6e5cb1ab3e6ac00097a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@suminda : I&#39;d think get_pipeline should fix that automatically for you (by back-adjusting the start date for the window size), though maybe it doesn&#39;t right now? Else you&#39;ll have misleading results even with one call.</p>

<p>It turns out that get_pricing is also flaky - I have been getting a lot of &quot;your kernel died&quot; errors.<br>
I tried breaking that up by years too, but it doesn&#39;t seem to help. I suspect the dataframe is just too large.<br>
However, that makes the framework difficult to use in practice - studying an alpha factor over a short timeframe doesn&#39;t seem great.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b5abad21c27ebc8d0008c6' id='57b5abad21c27ebc8d0008c6'>
<a href='#57b5abad21c27ebc8d0008c6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1471523763000' class='quanto-date posted-at response-posted-at' href='#57b5abad21c27ebc8d0008c6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I think you misunderstood what I said.</p>

<pre><code>results = [run_pipeline(pipeline, &#39;%s-01-01&#39; % year, &#39;%s-12-31&#39; % year) for year in range(2005,2016)]  
</code></pre>

<p>If you split like this and use factors with lookback / windows, for the 1st part of the window you do not have data. So the calculation starts when the window is full.</p>

<p>So it should be something like:</p>

<pre><code>results.append(run_pipeline(pipeline, &#39;2010-12-01&#39;, &#39;2011-12-31&#39;))  
results.append(run_pipeline(pipeline, &#39;2011-12-01&#39;, &#39;2012-12-31&#39;))  
</code></pre>

<p>The actual start date corresponds to the number of trading days is the look back window beyond the cut off data (Dec 31) otherwise you do not have a full window for the factor calculations.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b5ad8321c27e7e45000890' id='57b5ad8321c27e7e45000890'>
<a href='#57b5ad8321c27e7e45000890'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/57727e3ccc4c9fb542000663'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2994f22469efb05e3a4645a031aa882?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/57727e3ccc4c9fb542000663'>Matthew Field</a>
</div>
<a UTCms='1471524233000' class='quanto-date posted-at response-posted-at' href='#57b5ad8321c27e7e45000890'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@suminda, I&#39;m just saying that run_pipeline should use the passed start_date - window_size as its effective start date internally (if it doesn&#39;t already) so we don&#39;t have to compensate manually for this. That&#39;d be much more intuitive, I think.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b5adb19125a93129000407' id='57b5adb19125a93129000407'>
<a href='#57b5adb19125a93129000407'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1471524281000' class='quanto-date posted-at response-posted-at' href='#57b5adb19125a93129000407'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Thomas,</p>

<p>Yes, I realize that there is a github issue to work in periods.  I guess I was thinking more in terms of the overall workflow paradigm.  The universe selection would seem to be a good fit for pipeline, but then for factor analyses, it seems like one would want some combination of pipeline (which presumably will remain a daily-bar tool) and trade data and factors at the minute level (or maybe minutely smoothed and then decimated).  Otherwise, I think a basic Nyquist argument can be applied that you&#39;ll be under-sampling for trading at a daily frequency; a rule of thumb is that one would like a minimum of 10 samples per period (the Q data supports 390 per day--actually a bit more, since it is OHLC data).  So, I&#39;m wondering if an example could be cooked up that starts with pipeline as a rough filter, then pulls minutely data (e.g. 20 days x 390 minutes per day), and runs the alphalens back to 2002, to see if it works at the minute level?  This might give some insight into developing the alphalens tool for application to minute bars.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b5b2879125a93129000450' id='57b5b2879125a93129000450'>
<a href='#57b5b2879125a93129000450'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/514a23ed46a2329dd8000027'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/f292ab7887c2e8698d013b40e1718e8b?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/514a23ed46a2329dd8000027'>Suminda Dharmasena</a>
</div>
<a UTCms='1471525517000' class='quanto-date posted-at response-posted-at' href='#57b5b2879125a93129000450'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>If that  is happening then the it would be a bonus for splitting, but having said this we should be able to use the library without workarounds with normal pipelines. Since pipeline can essentially look across all assets and long histories with even many factors and filter the system should be capable of handling this optimising data access and calculation internally.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b5c3f55eda0ff1de000a71' id='57b5c3f55eda0ff1de000a71'>
<a href='#57b5c3f55eda0ff1de000a71'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51c3d7720370c4e936000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/61c13d5fba63436a09e6379853218d6a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51c3d7720370c4e936000001'>Abraham Kohen</a>
</div>
<a UTCms='1471529978000' class='quanto-date posted-at response-posted-at' href='#57b5c3f55eda0ff1de000a71'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>What&#39;s a &quot;tear sheet?&quot;</p>

<p>That &quot;days=(1,5,10)&quot; through me for a loop, until I sifted through the comments.</p>

<p>Very interesting stuff. Takes time to digest.  </p>

<p>Recommend reading Grinold &amp; Kahn, &quot;Active Portfolio Management.&quot;  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b5fee321c27e7e45000d13' id='57b5fee321c27e7e45000d13'>
<a href='#57b5fee321c27e7e45000d13'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471545069000' class='quanto-date posted-at response-posted-at' href='#57b5fee321c27e7e45000d13'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Grant here is a notebook i just cooked up that calculates a minutely moving average ratio as the factor. While the nomenclature is off, as well as a few of the plots that do some downsampling,  Alphalens is still able to handle a factor that is calculated at a different frequency without error. I think that speaks more to the workflow on the side of generating and formatting the alpha signal vs the package itself.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57b5ffce9125a99a72000099' id='57b5ffce9125a99a72000099'>
<a href='#57b5ffce9125a99a72000099'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471545300000' class='quanto-date posted-at response-posted-at' href='#57b5ffce9125a99a72000099'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Abraham Kohen</p>

<p>&quot;Tear sheet&quot; is what we term the collection of stats and graphs Alphalens outputs.</p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57b6dba310ffe0bd5e0000ec' id='57b6dba310ffe0bd5e0000ec'>
<a href='#57b6dba310ffe0bd5e0000ec'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1471601579000' class='quanto-date posted-at response-posted-at' href='#57b6dba310ffe0bd5e0000ec'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>James, alphalens is a very good  improvement to the already great factor tear sheet. Well done! I&#39;d like to make some suggestions and I would really appreciate your opinion. </p>

<ul>
<li><p>Regarding &#39;Factor Weighted Long/Short Portfolio Cumulative Return&#39; and &#39;Cumulative Return by Quantile&#39; plots. Only the 1 day forward returns graph is plotted. I expected to see plots for each day/period passed to create_factor_tear_sheet (&#39;days&#39; argument) .<br>
I might have a factor that shows alpha only after X or Y days and I might not be interested to see 1 day forward returns plots, so I would pass days = (X, Y) to create_factor_tear_sheet and I would expect to see the plots for X and Y forward returns. At least it would be nice to have this feature as an option if not the default behaviour.</p></li>
<li><p>Regarding &#39;Top and Bottom Quantile Daily Turnover&#39; plot. It would be great to have an option to plot the turnover for all quantiles (in a separate plot maybe). More important, the plot shows only the daily turnover, but It would be more interesting to plot the turnover after X days, for each X in &#39;days&#39; (the create_factor_tear_sheet&#39;s argument). This suggested behaviour is a superset of the current one because a user can add &#39;1&#39; to &#39;days&#39; argument to get the current behaviour.</p></li>
<li><p>Regarding  &#39;Factor Rank Autocorrelation&#39; plots. As above, the plot shows daily autocorrelation, but It would be more interesting to plot the autocorrelation after X days, for each X in &#39;days&#39; (the create_factor_tear_sheet&#39;s argument).</p></li>
<li><p>The choice of what forward days to analyse with create_factor_tear_sheet is somehow arbitrary in my opinion. I had the same problem when I used the factor tear sheet (by Andrew Campbell).  For this reason I created a function that plots the average cumulative return  of each quantile, with standard deviation, over a configurable period of time (this is very similar to the plot you get when running an event study). That helped me understanding the average performance of each quantile and to decide what days should I investigate with the tear sheet.<br>
Do you think something like this would be worth to be merged to the project ( I don&#39;t want to waste time creating pull request for something that is not going to be merged) ? </p></li>
</ul>

<p>Thank you for this very much needed tool.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b6fa583553a6b56e000744' id='57b6fa583553a6b56e000744'>
<a href='#57b6fa583553a6b56e000744'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1471609437000' class='quanto-date posted-at response-posted-at' href='#57b6fa583553a6b56e000744'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi James -</p>

<p>In your minutely bar example above, you use:</p>

<pre><code>simulation_data = get_pricing(universe.columns,  
                              start_date=&quot;2016-01-04&quot;,  
                              end_date=&quot;2016-03-04&quot;,  
                              frequency=&quot;minute&quot;,  
                              fields=&quot;price&quot;)

</code></pre>

<p>Does this imply that to run alphalens back to 2002, one would need to pull minute bar data across all securities in the universe for the whole time period?  And how does it handle changes in the universe versus time (i.e. drops/adds)?  For the algo I&#39;ve been working on, presently, it re-balances once per week and uses a trailing window of 5x390 minutely closing prices to compute the factor used for long-short forcasting, and I typically run backtests starting in 2002.</p>

<p>Probably, I could create a loop, pull data weekly, smooth, compute the factor at a fixed time each day, and decimate, so that the dataset input to alphalens is manageable.</p>

<p>Sorry, kinda sketchy I know...just starting to sort out how I would use the tool.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57b708a95e49084c7a000ca0' id='57b708a95e49084c7a000ca0'>
<a href='#57b708a95e49084c7a000ca0'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471613109000' class='quanto-date posted-at response-posted-at' href='#57b708a95e49084c7a000ca0'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Luca</p>

<p>For the sake of the open sourcey-ness of the project can you create an <a href="https://github.com/quantopian/alphalens/issues">issue</a>  in the public repo, I just don&#39;t want other potential contributors to fee like they need to be Quantopian members to stay in the loop. Also there are a couple of your ideas above that I&#39;m particularly jazzed about and just don&#39;t want to clutter the thread.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57b71a8c76a626d3940008f4' id='57b71a8c76a626d3940008f4'>
<a href='#57b71a8c76a626d3940008f4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471617682000' class='quanto-date posted-at response-posted-at' href='#57b71a8c76a626d3940008f4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Yeah Grant you&#39;ll probably have to be a little creative with how you create the signal, as pulling in all of that minute data would be burdensome. I think you probably have the right idea - just iteratively generate your factor values weekly and then append to some signal variable. You should have success with passing it into Alphalens though at a weekly frequency. Also know that you can access each of the Alphalens plots and performance computations individually so you have much finer tuning of parameters/resampling and alike. And to answer your question about how it handles changing universe, the answer is pretty simple: if we can&#39;t calculate forward returns for a security we just remove it from that specific sample.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57b85328aa744bebea0006b1' id='57b85328aa744bebea0006b1'>
<a href='#57b85328aa744bebea0006b1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1471697709000' class='quanto-date posted-at response-posted-at' href='#57b85328aa744bebea0006b1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi James,</p>

<p>You might consider how to support minute bars natively within alphalens, given that the trading platform is minutely.  There is a kind of signal conditioning/smoothing/filtering/decimation problem that I think most users will need to tackle (unless they are happy working with daily OHLCV data).  This is the general point I&#39;m trying to make.  It is a bit more than simply switching from &#39;days&#39; to &#39;periods&#39; in your code.  Above, you say &quot;Define your pipeline alpha factors&quot; and I&#39;m suggesting that because pipeline only works on daily bars, users will need tools and guidance on how to work with minutely data over as many market cycles as the data will support (currently back to 2002).  This doesn&#39;t mean that trading would be be every minute, but rather daily to weekly, which I think is consistent with the style of trading you are looking to support for the fund.  Am I off-base thinking that one should be working with minute bars for daily/weekly trading?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57bca164a5ba57952900019c' id='57bca164a5ba57952900019c'>
<a href='#57bca164a5ba57952900019c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1471979882000' class='quanto-date posted-at response-posted-at' href='#57bca164a5ba57952900019c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>yeah I totally understand what you&#39;re saying, in fact just over the past week as we&#39;ve been able to get Alphalens in front of our friends, and other friendly companies I&#39;ve been able to see that flexibility in default frequency and implementation details (like over weekends, or even overnight) is something we need to think about. </p>

<p>And to answer your last question in a way that probably won&#39;t be satisfying I&#39;d say use the frequency of data that creates the best model.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57bd78a694cdbaf389000619' id='57bd78a694cdbaf389000619'>
<a href='#57bd78a694cdbaf389000619'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1472034987000' class='quanto-date posted-at response-posted-at' href='#57bd78a694cdbaf389000619'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>James -</p>

<p>It would be interesting if you could share the feedback from others here.  What have they said?</p>

<p>Regarding the frequency of data, I&#39;d reiterate that using market data from a limited number of single trades may not be the best approach (in fact, it would only seem to apply to high-frequency trading, which Q does not support).  It&#39;d be interesting to hear from others, but if you&#39;re thinking is that pipeline will ideally natively support daily/weekly trading, without augmenting it with minutely data, I&#39;d do a head-scratch.  Do you have access to the Point72 folks?  What are they doing for their long-short strategy development?  Are they successful with daily bars?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57bdfd7aaf049cdbd8000cad' id='57bdfd7aaf049cdbd8000cad'>
<a href='#57bdfd7aaf049cdbd8000cad'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1472068999000' class='quanto-date posted-at response-posted-at' href='#57bdfd7aaf049cdbd8000cad'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>It has actually been incredibly validating. The folks we have talked to so far  have actually developed similar pieces of software in house. Overall they&#39;ve been fairly impressed with the product we&#39;ve been able to build in such a short amount of time. Alphalens has most of the features they have in their products (in one case the defaults <code>days=(1,5,10)</code> were the same!) </p>

<p>A few of the noticeable features they have in their products, are trailing twelve months performance, they would like the ability to down-sample to 1mo, 3mo, 6mo, more flexible grouping, quick similarity comparison with other well know factors and dynamic universe selection. Those last two are a little harder to implement as they require the backing of data, and since we are trying to make Alphalens useable by anyone it&#39;s not likely those will enter the development queue.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57c18733bfaa797da400071e' id='57c18733bfaa797da400071e'>
<a href='#57c18733bfaa797da400071e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1472300858000' class='quanto-date posted-at response-posted-at' href='#57c18733bfaa797da400071e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>James -</p>

<p>Good to hear that y&#39;all aren&#39;t off in left field.  It is interesting that folks are also doing their own software development in-house.  Given the size and maturity of the hedge fund industry (and finance in general), I would have thought that there would be a host of software vendors who provide packages.  This is certainly the case in other mature technical disciplines.</p>

<p>What feedback have you gotten on daily versus minutely versus other frequencies?  Bars versus tick data?  Etc.  I&#39;m wondering if my intuition about your apparent focus on daily bars is correct?  Or maybe it is consistent with a kind of slow-motion, trading/investing, long-short, portfolio-management type algos versus day/swing trading styles, and you are wanting slo-mo algos?</p>

<p>Regarding your proposed workflow:</p>

<ol>
<li><strong>Universe Selection:</strong> define the universe of tradeable components; the universe should be broad but have some degree of self similarity to enable extraction of relative value. It should also eliminate hard to trade or prohibited instruments.<br></li>
<li><strong>Single Alpha Factor Modeling:</strong> define and evaluate individual expressions which rank the cross section of equities in your universe.<br></li>
<li><strong>Alpha Combination:</strong> combine many single alphas into a final alpha which has stronger prediction power than the best single alpha. This is often due to the noise in each alpha being canceled out by noise in other alphas, allowing signal to come through.<br></li>
<li><strong>Risk Model:</strong> define and calculate the set of risk factors you want to use to constrain your portfolio.<br></li>
<li><strong>Portfolio Construction:</strong> implement a process which takes your final combined alpha and your risk model and produces a target portfolio that minimizes risk under your model.<br></li>
<li><strong>Execution:</strong> implement a trading process to transition the current portfolio (if any) to the target portfolio.</li>
</ol>

<p>It&#39;d be interesting to have a consolidated discussion regarding the various elements.  We now have your thread, the one presumably corresponding to #1 (<a href="https://www.quantopian.com/posts/the-tradeable500us-is-almost-here">https://www.quantopian.com/posts/the-tradeable500us-is-almost-here</a>), and Jonathan Larkin seems to be chiming in on the topic in his blog post (<a href="http://blog.quantopian.com/the-foundation-of-algo-success/">http://blog.quantopian.com/the-foundation-of-algo-success/</a>).  Is there anybody there heading up the whole thing?  Is he/she interested in engaging users on the topic?</p>

<p>It would seem that the workflow is missing an idea generation step, before step 1.  Before picking a universe and exploring a factor, one needs to know which universe to use, and what factor might work with it and in what fashion.  This is perhaps the most important step, and relates directly to your &quot;Strategic Intent&quot; requirement on <a href="https://www.quantopian.com/fund">https://www.quantopian.com/fund</a>.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c33a2864ff645325000a5b' id='57c33a2864ff645325000a5b'>
<a href='#57c33a2864ff645325000a5b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/51c3d7720370c4e936000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/61c13d5fba63436a09e6379853218d6a?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/51c3d7720370c4e936000001'>Abraham Kohen</a>
</div>
<a UTCms='1472412206000' class='quanto-date posted-at response-posted-at' href='#57c33a2864ff645325000a5b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>&quot;Universe Selection: define the universe of tradeable components; the universe should be broad but have some degree of self similarity to enable extraction of relative value. It should also eliminate hard to trade or prohibited instruments.&quot;</p>

<p>While it is true that sometimes what looks like positive alpha is a manifestation of &quot;hard to trade&quot; as seen in the bid-ask spread, one should not necessarily exclude hard to trade instruments from the universe, as the positive alpha can often exceed the cost of hitting bids / lifting offers.</p>

<p>For relative value trades, for example, in pairs trading, the harder to trade instrument, all else being equal, would be the &quot;driver&quot; of your trade, while the easier to trade instrument would be your &quot;hedger.&quot; The hedger instrument is the one whose &quot;driver&quot; price is contingent upon, and it is the instrument which is transacted immediately after the &quot;driver&quot; is executed.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57c75480b40b1b6450000164' id='57c75480b40b1b6450000164'>
<a href='#57c75480b40b1b6450000164'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1472681094000' class='quanto-date posted-at response-posted-at' href='#57c75480b40b1b6450000164'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Grant</p>

<p><a href="http://blog.quantopian.com/a-professional-quant-equity-workflow/">http://blog.quantopian.com/a-professional-quant-equity-workflow/</a>  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57c75ec6536c2545da0001e8' id='57c75ec6536c2545da0001e8'>
<a href='#57c75ec6536c2545da0001e8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1472683725000' class='quanto-date posted-at response-posted-at' href='#57c75ec6536c2545da0001e8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks.  --Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57d3da5af79dc3a9d00003f6' id='57d3da5af79dc3a9d00003f6'>
<a href='#57d3da5af79dc3a9d00003f6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1473501794000' class='quanto-date posted-at response-posted-at' href='#57d3da5af79dc3a9d00003f6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi James -</p>

<p>A question came to me, in the context of the discussion on <a href="https://www.quantopian.com/posts/implementing-and-launching-deep-learning-algo">https://www.quantopian.com/posts/implementing-and-launching-deep-learning-algo</a> .  If I&#39;m understanding correctly, the alpha discovery process, with alphalens being the primary tool, is being approached as a traditional, manual hypothesis-testing approach.  I get an idea, code it up, run it through alphalens, review the results with my eyeballs, and then decide if it is a keeper or if I should throw it back in the lake.  In theory, I could replace myself with a computer that would do a better job, and could look at a gazillion alphas, going back to 2002, mixing and matching all of the Q data.  It could churn away, while I do other things.  Then, once I have some candidates (say N=30 or so), I could then look at each of them, mainly as a quality check, with your alphalens tool.  If they look reasonable, I&#39;d proceed to the next step in the workflow of alpha combination (which, as I understand, would be a step implemented by me, not Quantopian...I can only get paid if I go through the whole process and then wait 6 months for out-of-sample paper trading data).</p>

<p>So my question is, assuming you will be offering some form of automated alpha discovery, should the alphalens tool include the ability to call it as a function, returning some overall figures of merit?  I&#39;m just wondering how it would plug into an automated process for finding alphas?  Or is the idea that users would rely on other resources, as suggested in the blog post:</p>

<blockquote>
<p>Need some ideas? Try a Google search for “equity market anomalies” or, even better, an SSRN search of the same.</p>
</blockquote>

<p>It just seems like I&#39;d put in an awful lot of work to find even a single decent alpha, and still need N more to move onto the next step in the workflow (if I only needed one, then there would be no &quot;Alpha Combination&quot; step).  And Q has a bunch of relevant datasets that could be mined.  Why are you only directing users to a Google search or the open literature (although these approaches could bear fruit, too)?  This traditional path would seem to be uphill, if the goal is for each user to find N alphas, with N &gt;&gt;1.  Or maybe the idea is for users to have 2 &lt;= N &lt; ~5, with lower Sharpe, and Q would then do the combining of algos, to get to N&gt;&gt;1 and a much higher Sharpe?</p>

<p>Cheers,</p>

<p>Grant  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57d6f83d5736b5434500005d' id='57d6f83d5736b5434500005d'>
<a href='#57d6f83d5736b5434500005d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1473706055000' class='quanto-date posted-at response-posted-at' href='#57d6f83d5736b5434500005d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>So I&#39;d argue that no one single number is sufficient to determine that one alpha factor is better than another, you lose a lot of information by doing that (though this could be said about any summary statistic). </p>

<p>I honestly think that having some idea grounded in reason about a market inefficiency or that in some way predicts returns is really wise. Take a look at <a href="https://www.quantopian.com/posts/3-dot-92-sharpe-on-2-dot-8-leverage-with-transaction-costs#57c4b71ac262af0772000101">Pravin&#39;s thread. </a>I think that is a great example of someone finding an idea and trying to implement it. By no means am I saying that data-mining all of the data sets we have available is futile, but I think trying to think about how these data sets interact with each other and how that affects future returns is a much more robust way of developing trading algorithms.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='57dbb8b2764d36703a000049' id='57dbb8b2764d36703a000049'>
<a href='#57dbb8b2764d36703a000049'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1474017468000' class='quanto-date posted-at response-posted-at' href='#57dbb8b2764d36703a000049'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>combine many single alphas into a final alpha which has stronger prediction power than the best single alpha</p>
</blockquote>

<p>To me, <em>many</em> implies N&gt;&gt;1.  And presumably, each factor would need to have a significant degree of statistical independence.  It sounds daunting.  I&#39;m just trying to digest the proposed workflow, and how it might apply to an individual Quantopian user (who might feel overwhelmed and discouraged by the prospect of your N&gt;&gt;1 implication).</p>

<p>If you look at this paper, <em>101 Formulaic Alphas</em>  (<a href="http://papers.ssrn.com/sol3/papers.cfm?abstract_id=2701346">http://papers.ssrn.com/sol3/papers.cfm?abstract_id=2701346</a>) it would seem to bear a lot of similarity to what you are proposing.  The suggestion there is that a relatively large number of factors can be combined, if one can find a set for which each has transient, but significant predictability.  Are y&#39;all still interested in <a href="https://www.quantopian.com/posts/the-101-alphas-project">https://www.quantopian.com/posts/the-101-alphas-project</a>?  If so, how might an individual user derive a large number of alphas, as illustrated in the paper?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57dd251ef1fdce5a7b0007ba' id='57dd251ef1fdce5a7b0007ba'>
<a href='#57dd251ef1fdce5a7b0007ba'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1474110756000' class='quanto-date posted-at response-posted-at' href='#57dd251ef1fdce5a7b0007ba'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Another comment regarding the overall workflow -</p>

<p>Has anyone there at Quantopian written algos that would serve as an existence proof that the workflow, as applied on the Quantopian platform, will work?  In other words, do you have an algo or set of algos that serve to show that if the workflow and associated tools are established, it&#39;ll produce the desired outcome.  It just seems that before putting a lot of work into the whole thing, it would be nice to have some sense if it&#39;ll work.  In particular, there is some vision for a multi-factor (e.g. N ~ 5 or more) pipeline-based algo that would fit in your Q fund.  Does such a thing exist?  Could it be shared?  Funded?</p>

<p>There is a lot of advice dispensed by Quantopian (no doubt much of it sound), but it would lend a lot of credence to it if you showed that you know how to walk-the-walk with some actual, real-money examples.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='57fcbc601064c452c2000ce4' id='57fcbc601064c452c2000ce4'>
<a href='#57fcbc601064c452c2000ce4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573da216fda833664d000aad'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a79e317c4782ce0fb09a383cc60e7def?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573da216fda833664d000aad'>Lionel Ouaknin</a>
</div>
<a UTCms='1476181095000' class='quanto-date posted-at response-posted-at' href='#57fcbc601064c452c2000ce4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>API for alphalens tool has changed. or maybe I&#39;m missing something  </p>

<pre><code>import alphalens


alphalens.tears.create_factor_tear_sheet(factor=results[&#39;factor&#39;],

                                         prices=pricing,

                                         sectors=results[&#39;Sector&#39;],

                                         show_sector_plots=True,

                                         days=(5,10,20),

                                         sector_names=MORNINGSTAR_SECTOR_CODES)

---------------------------------------------------------------------------  
TypeError                                 Traceback (most recent call last)  
&lt;ipython-input-10-052b33a3cb86&gt; in &lt;module&gt;()  
      6                                          show_sector_plots=True,  
      7                                          days=(5,10,20),  
----> 8                                          sector_names=MORNINGSTAR_SECTOR_CODES)

/usr/local/lib/python2.7/dist-packages/alphalens/plotting.pyc in call_w_context(*args, **kwargs)
     41                 # sns.set_style(&quot;whitegrid&quot;)  
     42                 sns.despine(left=True)  
---> 43                 return func(*args, **kwargs)  
     44         else:  
     45             return func(*args, **kwargs)

TypeError: create_factor_tear_sheet() got an unexpected keyword argument &#39;sectors&#39;  
</code></pre>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='580297a2bdefc72d8a000335' id='580297a2bdefc72d8a000335'>
<a href='#580297a2bdefc72d8a000335'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1476564904000' class='quanto-date posted-at response-posted-at' href='#580297a2bdefc72d8a000335'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Correct, a few days ago we shipped a newer version of Alphalens (it now has community contributions!). The API did change a bit, I&#39;ve updated the post with a new notebook.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='58036214b4c82e3db80006d1' id='58036214b4c82e3db80006d1'>
<a href='#58036214b4c82e3db80006d1'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573a484fca30e0fe8c000007'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/53d91c835d819983b5b379ff7ed385f8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573a484fca30e0fe8c000007'>Jonny Langefeld</a>
</div>
<a UTCms='1476616736000' class='quanto-date posted-at response-posted-at' href='#58036214b4c82e3db80006d1'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thank you James et al for this package. It&#39;s an awesome way test a hypothesis of a possible correlation really quickly.<br>
I took Thomas&#39; notebook and put in one factor of Quantopian&#39;s partner data, which I figured should have a really good predictive power.<br>
It&#39;s the <a href="https://www.quantopian.com/data/logitbot/precog_top_100">PreCog Top 100 Securities</a> which forecasts 4 day stock returns and costs $100 a month. So what I expected is that it aligns really good with the 5 day analysis in alphalens. </p>

<p>However it was only okay... Or did I read the results wrong? What do you guys think, is it worth the $100 based on this alphalens analysis? </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5804a634d11a8a6a1f0000ce' id='5804a634d11a8a6a1f0000ce'>
<a href='#5804a634d11a8a6a1f0000ce'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1476699708000' class='quanto-date posted-at response-posted-at' href='#5804a634d11a8a6a1f0000ce'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Jonny, This is great, thanks for running that. I think that factor actually looks pretty good in terms of the stats (5-day annualized information ratio of 4.756 is nothing to sneeze at). Mostly it seems that is carried by the top quintile where the factor is most predictive. Ideally we&#39;d test this over a longer time-period to get more certainty. But yeah, depending on your expectations it&#39;s also not mind-blowingly awesome. Whether it&#39;s worth $100/month is a more difficult calculation with many variables (like how much capital you can deploy to a strategy).  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='580528d1d24d85364900019e' id='580528d1d24d85364900019e'>
<a href='#580528d1d24d85364900019e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1476733147000' class='quanto-date posted-at response-posted-at' href='#580528d1d24d85364900019e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Keep in mind that factor&#39;s usefulness is not tied to merely its IC performance. For one, you want to trade off of a model that contains many factors. Having multiple independent factors can produce a &#39;greater than the sum of the parts&#39; alpha that works well over longer timeframes. Combining many weaker factors is a key part of the quant workflow, and often having a very independent factor (not correlated to known factors) is more valuable than having a factor with a super great IC by itself.</p>

<p>Additionally, sometimes factors can be used in clever ways. If you have a factor that you know many people follow, then you can use that to gain information about when you may want to trade or not trade. For instance, if you have a factor that you know lags the market, you can use that as a sanity check in your other analysis. It might also be a very stationary risk factor you can use for measuring how exposed your alpha model is to some risk source.</p>

<p>Basically, there are more ways to use factors than just their predictive capacity, and the usefulness of a factor is not just its IC.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='580538b5d11a8ad1e600054f' id='580538b5d11a8ad1e600054f'>
<a href='#580538b5d11a8ad1e600054f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/573a484fca30e0fe8c000007'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/53d91c835d819983b5b379ff7ed385f8?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/573a484fca30e0fe8c000007'>Jonny Langefeld</a>
</div>
<a UTCms='1476737210000' class='quanto-date posted-at response-posted-at' href='#580538b5d11a8ad1e600054f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Thomas, @Delaney, Thanks for your replies! Yes, I already was working on combining several weak factors. In Addition to the PreCog Top 100 Securities I&#39;ve done some research on social media data (<a href="https://www.quantopian.com/posts/mean-reversion-and-momentum-switching-model#58053147bc345b899700017b">see my reply on this thread</a>).<br>
I put them all together into Thomas&#39; <a href="https://www.quantopian.com/posts/machine-learning-on-quantopian">machine learning notebook</a> together with some other predictors which did well on the AdaBoostClassifier. I changed it to a naive bayes GaussianNB (<a href="https://www.quantopian.com/posts/machine-learning-on-quantopian#57eab50f6b011807cd0001f8">what Mikko suggested</a>), but Mikkos result was only a tiny little bit improved (to 50.86% on the test set).</p>

<p>My universe is much smaller as I only selected training data where I had enough social data and only assets which were in the PreCog Top 100 Securities.<br>
However I saw the log-loss was pretty high, which means that I have stronger predictive power in the predicted probabilities.<br>
And in fact, if I select the top and bottom decile, there are 61% of the predictions correct. </p>

<p>I feel like this is basically the idea of the <a href="https://www.quantopian.com/posts/digging-deeper-into-long-short-equity">Long-Short Equity Strategy</a>, did I understand this correctly? Definitely trying to attend the webinar tomorrow.</p>

<p>So my plan is to put all this together in one factor in Thoma&#39;s <a href="https://www.quantopian.com/posts/machine-learning-on-quantopian-part-2-ml-as-a-factor">second ML Notebook</a>, and than use the result probablity as a ranking factor in an algorithm. Is that the desired workflow?</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='580551aac47f38db6f000097' id='580551aac47f38db6f000097'>
<a href='#580551aac47f38db6f000097'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52670e6a2763c5cfb70002c7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/da33ec858011a8fad211c7e0ae68160c?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52670e6a2763c5cfb70002c7'>Alan Coppola</a>
</div>
<a UTCms='1476743600000' class='quanto-date posted-at response-posted-at' href='#580551aac47f38db6f000097'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Thomas, @Delaney,</p>

<p>I&#39;ve been looking at AlphaLens, and have been trying to figure out what is a &quot;good&quot; factor versus a &quot;meh&quot; factor.<br>
I&#39;m having a hard time figuring out the calculation that gives @Jonny a &quot;nothing to sneeze at&quot;  &quot;4.756&quot; for annualized IR (Information Ratio? versus Information Coefficient?).</p>

<p>What is it&#39;s(IR Annualized)  definition with respect to the  <a href="http://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.stats.spearmanr.html">Spearman rank-order correlation coefficient</a> ?<br>
Also, what is it&#39;s range, and what is the good-bad value interpretation of that range?<br>
Thanks!<br>
alan</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5805562d810d49580c0000d3' id='5805562d810d49580c0000d3'>
<a href='#5805562d810d49580c0000d3'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/557bd955ed001022f30003e8'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/13ab569823126bf80ea032e4332e73e4?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/557bd955ed001022f30003e8'>James Christopher</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1476744756000' class='quanto-date posted-at response-posted-at' href='#5805562d810d49580c0000d3'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Alan </p>

<p>The IR (Information Ratio) is merely the mean of the Information Coefficient (IC) divided by the standard deviation of the IC, where IC is defined as the Spearman Rank Correlation Coefficient. In fact <a href="https://github.com/quantopian/alphalens/blob/master/alphalens/performance.py#L61">we actually use the implementation of the Spearman that you linked too.</a></p>

<p>mean(IC) / Std(IC)</p>

<p><a href="https://github.com/quantopian/alphalens/blob/master/alphalens/plotting.py#L137">Here is the implementation in code</a> </p>

<p>In general we want the higher IR the better -- it implies that the signal is consistently predictive. In general a bad IC (and by extension IR) would be close to zero, where as a good IC is around &gt; 0.03 (though this can be lower if it has a large spread). In the end, we are looking for significant non-zero predictability. For an example of a great alpha factor check out the <a href="https://github.com/quantopian/alphalens">README on github</a>, or <a href="https://www.quantopian.com/posts/101-alphas-project-alpha-number-41">this good short term alpha from a community member</a>.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5805eb4493c1cf97e10003bd' id='5805eb4493c1cf97e10003bd'>
<a href='#5805eb4493c1cf97e10003bd'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f005d1b5e32ee000b000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/03ce2b05f15809a7239dc5910a54abf5?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f005d1b5e32ee000b000001'>Grant Kiehne</a>
</div>
<a UTCms='1476782925000' class='quanto-date posted-at response-posted-at' href='#5805eb4493c1cf97e10003bd'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>In the end, we are looking for significant non-zero predictability.</p>
</blockquote>

<p>It would seem that this calls for a point-in-time hypothesis test, where I want the probability of mistakenly assigning predictability to be low (i.e. assuming non-zero predictability when it is actually zero).  When I look at the results published by Jonny Langefeld above on the PreCog Top 100 Securities data, it is not obvious what is going on.  Looking at the plots of Forward Return Information Coefficient (IC), how should they be interpreted?  They are very noisy.  At first-glance, it is not obvious that there is any persistent predictability.  The overall mean is non-zero, but that may be due to the IC swinging in and out of predictability.  For trading, it would seem that one needs to know, point-in-time that a given factor will be predictive over the upcoming period.  A hypothesis test needs to be applied, across all factors, to determine which ones are valid.</p>

<blockquote>
<p>Combining many weaker factors is a key part of the quant workflow<br>
Alphalens isn&#39;t designed to be used inside of an algo.</p>
</blockquote>

<p>If Alphalens is not integrated into an algo, then I don&#39;t understand how it will be useful to distinguish point-in-time weak factors from ones that do not pass a test of predictability.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='580be7d98a8c0463da00081c' id='580be7d98a8c0463da00081c'>
<a href='#580be7d98a8c0463da00081c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56a8196e384d0519150000cf'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/fc260316ff51383a8eb95a56353cf504?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56a8196e384d0519150000cf'>kamran sokhanvari</a>
</div>
<a UTCms='1477175267000' class='quanto-date posted-at response-posted-at' href='#580be7d98a8c0463da00081c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Is the Q team working on a lecture series or tutorial ? </p>

<p>Without such background detail training on these interfaces I am afraid we just keep clogging forums with random questions while trying to figure out how to interpret and use these wonderful tools you guys are putting together. </p>

<p>Please put together a detailed video on how to really use these APIs in particular the ML and alphalens examples.</p>

<p>Thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='584fe3743ec490001200011e' id='584fe3743ec490001200011e'>
<a href='#584fe3743ec490001200011e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5103fb5f05e76f5d3a000114'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/26758cf12bcb1e1c124dfd950eaaac96?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5103fb5f05e76f5d3a000114'>Ricardo Hanesy</a>
</div>
<a UTCms='1481630591000' class='quanto-date posted-at response-posted-at' href='#584fe3743ec490001200011e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>is there a white paper about Alkphalens or could someone explain in a few sentences of how this works? How do you determine if a factor is predictive? Doesn&#39;t that depend on the model used? Is there a specific model in Alphalens?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58507bbd3ec4904a6200026b' id='58507bbd3ec4904a6200026b'>
<a href='#58507bbd3ec4904a6200026b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5346083a839ff34e1400010a'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e2319a353b35eac99e765c836ba72044?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5346083a839ff34e1400010a'>Delaney Mackenzie</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1481669571000' class='quanto-date posted-at response-posted-at' href='#58507bbd3ec4904a6200026b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hello Ricardo,</p>

<p>We&#39;re currently working on a lecture covering precisely this. We hope to release it in the next few weeks, I&#39;ll follow up on this thread when we do.</p>

<p>To give you a quick answer, determining the predictive power of a model can be done largely agnostic of the model itself, and Alphalens does not assume any model when doing so. Of course each model is based on certain economic hypotheses about market behavior, so testing these conditions more specifically can be a good way to further validate your model.  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='5865e1d3226648398000044f' id='5865e1d3226648398000044f'>
<a href='#5865e1d3226648398000044f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/558c4fe1e35cf650940000f1'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/15d58395cae36ee1a8b359fc9d8e7e84?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/558c4fe1e35cf650940000f1'>Umar Hasan</a>
</div>
<a UTCms='1483071961000' class='quanto-date posted-at response-posted-at' href='#5865e1d3226648398000044f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><blockquote>
<p>Lionel Ouaknin  Oct 11, 2016 Oct 11 7:18 AM API for alphalens tool has changed. or maybe I&#39;m missing something  </p>
</blockquote>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588efe15d64b4e1b41fecc49' id='588efe15d64b4e1b41fecc49'>
<a href='#588efe15d64b4e1b41fecc49'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56990262be2416509000011c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cccbbae7e2a982659980bd3c4d0a6eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56990262be2416509000011c'>Richard Jamieson</a>
</div>
<a UTCms='1485766165000' class='quanto-date posted-at response-posted-at' href='#588efe15d64b4e1b41fecc49'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>James, Delaney, and co,</p>

<p>Really enjoying using alphalens - thanks for all the hard work on this!<br>
Just a quick question. I&#39;m using alphalens now on some of my own price data (from the JSE in South Africa), and I&#39;m curious to know how alphalens handles stocks that get delisted or disappear from the universe during the span of the test? I&#39;m testing over a 16 year span, so there are quite a few stocks that drop out along the way, and I think this is causing the IC and return graphs to have some strange jumps, bumps and even gaps in them. Is this something that you guys have thought about?</p>

<p>Thanks  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588f018939f35f2ceb3f5607' id='588f018939f35f2ceb3f5607'>
<a href='#588f018939f35f2ceb3f5607'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1485767049000' class='quanto-date posted-at response-posted-at' href='#588f018939f35f2ceb3f5607'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Richard: If a stock gets delisted its prices will be nans and we drop them at that point from the alphalens estimation. If you are using get_pricing() the prices are also adjusted so it&#39;s probably also not merges or splits. Can you post your alphalens tearsheet (or send it to help if you don&#39;t want it public)?  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='588f27e539f35f2ceb3f580b' id='588f27e539f35f2ceb3f580b'>
<a href='#588f27e539f35f2ceb3f580b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1485776869000' class='quanto-date posted-at response-posted-at' href='#588f27e539f35f2ceb3f580b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Richard: stocks that don&#39;t have a factor value or whose factor value is nan are dropped from alphalens estimation too. Alphalens doesn&#39;t use a static universe but a dynamic one, where stocks enter/exit dynamically depending on the factor dataframe index.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='588f356dd628647b7f3c686a' id='588f356dd628647b7f3c686a'>
<a href='#588f356dd628647b7f3c686a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/56990262be2416509000011c'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0cccbbae7e2a982659980bd3c4d0a6eb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/56990262be2416509000011c'>Richard Jamieson</a>
</div>
<a UTCms='1485780333000' class='quanto-date posted-at response-posted-at' href='#588f356dd628647b7f3c686a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Thanks Thomas, thanks Luca, that&#39;s exactly the info I was looking for - I managed to isolate the problem: the set of prices I was using had zeroes in it where I needed nans. Working fine now, will let you know if any further issues.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589a89c4b56603000dd0b236' id='589a89c4b56603000dd0b236'>
<a href='#589a89c4b56603000dd0b236'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5813849098239f0a5d000069'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a26492c26cc39f2ee4ce18cb1f03d995?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5813849098239f0a5d000069'>Mario Albuquerque</a>
</div>
<a UTCms='1486522820000' class='quanto-date posted-at response-posted-at' href='#589a89c4b56603000dd0b236'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>How to install this package on an Anaconda Python distribution (3.5)? Running &quot;pip install alphalens&quot; or &quot;conda install alphalens&quot; doesn&#39;t work...<br>
Can anyone provide some help here? Thanks!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='589ac7c044739d000a8a712e' id='589ac7c044739d000a8a712e'>
<a href='#589ac7c044739d000a8a712e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/4f1edd0b03b228000d000001'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/81292895877c628963a3b56b408533e7?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/4f1edd0b03b228000d000001'>Thomas Wiecki</a>
<img class='quantopian-badge async-image' data-src='https://qf.quantopian.com/assets/logos/staff-q-red-stroke-095008cf53acafb1da63369cad14e3083d49d13eea83f592dd3dd0d5f0474fcc.svg'>
</div>
<a UTCms='1486538688000' class='quanto-date posted-at response-posted-at' href='#589ac7c044739d000a8a712e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Mario: Can you try <code>pip install git+https://github.com/quantopian/alphalens</code>?  </p>
</div>
<div class='collapsed disclaimer-minimized-wrapper'>
<div class='title'>Disclaimer</div>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian. In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>
</div>
</div>

</div>
</div>

<div class='post-container response-container' data-post-id='589b20293c34dc0c07ca7ceb' id='589b20293c34dc0c07ca7ceb'>
<a href='#589b20293c34dc0c07ca7ceb'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5813849098239f0a5d000069'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/a26492c26cc39f2ee4ce18cb1f03d995?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5813849098239f0a5d000069'>Mario Albuquerque</a>
</div>
<a UTCms='1486561321000' class='quanto-date posted-at response-posted-at' href='#589b20293c34dc0c07ca7ceb'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>That worked. Thanks Thomas!  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58aa20c047b564000d1eb55d' id='58aa20c047b564000d1eb55d'>
<a href='#58aa20c047b564000d1eb55d'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5681c6d6df850a2632000401'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/00a3940c5b6f7dc635a6012e8c6c9e01?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5681c6d6df850a2632000401'>Christian Laner</a>
</div>
<a UTCms='1487544512000' class='quanto-date posted-at response-posted-at' href='#58aa20c047b564000d1eb55d'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, how can I make sure to avoid lookahead bias? If I feed in both my factor data and open price data starting on Jan 1st, does alphalens know to &#39;shift&#39; the prices when computing returns?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58aae4cfd05a27000a685d98' id='58aae4cfd05a27000a685d98'>
<a href='#58aae4cfd05a27000a685d98'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1487594703000' class='quanto-date posted-at response-posted-at' href='#58aae4cfd05a27000a685d98'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Christian </p>

<p>The factor Series index contains a date  for each factor value. The prices DataFrame index contains a date too, so it must contains, for each date, the securities prices known at the time the factor values are calculated. To make it clear, let&#39;s see how Alphalens is used in the example NB. The factor Series is extracted from the pipeline output. The pipeline gives back a value for each security every day, and this value is computed from the information available before market open (even in research, to match backtest behaviour).  So, what kind of price should we insert in prices? Alphalens needs the prices known at the time each factor value is calculated. As the values are calculated before market open, we use market open prices to build prices, as those are the prices we could get if we had bought those securities that day after calculating the factor.</p>

<p>Hope this helps, but if you are still confused have a look at <a href="http://github.com/quantopian/alphalens/blob/master/alphalens/utils.py#L188">this function</a> that computes the factor forward returns, that should make clear how to avoid lookahead bias.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58aae99e583e5c000a9a5670' id='58aae99e583e5c000a9a5670'>
<a href='#58aae99e583e5c000a9a5670'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5681c6d6df850a2632000401'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/00a3940c5b6f7dc635a6012e8c6c9e01?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5681c6d6df850a2632000401'>Christian Laner</a>
</div>
<a UTCms='1487595934000' class='quanto-date posted-at response-posted-at' href='#58aae99e583e5c000a9a5670'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Luca, thank you very much, that clarifies it! The key thing I wasn&#39;t aware of was that the factor value on a given day essentially corresponds to the value of the factor on the previous day.</p>

<p>As a sidenote, I guess in practice one would enter at the open and exit at the close, so that could be something to be &#39;improved&#39; in alphalens (rather than computing returns based on open-open).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58aaecc230086e6284a853a5' id='58aaecc230086e6284a853a5'>
<a href='#58aaecc230086e6284a853a5'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1487596738000' class='quanto-date posted-at response-posted-at' href='#58aaecc230086e6284a853a5'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Christian,   if you are investing lots of money your orders might take hours before being filled. So ideally you enter your orders at market open. If you enter the orders near market close then you have to re-enter the orders at market open anyway, to fill the missing positions.<br>
Also, usually you don&#39;t close all your positions at market close and enter the new ones the day after at market open, because you might already partially hold the new  positions. So when you rebalance your portfolio you calculate the difference between your current positions and the new ones, then you enter the orders for this difference. This saves transactions const.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58aaf0a0d05a27000d685e9a' id='58aaf0a0d05a27000d685e9a'>
<a href='#58aaf0a0d05a27000d685e9a'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5681c6d6df850a2632000401'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/00a3940c5b6f7dc635a6012e8c6c9e01?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5681c6d6df850a2632000401'>Christian Laner</a>
</div>
<a UTCms='1487597728000' class='quanto-date posted-at response-posted-at' href='#58aaf0a0d05a27000d685e9a'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Luca, thanks I understand this better now! Basically we rebalance once (at the open) (by diff&#39;ing the old and new portfolios), and so the return we obtain in this case is the open-to-open return. Got it.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58b41ec06b16dc769cef863c' id='58b41ec06b16dc769cef863c'>
<a href='#58b41ec06b16dc769cef863c'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/5681c6d6df850a2632000401'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/00a3940c5b6f7dc635a6012e8c6c9e01?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/5681c6d6df850a2632000401'>Christian Laner</a>
</div>
<a UTCms='1488199360000' class='quanto-date posted-at response-posted-at' href='#58b41ec06b16dc769cef863c'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi, I could suggest adding a summary of the annualised return/volatility/Sharpe of each quantile and/or top minus bottom portfolio and/or factor weighted portfolio. I would find it useful, but not sure if it&#39;s outside the scope of alphalens. Let me know what you think. Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='58ed94c9f7738d4e1a6df301' id='58ed94c9f7738d4e1a6df301'>
<a href='#58ed94c9f7738d4e1a6df301'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/587774e2f43a9d1cfa79dfb7'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/6206d7bf5bff307dbbce395a4714f8bb?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/587774e2f43a9d1cfa79dfb7'>wang zizi</a>
</div>
<a UTCms='1491965129000' class='quanto-date posted-at response-posted-at' href='#58ed94c9f7738d4e1a6df301'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi,nice tools. I found alphalens code on github and there is an example folder in it which shows two examples. There&#39;s also .jpg pictures showing the result , I&#39;m wondering how to save the results as a .jpg file? Expecially the dataframe  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591487b58f0fe7000de88f87' id='591487b58f0fe7000de88f87'>
<a href='#591487b58f0fe7000de88f87'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/546cddf11784d3d4c6000436'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/eff513fd33ebe34d68f212ef2e2b2983?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/546cddf11784d3d4c6000436'>Ph Quam</a>
</div>
<a UTCms='1494517685000' class='quanto-date posted-at response-posted-at' href='#591487b58f0fe7000de88f87'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am doing my first steps with alphalens and I do not undestand why<br>
the min, max of different quantiles overlap.<br>
In the shared notebook &#39;Quantiles Statistics&#39;<br>
max of factor_quantile 1 is -0.016364 and min of factor_quantile 2 is -0.037706.<br>
In my understanding quantiles partition the axis to ranges that do not overlap.<br>
Also why the count varies? It should differ at most by 1.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59148a0cc9476b000d3625a7' id='59148a0cc9476b000d3625a7'>
<a href='#59148a0cc9476b000d3625a7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1494518284000' class='quanto-date posted-at response-posted-at' href='#59148a0cc9476b000d3625a7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Ph Quam, because those statistics are computer over the full time period of the factor values. So  it might be possible that <strong>today</strong> quantile 1 max value is greater than quantile 2 min value of <strong>another day</strong>, even though it is guaranteed that <strong>today</strong> quantile 1 max value is smaller than <strong>today</strong> quantile 2 min value.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59148ec58f0fe7000de8900f' id='59148ec58f0fe7000de8900f'>
<a href='#59148ec58f0fe7000de8900f'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1494519493000' class='quanto-date posted-at response-posted-at' href='#59148ec58f0fe7000de8900f'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Ph Quam, I forgot to answer to the count issue. The counts are the cumulative count of the daily amounts. So even a small daily difference can result in a big cumulative one. As a side note, the daily difference can be more than 1 in the current implementation of the quantization function.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5914bba48f0fe70010e89395' id='5914bba48f0fe70010e89395'>
<a href='#5914bba48f0fe70010e89395'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/546cddf11784d3d4c6000436'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/eff513fd33ebe34d68f212ef2e2b2983?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/546cddf11784d3d4c6000436'>Ph Quam</a>
</div>
<a UTCms='1494530980000' class='quanto-date posted-at response-posted-at' href='#5914bba48f0fe70010e89395'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Ok, I got it. Quantiles are calculated grouped within a day (as the trading algo would do), but the displayed minimums are along all days.<br>
As for the daily quantile counts they can differ by more than 1 if at the quantile boundary there are several equal values. And the cumulative counts can differ up to the number of days if days differ at most by one, which is not constrained.<br>
Thank you.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='59161a1153b8d4000d0414b4' id='59161a1153b8d4000d0414b4'>
<a href='#59161a1153b8d4000d0414b4'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/546cddf11784d3d4c6000436'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/eff513fd33ebe34d68f212ef2e2b2983?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/546cddf11784d3d4c6000436'>Ph Quam</a>
</div>
<a UTCms='1494620689000' class='quanto-date posted-at response-posted-at' href='#59161a1153b8d4000d0414b4'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>I am looking at tears.create_event_returns_tear_sheet() and plotting.plot_cumulative_returns_by_quantile() and trying to understand what they actually plot.<br>
My intuition is that alphalens should try to emulate faster what an algo with zero commission and slippage does.<br>
In these 2 methods however I have the feeling that the cumulative thing that they do is not what an algorithm does.<br>
The above methods if I understand correctly treat each day as a start of a series and the returns of all these series are summed.<br>
This is equivalent of a trading algorithm that buys everyday a stock that it considers prospective, ignoring the fact that it already owns the stock from the previous days.<br>
The correct thing for alphalens to do should be to add the returns series to the cumulative plot only when a symbol changes its factor quantile.<br>
This is what an algorithm will do - the first day when a stock enters quantile 1 it is bought/sold, and the next days no changes occur if the quantile is unchanged.<br>
Currently alphalens adds returns series every day the symbol is in the same quantile.<br>
Did I correctly interpreted the code?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591622a8b67cd00010d66bc8' id='591622a8b67cd00010d66bc8'>
<a href='#591622a8b67cd00010d66bc8'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1494622888000' class='quanto-date posted-at response-posted-at' href='#591622a8b67cd00010d66bc8'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@PH Quam, your intuition is mostly right. Those plots show  what the returns would have been if an algorithm had held a specific quantile every day, giving equal weight to every  stock of that quantile.  The stocks  might be  different from the previous day or not, it doesn&#39;t matter because transaction costs are not considered. The forward returns are re-calculated every day, computing an average of the sum of the return of each stock in the quantile for that day.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591749ee3843405c27a10a8b' id='591749ee3843405c27a10a8b'>
<a href='#591749ee3843405c27a10a8b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/546cddf11784d3d4c6000436'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/eff513fd33ebe34d68f212ef2e2b2983?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/546cddf11784d3d4c6000436'>Ph Quam</a>
</div>
<a UTCms='1494698478000' class='quanto-date posted-at response-posted-at' href='#591749ee3843405c27a10a8b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Luca,<br>
The problem is in performance.average_cumulative_return_by_quantile(). I do not know if from statistics point of view its does the right thing, but from<br>
user perspective it&#39;s result is hard to interpret. What I expect is to get an event study - analyze the average (among different (start_date,symbol) pairs) response of a single event &#39;entering quantile 2&#39;.<br>
Does alphalens or quantopian have an Event Study implementation?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591757f5673cb624ff2d1573' id='591757f5673cb624ff2d1573'>
<a href='#591757f5673cb624ff2d1573'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1494702069000' class='quanto-date posted-at response-posted-at' href='#591757f5673cb624ff2d1573'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Ph Quam, looking at your NB I can now understand your doubts.  You should report quantile 2 only in the days you expect to enter that events and not in the following days too. Every single day marked as quantiles 2 is considered in the statistics, so event the second and third days after the event are part of the average returns.  See attached NB.</p>

<p>Regarding event study implementation please see  <a href="https://www.quantopian.com/posts/alphalens-with-a-single-security">this</a> and <a href="https://www.quantopian.com/posts/event-study-tearsheet">this</a>.</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5918693ad99479000d6a4cd6' id='5918693ad99479000d6a4cd6'>
<a href='#5918693ad99479000d6a4cd6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/546cddf11784d3d4c6000436'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/eff513fd33ebe34d68f212ef2e2b2983?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/546cddf11784d3d4c6000436'>Ph Quam</a>
</div>
<a UTCms='1494772026000' class='quanto-date posted-at response-posted-at' href='#5918693ad99479000d6a4cd6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Luca, thanks for the links.<br>
The tweak you made in the notebook gets what I expect for quantile 2, but it breaks quantile 1. Q1 is padding in the sample, but in a real setting we want to evaluate all quantiles fairly.<br>
The quantiles are generated by alphalens and it should take care to not buy tickers it already owns. Alphalens should not average results across subranges<br>
of a symbols streak, only across different symbols with the same (streak_start_date,quantile) for the day.<br>
This sentence in the github sample notebook:<br>
&quot;By looking at the cumulative returns by factor quantile we can get an intuition for which quantiles are contributing the most to the factor and at what time.&quot;
is not correct for the current implementation. The plot time is moving target, every day the reference date is incremented. When users look at<br>
the plot they may perceive that a signal should be exploited between days 3 and 10 with respect to day 0, but they probably fail to account that<br>
day zero is actually every day in the forward period.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591998cb3b562d00107ae9c6' id='591998cb3b562d00107ae9c6'>
<a href='#591998cb3b562d00107ae9c6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1494849739000' class='quanto-date posted-at response-posted-at' href='#591998cb3b562d00107ae9c6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Ph Quam, I believe I understand your point and It&#39;s only a matter of understanding why Alphalens calculates the forward returns the way it does. </p>

<p>Alphalens expects to receive in input a factor that ranks the stocks in a certain way, so that top and bottom ranked stocks perform the opposite (positive vs negative returns) in the days (periods) after the ranking is computed. To verify the ranking scheme, Alphalens groups the stocks in quantiles and computes the average of the forward returns of the stocks in the same quantile. Those average quantile forward returns are calculated by Alphalens every single date the input  factor DatFrame has values for (every date is considered a new starting point for forward returns calculation). This makes sense because we want to test the factor quality every time the factor is computed. All in all, what we are looking for is to answer the question: After the stocks are ranked with our factor, what happens <strong>on average</strong> to the  quantile returns?</p>

<p>Ideally a factor applies is ranking scheme every trading day , but this  is not compulsory, e.g. a factor might  generate values  only on Mondays. In this example the  factor DataFrame would only have values for the dates that correspond to Mondays while the other days would be nan or not present at all. In that case Alphalens would calculate statistics only for the days where the factor has values.</p>

<p>The above explanation on how Alphalens works easily matches the behaviour of an algorithm that every day, before trading starts, does the following:<br>
- run the factor (e.g. pipeline)<br>
- groups the results by quantiles<br>
- enter positions to match the quantiles it wants to trade</p>

<p>Hopefully this helps.</p>

<p>I updated the NB to show how you can compute q1 and q2 as if they were two events. It works fine, but it&#39;s not a good example for Alphalens, as <a href="https://www.quantopian.com/posts/alphalens-with-a-single-security#58e54d4c4807a95b197a5de6">this is not the intended use of the tool</a>. </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5919e5a86bebdf7b7f54c6e2' id='5919e5a86bebdf7b7f54c6e2'>
<a href='#5919e5a86bebdf7b7f54c6e2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/546cddf11784d3d4c6000436'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/eff513fd33ebe34d68f212ef2e2b2983?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/546cddf11784d3d4c6000436'>Ph Quam</a>
</div>
<a UTCms='1494869416000' class='quanto-date posted-at response-posted-at' href='#5919e5a86bebdf7b7f54c6e2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Luca,<br>
I think that we both agree that some code has to take care to avoid repeatedly buying the same symbol every day.<br>
Where we disagree is whether this code should be inside the factor or inside alphalens.<br>
&quot;Alphalens expects to receive in input a factor that ranks the stocks in a certain way&quot;.
Actually instead of just ranking you impose a dual mandate on factors, the second mandate being control of exposition (no repetitive buying).<br>
My understanding is that alphalens is made to quickly test arbitrary data series (morningstar fundamentals ratios, daily temperatures somewhere, milk<br>
prices in bangladesh) whether they have alpha, which can&#39;t meet the expectation that they are capable of control of exposition.<br>
So the whole discussion is solved by a small factor wrapper that can do this outside of alphalens and my idea is that it is the sensible default because<br>
probably few people can visually recognize that the symbols are bought every day the factor is in some quantile and not NaN.<br>
To implement exposition control in the factor, the factor needs as parameter &quot;periods_after&quot; with which average_cumulative_return_by_quantile() will be<br>
called.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591aa20a44699d000d05b8da' id='591aa20a44699d000d05b8da'>
<a href='#591aa20a44699d000d05b8da'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1494917642000' class='quanto-date posted-at response-posted-at' href='#591aa20a44699d000d05b8da'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Ph Quam, each symbol is not bough every day, Alphalens properly model the forward returns. Still every day is considered when calculating the statistics. </p>

<p>Let&#39;s imagine we want to analyze the factor performance at 22 days/periods (this correspond to an algorithm that rebalances its portfolio monthly as there are 22 trading days per month on average).  Alphalens would calculate the quantile forward returns every 22 days, considering the starting and end prices of the stocks that were present in the quantile at the beginning of this 22 days period and never changing this stocks set. Alphalens  builds the cumulative returns time series from those forward returns.  Anyway, there is an issue: the performance built in this way are very dependent on the particular trading day we start calculating the cumulative returns. E.g.  In a year, an hypothetical algorithm that uses that factor would only trades 12 times, one trade every 22 days. This doesn&#39;t give us meaningful statistical results. To overcome the issue Alphalens builds 22 cumulative returns results, where each cumulative return time series starts on a subsequent day from the previous one. This way all the possible outcomes for a rebalancing period of 22 days are covered and Alphalens returns an average of those results. This is much more meaningful. </p>

<p>BUT, if you are really trying to evaluate the performace &quot;on specific dates&quot; (e.g. <a href="https://www.quantopian.com/posts/an-empirical-algorithmic-evaluation-of-technical-analysis#58d3c446d6b6427bf1cbd469">an event study</a> ) then just make sure your factor has values only on the particular dates you are interested to evaluate.</p>

<p>Hope this help, even though I start believing I am missing your point ;)</p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591b48f43dcc36001043a88b' id='591b48f43dcc36001043a88b'>
<a href='#591b48f43dcc36001043a88b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/546cddf11784d3d4c6000436'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/eff513fd33ebe34d68f212ef2e2b2983?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/546cddf11784d3d4c6000436'>Ph Quam</a>
</div>
<a UTCms='1494960372000' class='quanto-date posted-at response-posted-at' href='#591b48f43dcc36001043a88b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>There is an issue with dividends. get_pricing() does not adjust for dividends and splits. history() adjusts but is not available in research.<br>
This will make alpha look worse if some symbols pay dividends. And splits can affect performance even more (are they filtered?).  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='591c6858ecca0e000d300b39' id='591c6858ecca0e000d300b39'>
<a href='#591c6858ecca0e000d300b39'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/566459bdbcba9f5a2f00046f'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/0ca70668fea7acc6791a69c5aa67e352?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/566459bdbcba9f5a2f00046f'>John Wu</a>
</div>
<a UTCms='1495033944000' class='quanto-date posted-at response-posted-at' href='#591c6858ecca0e000d300b39'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Hi,</p>

<p>This is a great package.<br>
I am trying to look at the code and make sense of it and notice that there are lot of demean in the factors and returns.<br>
I think when you want to analysis for a long short portfolio, you always demean the returns. But I didn&#39;t get why.<br>
It will be great if you could give a explanation on when and what you want to demean, and why you need to do it.</p>

<p>Thanks.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596b945a0645be00100b8ed7' id='596b945a0645be00100b8ed7'>
<a href='#596b945a0645be00100b8ed7'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e64827a30033210199b088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/714c699c5d8f567057fec5e600ba7482?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e64827a30033210199b088'>Yiran Huang</a>
</div>
<a UTCms='1500222554000' class='quanto-date posted-at response-posted-at' href='#596b945a0645be00100b8ed7'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>Kudos to the developers for this great tool.<br>
I just tried the original notebook with some modified dates but that produces some strange error.<br>
The following two lines are in my notebook:</p>

<p>results = run_pipeline(pipe_low_vol, &#39;2017-05-30&#39;, &#39;2017-05-30&#39;)<br>
pricing = get_pricing(assets, start_date=&#39;2017-05-30&#39;, end_date=&#39;2017-06-30&#39;, fields=&#39;open_price&#39;)</p>

<p>And the error I get is:</p>

<p>/usr/local/lib/python2.7/dist-packages/alphalens/performance.pyc in factor_alpha_beta(factor_data)
    209<br>
    210         reg_fit = OLS(y, x).fit()<br>
--&gt; 211         alpha, beta = reg_fit.params<br>
    212<br>
    213         alpha_beta.loc[&#39;Ann. alpha&#39;, period] = (1 + alpha) ** (252.0/period) - 1</p>

<p>ValueError: need more than 1 value to unpack</p>

<p>Could anyone explain why this is happening please?</p>

<p>Thanks,<br>
Yiran  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596c750863e20e000d9366d2' id='596c750863e20e000d9366d2'>
<a href='#596c750863e20e000d9366d2'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1500280072000' class='quanto-date posted-at response-posted-at' href='#596c750863e20e000d9366d2'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Yiran Huang, would you mind posting your NB?  That would make easier to help you and discover what&#39;s wrong with the code  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596c76c61380490010090996' id='596c76c61380490010090996'>
<a href='#596c76c61380490010090996'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1500280518000' class='quanto-date posted-at response-posted-at' href='#596c76c61380490010090996'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@John Wu, the concept of return demeaning is the whole point of a long-short portfolio (dollar neutral actually).  With this kind of portfolio the returns don&#39;t depend on the overall market performance (thus the demeaning by market mean returns) but on the spread between the long leg returns and the short leg returns. After having performed the returns demeaning you are actually looking at the performance <strong>relative to the market mean returns</strong> instead of absolute returns. This makes sense only if you are running a dollar neutral portfolio.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596c776ef9e024001051d8f6' id='596c776ef9e024001051d8f6'>
<a href='#596c776ef9e024001051d8f6'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e64827a30033210199b088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/714c699c5d8f567057fec5e600ba7482?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e64827a30033210199b088'>Yiran Huang</a>
</div>
<a UTCms='1500280686000' class='quanto-date posted-at response-posted-at' href='#596c776ef9e024001051d8f6'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Luca</p>

<p>NB attached, thank you.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596c79b060bd37001049a515' id='596c79b060bd37001049a515'>
<a href='#596c79b060bd37001049a515'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1500281264000' class='quanto-date posted-at response-posted-at' href='#596c79b060bd37001049a515'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Yiran Huang. the problem is this:</p>

<pre><code>results = run_pipeline(pipe_low_vol, &#39;2017-05-31&#39;, &#39;2017-05-31&#39;)  
</code></pre>

<p>if you expand the date rage, at least 2 days, it works fine.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596c7b25104414000d6ce2fc' id='596c7b25104414000d6ce2fc'>
<a href='#596c7b25104414000d6ce2fc'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/58e64827a30033210199b088'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/714c699c5d8f567057fec5e600ba7482?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/58e64827a30033210199b088'>Yiran Huang</a>
</div>
<a UTCms='1500281637000' class='quanto-date posted-at response-posted-at' href='#596c7b25104414000d6ce2fc'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Luca</p>

<p>Thank you again for quickly pointing out the issue.  Now the flow works on my own alpha experiments as well.<br>
Could you elaborate a bit why this is causing me problems as the original example NB was running the pipeline for 1 day?  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='596c7fdcda165f0010f8271e' id='596c7fdcda165f0010f8271e'>
<a href='#596c7fdcda165f0010f8271e'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/54460194d718f327fd000380'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e511e4eeb9334ef82f1caa7bd66c36dc?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/54460194d718f327fd000380'>Luca</a>
</div>
<a UTCms='1500282844000' class='quanto-date posted-at response-posted-at' href='#596c7fdcda165f0010f8271e'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>@Yiran Huang,  Alphalens is thought to analyse a factor over a period of time and using it on 1 day period is a corner case that breaks the code. Also I am not so sure why you need to run Alphalens on 1 day only.  </p>
</div>
</div>
</div>

<div class='post-container response-container' data-post-id='5a42f5e10b30893b9997c51b' id='5a42f5e10b30893b9997c51b'>
<a href='#5a42f5e10b30893b9997c51b'></a>
<div class='post-metadata'>
<div class='row'>
<div class='col-xs-14'>
<div class='inline-block'>
<div class='avatar-container'>
<a href='/users/52b0e0e0271a27fc88000049'><img class='avatar async-image' data-src='https://secure.gravatar.com/avatar/e5451406e743420c700eb2b054b2fc57?d=https%3A%2F%2Fs3.amazonaws.com%2Fquantopian-website-assets%2Fdefault-avatar.png' height='30' width='30'></a>
</div>
<a class='author-name' href='/users/52b0e0e0271a27fc88000049'>Blue Seahawk</a>
</div>
<a UTCms='1514337761000' class='quanto-date posted-at response-posted-at' href='#5a42f5e10b30893b9997c51b'></a>
</div>
</div>
</div>

<div class='response-text'>
<div class='response-text-container post-body'><p>The second notebook has an error, maybe can also be updated.</p>
</div>
</div>
</div>

</div>
<div class='sign-in-please'>
Please <a href='/signin?return_to=/posts/alphalens-a-new-tool-for-analyzing-alpha-factors'>sign in</a> or
<a href='/users/sign_up?redirect_to=/posts/alphalens-a-new-tool-for-analyzing-alpha-factors'>join Quantopian</a> to
post a reply.
</div>
</div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: "550580758292093",
      status: false,
      cookie: true,
      xfbml: true
    });
  };
  
  (function(d, debug){
    var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement('script'); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
    ref.parentNode.insertBefore(js, ref);
  }(document, /*debug*/ false));
  
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>
<script>
  $(document).ready(function () {
    quanto.instances.pm = new quanto.PostManager(false)
  });
</script>

<div class='login-footer'>
<div class='container'>
<div class='login-footer-text'>
Become an expert in quant finance through Quantopian's hands-on education.
</div>
<div class='login-footer-button'>
<button class='btn btn-v2 stroke join-modal-link mixpanel-button' data-event='anon join footer click posts' data-mixpanel='click'>
Join Now
</button>
</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='error-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'>Error</span>
</div>
<div class='modal-body body-content'>
<p>Sorry, something went wrong.  Try again or contact us by <a class='feedback-link'>sending feedback</a>.</p>
</div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' href='#'>Close</button>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='confirmation-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<div class='pull-right'>
<button class='btn btn-v2 border' data-dismiss='modal'>Cancel</button>
<button class='btn btn-v2 blue action-button' data-dismiss='modal'></button>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='message-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title modal-title'></span>
</div>
<div class='modal-body body-content'></div>
<div class='modal-footer'>
<button class='btn btn-v2 blue action-button' data-dismiss='modal' id='message-modal-close'>Close</button>
</div>

</div>
</div>
</div>

<div class='always-bootstrap3-modals'>
<div class='fade modal quanto-modal-v2' id='join-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header visible-small'>
<span class='title'>
Join Quantopian.  It's Free!
</span>
<div class='modal-x-out visible-xs'></div>
</div>
<div class='modal-body'>
<div class='flex-wrap'>
<div class='join-left-pane hidden-small'>
<div class='margin_30l'>
<div class='join-hero-text'>
Join Quantopian.  It's Free!
</div>
<div class='join-benefits'>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image code'></div>
</div>
<div class='join-text'>
Use our research platform, backtester, and dozens of clean data sets.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image learn'></div>
</div>
<div class='join-text'>
Learn with our hands-on education and community forums.
</div>
</div>
<div class='join-benefit'>
<div class='join-image-container'>
<div class='join-image win'></div>
</div>
<div class='join-text'>
Enter to win cash prizes in our contest.
</div>
</div>
</div>
<div class='hidden saved-reminder'>
Don't worry, all your work is already saved.
</div>
</div>
</div>
<div class='join-right-pane'>
<div class='hidden-small'>
<div class='button-pane'>
<a class="button btn-v2 user-form-btn" href="/signin">Already a Quantopian member?</a>
</div>
</div>
<div class='visible-small'>
<div class='already-member'>
<a href='/signin'>Already a Quantopian member?</a>
</div>
</div>
<form class="quanto-form-v2" id="new-user-modal-form" action="/users" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><div class='error-message hidden'>
<div class='message'></div>
</div>
<div class='name-group'>
<div class='form-group inline-block'>
<label for="user_firstname">First Name</label>
<input class="form-control firstname" pattern=".*" required="required" autocomplete="off" autofocus="autofocus" type="text" name="user[firstname]" id="user_firstname" />
</div>
<div class='form-group inline-block'>
<label for="user_lastname">Last Name</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="text" name="user[lastname]" id="user_lastname" />
</div>
</div>
<div class='form-group'>
<label for="user_email">Email</label>
<input class="form-control" value="" pattern=".*" required="required" autocomplete="off" type="email" name="user[email]" id="user_email" />
</div>
<div class='form-group'>
<label for="user_password">Password</label>
<input autocomplete="off" class="form-control" pattern=".*" required="required" type="password" name="user[password]" id="user_password" />
</div>
<div class='checkbox eula'>
<input id='eula-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='eula-checkbox' id='checkbox-label'>I accept the <a href='/policies/terms' target='_blank'>Terms Of Use</a> and <a href='/policies/privacy' target='_blank'>Privacy Policy</a>.</label>
</div>
<div class='checkbox mailchimp-box'>
<input name="user[allow_marketing_emails]" type="hidden" value="0" /><input type="checkbox" value="1" name="user[allow_marketing_emails]" id="user_allow_marketing_emails" />
<div class='quanto-checkbox'></div>
<label for='user_allow_marketing_emails'>
Send me email updates with the latest news from the Quantopian community. We send these emails about once a month.
</label>
</div>
<div class='button-row'>
<button class='btn-v2 blue full' data-redirect-to='/tutorials/getting-started' id='sign-up-button' type='Submit'>Join Quantopian</button>
</div>
</form></div>
</div>
</div>

</div>
</div>
</div>

<div class='fade modal quanto-modal-v2' id='feedback-modal' role='dialog' tabindex='-1'>
<div class='modal-dialog' role='document'>
<div class='modal-content'>
<div class='modal-header'>
<span class='title'>Contact Support</span>
</div>
<div class='modal-body'>
<form class='anon-user controls quanto-form-v2' id='feedback-form'>
<div class='feedback-inputs'>
<div class='form-group'>
<input autofocus class='form-control' id='feedback-email-box' name='email' placeholder='Email Address' type='email'>
</div>
<div class='form-group'>
<input class='form-control' id='feedback-name-box' placeholder='Name' type='name'>
</div>
<div class='form-group'>
<textarea class='form-control' id='feedback-box' name='feedback' placeholder='What may we help you with?' rows='10'></textarea>
</div>
</div>
</form>
<form class='hidden quanto-form-v2 select-resource-area'>
<div class='select-step select-type-step'>
<div class='form-group'>
<select class='form-control select-resource-dropdown' title='Select the item you need help with'>
<option value='algorithm'>Algorithm</option>
<option value='backtest'>Backtest</option>
<option value='notebook'>Notebook</option>
</select>
</div>
</div>
<div class='select-step loading-area hidden'>
<div class='loading-text'>
Loading...
</div>
</div>
<div class='select-step empty-list-area hidden'>
<div class='back-button'>Go Back</div>
<div class='empty-text'>
No <span class='empty-list-resource-text'>algorithms</span> found
</div>
</div>
<div class='select-algo-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-algo-table select-item-table'>
<thead>
<tr>
<th>
Algorithm
<span class='sort-icon'></span>
</th>
<th>
Last Modified
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-backtest-area select-step hidden'>
<div class='back-button'>Go Back</div>
<table class='select-backtest-table select-item-table'>
<thead>
<tr>
<th>
Backtest
<span class='sort-icon'></span>
</th>
<th>
Started At
<span class='sort-icon'></span>
</th>
<th>
Overall Return
<span class='sort-icon'></span>
</th>
<th>
Status
<span class='sort-icon'></span>
</th>
</tr>
</thead>
</table>
</div>
<div class='select-notebook-area select-step hidden'>
<div class='back-button'>Go Back</div>
<div class='subtitle select-cell-step'>
Choose a cell to use as the preview for this notebook:
</div>
<div class='iframe-wrapper'>
<iframe class='notebook-list-iframe slow-fade' src=''></iframe>
</div>
<div class='progress-area slow-fade in'>
<div class='progress-container'>
<div class='progress-title'>
<div class='quanto-loader gray'></div>
</div>
</div>
</div>
<div class='maintenance-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, research is currently undergoing maintenance.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please check back shortly. If the maintenance period lasts longer than expected,
you can find updates on <a href='https://status.quantopian.com/'>status.quantopian.com</a>.
</div>
</div>

</div>
</div>
<div class='error-area'>
<div class='error-container'>
<div class='row'>
<div class='col-md-14 msg-title h1'>
Sorry, something went wrong on our end.
</div>
</div>
<div class='row'>
<div class='col-md-14 msg-subtitle'>
Please try again or contact <a class='open-feedback-link'>Quantopian support</a>.
</div>
</div>

</div>
</div>

</div>
<div class='selected-item-area select-step hidden'>
<div class='selected-item-group form-group'>
<div class='selected-item-control'>
<input class='disabled form-control selected-item-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change change-primary-item-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
<div class='selected-backtest-control'>
<input class='disabled form-control selected-backtest-box' type='text'>
<span class='secure-icon icon'></span>
<button class='btn change-backtest-button change-selection-button new-btn transparent' type='button'>
<span class='refresh-icon icon'></span>
</button>
</div>
</div>
<div class='checkbox-group form-group'>
<div class='checkbox give-permission'>
<input class='give-permission-checkbox' id='feedback-give-permission-checkbox' type='checkbox'>
<div class='quanto-checkbox'></div>
<label for='feedback-give-permission-checkbox'>
I permit Quantopian to view <span class='item-type-text'>this algorithm,
backtest or notebook and their imported datasets</span> for the purpose of providing support.
</label>
</div>
</div>
</div>
</form>

<div class='loading-step hidden'>
<div class='loading-text'>
Submitting your support ticket...
</div>
</div>
<div class='success-step invisible'>
<h2 class='title center'>
You've successfully submitted a support ticket.
</h2>
<p>
Our support team will be in touch soon.
</p>
<div class='confirmation-image'></div>
</div>
</div>
<div class='modal-footer'>
<button class='btn-v2 blue' id='send-feedback-button'>Send</button>
<div class='error-message hidden'>
Error submitting support request.
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class='footer' id='quanto-footer-container'>
<div class='container'>
<div class='row header-row'>
<div class='col-sm-fourth span3'>
<img class='async-image logotype-image' data-src='https://qf.quantopian.com/assets/logos/logo-q-full-b23bda5ac757691b9259d396d0dfef91567165868b8c955a836649686e6d2248.svg'>
</div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'></div>
<div class='col-sm-fourth span3'>
<div class='feedback-email'>
Need help?
<a href="/cdn-cgi/l/email-protection#8bedeeeeefe9eae8e0cbfafeeae5ffe4fbe2eae5a5e8e4e6">Contact support.</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-sm-fourth span3'>
<div class='header'>Company</div>
<div class='footer-row'>
<a href='/about'>About</a>
</div>
<div class='footer-row'>
<a href='/academia'>Academia</a>
</div>
<div class='footer-row'>
<a href='/jobs'>Careers</a>
</div>
<div class='footer-row'>
<a href='/posts'>Community</a>
</div>
<div class='footer-row'>
<a href='/events'>Events</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Learn &amp; Support</div>
<div class='footer-row'>
<a href='/faq'>FAQ</a>
</div>
<div class='footer-row'>
<a href='/tutorials/getting-started'>Getting Started</a>
</div>
<div class='footer-row'>
<a href='/docs'>Documentation</a>
</div>
<div class='footer-row'>
<a href='/tutorials'>Tutorials</a>
</div>
<div class='footer-row'>
<a href='/lectures'>Lectures</a>
</div>
<div class='footer-row'>
<a href='/opensource'>Open Source</a>
</div>
<div class='footer-row'>
<a href='https://status.quantopian.com/'>Site Status</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Notices</div>
<div class='footer-row'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='footer-row'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
<div class='footer-row'>
<a href='/security'>Security</a>
</div>
<div class='footer-row'>
<a href='/policies/code-of-conduct'>Code of Conduct</a>
</div>
</div>
<div class='col-sm-fourth span3'>
<div class='header'>Follow Us</div>
<div class='footer-row'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='footer-row'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='footer-row'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='footer-row'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
</div>
</div>
<div class='row'>
<div class='col-xs-14 span12'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>
</div>
</div>
<div class='mobile-footer'>
<div class='mobile-nav-category main-links'>
<div class='mobile-nav-row-footer'>
<a href='/about'>About Quantopian</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/jobs'>Careers</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/posts'>Community</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/events'>Events</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/docs'>Documentation</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/academia'>Academia</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/lectures'>Lectures</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://status.quantopian.com/'>Status</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.facebook.com/quantopian'>Facebook</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.twitter.com/quantopian'>Twitter</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.linkedin.com/company/quantopian'>LinkedIn</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='https://www.youtube.com/channel/UC606MUq45P3zFLa4VGKbxsg'>YouTube</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/terms'>Terms of Use</a>
</div>
<div class='mobile-nav-row-footer'>
<a href='/policies/privacy'>Privacy Policy</a>
</div>
</div>
<div class='mobile-nav-category'>
<div class='disclaimer'>
<p>
The material on this website is provided for informational purposes only and does not constitute an offer to sell, a solicitation to buy, or a recommendation or endorsement for any security or strategy, nor does it constitute an offer to provide investment advisory services by Quantopian.
</p>
<p>
In addition, the material offers no opinion with respect to the suitability of any security or specific investment. No information contained herein should be regarded as a suggestion to engage in or refrain from any investment-related course of action as none of Quantopian nor any of its affiliates is undertaking to provide investment advice, act as an adviser to any plan or entity subject to the Employee Retirement Income Security Act of 1974, as amended, individual retirement account or individual retirement annuity, or give advice in a fiduciary capacity with respect to the materials presented herein.  If you are an individual retirement or other investor, contact your financial advisor or other fiduciary unrelated to Quantopian about whether any given investment idea, strategy, product or service described herein may be appropriate for your circumstances.  All investments involve risk, including loss of principal.  Quantopian makes no guarantees as to the accuracy or completeness of the views expressed in the website. The views are subject to change, and may have become unreliable for various reasons, including changes in market conditions or economic circumstances.
</p>

</div>
</div>
</div>

</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-8519877-1", {
    cookieDomain: "quantopian.com"
  });
  ga('set', 'dimension1', 'session_5f9dc7425d387f00077e48e4');
  
  ga('send', 'pageview');
</script>

<input type="hidden" name="is_mac" id="is_mac" value="false" />
<input type="hidden" name="mp" id="mp" value="75873953cd404bcc1da88a55ff51e3b4" />
<script>
  (function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("75873953cd404bcc1da88a55ff51e3b4");
</script>
<script>
  mixpanel.track("view page", {"page": window.location.pathname});
</script>
</html>
